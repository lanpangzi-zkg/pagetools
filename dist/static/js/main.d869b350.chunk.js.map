{"version":3,"sources":["component/Modal/EditPageName/index.js","component/Generater/ViewGenerater/index.js","component/Modal/PreviewPageModal.js","component/Core/Dragable.js","component/configs/dragConfig.js","component/DragTarget/TargetFactory.js","component/DragTabs/index.js","annotation/Service.js","service/AppService.js","component/common/Constants.js","component/configs/layout.js","component/EditDrawer/FormEdit/index.js","component/common/CellUtil.js","component/Core/Editable.js","component/EditDrawer/FormItemEdit/index.js","component/LayoutContainer/FormItemContainer/index.js","component/LayoutContainer/FormContainer/index.js","component/EditDrawer/TableEdit/index.js","component/LayoutContainer/TableContainer/index.js","component/common/RenderUtil.js","component/LayoutContainer/DropContainer/DropRender.js","component/EditDrawer/DropAreaEdit/index.js","component/LayoutContainer/DropContainer/index.js","component/EditDrawer/HeaderEdit/index.js","component/LayoutContainer/HeaderContainer/index.js","component/LayoutContainer/index.js","component/configs/defaultColumns.js","component/MainContainer/index.js","App.js","index.js"],"names":["EditPageName","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSubmit","bind","assertThisInitialized","e","preventDefault","_this$props","form","onCloseModal","validateFields","err","values","_this$props2","showModal","getFieldDecorator","react_default","a","createElement","className","es_form","onSubmit","style","padding","Item","rules","required","message","pattern","input","placeholder","marginTop","es_button","type","htmlType","width","Component","Form","create","FormItem","Option","Select","RangePicker","DatePicker","ViewGenerater","state","onCollapse","layoutConfig","getLayoutConfig","Array","isArray","formLayout","find","item","btnLayout","configs","formItemArr","f","expandBtn","btnArr","b","expandFlag","expand","expandCount","setState","current","size","isFunc","onShowSizeChange","page","pageSize","onChange","config","_config$type","defaultValue","_config$dateFormat","dateFormat","moment","fnName","copyFormItemArr","slice","singleIndex","findIndex","singleRow","singleRowItem","splice","row","key","gutter","md","lg","xl","renderCol","col","objectSpread","renderBtn","_this2","map","i","label","name","_config$colSpan","colSpan","colIndex","_config$cellStyles","cellStyles","_config$singleRow","hasLinkage","sm","concat","linkName","condition","getFieldValue","displayStyle","display","hasOwnProperty","_this2$state","initialValue","getInitialValue","renderItemComponent","_config$type2","itemComponent","renderSelect","renderRangePicker","renderDatePicker","renderRadio","renderCheckbox","_config$style","_config$options","options","es_select","_ref","optionValue","optionText","value","_config$style2","_config$radios","radios","es_radio","Group","_ref2","radioValue","radioText","_config$style3","_config$cks","cks","es_checkbox","_ref3","ckValue","ckText","date_picker","_this3","react","btn","_btn$btnText","btnText","index","_btn$style","_btn$expandFlag","collapseBtnText","onClick","href","icon","assign","_ref4","renderHeader","_ref5","renderForm","layout","renderRow","_ref6","renderTable","pagination","rowSelection","objectWithoutProperties","total","getTableTotal","newPagination","_onShowSizeChange","showTotal","t","pageSizeOptions","defaultPageSize","showSizeChanger","showQuickJumper","dataSource","getTableData","table","columns","_ref7","renderTab","_ref8","renderCustom","_this4","_renderForm","_renderTable","_renderCustom","renderContent","PureComponent","Preview","PreviewPageModal","modal","visible","footer","closable","centered","onCancel","title","maskClosable","PreviewPageModal_Preview","Dragable","data","dataTransfer","setData","JSON","stringify","ch","draggable","onDragStart","dargConfig","TargetFactory","_this$props$tabType","tabType","targetConfigArr","Core_Dragable","TabPane","Tabs","DragTabs","document","addEventListener","event","target","opacity","querySelectorAll","forEach","background","tabs","defaultActiveKey","tab","DragTarget_TargetFactory","ServicesMatch","AppService","axios","method","url","TRUE","formItemLayout","labelCol","xs","span","wrapperCol","FormEdit","onClose","layoutColumn","lcNum","colSpanTotal","colSpanArr","push","error","componentArr","onDeleteContainer","drawer","FormEdit_Option","divider","renderColSpanInputs","marginRight","strToObj","str","separator","arguments","length","undefined","split","reduce","styleObj","styleStr","_styleStr$split","_styleStr$split2","slicedToArray","replace","objToStr","objLike","prototype","toString","keys","arr","k","join","getCellColSpan","originSpan","finalColSpan","locationIndex","j","end","start","Editable","renderItem","itemConfig","_itemConfig$type","selectConfig","_selectConfig$style","_selectConfig$options","Editable_Option","Editable_RangePicker","btnProps","editable","onEditToggle","stopPropagation","formItemConfig","_formItemConfig$type","_this$props2$formItem","_formItemConfig$cellS","Panel","Collapse","TextArea","Input","FormItemEdit","deleteComponent","onAddOptionItem","onAddCellStyleItem","onAddButton","onDeleteCellStyleItem","onDeleteOptionItem","onDeleteButton","onDeleteComponent","nextProps","initOptions","optionIndex","initBtn","btnIndex","_this$state","onUpdateConfigs","newFormItemConfig","deleteFlag","newOptions","kText","kValue","format","newBtnArr","btnType","btnStyle","_values$originSpan","_this$state$options","text","_this$state$cellStyle","newCellStyles","cellStyleIndex","_this$state$btnArr","_this$state$cellStyle2","_this$state$options2","card","extra","marginLeft","lineHeight","_this$state2","_this$state2$expandFl","collapse","_item$htmlType","header","renderPanelHeader","FormItemEdit_Option","_this$props3","_this$props4","_this$props4$dropComp","dropComponent","linkage","renderBtnCard","renderDefaultValueItem","renderLinkage","renderOptionsCard","textAlign","_this5","_this6","_this$props5","onDeleteFormItemContainer","initialColSpan","tempColSpan","initialCellStyles","c","clsName","FormItemContainer","onUpdateConfig","onShowEditItem","onEditDropContainer","onDrop","onDeleteCol","newformItemConfig","parse","getData","resetBg","dropDomArr","targetDom","removeEventListener","onDragenter","_this$state$formItemC","colIndexNum","_colSpan","getContainerWidth","ref","Core_Editable","component_EditDrawer_FormItemEdit","onDelete","FormContainer","onShowEditForm","onCloseEditForm","renderFormItemContainer","onAddRow","onAddRowCell","onDeleteRow","colIndexStart","newState","layoutColumnNum","rowSpanCount","colSpanIndex","newConfigs","_this2$props","onUpdateLayoutConfig","layoutIndex","warn","_this3$props","newFormItemArr","Math","max","_this4$props","filter","_this5$props","_ref$deleteFlag","component_LayoutContainer_FormItemContainer","_this7","component_EditDrawer_FormEdit","DIR","0","1","TableEdit","setColumnMaxIndex","onAddOperation","onDeleteOperation","onAddColumn","onDeleteColumn","setOperationMaxIndex","_configs$columns","columnMaxIndex","_configs$operationArr","operationArr","operationMaxIndex","_configs$operationArr2","newOperationArr","opreationIndex","opText","getNewConfigs","addOperationMaxIndex","newColumns","columnIndex","dataIndex","addColumnMaxIndex","v","hasOperation","opType","val","indexOf","_k$split","_k$split2","columnName","columnTarget","columnTitle","_configs$columns2","_item$align","align","_item$fixed","fixed","TableEdit_Panel","TableEdit_Option","_configs$operationArr3","_configs$hasOperation","_ref5$pageSize","_ref5$pageSizeOptions","_ref6$type","_ref6$columnTitle","hasPagination","hasRowSelection","renderOperationHeader","renderCollapse","renderTableProps","TableContainer","onShowEditTable","opList","_operationArr","toArray","firstItem","restItemArr","dropdown","overlay","renderMoreOpList","_this$props$configs","_configs$pagination","_configs$rowSelection","copyColumns","render","renderMultOperation","bordered","component_EditDrawer_TableEdit","renderBreadcrumb","_config$breadcrumb","breadcrumb","es_breadcrumb","linkUrl","renderText","RenderUtil_Option","RenderUtil_RangePicker","renderComponent","dropConfig","_dropConfig$type","component","DropRender","_this$props$dropConfi","DropAreaEdit","onAddBreadcrumbItem","onDeleteBreadcrumbItem","initBreadcrumb","breadcrumbIndex","newdropConfig","newBreadcrumb","breadcrumbLinkUrl","breadcrumbText","_this$state$breadcrum","_this$state$breadcrum2","DropAreaEdit_Panel","DropAreaEdit_Option","DropAreaEdit_TextArea","_this$props6","DropContainer","showEdit","onToggleEdit","DropDom","dropIndex","DropContainer_DropRender","component_EditDrawer_DropAreaEdit","HeaderEdit","headerStyles","_this$props2$configs","_configs$headerStyles","_configs$layoutColumn","initialHeaderStyles","HeaderEdit_TextArea","HeaderEdit_Option","HeaderContainer","cellsArr","newCellsArr","component_LayoutContainer_DropContainer","rendeCell","component_EditDrawer_HeaderEdit","LayoutContainer","restProps","transferProps","component_LayoutContainer_FormContainer","component_LayoutContainer_TableContainer","EmptyContainer_default","component_LayoutContainer_HeaderContainer","renderContainer","clsArr","containerTypeArr","MainContainer","Target","newProps","ServiceClass","service","generateLoading","onEdit","onGeneratePage","onPreviewPage","copyConfig","deleteIndex","window","ipc","on","arg","_JSON$parse","code","info","success","cls","copyLayoytConfig","configObj","defaultColumns","kIndex","copyFormConfig","formConfig","pageConfig","pageName","generatePage","then","response","console","log","catch","src_component_LayoutContainer","loading","Sider","Layout","Content","App","showEditNameModal","showPreviewModal","onClosePreviewModal","locale_provider","locale","zhCN","component_DragTabs","src_component_MainContainer","component_Modal_EditPageName","Modal_PreviewPageModal","ReactDOM","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.d869b350.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Form, Input } from 'antd';\r\nimport './index.css';\r\n\r\nclass EditPageName extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onCloseModal } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n              onCloseModal(values);\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { showModal, form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        if (!showModal) {\r\n            return null;\r\n        }\r\n        return (\r\n            <div className=\"edit-name-box\">\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item>\r\n                        <h3 className=\"title\">页面名称</h3>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        {getFieldDecorator('pageName', {\r\n                            rules: [\r\n                                { required: true, message: '请输入页面名称!' },\r\n                                { pattern: /^[a-zA-Z]+$/, message: '名称只能包含字母！' }\r\n                            ],\r\n                        })(\r\n                            <Input placeholder=\"只能包含字母\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item  style={{ marginTop: '15px' }}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ width: '100%' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(EditPageName);","import React, { PureComponent, Fragment } from 'react';\r\nimport { Form, Table, Col, Checkbox, Row, Input, Icon, Select, Radio, DatePicker, Button } from 'antd';\r\nimport moment  from 'moment';\r\nimport 'antd/dist/antd.css';\r\nimport '../assets/common.css';\r\n\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\nconst RangePicker = DatePicker.RangePicker;  \r\n\r\nclass ViewGenerater extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onCollapse = this.onCollapse.bind(this);\r\n    }\r\n    componentWillMount() {\r\n        const layoutConfig = this.getLayoutConfig();\r\n        if (Array.isArray(layoutConfig)) {\r\n            const formLayout = layoutConfig.find((item) => {\r\n                return item.type === 'FormContainer';\r\n            });\r\n            if (formLayout) {\r\n                const { configs: { formItemArr } } = formLayout;\r\n                const btnLayout = formItemArr.find((f) => {\r\n                    return f.type === 'Btn';\r\n                });\r\n                if (btnLayout) {\r\n                    const expandBtn = btnLayout.btnArr.find((b) => {\r\n                        return b.expandFlag;\r\n                    });\r\n                    // 拥有折叠按钮\r\n                    if (expandBtn) {\r\n                        this.state.expand = expandBtn.expand;\r\n                        this.state.expandCount = expandBtn.expandCount;\r\n                    }\r\n                }\r\n              \r\n            }\r\n        }\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n    }\r\n    getLayoutConfig() {\r\n        return null;\r\n    }\r\n    onCollapse() {\r\n        const { expand } = this.state;\r\n        this.setState({ expand: !expand });\r\n    }\r\n    _onShowSizeChange(current, size) {\r\n        if (this.isFunc('onShowSizeChange')) {\r\n            this.onShowSizeChange(current, size);\r\n        }\r\n    }\r\n    _onChange(page, pageSize) {\r\n        if (this.isFunc('onChange')) {\r\n            this.onChange(page, pageSize);\r\n        }\r\n    }\r\n    getInitialValue(config) {\r\n        const { type = 'Input', defaultValue, dateFormat = 'YYYY-MM-DD' } = config;\r\n        if (type === 'DatePicker' || type === 'RangePicker') {\r\n            return defaultValue && moment(defaultValue, dateFormat);\r\n        }\r\n        return config.defaultValue || '';\r\n    }\r\n    getTableData() {\r\n        return [];\r\n    }\r\n    isFunc(fnName) {\r\n        return typeof this[fnName] === 'function';\r\n    }\r\n    renderRow(formItemArr) {\r\n        const copyFormItemArr = formItemArr.slice();\r\n        const singleIndex = copyFormItemArr.findIndex((item) => {\r\n            return item.singleRow;\r\n        });\r\n        const singleRowItem = copyFormItemArr[singleIndex];\r\n        // 是否有单独渲染的一行\r\n        if (singleIndex > -1) {\r\n            copyFormItemArr.splice(singleIndex, 1);\r\n        }\r\n        return (\r\n            [<Row key=\"basic-row\" gutter={{ md: 8, lg: 24, xl: 48 }}>\r\n                {\r\n                    this.renderCol(copyFormItemArr)\r\n                }\r\n            </Row>, singleRowItem ? (\r\n            <Row key=\"single-row\">\r\n                <Col style={{ ...singleRowItem.style }}>\r\n                    <span className=\"btn-group-box\">\r\n                        {\r\n                            this.renderBtn(singleRowItem)\r\n                        }\r\n                    </span>\r\n                </Col>\r\n            </Row>) : null]\r\n        );\r\n    }\r\n    renderCol(formItemArr) {\r\n        const { form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        return formItemArr.map((config, i) => {\r\n            const { label, name, colSpan = 8, colIndex, type, cellStyles = {}, singleRow = false, hasLinkage } = config;\r\n            if (singleRow) {\r\n                return null;\r\n            }\r\n            if (type === 'Btn') {\r\n                return (<Col md={colSpan} sm={24} key={`col-${colIndex}`}>\r\n                    <FormItem style={cellStyles}>\r\n                        {this.renderBtn(config)}\r\n                    </FormItem>\r\n                </Col>);\r\n            }\r\n            if (!name) {\r\n                return null;\r\n            }\r\n            // 联动显示控制\r\n            if (hasLinkage === '1') {\r\n                const { linkName, condition } = config;\r\n                if (form.getFieldValue(linkName) !== condition) {\r\n                    return null;\r\n                }\r\n            }\r\n            const displayStyle = {\r\n                display: 'block',\r\n            };\r\n            if (Object.hasOwnProperty.call(this.state, 'expand')) {\r\n                const { expand, expandCount } = this.state;\r\n                // 隐藏组件\r\n                if (!expand && (i+1) > expandCount) {\r\n                    displayStyle.display = 'none';\r\n                }\r\n            }\r\n            return (\r\n                <Col md={colSpan} sm={24} key={`col-${colIndex}`} style={displayStyle}>\r\n                    <FormItem label={label} style={cellStyles}>\r\n                        {getFieldDecorator(name, {\r\n                            rules: [],\r\n                            initialValue: this.getInitialValue(config),\r\n                        })(\r\n                            this.renderItemComponent(config)\r\n                        )}\r\n                    </FormItem>\r\n                </Col>\r\n            );\r\n        });\r\n    }\r\n    renderItemComponent(config) {\r\n        const { placeholder, type = 'Input' } = config;\r\n        let itemComponent = null;\r\n        switch(type) {\r\n            case 'Select':\r\n                itemComponent = this.renderSelect(config);\r\n                break;\r\n            case 'RangePicker':\r\n                itemComponent = this.renderRangePicker(config);\r\n                break;\r\n            case 'DatePicker':\r\n                itemComponent = this.renderDatePicker(config);\r\n                break;\r\n            case 'Btn':\r\n                itemComponent = this.renderBtn(config);\r\n                break;\r\n            case 'Radio':\r\n                itemComponent = this.renderRadio(config);\r\n                break;\r\n            case 'Checkbox':\r\n                itemComponent = this.renderCheckbox(config);\r\n                break;\r\n            default:\r\n                itemComponent = (<Input placeholder={placeholder} />);\r\n                break;\r\n        }\r\n        return itemComponent; \r\n    }\r\n    renderSelect(config) {\r\n        const { style = {}, options = [] } = config;\r\n        return (\r\n            <Select style={{ width: '100%', ...style }}>\r\n                {\r\n                    Array.isArray(options) ? options.map(({ key, optionValue, optionText }) => {\r\n                        return (\r\n                            <Option\r\n                                key={key || optionValue}\r\n                                value={optionValue}\r\n                            >\r\n                                {optionText}\r\n                            </Option>\r\n                        );\r\n                    }) : null\r\n                }\r\n            </Select>\r\n        );\r\n    }\r\n    renderRadio(config) {\r\n        const { style = {}, radios = [] } = config;\r\n        return (\r\n            <Radio.Group style={{ ...style }}>\r\n                {\r\n                    Array.isArray(radios) ? radios.map(({ key, radioValue, radioText }) => {\r\n                        return (\r\n                            <Radio\r\n                                key={key || radioValue}\r\n                                value={radioValue}\r\n                            >\r\n                                {radioText}\r\n                            </Radio>\r\n                        );\r\n                    }) : null\r\n                }\r\n            </Radio.Group>\r\n        );\r\n    }\r\n    renderCheckbox(config) {\r\n        const { style = {}, cks = [] } = config;\r\n        return (\r\n            <Checkbox.Group style={{  width: \"100%\", ...style }}>\r\n                {\r\n                    Array.isArray(cks) ? cks.map(({ key, ckValue, ckText }) => {\r\n                        return (\r\n                            <Checkbox\r\n                                key={key || ckValue}\r\n                                value={ckValue}\r\n                            >\r\n                                {ckText}\r\n                            </Checkbox>\r\n                        );\r\n                    }) : null\r\n                }\r\n            </Checkbox.Group>\r\n        );\r\n    }\r\n    renderDatePicker(config) {\r\n        return (\r\n            <DatePicker style={{ width: '100%' }} />\r\n        );\r\n    }\r\n    renderRangePicker(config) {\r\n        return (\r\n            <RangePicker style={{ width: '100%' }} />\r\n        );\r\n    }\r\n    renderBtn(config) {\r\n        const { btnArr } = config;\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    btnArr.map((btn) => {\r\n                        const { btnText = 'button', type, index, props,\r\n                            style = {}, expandFlag = '0' } = btn;\r\n                        if (expandFlag === '1') {\r\n                            const { expand } = this.state;\r\n                            const collapseBtnText = expand ? '隐藏' : '展开';\r\n                            return (\r\n                                <a\r\n                                    className=\"btn-collapse\"\r\n                                    onClick={this.onCollapse}\r\n                                    href=\"&nbsp;\"\r\n                                    style={style}\r\n                                    key={`btn-${index}`}\r\n                                >\r\n                                    {collapseBtnText}\r\n                                    <Icon type={expand ? 'up' : 'down'} />\r\n                                </a>\r\n                                );\r\n                        }\r\n                        return (\r\n                            <Button\r\n                                key={`btn-${index}`}\r\n                                type={type}\r\n                                style={style}\r\n                                {...props}\r\n                            >\r\n                                {btnText}\r\n                            </Button>\r\n                        );\r\n                    })\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n    _renderHeader({ configs }) {\r\n        if (this.isFunc('renderHeader')) {\r\n            return this.renderHeader(configs);\r\n        }\r\n        return (\r\n            <div className=\"fulu-header\">header</div>\r\n        );\r\n    }\r\n    _renderForm({ configs }) {\r\n        if (this.isFunc('renderForm')) {\r\n            return this.renderForm(configs);\r\n        }\r\n        const { formItemArr } = configs;\r\n        return (\r\n            <div className=\"form-box fulu-box\" key=\"query-form\">\r\n                <Form onSubmit={this.onSubmit} layout=\"inline\">\r\n                    {\r\n                        this.renderRow(formItemArr)\r\n                    }\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n    _renderTable({ configs }) {\r\n        if (this.isFunc('renderTable')) {\r\n            return this.renderTable(configs);\r\n        }\r\n        const { pagination, rowSelection, ...props } = configs;\r\n        const total = this.isFunc('getTableTotal') ? this.getTableTotal() : 0;\r\n        const newPagination = Object.assign({\r\n            size: \"small\",\r\n            onShowSizeChange: this._onShowSizeChange,\r\n            onChange: this._onShowSizeChange,\r\n            showTotal: (t)=>{return `共${t}条`},\r\n            pageSizeOptions: ['10', '20', '30', '40'],\r\n            total,\r\n            defaultPageSize: 1,\r\n            showSizeChanger: true,\r\n            showQuickJumper: true,\r\n        }, pagination);\r\n        const dataSource = this.getTableData();\r\n        return (\r\n            <div className=\"table-box fulu-box\" key=\"query-table\">\r\n                <Table\r\n                    dataSource={dataSource}\r\n                    pagination={newPagination}\r\n                    rowSelection={rowSelection}\r\n                    columns={configs.columns}\r\n                    {...props}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    _renderTab({ configs }) {\r\n        if (this.isFunc('renderTab')) {\r\n            return this.renderTab(configs);\r\n        }\r\n        return null;\r\n    }\r\n    _renderCustom({ configs }) {\r\n        if (this.isFunc('renderCustom')) {\r\n            return this.renderCustom(configs);\r\n        }\r\n        return null;\r\n    }\r\n    renderContent(layoutConfig) {\r\n        return layoutConfig.map((item) => {\r\n            const { type } = item;\r\n            if (type === 'FormContainer') {\r\n                return this._renderForm(item);\r\n            } else if (type === 'TableContainer') {\r\n                return this._renderTable(item);\r\n            } else if (type === 'CustomContainer') {\r\n                return this._renderCustom(item);\r\n            }\r\n            return null;\r\n        });\r\n    }\r\n    render() {\r\n        const layoutConfig = this.getLayoutConfig();\r\n        return (\r\n            <div className=\"wrapper\">\r\n                {\r\n                    Array.isArray(layoutConfig) ?\r\n                    this.renderContent(layoutConfig) : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ViewGenerater;","/**\r\n * @desc 页面预览窗口\r\n */\r\nimport React, { Component } from 'react';\r\nimport ViewGenerater from '../Generater/ViewGenerater';\r\nimport { Form, Modal } from 'antd';\r\n\r\n@Form.create()\r\nclass Preview extends ViewGenerater {\r\n    getLayoutConfig() {\r\n        const { layoutConfig } = this.props;\r\n        return layoutConfig;\r\n    }\r\n}\r\n\r\nclass PreviewPageModal extends Component {\r\n    render() {\r\n        const { showModal, layoutConfig, onCloseModal } = this.props;\r\n        return (\r\n            <Modal\r\n                visible={showModal}\r\n                footer={null}\r\n                width={'100%'}\r\n                closable\r\n                centered\r\n                onCancel={onCloseModal}\r\n                title=\"页面预览\"\r\n                maskClosable\r\n            >\r\n                <Preview layoutConfig={layoutConfig} />  \r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PreviewPageModal;","/**\r\n * @desc 可拖拽组件抽象类\r\n */\r\nimport React, { PureComponent } from 'react';\r\n\r\nclass Dragable extends PureComponent {\r\n\tonDragStart(e, data) {\r\n\t\te.dataTransfer.setData('text/plain',JSON.stringify(data));\r\n\t}\r\n\trender() {\r\n\t\tconst { ch, data } = this.props;\r\n\t\treturn (\r\n\t\t\t<span\r\n\t\t\t\tdraggable=\"true\"\r\n\t\t\t\tclassName=\"drag-item\"\r\n\t\t\t\tonDragStart={(e) => { this.onDragStart(e, data); }}\r\n\t\t\t>\r\n\t\t\t\t{ch}\r\n\t\t\t</span>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Dragable;","const dargConfig = {\r\n\tform: [\r\n\t\t{ ch: 'Input', data: { type: 'Input', label: '', name: '' } },\r\n\t\t{ ch: 'Button', data: { type: 'Button' } },\r\n\t\t{ ch: 'Select', data: { type: 'Select' } },\r\n\t\t{ ch: 'DatePicker', data: { type: 'DatePicker' } },\r\n\t\t{ ch: 'Tabs', data: { type: 'Tabs' } },\r\n\t\t{ ch: 'RangePicker', data: { type: 'RangePicker' } },\r\n\t\t{ ch: 'Breadcrumb', data: { type: 'Breadcrumb' } },\r\n\t\t{ ch: 'Text', data: { type: 'Text' } },\r\n\t],\r\n\tlayout: [\r\n\t\t{ ch: 'Form', data: { type: 'FormContainer' } },\r\n\t\t{ ch: 'Table', data: { type: 'TableContainer' } },\r\n\t\t{ ch: 'Header', data: { type: 'HeaderContainer' } },\r\n\t\t// { ch: '网格容器', data: { type: 'GridContainer' } },\r\n\t\t// { ch: '占位容器', data: { type: 'EmptyContainer' } },\r\n\t],\r\n};\r\n\r\nexport default dargConfig;","import React, { PureComponent, Fragment } from 'react';\r\nimport Dragable from '../Core/Dragable';\r\nimport dargConfig from '../configs/dragConfig';\r\n\r\nclass TargetFactory extends PureComponent {\r\n\trender() {\r\n\t\tconst { tabType = 'form' } = this.props;\r\n\t\tconst targetConfigArr = dargConfig[tabType];\r\n\t\tif (Array.isArray(targetConfigArr)) {\r\n\t\t\treturn (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttargetConfigArr.map((config, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Dragable {...config} key={`drag-${index}`} />\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</Fragment>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nexport default TargetFactory;","import React, { Component } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport TargetFactory from '../DragTarget/TargetFactory';\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass DragTabs extends Component {\r\n\tcomponentDidMount() {\r\n        /* 放置目标元素时触发事件 */\r\n         document.addEventListener(\"dragover\", function( event ) {\r\n             // 阻止默认动作以启用drop\r\n             event.preventDefault();\r\n         }, false);\r\n\r\n        /* 拖动目标元素时触发drag事件 */\r\n         document.addEventListener(\"drag\", function( event ) {\r\n\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragstart\", function( event ) {\r\n          // 使其半透明\r\n              event.target.style.opacity = .5;\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragend\", function( event ) {\r\n            // 重置透明度\r\n            event.target.style.opacity = \"\";\r\n            document.querySelectorAll('.drop-zone').forEach((t) => {\r\n              \tt.style.background = \"#fff\";\r\n            })\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragenter\", function( event ) {\r\n          // 当可拖动的元素进入可放置的目标时高亮目标节点\r\n          if ( event.target.className === \"drop-zone\" ) {\r\n              event.target.style.background = \"#96cdf9\";\r\n          }\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragleave\", function( event ) {\r\n          // 当拖动元素离开可放置目标节点，重置其背景\r\n          if ( event.target.className === \"drop-zone\" ) {\r\n              event.target.style.background = \"\";\r\n          }\r\n        }, false);\r\n    }\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Tabs defaultActiveKey=\"1\">\r\n\t\t\t    <TabPane tab=\"布局\" key=\"layout\">\r\n                    <TargetFactory tabType=\"layout\" />\r\n\t\t\t    </TabPane>\r\n\t\t\t    <TabPane tab=\"表单\" key=\"form\">\r\n                    <TargetFactory />\r\n\t\t\t    </TabPane>\r\n\t\t\t    {/* <TabPane tab=\"模板\" key=\"template\">\r\n                    <TargetFactory tabType=\"template\" />\r\n\t\t\t    </TabPane> */}\r\n\t\t  \t</Tabs>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DragTabs;\r\n","import React from 'react';\r\nimport AppService from '../service/AppService';\r\n\r\nconst ServicesMatch = {\r\n    AppService,\r\n};\r\n\r\nexport default function Service(name) {\r\n    return (Target) => {\r\n        return (props) => {\r\n            const newProps = Object.assign({}, props);\r\n            if (Object.hasOwnProperty.call(ServicesMatch, name)) {\r\n                const ServiceClass = ServicesMatch[name];\r\n                if (typeof ServiceClass === 'function') {\r\n                    newProps.service = new ServiceClass();\r\n                }\r\n            }\r\n            return (<Target {...newProps} />);\r\n        };\r\n    };\r\n}\r\n","import axios from 'axios';\r\n\r\nconst HOST = 'http://127.0.0.1:8888';\r\n\r\nclass AppService {\r\n    generatePage(data) {\r\n        return axios({\r\n            method: 'POST',\r\n            url: `${HOST}/generatePage`,\r\n            data,\r\n            // headers: {\r\n            //     'Content-Type': 'application/form-data'\r\n            // }\r\n        });\r\n    }\r\n}\r\n\r\nexport default AppService;","const activeColor = '#dde7f1';\r\nconst FORM_CONTAINER = 'FormContainer';\r\nconst TABLE_CONTAINER = 'TableContainer';\r\nconst EMPTY_CONTAINER = 'EmptyContainer';\r\nconst HEADER_CONTINAER = 'HeaderContainer';\r\nconst TRUE = '1';\r\n\r\nexport {\r\n    activeColor,\r\n    FORM_CONTAINER,\r\n    TABLE_CONTAINER,\r\n    EMPTY_CONTAINER,\r\n    HEADER_CONTINAER,\r\n    TRUE,\r\n};","const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n};\r\n\r\nexport default formItemLayout;","import React, { Component } from 'react';\r\nimport { Button, Divider, message, Form, Input, Select, Drawer } from 'antd';\r\nimport formItemLayout from '../../configs/layout';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\n\r\nclass FormEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onClose } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { layoutColumn } = values;\r\n                const lcNum = +layoutColumn;\r\n                let colSpanTotal = 0;\r\n                const configs = {\r\n                    layoutColumn,\r\n                    colSpanArr: [],\r\n                };\r\n                for (let i = 0; i < lcNum; i++) {\r\n                    const colSpan = +values[`colSpan-${i}`];\r\n                    colSpanTotal += colSpan;\r\n                    configs.colSpanArr.push(colSpan);\r\n                }\r\n                if (colSpanTotal > 24) {\r\n                    message.error('跨列总数不能超过24!');\r\n                    return;\r\n                }\r\n                onClose(configs);\r\n            }\r\n        });\r\n    }\r\n    renderColSpanInputs() {\r\n        const { form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const layoutColumn = +form.getFieldValue('layoutColumn');\r\n        const componentArr = [];\r\n        for (let i = 0; i < layoutColumn; i++) {\r\n            componentArr.push(\r\n                <Form.Item\r\n                    key={`formitem-${i}`}\r\n                    label={`第${i+1}列`}\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator(`colSpan-${i}`, {\r\n                        initialValue: 24 / layoutColumn,\r\n                        rules: [\r\n                            { required: true, message: '请输入列宽!' },\r\n                            { pattern: /^[1-9](\\d)?$/, message: '只能包含数字！' }\r\n                        ],\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n            );\r\n        }\r\n        return componentArr;\r\n    }\r\n    render() {\r\n        const { visible, form, onClose, onDeleteContainer } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Drawer\r\n                visible={visible}\r\n                width={420}\r\n                title=\"编辑列\"\r\n                onClose={() => {\r\n                    onClose(0);\r\n                }}\r\n            >\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"表单列\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('layoutColumn', {\r\n                            initialValue: 3,\r\n                            rules: [\r\n                                { required: true, message: '请选择列数!' },\r\n                            ],\r\n                        })(\r\n                            <Select>\r\n                                <Option value=\"2\">2</Option>\r\n                                <Option value=\"3\">3</Option>\r\n                                <Option value=\"4\">4</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    <Divider />\r\n                    {\r\n                        this.renderColSpanInputs()\r\n                    }\r\n                    <div className=\"btn-box\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </div>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(FormEdit);","/**\r\n * 计算表单单元格跨列\r\n * @param {*} colIndex \r\n * @param {*} originSpan \r\n * @param {*} formItemArr \r\n * @param {*} colSpanArr \r\n */\r\nconst getCellColSpan = (colIndex, originSpan = 1, formItemArr, colSpanArr) => {\r\n    let finalColSpan = 0;\r\n    // 占据整行\r\n    if (originSpan === colSpanArr.length) {\r\n        finalColSpan = 24;\r\n    } else {\r\n        let locationIndex = 0;\r\n        let total = 0;\r\n        for (let i = 0; i < formItemArr.length; i++) {\r\n            if (formItemArr[i].colIndex >= colIndex) {\r\n                total = total % 24;\r\n                if (total === 0) {\r\n                    locationIndex = 0;\r\n                } else {\r\n                    for (let j = 0; j < colSpanArr.length; j++) {\r\n                        total -= colSpanArr[j];\r\n                        if (total <= 0) {\r\n                            locationIndex = j + 1;\r\n                            j = colSpanArr.length;\r\n                        }\r\n                    }\r\n                }\r\n                i = formItemArr.length;\r\n            } else {\r\n                total += formItemArr[i].colSpan;\r\n            }\r\n        }\r\n        let start = 0;\r\n        let end = 0;\r\n        // 不换行显示\r\n        if (originSpan <= colSpanArr.length - locationIndex) {\r\n            start = locationIndex;\r\n        }\r\n        end = start + originSpan - 1;\r\n        for(; start <= end; start++) {\r\n            finalColSpan += colSpanArr[start];\r\n        }\r\n    }\r\n    return finalColSpan;\r\n};\r\n\r\nconst strToObj = (str, separator = ';') => {\r\n    if (str) {\r\n        return str.split(separator).reduce((styleObj, styleStr) => {\r\n            const [ name, value ] = styleStr.split(':');\r\n            if (name && value) {\r\n                styleObj[name] = value.replace(/['\"\\s]/g, '');\r\n            }\r\n            return styleObj;\r\n        }, {});\r\n    }\r\n    return {};\r\n};\r\n\r\nconst objToStr = (objLike, separator = ';') => {\r\n    if (Object.prototype.toString.call(objLike) === '[object Object]') {\r\n        return Object.keys(objLike).reduce((arr, k) => {\r\n            arr.push(`${k}:${objLike[k]}`);\r\n            return arr;\r\n        }, []).join(separator);\r\n    } else if (Array.isArray(objLike)) {\r\n        return objLike.join(separator);\r\n    }\r\n    return objLike;\r\n};\r\n\r\nexport default getCellColSpan;\r\n\r\nexport {\r\n    strToObj,\r\n    objToStr,\r\n};","import React, { Component, Fragment } from 'react';\r\nimport { Button, Input, Icon, Form, Col, Select, DatePicker } from 'antd';\r\nimport { TRUE } from '../common/Constants';\r\nimport moment  from 'moment';\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;  \r\n\r\nclass Editable extends Component {\r\n\tgetType() {\r\n\t\treturn '';\r\n\t}\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\teditable: false, //可编辑标识\r\n\t\t};\r\n\t\tthis.onEditToggle = this.onEditToggle.bind(this);\r\n\t}\r\n\tonEditToggle(e) {\r\n        e && e.stopPropagation();\r\n\t\tconst { editable } = this.state;\r\n\t\tthis.setState({\r\n\t\t\teditable: !editable,\r\n\t\t});\r\n\t}\r\n\trenderItem = (itemConfig) => {\r\n        const { placeholder, type = 'Input' } = itemConfig;\r\n        let itemComponent = null;\r\n        switch(type) {\r\n            case 'Select':\r\n                itemComponent = this.renderSelect(itemConfig);\r\n                break;\r\n            case 'RangePicker':\r\n                itemComponent = this.renderRangePicker(itemConfig);\r\n                break;\r\n            case 'DatePicker':\r\n                itemComponent = this.renderDatePicker(itemConfig);\r\n                break;\r\n            case 'Btn':\r\n                itemComponent = this.renderBtn(itemConfig);\r\n                break;\r\n            default:\r\n                itemComponent = (<Input placeholder={placeholder} />);\r\n                break;\r\n        }\r\n        return itemComponent;\r\n    }\r\n    renderSelect = (selectConfig) => {\r\n        const { style = {}, options = [] } = selectConfig;\r\n        return (\r\n            <Select style={{ width: '100%', ...style }}>\r\n                {\r\n                    Array.isArray(options) ? options.map(({ key, optionValue, optionText }) => {\r\n                        return (\r\n                            <Option\r\n                                key={key || optionValue}\r\n                                value={optionValue}\r\n                            >\r\n                                {optionText}\r\n                            </Option>\r\n                        );\r\n                    }) : null\r\n                }\r\n            </Select>\r\n        );\r\n    }\r\n\r\n    renderDatePicker = () => {\r\n        return (\r\n            <DatePicker style={{ width: '100%' }} />\r\n        );\r\n    }\r\n\r\n    renderRangePicker = () => {\r\n        return (\r\n            <RangePicker style={{ width: '100%' }} />\r\n        );\r\n    }\r\n\r\n    renderBtn = (itemConfig) => {\r\n        const { btnArr } = itemConfig;\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    btnArr.map((btn) => {\r\n                        const { btnText = 'button', expandFlag, expandCount,\r\n                            style = {}, index, ...btnProps } = btn;\r\n                        if (expandFlag === TRUE) {\r\n                            const { expand, onCollapse } = this.props;\r\n                            const collapseBtnText = expand ? '隐藏' : '展开';\r\n                            return (\r\n                                <a\r\n                                    className=\"btn-collapse\"\r\n                                    onClick={onCollapse}\r\n                                    href=\"&nbsp;\"\r\n                                    key={`btn-${index}`}\r\n                                    style={style}\r\n                                >\r\n                                    {collapseBtnText}\r\n                                    <Icon type={expand ? 'up' : 'down'} />\r\n                                </a>\r\n                                );\r\n                        }\r\n                        return (\r\n                            <Button\r\n                                key={`btn-${index}`}\r\n                                style={style}\r\n                                {...btnProps}\r\n                            >\r\n                                {btnText}\r\n                            </Button>\r\n                        );\r\n                    })\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n\r\n    getInitialValue(formItemConfig) {\r\n        const { type = 'Input', defaultValue } = formItemConfig;\r\n        if (type === 'DatePicker' || type === 'RangePicker') {\r\n            return defaultValue && moment(defaultValue, 'YYYY-MM-DD');\r\n        }\r\n        return formItemConfig.defaultValue || '';\r\n    }\r\n\r\n\trender() {\r\n        const { formItemConfig = {}, form } =this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { type, colSpan, label, name, rules, cellStyles = {}, hasLinkage } = formItemConfig;\r\n        const md = colSpan || 8;\r\n        if (!name && type !== 'Btn') {\r\n            return null;\r\n        }\r\n        // 联动显示控制\r\n        if (hasLinkage === '1') {\r\n            const { linkName, condition } = formItemConfig;\r\n            if (form.getFieldValue(linkName) !== condition) {\r\n                return null;\r\n            }\r\n        }\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Col\r\n\t\t\t        span={colSpan}\r\n\t\t\t        md={md} sm={24}\r\n\t\t\t    >\r\n                    {\r\n                        type !== 'Btn' ?\r\n                            (\r\n                                <Form.Item label={label} style={cellStyles}>\r\n                                    {getFieldDecorator(name, {\r\n                                        rules: rules || [],\r\n                                        initialValue: this.getInitialValue(formItemConfig),\r\n                                    })(\r\n                                        this.renderItem(formItemConfig)\r\n                                    )}\r\n                                </Form.Item>\r\n                            ) : (\r\n                                <Form.Item style={cellStyles}>\r\n                                    {\r\n                                        this.renderItem(formItemConfig)\r\n                                    }\r\n                                </Form.Item>\r\n                            )\r\n                    }\r\n\t\t\t      \r\n\t\t\t    </Col>\r\n\t\t    </Fragment>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Editable;","import React, { Component, Fragment } from 'react';\r\nimport { Button, Collapse, Card, Drawer, Divider, Select, Input,\r\n\tIcon, Form, DatePicker, Radio } from 'antd';\r\nimport getCellColSpan, { strToObj, objToStr } from '../../common/CellUtil';\r\nimport { TRUE } from '../../common/Constants';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\n\r\nconst formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n};\r\n\r\nclass FormItemEdit extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdeleteComponent: false,\r\n\t\t\toptions: [],\r\n\t\t\t// cellStyles: [],\r\n\t\t};\r\n\t\tthis.onSubmit = this.onSubmit.bind(this);\r\n\t\tthis.onAddOptionItem = this.onAddOptionItem.bind(this);\r\n\t\tthis.onAddCellStyleItem = this.onAddCellStyleItem.bind(this);\r\n\t\tthis.onAddButton = this.onAddButton.bind(this);\r\n\t\tthis.onDeleteCellStyleItem = this.onDeleteCellStyleItem.bind(this);\r\n\t\tthis.onDeleteOptionItem = this.onDeleteOptionItem.bind(this);\r\n\t\tthis.onDeleteButton = this.onDeleteButton.bind(this);\r\n\t\tthis.onDeleteComponent = this.onDeleteComponent.bind(this);\r\n\t}\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tconst { formItemConfig } = nextProps;\r\n\t\tconst { type, options, btnArr } = formItemConfig;\r\n\t\tif (type === 'Option' && !this.initOptions) {\r\n\t\t\tthis.setState({\r\n\t\t\t\toptions,\r\n\t\t\t});\r\n\t\t\tthis.optionIndex = options.length;\r\n\t\t\tthis.initOptions = true;\r\n\t\t}\r\n\t\t// if (Array.isArray(cellStyles)  && !this.initCellStyles) {\r\n\t\t// \tthis.setState({\r\n\t\t// \t\tcellStyles,\r\n\t\t// \t});\r\n\t\t// \tthis.cellStyleIndex = cellStyles.length;\r\n\t\t// \tthis.initCellStyles = true;\r\n\t\t// }\r\n\t\tif (type === 'Btn' && !this.initBtn) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tbtnArr,\r\n\t\t\t});\r\n\t\t\tthis.btnIndex = btnArr.length;\r\n\t\t\tthis.initBtn = true;\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// 监控撤销删除组件操作 ctrl + z\r\n\t}\r\n\tonSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tconst { deleteComponent, options, btnArr } = this.state;\r\n\t\tconst { form, onUpdateConfigs, formItemConfig, colSpanArr, formItemArr } = this.props;\r\n\t\tform.validateFields((err, values) => {\r\n\t        if (!err) {\r\n\t\t\t\tconst newFormItemConfig = Object.assign({}, formItemConfig, values);\r\n\t\t\t\tif (deleteComponent) {\r\n\t\t\t\t\tnewFormItemConfig.deleteFlag = true;\r\n\t\t\t\t}\r\n\t\t\t\t// const { cellStyles = [] } = this.state;\r\n\t\t\t\tnewFormItemConfig.cellStyles = strToObj(values.cellStyles);\r\n\t\t\t\tif (newFormItemConfig.type === 'Select') {\r\n\t\t\t\t\tconst newOptions = options.slice();\r\n\t\t\t\t\tnewOptions.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst kText = `optionText-${index}`;\r\n\t\t\t\t\t\tconst kValue = `optionValue-${index}`;\r\n\t\t\t\t\t\titem.optionText = values[kText];\r\n\t\t\t\t\t\titem.optionValue= values[kValue];\r\n\t\t\t\t\t\tdelete newFormItemConfig[kText];\r\n\t\t\t\t\t\tdelete newFormItemConfig[kValue];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewFormItemConfig.options = newOptions;\r\n\t\t\t\t} else if (newFormItemConfig.type === 'DatePicker') {\r\n\t\t\t\t\tnewFormItemConfig.defaultValue = values.defaultValue && values.defaultValue.format('YYYY-MM-DD');\r\n\t\t\t\t} else if (newFormItemConfig.type === 'Btn') {\r\n\t\t\t\t\tconst newBtnArr = btnArr.slice();\r\n\t\t\t\t\tnewBtnArr.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst btnText = `btnText-${index}`;\r\n\t\t\t\t\t\tconst btnType = `type-${index}`;\r\n\t\t\t\t\t\tconst htmlType = `htmlType-${index}`;\r\n\t\t\t\t\t\tconst onClick = `onClick-${index}`;\r\n\t\t\t\t\t\tconst expandFlag = `expandFlag-${index}`;\r\n\t\t\t\t\t\tconst btnStyle = `btnStyle-${index}`;\r\n\t\t\t\t\t\titem.btnText = values[btnText];\r\n\t\t\t\t\t\titem.type= values[btnType];\r\n\t\t\t\t\t\titem.htmlType = values[htmlType];\r\n\t\t\t\t\t\titem.expandFlag = values[expandFlag];\r\n\t\t\t\t\t\titem.style = strToObj(values[btnStyle]);\r\n\t\t\t\t\t\tif (item.htmlType !== 'submit') {\r\n\t\t\t\t\t\t\titem.onClick = values[onClick];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst expandCount = `expandCount-${index}`;\r\n\t\t\t\t\t\tif (expandFlag === TRUE) {\r\n\t\t\t\t\t\t\titem.expandCount = values[expandCount];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdelete newFormItemConfig[btnStyle];\r\n\t\t\t\t\t\tdelete newFormItemConfig[expandCount];\r\n\t\t\t\t\t\tdelete newFormItemConfig[expandFlag];\r\n\t\t\t\t\t\tdelete newFormItemConfig[onClick];\r\n\t\t\t\t\t\tdelete newFormItemConfig[htmlType];\r\n\t\t\t\t\t\tdelete newFormItemConfig[btnText];\r\n\t\t\t\t\t\tdelete newFormItemConfig[btnType];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewFormItemConfig.btnArr = newBtnArr;\r\n\t\t\t\t}\r\n\t\t\t\tconst { originSpan = 1 } = values;\r\n\t\t\t\tnewFormItemConfig.originSpan = originSpan;\r\n\t\t\t\tnewFormItemConfig.colSpan = getCellColSpan(formItemConfig.colIndex, originSpan,\r\n\t\t\t\t\tformItemArr, colSpanArr);\r\n\t\t\t\tonUpdateConfigs(newFormItemConfig);\r\n\t        }\r\n\t      },\r\n\t    );\r\n\t}\r\n\tonDeleteComponent() {\r\n\t\tthis.setState({\r\n\t\t\tdeleteComponent: true,\r\n\t\t});\r\n\t}\r\n\tonAddOptionItem() {\r\n\t\tconst { options = [] } = this.state;\r\n\t\tconst newOptions = options.slice();\r\n\t\tnewOptions.push({\r\n\t\t\tvalue: '',\r\n\t\t\ttext: '',\r\n\t\t\tindex: this.optionIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\toptions: newOptions,\r\n\t\t});\r\n\t\tthis.optionIndex += 1;\r\n\t}\r\n\tonAddCellStyleItem() {\r\n\t\tconst { cellStyles = [] } = this.state;\r\n\t\tconst newCellStyles = cellStyles.slice();\r\n\t\tnewCellStyles.push({\r\n\t\t\tvalue: '',\r\n\t\t\tname: '',\r\n\t\t\tindex: this.cellStyleIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tcellStyles: newCellStyles,\r\n\t\t});\r\n\t\tthis.cellStyleIndex += 1;\r\n\t}\r\n\tonAddButton() {\r\n\t\tconst { btnArr } = this.state;\r\n\t\tconst newBtnArr = btnArr.slice();\r\n\t\tnewBtnArr.push({\r\n\t\t\tbtnText: 'button',\r\n\t\t\ttype: 'primary',\r\n\t\t\tindex: this.btnIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tbtnArr: newBtnArr,\r\n\t\t});\r\n\t\tthis.btnIndex += 1;\r\n\t}\r\n\tonDeleteButton(index) {\r\n\t\tconst { btnArr = [] } = this.state;\r\n\t\tconst newBtnArr = btnArr.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tbtnArr: newBtnArr,\r\n\t\t});\r\n\t}\r\n\tonDeleteCellStyleItem(index) {\r\n\t\tconst { cellStyles = [] } = this.state;\r\n\t\tconst newCellStyles = cellStyles.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tcellStyles: newCellStyles,\r\n\t\t});\r\n\t}\r\n\tonDeleteOptionItem(index) {\r\n\t\tconst { options = [] } = this.state;\r\n\t\tconst newOptions = options.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\toptions: newOptions,\r\n\t\t});\r\n\t}\r\n\trenderOptionsCard() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { options } = this.state;\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle=\"option设置\"\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={this.onAddOptionItem} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\toptions.map(({ value, text, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`optionitem-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`optionitem-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`optionValue-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"value\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`optionitem-text-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block', marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`optionText-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: text,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"show text\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteOptionItem(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trenderPanelHeader({ btnText, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{btnText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteButton(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\trenderBtnCard() {\r\n\t\tconst { formItemConfig, form } = this.props;\r\n\t\tconst { type } = formItemConfig;\r\n\t\tconst { btnArr, expandFlag = '0' } = this.state;\r\n\t\tif (type === 'Btn') {\r\n\t\t\treturn (\r\n\t\t\t\t<Card\r\n\t\t\t\t\ttitle=\"按钮区域\"\r\n\t\t\t\t\textra={\r\n\t\t\t\t\t\t<Icon type=\"plus-circle\" onClick={this.onAddButton} />\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Collapse>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbtnArr.map((item) => {\r\n\t\t\t\t\t\t\tconst { index, btnText, type, htmlType = 'button',\r\n\t\t\t\t\t\t\t\tonClick, expandCount, btnStyle } = item;\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Panel header={this.renderPanelHeader(item)} key={`btn-${index}`}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`btnText-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"按钮文字\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`btnText-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: btnText,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"btnText\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`type-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"type\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`type-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: type,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"primary\">primary</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"dashed\">dashed</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"danger\">danger</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"\">none</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`htmlType-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"htmlType\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`htmlType-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: htmlType,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"submit\">submit</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"reset\">reset</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"button\">button</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`onClick-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"onClick\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`onClick-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: onClick,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"点击事件名称\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`btnStyle-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"按钮样式\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`btnStyle-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: btnStyle,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`expandFlag-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"折叠\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`expandFlag-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: expandFlag,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tform.getFieldValue(`expandFlag-${index}`) === '1' ?\r\n\t\t\t\t\t\t\t\t\t\t\t(<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`expandCount-${index}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"折叠可见数\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`expandCount-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinitialValue: expandCount,\r\n\t\t\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"expandCount\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderDefaultValueItem() {\r\n\t\tconst { formItemConfig, form } = this.props;\r\n\t\tconst { type, defaultValue } = formItemConfig;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tconst { options } = this.state;\r\n\t\tif (type === 'Select') {\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"defaultValue\">\r\n\t\t\t\t\t{getFieldDecorator('defaultValue', {\r\n\t\t\t\t\t\tinitialValue: defaultValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toptions.map((item) => {\r\n\t\t\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\t\t\tconst optionValue = form.getFieldValue(`optionValue-${index}`);\r\n\t\t\t\t\t\t\t\tconst optionText = form.getFieldValue(`optionText-${index}`);\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Option value={optionValue} key={`op-${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t{`${optionValue}/${optionText}`}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t);\r\n\t\t} else if (type === 'DatePicker') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"defaultValue\">\r\n\t\t\t\t{getFieldDecorator('defaultValue', {\r\n\t\t\t\t\tinitialValue: defaultValue,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<DatePicker style={{ width: '100%' }} />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'Input') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"defaultValue\">\r\n\t\t\t\t\t{getFieldDecorator('defaultValue', {\r\n\t\t\t\t\t\tinitialValue: defaultValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\trenderLinkage(formItemConfig, formItemArr) {\r\n\t\tconst { condition, linkName } = formItemConfig;\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"关联组件name\">\r\n\t\t\t\t\t{getFieldDecorator('linkName', {\r\n\t\t\t\t\t\tinitialValue: linkName,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tformItemArr.map(({ name, colIndex, label }) => {\r\n\t\t\t\t\t\t\t\t\tif (name && colIndex !== formItemConfig.colIndex) {\r\n\t\t\t\t\t\t\t\t\t\treturn (<Option value={`${name}`}>{`${name}/${label}`}</Option>);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"condition\">\r\n\t\t\t\t\t{getFieldDecorator('condition', {\r\n\t\t\t\t\t\tinitialValue: condition,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trenderContent() {\r\n\t\tconst { deleteComponent } = this.state;\r\n\t\tconst { form, dropComponent = false, formItemConfig, formItemArr } = this.props;\r\n\t\tconst { label, name, placeholder, type, linkage } = formItemConfig;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tif (dropComponent && !deleteComponent) {\r\n\t\t\tif (type === 'Btn') {\r\n\t\t\t\treturn this.renderBtnCard();\r\n\t\t\t}\r\n\t\t\treturn (<Fragment>\r\n\t\t\t\t<Divider>组件</ Divider>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"label\">\r\n\t\t\t\t\t{getFieldDecorator('label', {\r\n\t\t\t\t\t\tinitialValue: label,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"name\">\r\n\t\t\t\t\t{getFieldDecorator('name', {\r\n\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{this.renderDefaultValueItem()}\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"placeholder\">\r\n\t\t\t\t\t{getFieldDecorator('placeholder', {\r\n\t\t\t\t\t\tinitialValue: placeholder,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"联动关联\">\r\n\t\t\t\t\t{getFieldDecorator('hasLinkage', {\r\n\t\t\t\t\t\tinitialValue: linkage,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{\r\n\t\t\t\t\tform.getFieldValue('hasLinkage') === '1' ?\r\n\t\t\t\t\t\tthis.renderLinkage(formItemConfig, formItemArr) : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Select' ? \r\n\t\t\t\t\t\tthis.renderOptionsCard() : null\r\n\t\t\t\t}\r\n\t\t\t\t<Form.Item style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderCellStylesSetting() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { cellStyles } = this.state;\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle=\"style设置\"\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={this.onAddCellStyleItem} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tcellStyles.map(({ name, value, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`cell-styleitem-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`cell-styleitem-name-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`styleName-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"style name\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`cell-styleitem-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block', marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`styleValue-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"style value\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteCellStyleItem(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { visible, onClose, form, onDeleteFormItemContainer,\r\n\t\t\tformItemConfig, colSpanArr } = this.props;\r\n\t\tlet initialColSpan = 1;\r\n\t\tlet tempColSpan = formItemConfig.colSpan;\r\n\t\tfor (let i = 0; i < colSpanArr.length; i++) {\r\n\t\t\ttempColSpan -= colSpanArr[i].colSpan;\r\n\t\t\tif (tempColSpan > 0) {\r\n\t\t\t\tinitialColSpan++;\r\n\t\t\t} else {\r\n\t\t\t\ti = colSpanArr.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst initialCellStyles = objToStr(formItemConfig.cellStyles);\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\ttitle=\"编辑表单项\"\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdeleteComponent: false,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.initOptions = false;\r\n\t\t\t\t\tthis.initBtn = false;\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.onSubmit}>\r\n\t\t\t\t<Divider>单元格</ Divider>\r\n\t\t\t\t\t{/* {this.renderCellStylesSetting()} */}\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t\tlabel=\"style设置\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"cellStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialCellStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item key=\"cell-colSpan\" label=\"跨列设置\" style={{ padding: '0 24px' }}>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"originSpan\", {\r\n\t\t\t\t\t\t\tinitialValue: initialColSpan,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcolSpanArr.map((c, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`${c}-${i}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={i+1}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{`${i+1}列`}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"btn-box\">\r\n\t\t\t\t\t\t<Button onClick={onDeleteFormItemContainer}>\r\n\t\t\t\t\t\t\t删除单元格\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n                    {\r\n                        this.renderContent()\r\n                    }\r\n\t\t\t        <div className=\"btn-bottom-box\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t        </div>\r\n\t\t    \t</Form>\r\n\t    \t</Drawer>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Form.create()(FormItemEdit);","import React, { PureComponent } from 'react';\r\nimport { Icon } from 'antd';\r\nimport Editable from '../../Core/Editable';\r\nimport FormItemEdit from '../../EditDrawer/FormItemEdit';\r\nimport { activeColor } from '../../common/Constants';\r\nimport './index.css';\r\n\r\nconst clsName = 'form-drop-container';\r\n\r\nclass FormItemContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dropComponent: false, // 是否放入了组件\r\n            formItemConfig: {\r\n                colSpan: props.colSpan,\r\n                colIndex: props.colIndex,\r\n                originSpan: props.originSpan,\r\n                cellStyles: props.cellStyles || {},\r\n            }, // 组件配置信息\r\n            visible: false,\r\n        };\r\n        this.onUpdateConfig = this.onUpdateConfig.bind(this);\r\n        this.onShowEditItem = this.onShowEditItem.bind(this);\r\n        this.onEditDropContainer = this.onEditDropContainer.bind(this);\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.onDeleteCol = this.onDeleteCol.bind(this);\r\n        this.onClose = this.onClose.bind(this);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.colSpan !== this.props.colSpan || nextProps.colIndex !== this.props.colIndex) {\r\n            const newformItemConfig = Object.assign({},\r\n                this.state.formItemConfig, {\r\n                    colSpan: nextProps.colSpan,\r\n                    colIndex: nextProps.colIndex,\r\n                    originSpan: nextProps.originSpan,\r\n                    cellStyles: nextProps.cellStyles,\r\n                });\r\n            this.setState({\r\n                formItemConfig: newformItemConfig,\r\n            });\r\n        }\r\n    }\r\n    onShowEditItem() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        if (event.target.className === clsName) {\r\n            const data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            const { type } = data;\r\n            const { colIndex, onUpdateConfigs } = this.props;\r\n            const formItemConfig = {\r\n                type,\r\n                colSpan: this.props.colSpan,\r\n                originSpan: this.props.originSpan,\r\n                cellStyles: this.props.cellStyles,\r\n                label: 'label',\r\n                name: `name-${colIndex}`,\r\n                colIndex,\r\n            };\r\n            if (type === 'Button') {\r\n                delete formItemConfig.label;\r\n                delete formItemConfig.name;\r\n                formItemConfig.type = 'Btn';\r\n                formItemConfig.btnArr = [{\r\n                    btnText: 'button',\r\n                    type: 'primary',\r\n                    index: 0,\r\n                }];\r\n            }\r\n            this.setState({\r\n                formItemConfig,\r\n                dropComponent: true,\r\n            }, () => {\r\n                onUpdateConfigs(formItemConfig);\r\n            });\r\n            this.resetBg();\r\n        }\r\n    }\r\n    /**\r\n     * @desc  删除单元格\r\n     * @param {object} e \r\n     */\r\n    onDeleteCol(e) {\r\n        e && e.stopPropagation();\r\n        const { onUpdateConfigs, colIndex } = this.props;\r\n        const { formItemConfig } = this.state;\r\n        this.setState({\r\n            formItemConfig: {\r\n                colSpan: formItemConfig.colSpan,\r\n                originSpan: formItemConfig.originSpan,\r\n                colIndex,\r\n            },\r\n            dropComponent: false,\r\n        });\r\n        onUpdateConfigs({ colIndex, deleteFlag: true });\r\n    }\r\n    resetBg() {\r\n        const dropDomArr = document.querySelectorAll(`.${clsName}`);\r\n        if (dropDomArr) {\r\n            dropDomArr.forEach((item) => {\r\n                item.style.background = '';\r\n            });\r\n        }\r\n    }\r\n    onDragenter(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = activeColor;\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.targetDom) {\r\n            this.targetDom.removeEventListener('drop', this.onDrop);\r\n            this.targetDom.removeEventListener(\"dragenter\", this.onDragenter);\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (!this.targetDom) {\r\n            return;\r\n        }\r\n        this.targetDom.addEventListener(\"drop\", this.onDrop, false);\r\n        this.targetDom.addEventListener(\"dragenter\", this.onDragenter, false);\r\n    }\r\n    onUpdateConfig(config) {\r\n        const { formItemConfig } = this.state;\r\n        let newformItemConfig = null;\r\n        // 删除单元格内的组件\r\n        if (config.deleteFlag) {\r\n            newformItemConfig = {\r\n                colIndex: config.colIndex,\r\n                colSpan: config.colSpan,\r\n                originSpan: config.originSpan,\r\n                cellStyles: config.cellStyles,\r\n            }\r\n        } else {\r\n            newformItemConfig = Object.assign({}, formItemConfig, config);\r\n        }\r\n        this.setState({\r\n            formItemConfig: newformItemConfig,\r\n            dropComponent: !config.deleteFlag,\r\n        }, () => {\r\n            const { onUpdateConfigs } = this.props;\r\n            onUpdateConfigs(newformItemConfig);\r\n            this.onClose();\r\n        });\r\n    }\r\n    onEditDropContainer(e) {\r\n        if (e.target.className === clsName) {\r\n            e && e.stopPropagation();\r\n            this.setState({\r\n                visible: true,\r\n            });\r\n        }\r\n    }\r\n    onClose() {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    getContainerWidth(colSpan = 8) {\r\n        return `${100 * colSpan / 24 }%`;\r\n    }\r\n    render() {\r\n        const { dropComponent, formItemConfig = {}, visible } = this.state;\r\n        const { layoutColumn, onDeleteFormItemContainer, colIndex, configs } = this.props;\r\n        const colIndexNum = + colIndex;\r\n        const _colSpan = Object.hasOwnProperty.call(formItemConfig, 'colSpan') ? \r\n            formItemConfig.colSpan : (24 / layoutColumn);\r\n        return (\r\n            <div\r\n                className={clsName}\r\n                style={{\r\n                    width: this.getContainerWidth(_colSpan, layoutColumn),\r\n                }}\r\n                ref={(targetDom) => { this.targetDom = targetDom; }}\r\n            >\r\n                {\r\n                  dropComponent ? (\r\n                        <Editable\r\n                            {...this.props}\r\n                            formItemConfig={formItemConfig}\r\n                        />\r\n                    ) : null\r\n                }\r\n                <Icon\r\n                    type=\"bars\"\r\n                    className=\"icon-operation\"\r\n                    onClick={this.onShowEditItem}\r\n                />\r\n                <FormItemEdit\r\n                    visible={visible}\r\n                    onDelete={this.onDeleteCol}\r\n                    onUpdateConfigs={this.onUpdateConfig}\r\n                    colSpanArr={configs.colSpanArr}\r\n                    formItemArr={configs.formItemArr}\r\n                    formItemConfig={formItemConfig}\r\n                    dropComponent={dropComponent}\r\n                    layoutColumn={layoutColumn}\r\n                    onDeleteFormItemContainer={() => {\r\n                        this.setState({\r\n                            visible: false,\r\n                        }, () => {\r\n                            onDeleteFormItemContainer(colIndexNum);\r\n                        });\r\n                    }}\r\n                    onClose={this.onClose}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FormItemContainer;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Form, Row, Button, message, Icon } from 'antd';\r\nimport FormEdit from '../../EditDrawer/FormEdit';\r\nimport getCellColSpan from '../../common/CellUtil';\r\nimport FormItemContainer from '../FormItemContainer';\r\nimport './index.css';\r\n\r\nclass FormContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            configs: {\r\n                layoutColumn: 1, // 容器列数\r\n                formItemArr: [],\r\n            },\r\n        };\r\n        this.onShowEditForm = this.onShowEditForm.bind(this);\r\n        this.onCloseEditForm = this.onCloseEditForm.bind(this);\r\n        this.renderFormItemContainer = this.renderFormItemContainer.bind(this);\r\n        this.onAddRow = this.onAddRow.bind(this);\r\n        this.onAddRowCell = this.onAddRowCell.bind(this);\r\n        this.onDeleteRow = this.onDeleteRow.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onDeleteFormItemContainer = this.onDeleteFormItemContainer.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.colIndexStart = 0;\r\n    }\r\n    onShowEditForm() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onCloseEditForm(configs) {\r\n        const newState = {\r\n            visible: false,\r\n        };\r\n        const { layoutColumn, colSpanArr } = configs;\r\n        const layoutColumnNum = +layoutColumn;\r\n        if (layoutColumnNum) {\r\n            const formItemArr = this.state.configs.formItemArr.slice();\r\n            // 新增单元格\r\n            if (formItemArr.length === 0) {\r\n                for(let i = 0; i < layoutColumnNum; i++) {\r\n                    formItemArr.push({\r\n                        colIndex: this.colIndexStart + i,\r\n                        colSpan: colSpanArr[i],\r\n                        originSpan: 1,\r\n                    });\r\n                }\r\n            } else {\r\n                formItemArr.forEach((item) => {\r\n                    item.colSpan = getCellColSpan(item.colIndex, item.originSpan, formItemArr, colSpanArr);\r\n                });\r\n            }\r\n            this.colIndexStart += layoutColumnNum;\r\n            configs.layoutColumn = layoutColumnNum;\r\n            configs.formItemArr = formItemArr;\r\n            newState.configs = configs;\r\n        }\r\n        this.setState({\r\n            ...newState\r\n        });\r\n    }\r\n    onAddRowCell() {\r\n        const { configs } = this.state;\r\n        const { colSpanArr } = configs;\r\n        const formItemArr = configs.formItemArr.slice();\r\n        if (formItemArr.length === 0) {\r\n            message.warn('请设置容器列数');\r\n            return;\r\n        }\r\n        const rowSpanCount = formItemArr.reduce((total, item, i) => {\r\n            total += item.colSpan;\r\n            if (i === formItemArr.length -1) {\r\n                total %= 24;\r\n            }\r\n            return total;\r\n        }, 0);\r\n        let colSpanIndex = 0;\r\n        let total = 0;\r\n        for (let i = 0; i < colSpanArr.length; i++) {\r\n            total = total + (+colSpanArr[i]);\r\n            if (total > rowSpanCount) {\r\n                colSpanIndex = i;\r\n                i = colSpanArr.length;\r\n            }\r\n        }\r\n        formItemArr.push({ \r\n            colIndex: this.colIndexStart,\r\n            originSpan: 1,\r\n            colSpan: colSpanArr[colSpanIndex],\r\n        });\r\n        this.colIndexStart += 1;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.formItemArr = formItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    onAddRow() {\r\n        const { configs } = this.state;\r\n        const formItemArr = configs.formItemArr.slice();\r\n        if (formItemArr.length === 0) {\r\n            message.warn('请设置容器列数');\r\n            return;\r\n        }\r\n        const { layoutColumn } = configs;\r\n        for(let i = 0; i < layoutColumn; i++) {\r\n            formItemArr.push({ colIndex: this.colIndexStart + i });\r\n        }\r\n        this.colIndexStart += layoutColumn;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.formItemArr = formItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    onDeleteRow() {\r\n        const { configs } = this.state;\r\n        const { layoutColumn, formItemArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.slice();\r\n        if (newFormItemArr.length <= layoutColumn) {\r\n            message.warn('不能再删除了');\r\n            return;\r\n        }\r\n        newFormItemArr.length = Math.max(0, newFormItemArr.length- layoutColumn);\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n            onUpdateLayoutConfig({ layoutIndex, newConfigs });\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n    }\r\n    onDeleteFormItemContainer(colIndex) {\r\n        const { configs } = this.state;\r\n        const { formItemArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.filter((item) => {\r\n            return item.colIndex !== colIndex;\r\n        });\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const { formItemArr, colSpanArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        const newFormItemArr = formItemArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.colIndex !== item.colIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        colIndex: values.colIndex,\r\n                        colSpan: values.colSpan,\r\n                        originSpan: values.originSpan,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.colIndex === item.colIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newFormItemArr.forEach((item) => {\r\n            // 更新跨列\r\n            if (item.colIndex > values.colIndex) {\r\n                item.colSpan = getCellColSpan(item.colIndex, item.originSpan,\r\n                    newFormItemArr, colSpanArr);\r\n            }\r\n        });\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    renderFormItemContainer() {\r\n        const { configs } = this.state;\r\n        const { formItemArr, layoutColumn } = configs;\r\n        return formItemArr.map(({ colIndex, colSpan, originSpan, cellStyles }) => {\r\n            return (\r\n                <FormItemContainer\r\n                    key={`ed-${colIndex}`}\r\n                    colIndex={colIndex}\r\n                    {...this.props}\r\n                    colSpan={colSpan}\r\n                    originSpan={originSpan}\r\n                    layoutColumn={layoutColumn}\r\n                    cellStyles={cellStyles}\r\n                    onDeleteFormItemContainer={this.onDeleteFormItemContainer}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                />\r\n            );\r\n        });\r\n    }\r\n    render() {\r\n        const { visible, configs } = this.state;\r\n        const { layoutIndex, onUpdateLayoutConfig } = this.props;\r\n        const { layoutColumn, formItemArr } = configs;\r\n        return (\r\n            <Fragment>\r\n                <div className=\"form-container container\">\r\n                    <div className=\"inner-box\">\r\n                        {\r\n                            <Form>\r\n                                <Row\r\n                                    gutter={{ md: 24 / layoutColumn, lg: 24, xl: 48 }}\r\n                                >\r\n                                    {this.renderFormItemContainer()}\r\n                                </Row>\r\n                            </Form>\r\n                        }\r\n                        {\r\n                            formItemArr.length > 0 ? (\r\n                                <div style={{\r\n                                    textAlign: 'center',\r\n                                    marginTop: '10px',\r\n                                    }}\r\n                                >\r\n                                    <Button\r\n                                        onClick={this.onAddRowCell}\r\n                                    >\r\n                                        新增单元格\r\n                                    </Button>\r\n                                </div>\r\n                                ) : null\r\n                        }\r\n                    </div>\r\n                    <Icon type=\"form\" className=\"icon-operation\" onClick={this.onShowEditForm} />\r\n                    {/* <Icon type=\"close-circle\" className=\"icon-operation\" onClick={this.onDeleteContainer} /> */}\r\n                </div>\r\n                <FormEdit\r\n                    visible={visible}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                    onClose={(configs) => {\r\n                        const { layoutColumn } = configs;\r\n                        this.onCloseEditForm(configs);\r\n                        if (layoutColumn) {\r\n                            const layoutConfig = {\r\n                                layoutIndex,\r\n                                configs,\r\n                            };\r\n                            onUpdateLayoutConfig(layoutConfig);\r\n                        }\r\n                    }}\r\n                />\r\n            </Fragment>  \r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(FormContainer);","import React, { PureComponent, Fragment } from 'react';\r\nimport { Button, Card, Drawer, Divider, Collapse, Form, Input, Icon, Select } from 'antd';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\nconst Option = Select.Option;\r\n\r\nconst formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n};\r\n\r\nconst DIR = {\r\n    '0': false,\r\n    '1': true,\r\n};\r\n\r\nclass TableEdit extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            configs: props.configs,\r\n        };\r\n        this.setColumnMaxIndex(props);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAddOperation = this.onAddOperation.bind(this);\r\n        this.onDeleteOperation = this.onDeleteOperation.bind(this);\r\n        this.onAddColumn = this.onAddColumn.bind(this);\r\n        this.onDeleteColumn = this.onDeleteColumn.bind(this);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.visible !== this.props.visible && nextProps.visible) {\r\n            this.setState({\r\n                configs: nextProps.configs,\r\n            });\r\n            this.setColumnMaxIndex(nextProps);\r\n            this.setOperationMaxIndex(nextProps);\r\n        }\r\n    }\r\n    setColumnMaxIndex({ configs }) {\r\n        const { columns = [] } = configs;\r\n        this.columnMaxIndex = columns.length || 0;\r\n    }\r\n    setOperationMaxIndex({ configs }) {\r\n        const { operationArr = [] } = configs;\r\n        this.operationMaxIndex = operationArr.length || 0;\r\n    }\r\n    addColumnMaxIndex() {\r\n        this.columnMaxIndex += 1;\r\n    }\r\n    addOperationMaxIndex() {\r\n        this.operationMaxIndex += 1;\r\n    }\r\n    onAddOperation() {\r\n        const { configs } = this.state;\r\n        const { operationArr = [] } = configs;\r\n        const newOperationArr = operationArr.slice();\r\n        const opreationIndex = this.operationMaxIndex;\r\n        newOperationArr.push({\r\n            opText: \"操作\",\r\n            index: opreationIndex,\r\n        });\r\n        this.setState({\r\n            configs: this.getNewConfigs('operationArr', newOperationArr),\r\n        });\r\n        this.addOperationMaxIndex();\r\n    }\r\n    onAddColumn() {\r\n        const { configs } = this.state;\r\n        const { columns } = configs;\r\n        const newColumns = columns.slice();\r\n        const columnIndex = this.columnMaxIndex;\r\n        newColumns.push({\r\n            title: `column${columnIndex}`,\r\n            dataIndex: `dataIndex${columnIndex}`,\r\n            index: columnIndex,\r\n        });\r\n        this.setState({\r\n            configs: this.getNewConfigs('columns', newColumns),\r\n        });\r\n        this.addColumnMaxIndex();\r\n    }\r\n    onDeleteOperation(index) {\r\n        const { configs } = this.state;\r\n        const { operationArr } = configs;\r\n        const newOperationArr = operationArr.reduce((arr, item) => {\r\n            if (item.index !== index) {\r\n                arr.push(Object.assign({}, item));\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.operationArr = newOperationArr;\r\n        this.setState({\r\n            configs: this.getNewConfigs('operationArr', newOperationArr),\r\n        });\r\n    }\r\n    onDeleteColumn(columnIndex) {\r\n        const { configs } = this.state;\r\n        const { columns } = configs;\r\n        const newColumns = columns.reduce((arr, item) => {\r\n            if (item.index !== columnIndex) {\r\n                arr.push(Object.assign({}, item));\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.columns = newColumns;\r\n        this.setState({\r\n            configs: this.getNewConfigs('columns', newColumns),\r\n        });\r\n    }\r\n    getNewConfigs(k, v) {\r\n        const { configs } = this.state;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs[k] = v;\r\n        return newConfigs;\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const newConfigs = {};\r\n                const { configs } = this.state;\r\n                // 有操作列\r\n                if (values.hasOperation === '1') {\r\n                    const { operationArr } = configs;\r\n                    const newOperationArr = [];\r\n                    for (let i = 0; i< operationArr.length; i++) {\r\n                        const { index } = operationArr[i];\r\n                        const opText = values[`opText-${index}`];\r\n                        const opType = values[`opType-${index}`];\r\n                        newOperationArr.push({\r\n                            opText,\r\n                            opType,\r\n                            index: i,\r\n                        });\r\n                        delete values[opText];\r\n                        delete values[opType];\r\n                    }\r\n                    newConfigs.operationArr = newOperationArr;\r\n                }\r\n                const newColumns = configs.columns.slice();\r\n                Object.keys(values).forEach((k) => {\r\n                    const val = values[k];\r\n                    // 列数据\r\n                    if (k.indexOf('-') > 0) {\r\n                        const [ columnName, columnIndex ] = k.split('-');\r\n                        const columnTarget = newColumns.find((item) => {\r\n                            return item.index === +columnIndex;\r\n                        });\r\n                        if (columnTarget) {\r\n                            columnTarget[columnName] = val;\r\n                            if (columnName === 'width' && !val) {\r\n                                delete columnTarget.width;\r\n                            }\r\n                            if (columnName === 'fixed') {\r\n                                columnTarget[columnName] = DIR[val];\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (k === 'pagination') {\r\n                            if (val === '1') {\r\n                                newConfigs.pagination = {\r\n                                    pageSize: values.pageSize,\r\n                                    pageSizeOptions: values.pageSizeOptions.split(','),\r\n                                };\r\n                            } else {\r\n                                newConfigs[k] = DIR[val];\r\n                            }\r\n                        } else if (k === 'rowSelection') {\r\n                            if (val === '1') {\r\n                                newConfigs.rowSelection = {\r\n                                    type: values.type,\r\n                                };\r\n                                if (values.type === 'radio') {\r\n                                    newConfigs.rowSelection.columnTitle = values.columnTitle;\r\n                                }\r\n                            } else {\r\n                                newConfigs[k] = null;\r\n                            }\r\n                        } else {\r\n                            newConfigs[k] = val;\r\n                        }\r\n                    }\r\n                });\r\n                delete newConfigs.pageSize;\r\n                delete newConfigs.pageSizeOptions;\r\n                delete newConfigs.type;\r\n                delete newConfigs.columnTitle;\r\n\r\n                newConfigs.columns = newColumns;\r\n                this.props.onUpdateConfigs(newConfigs);\r\n            }\r\n          });\r\n    }\r\n    renderPanelHeader({ title, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{title}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteColumn(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderOperationHeader({ opText, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{opText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteOperation(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderCollapse() {\r\n        const { form } = this.props;\r\n        const { configs } = this.state;\r\n        const { columns = [] } = configs;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Collapse>\r\n                {\r\n                    columns.map((item, i) => {\r\n                        const { title, index, dataIndex, width, align = 'left', fixed = false } = item;\r\n                        return (\r\n                            <Panel header={this.renderPanelHeader(item)} key={`${title}-${index}`}>\r\n                                <Form.Item label=\"title\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`title-${index}`, { \r\n                                        rules: [{ required: true, message: '请输入title!' }],\r\n                                        initialValue: title,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"dataIndex\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`dataIndex-${index}`, { \r\n                                        rules: [{ required: true, message: 'dataIndex!' }],\r\n                                        initialValue: dataIndex,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"width\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`width-${index}`, {\r\n                                        initialValue: width || '',\r\n                                    }, {\r\n                                        rules: [{ pattern: /^\\d+(%)?$/, message: '请输入数字或者百分比!' }]\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"align\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`align-${index}`, { \r\n                                        initialValue: align,\r\n                                    })(\r\n                                        <Select>\r\n                                            <Option value={'left'}>left</Option>\r\n                                            <Option value={'right'}>right</Option>\r\n                                            <Option value={'center'}>center</Option>\r\n                                        </Select>\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"fixed\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`fixed-${index}`, { \r\n                                        initialValue: fixed ? \"1\" : \"0\",\r\n                                    })(\r\n                                        <Select>\r\n                                            <Option value=\"0\">false</Option>\r\n                                            <Option value=\"1\">true</Option>\r\n                                        </Select>\r\n                                    )}\r\n                                </Form.Item>\r\n                            </Panel>\r\n                        );\r\n                    })\r\n                }\r\n            </Collapse>\r\n        );\r\n    }\r\n    renderTableProps() {\r\n        const { form } = this.props;\r\n        const { configs } = this.state;\r\n        const { operationArr = [] } = configs;\r\n        const { getFieldDecorator } = form;\r\n        const { pagination, rowSelection, hasOperation = '0' } = configs;\r\n        const { pageSize = 10, pageSizeOptions = '10,20,30' } = pagination || {};\r\n        const { type = 'checkbox', columnTitle = '选择' } = rowSelection || {};\r\n        const hasPagination = Object.keys(pagination || {}).length > 0 ? \"1\" : \"0\";\r\n        const hasRowSelection = Object.keys(rowSelection || {}).length > 0 ? \"1\" : \"0\";\r\n        return (\r\n            <Fragment>\r\n                <Form.Item label=\"操作列\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"hasOperation\", { \r\n                        initialValue: hasOperation,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">无</Option>\r\n                            <Option value=\"1\">有</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('hasOperation') === '1' ?\r\n                        [\r\n                            <Collapse key=\"op-collapse\">\r\n                                {\r\n                                    operationArr.map((item) => {\r\n                                        const { index, opText, opType } = item;\r\n                                        return (\r\n                                            <Panel header={this.renderOperationHeader(item)} key={`op-${index}`}>\r\n                                                <Form.Item label=\"文字\" {...formItemLayout}>\r\n                                                    {getFieldDecorator(`opText-${index}`, { \r\n                                                        initialValue: opText,\r\n                                                    })(\r\n                                                        <Input />\r\n                                                    )}\r\n                                                </Form.Item>\r\n                                                <Form.Item label=\"类型\" {...formItemLayout}>\r\n                                                    {getFieldDecorator(`opType-${index}`, { \r\n                                                        initialValue: opType,\r\n                                                    })(\r\n                                                        <Select>\r\n                                                            <Option value=\"edit\">编辑</Option>\r\n                                                            <Option value=\"view\">查看</Option>\r\n                                                            <Option value=\"delete\">删除</Option>\r\n                                                            <Option value=\"other\">其他</Option>\r\n                                                        </Select>\r\n                                                    )}\r\n                                                </Form.Item>\r\n                                            </Panel>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </Collapse>,\r\n                            <Fragment key=\"op-collapse-btns\">\r\n                                {\r\n                                    form.getFieldValue('hasOperation') === '1' ?\r\n                                        (<div className=\"btn-add-box\">\r\n                                            <Button\r\n                                                type=\"dashed\"\r\n                                                size=\"large\"\r\n                                                onClick={this.onAddOperation}\r\n                                            >\r\n                                                添加操作项\r\n                                            </Button>\r\n                                        </div>) : null\r\n                                }\r\n                            </Fragment>\r\n                        ] : null\r\n                }\r\n                <Form.Item label=\"pagination\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"pagination\", { \r\n                        initialValue: hasPagination,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">false</Option>\r\n                            <Option value=\"1\">true</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('pagination') === '1' ?\r\n                    <Card title=\"pagination配置\">\r\n                        <Form.Item label=\"pageSize\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"pageSize\", { \r\n                                initialValue: pageSize,\r\n                            })(\r\n                                <Input />\r\n                            )}\r\n                        </Form.Item>\r\n                        <Form.Item label=\"pageSizeOptions\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"pageSizeOptions\", { \r\n                                initialValue: Array.isArray(pageSizeOptions)\r\n                                    ? pageSizeOptions.join(',') : pageSizeOptions,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"10,20,30\">10,20,30</Option>\r\n                                    <Option value=\"10,20,30,40\">10,20,30,40</Option>\r\n                                    <Option value=\"20,30,40\">20,30,40</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                    </Card> : null\r\n                }\r\n                <Form.Item label=\"rowSelection\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"rowSelection\", { \r\n                        initialValue: hasRowSelection,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">false</Option>\r\n                            <Option value=\"1\">true</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('rowSelection') === '1' ?\r\n                    <Card title=\"rowSelection配置\">\r\n                        <Form.Item label=\"type\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"type\", { \r\n                                initialValue: type,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"checkbox\">checkbox</Option>\r\n                                    <Option value=\"radio\">radio</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                        {\r\n                            form.getFieldValue('type') === 'radio' ?\r\n                                <Form.Item label=\"columnTitle\" {...formItemLayout}>\r\n                                    {getFieldDecorator(\"columnTitle\", { \r\n                                        initialValue: columnTitle,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item> : null\r\n                        }\r\n                    </Card> : null\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, onClose, onDeleteContainer } = this.props;\r\n        return (\r\n            <Drawer\r\n                title=\"表格编辑\"\r\n                width={420}\r\n                onClose={onClose}\r\n                visible={visible}\r\n            >\r\n                <Form onSubmit={this.onSubmit}>\r\n                    <Divider>表头</Divider>\r\n                    {this.renderCollapse()}\r\n                    <div className=\"btn-add-box\">\r\n                        <Button\r\n                            type=\"dashed\"\r\n                            size=\"large\"\r\n                            onClick={this.onAddColumn}\r\n                        >\r\n                            添加表头列\r\n                        </Button>\r\n                    </div>\r\n                    <Divider>表格属性</Divider>\r\n                    {this.renderTableProps()}\r\n                    <Form.Item style={{ marginTop: '20px', textAlign: 'center' }}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(TableEdit);","import React, { PureComponent, Fragment } from 'react';\r\nimport { Divider,Dropdown, Icon, Table } from 'antd';\r\nimport { TRUE } from '../../common/Constants';\r\nimport TableEdit from '../../EditDrawer/TableEdit';\r\n\r\nimport './index.css';\r\n\r\nclass TableContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n        };\r\n        this.onShowEditTable = this.onShowEditTable.bind(this);\r\n        this.onClose = this.onClose.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n    }\r\n    onShowEditTable() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onClose(e) {\r\n        e.stopPropagation();\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onUpdateConfigs(configs) {\r\n        const { layoutIndex, onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({layoutIndex, configs});\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { layoutIndex, onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n    }\r\n    renderMoreOpList(opList) {\r\n        return (\r\n            <span style={{ background: '#fff', display: 'block' }}>\r\n                {\r\n                    opList.map(({opText, index}) => {\r\n                    return (\r\n                        <a href=\"&nbsp;\" key={`op-${index}`} style={{ display: 'block' }}>\r\n                            {opText}\r\n                        </a>\r\n                    );\r\n                    })\r\n                }\r\n            </span>\r\n        );\r\n    }\r\n    renderMultOperation(operationArr) {\r\n        const [ firstItem, ...restItemArr ] = operationArr;\r\n        return (\r\n            <Fragment>\r\n                <a href=\"&nbsp;\">\r\n                    {firstItem.opText}\r\n                </a>\r\n                <Divider type=\"vertical\" />\r\n                <Dropdown overlay={this.renderMoreOpList(restItemArr)}>\r\n                    <a className=\"ant-dropdown-link\" href=\"&nbsp;\">\r\n                        更多<Icon type=\"down\" />\r\n                    </a>\r\n                </Dropdown>\r\n            </Fragment>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { configs = {} } = this.props;\r\n        const { hasOperation, pagination = false, rowSelection = null,\r\n            operationArr = [], columns } = configs;\r\n        const copyColumns = columns.slice();\r\n        if (hasOperation === TRUE) {\r\n            copyColumns.push({\r\n                title: '操作',\r\n                render: () => {\r\n                    if (!Array.isArray(operationArr)) {\r\n                        return null;\r\n                    }\r\n                    if (operationArr.length > 2) {\r\n                        return (\r\n                            <span>\r\n                                {\r\n                                    this.renderMultOperation(operationArr)\r\n                                }\r\n                            </span>\r\n                        );\r\n                    } else {\r\n                        return (\r\n                            <span>\r\n                                {\r\n                                    operationArr.map(({ opText, index }, i) => {\r\n                                        return (\r\n                                            <Fragment key={`fr-${index}`}>\r\n                                                <a href=\"&nbsp;\" key={`op-${index}`}>{opText}</a>,\r\n                                                {\r\n                                                    i !== operationArr.length -1\r\n                                                        ? <Divider type=\"vertical\" /> : null\r\n                                                }\r\n                                            </Fragment>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </span>\r\n                        );\r\n                    }\r\n                },\r\n            });\r\n        }\r\n        return (\r\n            <div\r\n                className=\"table-container container\"\r\n            >\r\n                <Table\r\n                    columns={copyColumns}\r\n                    bordered\r\n                    dataSource={[]}\r\n                    pagination={pagination}\r\n                    rowSelection={rowSelection}\r\n                    onClick={this.onShowEditTable}\r\n                />\r\n                <TableEdit\r\n                    visible={visible}\r\n                    configs={configs}\r\n                    onClose={this.onClose}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                />\r\n                <Icon type=\"form\" className=\"icon-operation\" onClick={this.onShowEditTable} />\r\n                {/* <Icon type=\"close-circle\" className=\"icon-operation\" onClick={this.onDeleteContainer} /> */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TableContainer;","import React, { Fragment } from 'react';\r\nimport { Button, Input, Select, DatePicker, Breadcrumb } from 'antd';\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst renderComponent = (dropConfig) => {\r\n    const { placeholder, type = 'Input' } = dropConfig;\r\n    let component = null;\r\n    switch(type) {\r\n        case 'Text':\r\n            component = renderText(dropConfig);\r\n            break;\r\n        case 'Breadcrumb':\r\n            component = renderBreadcrumb(dropConfig);\r\n            break;\r\n        case 'Select':\r\n            component = renderSelect(dropConfig);\r\n            break;\r\n        case 'RangePicker':\r\n            component = renderRangePicker(dropConfig);\r\n            break;\r\n        case 'DatePicker':\r\n            component = renderDatePicker(dropConfig);\r\n            break;\r\n        case 'Btn':\r\n            component = renderBtn(dropConfig);\r\n            break;\r\n        default:\r\n            component = (<Input placeholder={placeholder} />);\r\n            break;\r\n    }\r\n    return component;\r\n};\r\nconst renderBreadcrumb = (config) => {\r\n    const { breadcrumb = [], style } = config;\r\n    return (\r\n        <Breadcrumb style={style}>\r\n            {\r\n                breadcrumb.map(({ text, linkUrl }, i) => {\r\n                    return (\r\n                        <Breadcrumb.Item key={`breadcrumb-${i}`}>\r\n                            { linkUrl ? \r\n                                <a href={linkUrl}>{text}</a> : <span>{text}</span>\r\n                            }\r\n                        </Breadcrumb.Item>\r\n                    );\r\n                })\r\n            }\r\n        </Breadcrumb>\r\n    )\r\n};\r\nconst renderText = (config) => {\r\n    const { text, style } = config;\r\n    return (\r\n        <span style={style}>{text}</span>\r\n    );\r\n};\r\n\r\nconst renderSelect = (selectConfig) => {\r\n    const { style = {}, options = [] } = selectConfig;\r\n    return (\r\n        <Select style={{ width: '100%', ...style }}>\r\n            {\r\n                Array.isArray(options) ? options.map(({ key, optionValue, optionText }) => {\r\n                    return (\r\n                        <Option\r\n                            key={key || optionValue}\r\n                            value={optionValue}\r\n                        >\r\n                            {optionText}\r\n                        </Option>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Select>\r\n    );\r\n};\r\nconst renderDatePicker = () => {\r\n    return (\r\n        <DatePicker style={{ width: '100%' }} />\r\n    );\r\n};\r\nconst renderRangePicker = () => {\r\n    return (\r\n        <RangePicker style={{ width: '100%' }} />\r\n    );\r\n}\r\n\r\nconst renderBtn = (itemConfig) => {\r\n    const { btnArr } = itemConfig;\r\n    return (\r\n        <Fragment>\r\n            {\r\n                btnArr.map((btn) => {\r\n                    const { btnText = 'button', expandFlag, expandCount,\r\n                        style = {}, index, ...btnProps } = btn;\r\n                    return (\r\n                        <Button\r\n                            key={`btn-${index}`}\r\n                            style={style}\r\n                            {...btnProps}\r\n                        >\r\n                            {btnText}\r\n                        </Button>\r\n                    );\r\n                })\r\n            }\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default renderComponent;","import React, { PureComponent } from 'react';\r\nimport renderComponent from '../../common/RenderUtil';\r\n\r\nclass DropRender extends PureComponent {\r\n\trender() {\r\n\t\tconst { dropConfig = {} } =this.props;\r\n\t\tconst {cellStyles} = dropConfig;\r\n\t\treturn (\r\n\t\t\t<div style={cellStyles}>\r\n                {\r\n                    renderComponent(dropConfig)\r\n                }\r\n\t\t    </div>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default DropRender;","import React, { Component, Fragment } from 'react';\r\nimport { Button, Collapse, Card, Drawer, Select, Input,\r\n\tIcon, Form, DatePicker } from 'antd';\r\nimport { strToObj, objToStr } from '../../common/CellUtil';\r\nimport formItemLayout from '../../configs/layout';\r\nimport { TRUE } from '../../common/Constants';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\n\r\nclass DropAreaEdit extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\toptions: [],\r\n\t\t\tbreadcrumb: [],\r\n\t\t};\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.onAddOptionItem = this.onAddOptionItem.bind(this);\r\n\t\tthis.onAddBreadcrumbItem = this.onAddBreadcrumbItem.bind(this);\r\n\t\tthis.onDeleteComponent = this.onDeleteComponent.bind(this);\r\n\t\tthis.onAddButton = this.onAddButton.bind(this);\r\n\t\tthis.onDeleteBreadcrumbItem = this.onDeleteBreadcrumbItem.bind(this);\r\n\t\tthis.onDeleteOptionItem = this.onDeleteOptionItem.bind(this);\r\n\t\tthis.onDeleteButton = this.onDeleteButton.bind(this);\r\n\t}\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tconst { dropConfig } = nextProps;\r\n\t\tconst { type, options, btnArr, breadcrumb } = dropConfig;\r\n\t\tif (type === 'Option' && !this.initOptions) {\r\n\t\t\tthis.setState({\r\n\t\t\t\toptions,\r\n\t\t\t});\r\n\t\t\tthis.optionIndex = options.length;\r\n\t\t\tthis.initOptions = true;\r\n\t\t}\r\n\t\tif (type === 'Btn' && !this.initBtn) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tbtnArr,\r\n\t\t\t});\r\n\t\t\tthis.btnIndex = btnArr.length;\r\n\t\t\tthis.initBtn = true;\r\n\t\t}\r\n\t\tif (type === 'Breadcrumb' && !this.initBreadcrumb) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tbreadcrumb,\r\n\t\t\t});\r\n\t\t\tthis.breadcrumbIndex = breadcrumb.length;\r\n\t\t\tthis.initBreadcrumb = true;\r\n\t\t}\r\n\t}\r\n\thandleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tconst { options, btnArr, breadcrumb } = this.state;\r\n\t\tconst { form, onUpdateConfigs, dropConfig } = this.props;\r\n\t\tform.validateFields((err, values) => {\r\n\t        if (!err) {\r\n\t\t\t\tconst newdropConfig = Object.assign({}, dropConfig, values);\r\n\t\t\t\tnewdropConfig.cellStyles = strToObj(values.cellStyles);\r\n\t\t\t\tif (newdropConfig.type === 'Select') {\r\n\t\t\t\t\tconst newOptions = options.slice();\r\n\t\t\t\t\tnewOptions.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst kText = `optionText-${index}`;\r\n\t\t\t\t\t\tconst kValue = `optionValue-${index}`;\r\n\t\t\t\t\t\titem.optionText = values[kText];\r\n\t\t\t\t\t\titem.optionValue= values[kValue];\r\n\t\t\t\t\t\tdelete newdropConfig[kText];\r\n\t\t\t\t\t\tdelete newdropConfig[kValue];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewdropConfig.options = newOptions;\r\n\t\t\t\t} else if (newdropConfig.type === 'DatePicker') {\r\n\t\t\t\t\tnewdropConfig.defaultValue = values.defaultValue && values.defaultValue.format('YYYY-MM-DD');\r\n\t\t\t\t} else if (newdropConfig.type === 'Btn') {\r\n\t\t\t\t\tconst newBtnArr = btnArr.slice();\r\n\t\t\t\t\tnewBtnArr.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst btnText = `btnText-${index}`;\r\n\t\t\t\t\t\tconst btnType = `type-${index}`;\r\n\t\t\t\t\t\tconst htmlType = `htmlType-${index}`;\r\n\t\t\t\t\t\tconst onClick = `onClick-${index}`;\r\n\t\t\t\t\t\tconst expandFlag = `expandFlag-${index}`;\r\n\t\t\t\t\t\tconst btnStyle = `btnStyle-${index}`;\r\n\t\t\t\t\t\titem.btnText = values[btnText];\r\n\t\t\t\t\t\titem.type= values[btnType];\r\n\t\t\t\t\t\titem.htmlType = values[htmlType];\r\n\t\t\t\t\t\titem.expandFlag = values[expandFlag];\r\n\t\t\t\t\t\titem.style = strToObj(values[btnStyle]);\r\n\t\t\t\t\t\tif (item.htmlType !== 'submit') {\r\n\t\t\t\t\t\t\titem.onClick = values[onClick];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst expandCount = `expandCount-${index}`;\r\n\t\t\t\t\t\tif (expandFlag === TRUE) {\r\n\t\t\t\t\t\t\titem.expandCount = values[expandCount];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdelete newdropConfig[btnStyle];\r\n\t\t\t\t\t\tdelete newdropConfig[expandCount];\r\n\t\t\t\t\t\tdelete newdropConfig[expandFlag];\r\n\t\t\t\t\t\tdelete newdropConfig[onClick];\r\n\t\t\t\t\t\tdelete newdropConfig[htmlType];\r\n\t\t\t\t\t\tdelete newdropConfig[btnText];\r\n\t\t\t\t\t\tdelete newdropConfig[btnType];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewdropConfig.btnArr = newBtnArr;\r\n\t\t\t\t} else if (newdropConfig.type === 'Breadcrumb') {\r\n\t\t\t\t\tconst newBreadcrumb = breadcrumb.slice();\r\n\t\t\t\t\tnewBreadcrumb.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst breadcrumbLinkUrl = `breadcrumbLinkUrl-${index}`;\r\n\t\t\t\t\t\tconst breadcrumbText = `breadcrumbText-${index}`;\r\n\t\t\t\t\t\titem.linkUrl = values[breadcrumbLinkUrl];\r\n\t\t\t\t\t\titem.text= values[breadcrumbText];\r\n\t\t\t\t\t\tdelete newdropConfig[breadcrumbLinkUrl];\r\n\t\t\t\t\t\tdelete newdropConfig[breadcrumbText];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewdropConfig.breadcrumb = newBreadcrumb;\r\n\t\t\t\t}\r\n\t\t\t\tonUpdateConfigs(newdropConfig);\r\n\t        }\r\n\t    });\r\n\t}\r\n\tonAddOptionItem() {\r\n\t\tconst { options = [] } = this.state;\r\n\t\tconst newOptions = options.slice();\r\n\t\tnewOptions.push({\r\n\t\t\tvalue: '',\r\n\t\t\ttext: '',\r\n\t\t\tindex: this.optionIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\toptions: newOptions,\r\n\t\t});\r\n\t\tthis.optionIndex += 1;\r\n\t}\r\n\tonAddBreadcrumbItem() {\r\n\t\tconst { breadcrumb = [] } = this.state;\r\n\t\tconst newBreadcrumb = breadcrumb.slice();\r\n\t\tnewBreadcrumb.push({\r\n\t\t\ttext: '',\r\n\t\t\tlinkUrl: '',\r\n\t\t\tindex: this.breadcrumbIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tbreadcrumb: newBreadcrumb,\r\n\t\t});\r\n\t\tthis.breadcrumbIndex += 1;\r\n\t}\r\n\tonAddButton() {\r\n\t\tconst { btnArr } = this.state;\r\n\t\tconst newBtnArr = btnArr.slice();\r\n\t\tnewBtnArr.push({\r\n\t\t\tbtnText: 'button',\r\n\t\t\ttype: 'primary',\r\n\t\t\tindex: this.btnIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tbtnArr: newBtnArr,\r\n\t\t});\r\n\t\tthis.btnIndex += 1;\r\n\t}\r\n\tonDeleteButton(index) {\r\n\t\tconst { btnArr = [] } = this.state;\r\n\t\tconst newBtnArr = btnArr.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tbtnArr: newBtnArr,\r\n\t\t});\r\n\t}\r\n\tonDeleteOptionItem(index) {\r\n\t\tconst { options = [] } = this.state;\r\n\t\tconst newOptions = options.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\toptions: newOptions,\r\n\t\t});\r\n\t}\r\n\tonDeleteBreadcrumbItem(index) {\r\n\t\tconst { breadcrumb = [] } = this.state;\r\n\t\tconst newBreadcrumb = breadcrumb.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tbreadcrumb: newBreadcrumb,\r\n\t\t});\r\n\t}\r\n\tonDeleteComponent() {\r\n\t\tconst { onUpdateConfigs, dropConfig } = this.props;\r\n\t\tconst newDropConfig = Object.assign({}, dropConfig, { deleteFlag: true });\r\n\t\tonUpdateConfigs(newDropConfig);\r\n\t}\r\n\trenderOptionsCard() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { options } = this.state;\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle=\"option设置\"\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={this.onAddOptionItem} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\toptions.map(({ value, text, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`optionitem-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`optionitem-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`optionValue-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"value\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`optionitem-text-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block', marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`optionText-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: text,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"show text\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteOptionItem(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trenderPanelHeader({ btnText, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{btnText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteButton(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\trenderBtnCard() {\r\n\t\tconst { dropConfig, form } = this.props;\r\n\t\tconst { type } = dropConfig;\r\n\t\tconst { btnArr } = this.state;\r\n\t\tif (type === 'Btn') {\r\n\t\t\treturn (\r\n\t\t\t\t<Card\r\n\t\t\t\t\ttitle=\"按钮区域\"\r\n\t\t\t\t\textra={\r\n\t\t\t\t\t\t<Icon type=\"plus-circle\" onClick={this.onAddButton} />\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Collapse>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbtnArr.map((item) => {\r\n\t\t\t\t\t\t\tconst { index, btnText, type, htmlType = 'button',\r\n\t\t\t\t\t\t\t\tonClick, btnStyle } = item;\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Panel header={this.renderPanelHeader(item)} key={`btn-${index}`}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`btnText-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"按钮文字\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`btnText-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: btnText,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"btnText\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`type-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"type\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`type-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: type,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"primary\">primary</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"dashed\">dashed</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"danger\">danger</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"\">none</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`htmlType-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"htmlType\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`htmlType-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: htmlType,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"submit\">submit</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"reset\">reset</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"button\">button</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`onClick-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"onClick\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`onClick-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: onClick,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"点击事件名称\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`btnStyle-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"按钮样式\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`btnStyle-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: btnStyle,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderBreadcrumb() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { breadcrumb } = this.state;\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle=\"面包屑设置\"\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={this.onAddBreadcrumbItem} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tbreadcrumb.map(({ text, linkUrl, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`breadcrumb-item-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`breadcrumbitem-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`breadcrumbText-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: text,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"导航名称\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`breadcrumbitem-text-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block', marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`breadcrumbLinkUrl-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: linkUrl,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"导航链接\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteBreadcrumbItem(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trenderDefaultValueItem() {\r\n\t\tconst { dropConfig, form } = this.props;\r\n\t\tconst { type, defaultValue, text } = dropConfig;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tconst { options } = this.state;\r\n\t\tif (type === 'Select') {\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"defaultValue\">\r\n\t\t\t\t\t{getFieldDecorator('defaultValue', {\r\n\t\t\t\t\t\tinitialValue: defaultValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toptions.map((item) => {\r\n\t\t\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\t\t\tconst optionValue = form.getFieldValue(`optionValue-${index}`);\r\n\t\t\t\t\t\t\t\tconst optionText = form.getFieldValue(`optionText-${index}`);\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Option value={optionValue} key={`op-${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t{`${optionValue}/${optionText}`}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t);\r\n\t\t} else if (type === 'Text') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"文字\">\r\n\t\t\t\t{getFieldDecorator('text', {\r\n\t\t\t\t\tinitialValue: text,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<Input />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'DatePicker') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"defaultValue\">\r\n\t\t\t\t{getFieldDecorator('defaultValue', {\r\n\t\t\t\t\tinitialValue: defaultValue,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<DatePicker style={{ width: '100%' }} />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'Input') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"defaultValue\">\r\n\t\t\t\t\t{getFieldDecorator('defaultValue', {\r\n\t\t\t\t\t\tinitialValue: defaultValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\trenderContent() {\r\n\t\tconst { form, dropConfig } = this.props;\r\n\t\tconst { placeholder, type } = dropConfig;\r\n        const { getFieldDecorator } = form;\r\n        // 有拖拽的组件&&没有删除组件\r\n\t\tif (type === 'Btn') {\r\n\t\t\treturn this.renderBtnCard();\r\n\t\t}\r\n\t\tif (type === 'Breadcrumb') {\r\n\t\t\treturn this.renderBreadcrumb();\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t{this.renderDefaultValueItem()}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype !== 'Text' && type !== 'Breadcrumb' ?\r\n\t\t\t\t\t\t(<Form.Item {...formItemLayout} label=\"placeholder\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('placeholder', {\r\n\t\t\t\t\t\t\t\tinitialValue: placeholder,\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Select' ? \r\n\t\t\t\t\t\tthis.renderOptionsCard() : null\r\n\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { visible, onClose, form, dropConfig } = this.props;\r\n\t\tconst initialCellStyles = objToStr(dropConfig.cellStyles);\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\ttitle=\"编辑组件\"\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tthis.initOptions = false;\r\n\t\t\t\t\tthis.initBtn = false;\r\n\t\t\t\t\tthis.initBreadcrumb = false;\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<Form.Item label=\"style设置\" {...formItemLayout}>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"cellStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialCellStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n                    {\r\n                        this.renderContent()\r\n                    }\r\n                    <div className=\"btn-box\">\r\n\t\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t        <div className=\"btn-bottom-box\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t        </div>\r\n\t\t    \t</Form>\r\n\t    \t</Drawer>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Form.create()(DropAreaEdit);","import React, { PureComponent, Fragment } from 'react';\r\nimport { Icon } from 'antd';\r\nimport DropRender from './DropRender';\r\nimport DropAreaEdit from '../../EditDrawer/DropAreaEdit';\r\nimport { activeColor } from '../../common/Constants';\r\nimport './index.css';\r\n\r\nconst clsName = 'drop-container';\r\n\r\nclass DropContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dropConfig: {},\r\n            showEdit: false,\r\n            dropComponent: false,\r\n        };\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onDrop = this.onDrop.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        if (!this.DropDom) {\r\n            return;\r\n        }\r\n        this.DropDom.addEventListener(\"drop\", this.onDrop, false);\r\n        this.DropDom.addEventListener(\"dragenter\", this.onDragenter, false);\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.DropDom) {\r\n            this.DropDom.removeEventListener('drop', this.onDrop);\r\n            this.DropDom.removeEventListener(\"dragenter\", this.onDragenter);\r\n        }\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            showEdit: !this.state.showEdit,\r\n        });\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...dropConfig }) {\r\n        const { onUpdateConfigs } = this.props;\r\n        const newState = {\r\n            dropConfig,\r\n        };\r\n        // 删除组件\r\n        if (deleteFlag) {\r\n            newState.dropConfig = {\r\n                dropIndex: dropConfig.dropIndex,\r\n            };\r\n            newState.dropComponent = false;\r\n        }\r\n        this.setState({\r\n            ...newState,\r\n        });\r\n        onUpdateConfigs(dropConfig);\r\n        this.onToggleEdit();\r\n    }\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        if (event.target.className === clsName) {\r\n            const data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            const { type } = data;\r\n            const { dropIndex, onUpdateConfigs } = this.props;\r\n            const dropConfig = {\r\n                type,\r\n                dropIndex,\r\n            };\r\n            if (type === 'Text') {\r\n                dropConfig.text = 'Text';\r\n            }\r\n            if (type === 'Breadcrumb') {\r\n                dropConfig.breadcrumb = [\r\n                    {index: 0, text: 'menu1'},\r\n                    {index: 1, text: 'menu2'},\r\n                ];\r\n            }\r\n            if (type === 'Button') {\r\n                dropConfig.type = 'Btn';\r\n                dropConfig.btnArr = [{\r\n                    btnText: 'button',\r\n                    type: 'primary',\r\n                    index: 0,\r\n                }];\r\n            }\r\n            this.setState({\r\n                dropConfig,\r\n                dropComponent: true,\r\n            }, () => {\r\n                onUpdateConfigs(dropConfig);\r\n            });\r\n            this.resetBg();\r\n        }\r\n    }\r\n    resetBg() {\r\n        const dropDomArr = document.querySelectorAll(`.${clsName}`);\r\n        if (dropDomArr) {\r\n            dropDomArr.forEach((item) => {\r\n                item.style.background = '';\r\n            });\r\n        }\r\n    }\r\n    onDragenter(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = activeColor;\r\n        }\r\n    }\r\n    render() {\r\n        const { dropComponent, dropConfig, showEdit } = this.state;\r\n        return (\r\n            <div\r\n                className=\"drop-container\"\r\n                ref={(DropDom) => { this.DropDom = DropDom; }}\r\n            >\r\n                {\r\n                  dropComponent ? (\r\n                    <Fragment> \r\n                        <DropRender\r\n                            {...this.props}\r\n                            dropConfig={dropConfig}\r\n                        />\r\n                        <Icon\r\n                            type=\"bars\"\r\n                            className=\"icon-operation\"\r\n                            onClick={this.onToggleEdit}\r\n                        />\r\n                    </Fragment>\r\n                    ) : null\r\n                }\r\n                <DropAreaEdit\r\n                    visible={showEdit}\r\n                    dropConfig={dropConfig}\r\n                    onClose={this.onToggleEdit}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DropContainer;","import React, { Component } from 'react';\r\nimport { Button, Divider, message, Form, Input, Select, Drawer } from 'antd';\r\nimport  { objToStr, strToObj } from '../../common/CellUtil';\r\nimport formItemLayout from '../../configs/layout';\r\nimport './index.css';\r\n\r\nconst TextArea = Input.TextArea;\r\nconst Option = Select.Option;\r\n\r\nclass HeaderEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onClose } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { layoutColumn, headerStyles } = values;\r\n                const configs = {\r\n                    layoutColumn,\r\n                    headerStyles: strToObj(headerStyles),\r\n                };\r\n                onClose(configs);\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { visible, form, onClose, configs ={}, onDeleteContainer } = this.props;\r\n        const { headerStyles = {}, layoutColumn = 3 } = configs;\r\n        const initialHeaderStyles = objToStr(headerStyles);\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Drawer\r\n                visible={visible}\r\n                width={420}\r\n                title=\"编辑列\"\r\n                onClose={() => {\r\n                    onClose(0);\r\n                }}\r\n            >\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"style设置\"\r\n                        {...formItemLayout}\r\n                    >\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"headerStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialHeaderStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n                    {/* <Form.Item\r\n                        label=\"固定位置\"\r\n                        {...formItemLayout}\r\n                    >\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"fixPosition\", {\r\n\t\t\t\t\t\t\tinitialValue: fixPosition,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select>\r\n                                <Option value=\"top\">页头</Option>\r\n                                <Option value=\"\">默认</Option>\r\n                            </Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item> */}\r\n                    <Form.Item\r\n                        label=\"容器列\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('layoutColumn', {\r\n                            initialValue: layoutColumn,\r\n                            rules: [\r\n                                { required: true, message: '请选择列数!' },\r\n                            ],\r\n                        })(\r\n                            <Select>\r\n                                <Option value=\"1\">1</Option>\r\n                                <Option value=\"2\">2</Option>\r\n                                <Option value=\"3\">3</Option>\r\n                                <Option value=\"4\">4</Option>\r\n                                <Option value=\"5\">5</Option>\r\n                                <Option value=\"6\">6</Option>\r\n                                <Option value=\"7\">7</Option>\r\n                                <Option value=\"8\">8</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    <div className=\"btn-box\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </div>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(HeaderEdit);","import React, { PureComponent } from 'react';\r\nimport DropContainer from '../DropContainer';\r\nimport HeaderEdit from '../../EditDrawer/HeaderEdit';\r\nimport { Icon } from 'antd';\r\nimport './index.css';\r\n\r\nclass HeaderContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            configs: {\r\n                cellsArr: [],\r\n                layoutColumn: 0,\r\n            },\r\n        };\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            visible: !this.state.visible,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n        this.onToggleEdit();\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        const newCellsArr = newConfigs.cellsArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.dropIndex !== item.dropIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        dropIndex: values.dropIndex,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.dropIndex === item.dropIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newConfigs.cellsArr = newCellsArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    rendeCell(layoutColumn) {\r\n        if (!layoutColumn) {\r\n            return null;\r\n        }\r\n        const componentArr = [];\r\n        const width = `${100 / layoutColumn}%`;\r\n        for (let i = 0; i < layoutColumn; i++) {\r\n            componentArr.push((\r\n               <div className=\"cell\" key={`cell-${i}`} style={{ width }}>\r\n                    < DropContainer\r\n                        dropIndex={i}\r\n                        onUpdateConfigs={this.onUpdateConfigs}\r\n                    />\r\n               </div>\r\n            ));\r\n        }\r\n        return componentArr;\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { onUpdateLayoutConfig, layoutIndex, configs } = this.props;\r\n        const { layoutColumn = 0, headerStyles } = configs;\r\n        return (\r\n            <div className=\"fulu-header container\" style={headerStyles}>\r\n                {\r\n                    this.rendeCell(+layoutColumn)\r\n                }\r\n                <HeaderEdit\r\n                    visible={visible}\r\n                    onClose={(configs) => {\r\n                        if (configs) {\r\n                            const layoutConfig = {\r\n                                layoutIndex,\r\n                            };\r\n                            const { layoutColumn } = configs;\r\n                            const { cellsArr } = this.state.configs;\r\n                            const newCellsArr = cellsArr.slice(0, layoutColumn);\r\n                            for (let i = 0; i < layoutColumn; i++) {\r\n                                if (newCellsArr.length <= i) {\r\n                                    newCellsArr.push({\r\n                                        dropIndex: i\r\n                                    });\r\n                                }\r\n                            }\r\n                            const newConfigs = {\r\n                                cellsArr: newCellsArr,\r\n                                layoutColumn,\r\n                            };\r\n                            layoutConfig.configs = newConfigs;\r\n                            this.setState({\r\n                                configs: newConfigs,\r\n                            });\r\n                            onUpdateLayoutConfig(layoutConfig);\r\n                        }\r\n                        this.onToggleEdit();\r\n                    }}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                />\r\n                <Icon type=\"form\" className=\"icon-operation\" onClick={this.onToggleEdit} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HeaderContainer;","import React, { PureComponent, Fragment } from 'react';\r\nimport { FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, HEADER_CONTINAER } from '../common/Constants';\r\nimport FormContainer from './FormContainer';\r\nimport TableContainer from './TableContainer';\r\nimport HeaderContainer from './HeaderContainer';\r\nimport EmptyContainer from './EmptyContainer';\r\nimport './index.css';\r\n\r\nclass LayoutContainer extends PureComponent {\r\n    renderContainer() {\r\n        const { layoutConfig, ...restProps } = this.props;\r\n        if (Array.isArray(layoutConfig) && layoutConfig.length > 0) {\r\n            return layoutConfig.map((config) => {\r\n                const { type, layoutIndex } = config;\r\n                const k = `layout-${layoutIndex}`;\r\n                const transferProps = Object.assign({ key: k }, restProps, config);\r\n                if (type === FORM_CONTAINER) {\r\n                    return (<FormContainer {...transferProps} />);\r\n                } else if (type === TABLE_CONTAINER) {\r\n                    return (<TableContainer {...transferProps} />);\r\n                } else if (type === EMPTY_CONTAINER) {\r\n                    return (<EmptyContainer {...transferProps} />);\r\n                } else if (type === HEADER_CONTINAER) {\r\n                    return (<HeaderContainer {...transferProps} />);\r\n                }\r\n                return null;\r\n            });\r\n        }\r\n        return (\r\n            <div className=\"empty-tips\">请添加容器组件</div>\r\n        );\r\n    }\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    this.renderContainer()\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LayoutContainer;","const columns = [{\r\n    title: 'column0',\r\n    dataIndex: 'dataIndex0',\r\n    index: 0,\r\n}, {\r\n    title: 'column1',\r\n    dataIndex: 'dataIndex1',\r\n    index: 1,\r\n}, {\r\n    title: 'column2',\r\n    dataIndex: 'dataIndex2',\r\n    index: 2,\r\n}, {\r\n    title: 'column3',\r\n    dataIndex: 'dataIndex3',\r\n    index: 3,\r\n}, {\r\n    title: 'column4',\r\n    dataIndex: 'dataIndex4',\r\n    index: 4,\r\n}];\r\n\r\nexport default columns;","/**\r\n * @desc 页面右侧容器视图\r\n */\r\nimport React, { PureComponent, Fragment } from 'react';\r\nimport { message, Button } from 'antd';\r\nimport { Service } from '../../annotation';\r\nimport LayoutContainer from '../LayoutContainer';\r\nimport defaultColumns from '../configs/defaultColumns';\r\nimport { FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, HEADER_CONTINAER } from '../common/Constants';\r\nimport './index.css';\r\n\r\nconst clsArr = ['main-container', 'empty-tips'];\r\nconst containerTypeArr = [FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, HEADER_CONTINAER];\r\n\r\n@Service('AppService')\r\nclass MainContainer extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlayoutConfig: [],\r\n\t\t\tgenerateLoading: false, // 页面是否在生成\r\n\t\t};\r\n\t\tthis.onEdit = this.onEdit.bind(this);\r\n\t\tthis.onUpdateLayoutConfig = this.onUpdateLayoutConfig.bind(this);\r\n\t\tthis.onGeneratePage = this.onGeneratePage.bind(this);\r\n\t\tthis.onPreviewPage = this.onPreviewPage.bind(this);\r\n\t\tthis.layoutIndex = 0;\r\n\t}\r\n\tonUpdateLayoutConfig({ layoutIndex, configs, deleteFlag = false }) {\r\n\t\tconst { layoutConfig } = this.state;\r\n\t\tconst copyConfig = layoutConfig.slice();\r\n\t\t// 删除配置文件\r\n\t\tif (deleteFlag) {\r\n\t\t\tconst deleteIndex = copyConfig.findIndex((item) => {\r\n\t\t\t\treturn item.layoutIndex === layoutIndex;\r\n\t\t\t});\r\n\t\t\tcopyConfig.splice(deleteIndex, 1);\r\n\t\t} else {\r\n\t\t\tconst updateConfigItem = copyConfig.find((item) => {\r\n\t\t\t\treturn item.layoutIndex === layoutIndex;\r\n\t\t\t});\r\n\t\t\tupdateConfigItem.configs = configs;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tlayoutConfig: copyConfig,\r\n\t\t});\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tif (window.ipc && window.ipc.on) {\r\n            window.ipc.on('asynchronous-reply', (event, arg) => {\r\n\t\t\t\tconst { code, info } = JSON.parse(arg);\r\n\t\t\t\tif (code === 1) {\r\n\t\t\t\t\tmessage.success(info);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.error(info);\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgenerateLoading: false,\r\n\t\t\t\t});\r\n            });\r\n        }\r\n\t\tdocument.addEventListener(\"drop\", (event) => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tconst cls = event.target.className;\r\n\t        if (clsArr.indexOf(cls) > -1) {\r\n\t        \tconst data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n\t\t\t\tconst { type } = data;\r\n\t\t\t\tif (containerTypeArr.indexOf(type) > -1) {\r\n\t\t\t\t\tconst { layoutConfig } = this.state;\r\n\t\t\t\t\tconst copyLayoytConfig = layoutConfig.slice();\r\n\t\t\t\t\tconst configObj = Object.assign(data, {\r\n\t\t\t\t\t\tlayoutIndex: this.layoutIndex,\r\n\t\t\t\t\t\tconfigs: {},\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (type === TABLE_CONTAINER) {\r\n\t\t\t\t\t\tconfigObj.configs.columns = defaultColumns;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcopyLayoytConfig.push(configObj);\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tlayoutConfig: copyLayoytConfig,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.layoutIndex += 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.warn('请拖拽容器组件');\r\n\t\t\t\t}\r\n\t        }\r\n\t\t}, false);\r\n\t}\r\n\tonEdit(values) {\r\n\t\tconst { kIndex } = values;\r\n\t\tconst { formConfig } = this.state;\r\n\t\tconst copyFormConfig = formConfig.slice();\r\n\t\tcopyFormConfig[kIndex] = Object.assign({}, copyFormConfig[kIndex], values);\r\n\t\tthis.setState({\r\n\t\t\tformConfig: copyFormConfig,\r\n\t\t});\r\n\t}\r\n\tonGeneratePage() {\r\n\t\tconst { pageName } = this.props;\r\n\t\tconst { layoutConfig } = this.state;\r\n        const pageConfig = {\r\n\t\t\tpageName,\r\n\t\t\tlayoutConfig,\r\n\t\t};\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tgenerateLoading: true,\r\n\t\t});\r\n\t\tthis.props.service.generatePage(pageConfig)\r\n        .then((response) => {\r\n\t\t\tconsole.log(response);\r\n\t\t\tthis.setState({\r\n\t\t\t\tgenerateLoading: false,\r\n\t\t\t});\r\n        })\r\n        .catch((error) => {\r\n\t\t\tmessage.error('请求失败');\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.setState({\r\n\t\t\t\tgenerateLoading: false,\r\n\t\t\t});\r\n        });\r\n        // window.ipc.send('asynchronous-message', JSON.stringify(pageConfig));\r\n\t}\r\n\tonPreviewPage() {\r\n\t\tconst { onPreviewPage } = this.props;\r\n\t\tconst { layoutConfig } = this.state;\r\n\t\tonPreviewPage(layoutConfig);\r\n\t}\r\n\trender() {\r\n\t\tconst { layoutConfig, generateLoading } = this.state;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<div className=\"main-container\">\r\n\t\t\t\t\t<LayoutContainer\r\n\t\t\t\t\t\tlayoutConfig={layoutConfig}\r\n\t\t\t\t\t\tonUpdateLayoutConfig={this.onUpdateLayoutConfig}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={this.onGeneratePage}\r\n\t\t\t\t\tloading={generateLoading}\r\n\t\t\t\t>\r\n\t\t\t\t\t生成页面\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={this.onPreviewPage}\r\n\t\t\t\t\tstyle={{ marginLeft: '5px' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t预览\r\n\t\t\t\t</Button>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MainContainer;","import React, { Component } from 'react';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport { Layout, LocaleProvider } from 'antd';\nimport EditPageName from './component/Modal/EditPageName';\nimport PreviewPageModal from './component/Modal/PreviewPageModal';\nimport DragTabs from './component/DragTabs';\nimport MainContainer from './component/MainContainer';\nimport \"antd/dist/antd.css\";\nimport './App.css';\n\nconst { Sider, Content } = Layout;\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showEditNameModal: true, // 显示编辑页面名称弹窗\n            showPreviewModal: false, // 显示预览窗口\n            pageName: '', // 页面名称\n        };\n        this.onCloseModal = this.onCloseModal.bind(this);\n        this.onPreviewPage = this.onPreviewPage.bind(this);\n        this.onClosePreviewModal = this.onClosePreviewModal.bind(this);\n    }\n    onCloseModal({ pageName }) {\n        this.setState({\n            showEditNameModal: false,\n            pageName,\n        });\n    }\n    onClosePreviewModal() {\n        this.setState({\n            showPreviewModal: false,\n        });\n    }\n    onPreviewPage(layoutConfig) {\n        this.setState({\n            showPreviewModal: true,\n        });\n        this.layoutConfig = layoutConfig;\n\t}\n    render() {\n        const { showEditNameModal, showPreviewModal, pageName } = this.state;\n        return (\n            <div className=\"App\">\n                <LocaleProvider locale={zhCN}>\n                    <Layout>\n                        <Sider width=\"300\">\n                            <DragTabs />\n                        </Sider>\n                        <Layout>\n                            <Content>\n                                <MainContainer\n                                    pageName={pageName}\n                                    onPreviewPage={this.onPreviewPage}\n                                />\n                            </Content>\n                        </Layout>\n                        < EditPageName\n                            onCloseModal={this.onCloseModal}\n                            showModal={showEditNameModal}\n                        />\n                        <PreviewPageModal\n                            layoutConfig={this.layoutConfig}\n                            onCloseModal={this.onClosePreviewModal}\n                            showModal={showPreviewModal}\n                        />\n                    </Layout>\n                </LocaleProvider>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import { Test } from './component/Page';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}