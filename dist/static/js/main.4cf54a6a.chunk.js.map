{"version":3,"sources":["component/Modal/PageNameModal/index.js","utils/Constants.js","service/AppService.js","annotation/Service.js","component/Container/LineContainer/index.js","configs/layout.js","utils/TableUtil.js","utils/FormUtil.js","component/EditDrawer/TableEdit/index.js","component/Container/TableContainer/index.js","component/Container/DropContainer/DropRender.js","utils/CellUtil.js","component/Core/BaseEdit.js","component/EditDrawer/CompEdit/index.js","utils/DropUtil.js","utils/common.js","component/Container/DropContainer/index.js","component/EditDrawer/BoxEdit/index.js","component/Container/BoxContainer/index.js","component/Container/HeaderContainer/index.js","utils/RenderUtil.js","component/EditDrawer/FormEdit/index.js","component/Container/FormItemContainer/FormItemRender.js","component/EditDrawer/FormItemEdit/index.js","component/Container/FormItemContainer/index.js","component/Container/FormContainer/index.js","component/Container/LayoutContainer/index.js","component/Core/Dragable.js","configs/dragConfig.js","configs/defaultColumns.js","component/Core/DragTabFactory.js","component/DragTabs/index.js","component/Container/ModalContainer/index.js","configs/renderConfig.js","component/EditDrawer/LayerEdit/index.js","component/Modal/PreviewModal/index.js","component/Container/MainContainer/index.js","component/Modal/PreviewPageModal/index.js","component/Modal/LoginModal/index.js","App.js","index.js"],"names":["PageNameModal","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onSubmit","bind","assertThisInitialized","e","preventDefault","_this$props","form","onOkModal","validateFields","err","values","pageName","projectDir","_this$props2","visible","onCloseModal","getFieldDecorator","react_default","a","createElement","modal","footer","width","closable","centered","onOk","onCancel","title","maskClosable","es_form","style","padding","Item","rules","required","message","pattern","input","placeholder","marginTop","textAlign","es_button","type","htmlType","Component","Form","create","LAYER_MODAL","LAYER_API","proxyServerUrl","axios","interceptors","response","use","error","Promise","reject","ServicesMatch","AppService","data","method","url","concat","host","api","params","appUrl","localStorage","getItem","access_token","MerchantId","name","LineContainer","onDelete","onUpdateLayoutConfig","deleteFlag","className","divider","icon","onClick","PureComponent","formItemLayout","labelCol","xs","span","sm","wrapperCol","handleColumns","configs","context","_configs$operationArr","operationArr","newColumns","columns","slice","keys","forEach","k","val","indexOf","_k$split","split","_k$split2","slicedToArray","columnName","columnIndex","columnTarget","find","item","index","hasOperation","arguments","length","undefined","opCol","dataIndex","push","render","record","Array","isArray","react","map","_ref3","i","opText","opType","modalName","_ref3$api","clickProps","onShowModal","assign","href","key","handleOperation","sortIndex","getTableConfig","newConfigs","pagination","pageSize","pageSizeOptions","rowSelection","columnTitle","getFormData","renderArr","hasIndex","formData","valKey","fk","_valKey$split","_valKey$split2","isContain","_formData$push","findItemByRule","_ref","defineProperty","getFormDataByIndex","result","indexK","hasOwnProperty","matchKey","matchArr","rule","isFn","getFormApi","mode","formConfig","formType","queryApi","addApi","editApi","Panel","Collapse","Option","Select","fLayout","TableEdit","state","setColumnMaxIndex","onAddColumn","onDeleteColumn","onAddOperation","onDeleteOperation","renderOperationBtn","nextProps","setState","setOperationMaxIndex","_configs$columns","columnMaxIndex","_ref2","operationMaxIndex","_configs$operationArr2","newOperationArr","opreationIndex","getNewConfigs","addOperationMaxIndex","addColumnMaxIndex","reduce","arr","v","_this2","_configs$operationArr3","opArr","_this3","_this4","_ref4","_this5","_configs$columns2","collapse","_item$align","align","_item$fixed","fixed","header","renderPanelHeader","label","initialValue","es_select","value","btnConfig","layerConfig","modalData","_opType","getFieldValue","renderOperationHeader","renderModalSelect","renderApiSelect","_configs$operationArr4","_configs$hasOperation","rowKey","mockData","_ref5","_ref5$pageSize","_ref5$pageSizeOptions","_ref6","_ref6$type","_ref6$columnTitle","hasPagination","hasRowSelection","size","card","join","_this$props3","onClose","onDeleteContainer","dataSrouce","drawer","renderCollapse","renderTableProps","marginRight","TableContainer","onShowEditTable","onUpdateConfigs","onPageIndexChange","onShowSizeChange","stopPropagation","layoutIndex","dataSize","ds","_loop","dsItem","_this$props$configs","modelKey","page","getModelKey","current","_this$props3$configs","_this$props3$apiData","apiData","currentPage","_this$props3$preview","preview","_configs$pagination","_configs$rowSelection","copyColumns","mockDataNum","test","hasApiDataSource","dataSource","getMockDataSource","showQuickJumper","showSizeChanger","total","onChange","table","bordered","component_EditDrawer_TableEdit","DropRender","_this$props$dropConfi","dropConfig","restProps","objectWithoutProperties","cellStyles","_dropConfig$textAlign","styleObj","renderComponent","strToObj","str","separator","styleStr","_styleStr$split","_styleStr$split2","replace","objToStr","objLike","prototype","toString","getCellColSpan","colIndex","originSpan","formItemArr","colSpanArr","finalColSpan","locationIndex","j","colSpan","end","start","allowCallApi","allowCallModal","BaseEdit","deleteComponent","onDeleteComponent","handleSubmit","onAddListItem","onDeleteListItem","renderBtnPanelHeader","onDeleteButton","_dropConfig$configs","getItemSetType","lowerCaseType","toLowerCase","stateKey","stateVal","_this$state","buttonArr","_this$props$inForm","inForm","itemSetType","newDropConfig","configType","newList","kLabel","kValue","format","showTime","newButtonArr","btnIndex","btnText","antdType","expandFlag","expandCount","_values$originSpan","onCloseEdit","initBtn","_this$state$buttonArr","list","allowClear","optionValue","optionText","BaseEdit_Option","date_picker","text","renderItemSettingCard","dataKey","labPlaceholder","valPlaceholder","_ref2$labPlaceholder","_ref2$valPlaceholder","itemList","extra","display","marginLeft","lineHeight","_this$state$expandFla","logicType","_this$props3$layerCon","_this$props4","_this$props4$layerCon","_this6","_this$state$buttonArr2","_item$antdType","_item$htmlType","textDisabled","BaseEdit_Panel","disabled","renderApiItem","renderModalItem","renderBtnExpand","TextArea","Input","CompEdit","renderBtnCard","renderBreadcrumb","renderTabs","renderRadio","renderDefaultValueItem","initialCellStyles","radioType","CompEdit_Option","renderContent","initDropData","dragData","isFormItem","_context$state","dropComponent","defaultConfigs","objectSpread","containerArr","isLogin","isContainer","clsName","DropContainer","showEdit","onDrop","onDragenter","onToggleEdit","DropDom","addEventListener","onDragLeave","removeEventListener","_ref$deleteFlag","dropIndex","newState","event","target","resetBg","JSON","parse","dataTransfer","getData","_initDropData","dropDomArr","document","querySelectorAll","background","ref","DropContainer_DropRender","component_EditDrawer_CompEdit","BoxEdit","boxStyles","rest","_this$props2$configs","_configs$boxStyles","_configs$layoutColumn","layoutColumn","_configs$positionFixe","positionFixed","initialBoxStyles","BoxEdit_TextArea","BoxEdit_Option","BoxContainer","cellsArr","onAddRowCell","newCellsArr","_this$props4$context","execFetchApi","onShowLoginModal","componentArr","cellNum","previewProps","component_Container_DropContainer","_this$props5","_this$props5$configs","rendeCell","component_EditDrawer_BoxEdit","layoutConfig","HeaderContainer","_configs$cellsArr","positionCls","previewCls","CheckboxGroup","Checkbox","Group","RangePicker","DatePicker","TabPane","Tabs","renderConfig","_renderConfig$placeho","_renderConfig$type","component","renderText","renderSelect","renderRangePicker","renderDatePicker","renderCheckbox","renderBtn","renderForm","renderLine","renderTable","renderBox","renderHeader","renderTextArea","hasLinkage","RenderUtil_TextArea","component_Container_FormContainer","component_Container_HeaderContainer","component_Container_TableContainer","component_Container_LineContainer","component_Container_BoxContainer","_configs$breadcrumbAr","breadcrumbArr","breadcrumb","_configs$style","_configs$radioArr","radioArr","RadioItem","Radio","Button","es_radio","_configs$style2","_configs$tabsArr","tabsArr","tabs","_ref7","tab","_ref8","_configs$style3","_configs$checkboxArr","checkboxArr","options","_ref9","_configs$style4","selectArr","finalOptions","_ref10","RenderUtil_Option","_ref11","_ref12","_ref13","_ref14","_configs$buttonArr","_ref15","expand","onCollapse","_btnConfig$expandFlag","_btnConfig$style","btnProps","collapseBtnText","renderConfigForm","initData","cf","_cf$rules","restConfig","keyStr","_layerConfig$modalArr","modalArr","formItemKey","formNameKey","_ref16","compData","_compData$key","_compData$label","apiName","_layerConfig$apiArr","apiArr","_ref17","requestApi","FormEdit","handleChange","colSpanValues","setTimeout","setFieldsValue","lcNum","colSpanTotal","FormEdit_Option","renderColSpanInputs","renderApiFormItem","FormItemRender","formItemConfig","_formItemConfig$type","moment","_this$props$preview","_configs$rules","_configs$cellStyles","md","linkName","condition","col","getInitialValue","FormItemEdit","onAddCellStyleItem","onDeleteCellStyleItem","_this$state$cellStyle","newCellStyles","cellStyleIndex","_this$state$cellStyle2","FormItemEdit_Option","_dropConfig$showTime","_dropConfig$format","_this$props$dropCompo","linkage","renderDatePickerExtra","renderLinkage","onDeleteFormItemContainer","_this$props2$colSpanA","initialColSpan","tempColSpan","FormItemEdit_TextArea","c","forbiddenDropType","FormItemContainer","getConfigFromProps","onUpdateConfig","onShowEditItem","onEditDropContainer","onDeleteCol","newdropConfig","_configs$formItemArr","formItem","warn","targetDom","config","_this$state$dropConfi","colIndexNum","_colSpan","getContainerWidth","FormItemContainer_FormItemRender","component_EditDrawer_FormItemEdit","FormContainer","fetchLoading","onShowEditForm","onCloseEditForm","renderFormItemContainer","onAddRow","onDeleteRow","colIndexStart","onFormRenderCallBack","layoutColumnNum","copyFormItemArr","addNewFormItem","rowSpanCount","colSpanIndex","_this2$props","_this3$props","newFormItemArr","Math","max","_this4$props","filter","_this5$props","expendBtn","_this7","_ref2$configs","_ref2$expandCount","component_Container_FormItemContainer","_this8","_ref4$configs","_ref5$layoutColumn","_ref5$formItemArr","row","gutter","lg","xl","component_EditDrawer_FormEdit","LayoutContainer","transferProps","EmptyContainer_default","renderContainer","Dragable","setData","stringify","ch","draggable","onDragStart","dargConfig","button","others","layout","DragTabFactory","targetConfigs","Core_Dragable","_this$props$tabType","tabType","renderContentByType","DragTabs","opacity","t","defaultActiveKey","DragTabs_TabPane","Core_DragTabFactory","Sider","Layout","Content","ModalContainer","editModal","src_component_DragTabs","component_Container_MainContainer","noLayer","common","main","webapi","apiRenderConfig","modalRenderConfig","LayerEdit","drawerArr","showEditModal","modalAddIndex","apiAddIndex","onAddApi","onAddModal","onDeleteApi","onDeleteModal","onSubmitLayer","onShowEditModal","onCloseEditModal","onSaveEditModal","renderModalPanelHeader","initState","layerItem","layerType","newLayerConfig","_newLayerConfig$modal","newModalArr","onCloseLayer","resetFields","onUpdateLayerConfig","itemKey","newItemArr","newItem","onAddItem","deleteIndex","onDeleteItem","placement","LayerEdit_Panel","renderApiPanelHeader","component_Container_ModalContainer","PreviewModal","loading","onAfterClose","initEdit","recordData","modalLayoutConfig","formObj","obj","onCancelModal","apiObj","requestParams","paramKey","then","res","code","success","catch","afterClose","spin","spinning","initLayerConfig","MainContainer","Target","newProps","ServiceClass","service","PageIndex","PageSize","showLayer","generateLoading","paramData","apiConfig","onUpdateApiConfig","onPreviewPage","onToggleLayer","onGeneratePage","container","React","createRef","copyConfig","findIndex","splice","_this$props$preview2","copyLayoytConfig","configObj","reqPrams","requestHost","requestMethod","requestPagination","toggleLoading","fetchApi","status","msg","realData","_apiData","resolve","execTableQuery","_this$apiConfig$model","onShowPageNameModal","_this$state2","_this$state2$layoutCo","_this$state2$layerCon","pageConfig","window","ipcRenderer","send","on","args","_JSON$parse","info","generatePage","_this$state3","_newState","_this$setState","_this$state4","visibleStateName","parseInt","component_Modal_PreviewModal","_this$props2$noLayer","_this$props2$preview","_this$state5","component_Container_LayoutContainer","getChildFuncProps","shape","component_EditDrawer_LayerEdit","id","renderModal","PreviewPageModal","showModal","wrapClassName","PreviewPageModal_Sider","PreviewPageModal_Content","LoginModal","showLoginFrame","onResetModal","getIframeUrl","asyncAppendJs","origin","targetStr","searchStr","setItem","onCloseLoginModal","removeItem","clearInit","clearStorage","js","onload","sendMessageToIframe","jsHost","src","Date","now","body","appendChild","iframeLogin","querySelector","getElementById","contentWindow","postMessage","auth","passport","encodeURIComponent","App","showLoginModal","showEditNameModal","showPreviewModal","onSubmitPageName","onClosePreviewModal","onClosePageNameModal","click","locale_provider","locale","zhCN","App_Sider","App_Content","component_Modal_PageNameModal","component_Modal_PreviewPageModal","component_Modal_LoginModal","ReactDOM","src_App"],"mappings":"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","file":"static/js/main.4cf54a6a.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Form, Input, Modal } from 'antd';\r\nimport './index.css';\r\n\r\nclass PageNameModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n    onSubmit(e) {\r\n        e && e.preventDefault();\r\n        const { form, onOkModal } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { pageName, projectDir } = values;\r\n                onOkModal(pageName, projectDir);\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { visible, form, onCloseModal } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Modal\r\n                visible={visible}\r\n                footer={null}\r\n                width={450}\r\n                closable\r\n                centered\r\n                onOk={this.onSubmit}\r\n                onCancel={onCloseModal}\r\n                title=\"页面名称\"\r\n                maskClosable\r\n            >\r\n                <Form\r\n                    onSubmit={this.onSubmit}\r\n                    style={{ padding: '20px 40px' }}\r\n                >\r\n                    <Form.Item>\r\n                        {getFieldDecorator('pageName', {\r\n                            rules: [\r\n                                { required: true, message: '请输入页面名称!' },\r\n                                { pattern: /^[a-zA-Z]+$/, message: '名称只能包含字母！' }\r\n                            ],\r\n                        })(\r\n                            <Input placeholder=\"只能包含字母\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        {getFieldDecorator('projectDir', {\r\n                            rules: [\r\n                                { required: true, message: '请输入项目文件夹!' },\r\n                            ],\r\n                        })(\r\n                            <Input placeholder=\"项目文件夹\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item  style={{ marginTop: '15px', textAlign: 'center' }}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(PageNameModal);","const proxyServerUrl = 'https://pagetools.herokuapp.com';\r\n// const proxyServerUrl = 'http://127.0.0.1:9999';\r\nconst activeColor = '#dde7f1';\r\nconst FORM_CONTAINER = 'FormContainer';\r\nconst TABLE_CONTAINER = 'TableContainer';\r\nconst EMPTY_CONTAINER = 'EmptyContainer';\r\nconst BOX_CONTINAER = 'BoxContainer';\r\nconst HEADER_CONTINAER = 'HeaderContainer';\r\nconst LINE_CONTINAER = 'LineContainer';\r\nconst MODAL_CONTINAER = 'ModalContainer';\r\nconst TRUE = '1';\r\nconst FALSE = '0';\r\nconst MODE_EDIT = 'edit';\r\nconst MODE_ADD = 'add';\r\nconst FORM_QUERY = 'query';\r\nconst FORM_VIEW = 'view';\r\nconst FORM_SAVE = 'save';\r\nconst CODE_SUCCESS = '0';\r\nconst LAYER_MODAL = 'modal';\r\nconst LAYER_DRAWER = 'drawer';\r\nconst LAYER_API = 'api';\r\n\r\nexport {\r\n    activeColor,\r\n    FORM_CONTAINER,\r\n    TABLE_CONTAINER,\r\n    EMPTY_CONTAINER,\r\n    BOX_CONTINAER,\r\n    HEADER_CONTINAER,\r\n    LINE_CONTINAER,\r\n    MODAL_CONTINAER,\r\n    LAYER_MODAL,\r\n    LAYER_DRAWER,\r\n    LAYER_API,\r\n    TRUE,\r\n    FALSE,\r\n    MODE_ADD,\r\n    MODE_EDIT,\r\n    FORM_VIEW,\r\n    FORM_SAVE,\r\n    FORM_QUERY,\r\n    CODE_SUCCESS,\r\n    proxyServerUrl,\r\n};\r\nexport default proxyServerUrl;","import axios from 'axios';\r\nimport proxyServerUrl from '../utils/Constants';\r\n\r\naxios.interceptors.response.use((response) => {\r\n    return response;\r\n  }, (error) => {\r\n    return Promise.reject(error);\r\n  });\r\n\r\nclass AppService {\r\n    generatePage(data) {\r\n        return axios({\r\n            method: 'POST',\r\n            url: `${proxyServerUrl}/generatePage`,\r\n            data,\r\n        });\r\n    }\r\n    fetchApi(host, method, api, params) {\r\n        return axios({\r\n            method: 'post',\r\n            url: `${proxyServerUrl}/fetchApi`,\r\n            data: {\r\n                host, \r\n                method,\r\n                api,\r\n                params,\r\n                appUrl: localStorage.getItem('appUrl'),\r\n                access_token: localStorage.getItem('access_token'),\r\n                MerchantId: localStorage.getItem('MerchantId'),\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport default AppService;","import React from 'react';\r\nimport AppService from '../service/AppService';\r\n\r\nconst ServicesMatch = {\r\n    AppService,\r\n};\r\n\r\nexport default function Service(name) {\r\n    return (Target) => {\r\n        return (props) => {\r\n            const newProps = Object.assign({}, props);\r\n            if (Object.hasOwnProperty.call(ServicesMatch, name)) {\r\n                const ServiceClass = ServicesMatch[name];\r\n                if (typeof ServiceClass === 'function') {\r\n                    newProps.service = new ServiceClass();\r\n                }\r\n            }\r\n            return (<Target {...newProps} />);\r\n        };\r\n    };\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport { Divider, Icon } from 'antd';\r\nimport './index.css';\r\n\r\nclass LineContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onDelete = this.onDelete.bind(this);\r\n    }\r\n    onDelete() {\r\n        const { onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({ deleteFlag: true });\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"fulu-cell-box line-box\">\r\n                <Divider />\r\n                <Icon type=\"close\" className=\"delete-line\" onClick={this.onDelete} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LineContainer;","const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n};\r\n\r\nexport default formItemLayout;","import React, { Fragment } from 'react';\r\nimport { Divider, Dropdown, Icon } from 'antd';\r\nimport { TRUE } from './Constants';\r\n\r\nconst renderMoreOpList = (opList) => {\r\n    return (\r\n        <span style={{ background: '#fff', display: 'block' }}>\r\n            {\r\n                opList.map(({opText, index}) => {\r\n                return (\r\n                    <a href=\"&nbsp;\" key={`op-${index}`} style={{ display: 'block' }}>\r\n                        {opText}\r\n                    </a>\r\n                );\r\n                })\r\n            }\r\n        </span>\r\n    );\r\n}\r\n\r\nconst renderMultOperation = (operationArr) => {\r\n    const [ firstItem, ...restItemArr ] = operationArr;\r\n    return (\r\n        <Fragment>\r\n            <a href=\"&nbsp;\">\r\n                {firstItem.opText}\r\n            </a>\r\n            <Divider type=\"vertical\" />\r\n            <Dropdown overlay={renderMoreOpList(restItemArr)}>\r\n                <a className=\"ant-dropdown-link\" href=\"&nbsp;\">\r\n                    更多<Icon type=\"down\" />\r\n                </a>\r\n            </Dropdown>\r\n        </Fragment>\r\n    );\r\n}\r\nconst renderNormalOperation = (operationArr) => {\r\n    const resultArr = [];\r\n    operationArr.forEach(({ opText, index }, i) => {\r\n        resultArr.push((\r\n            <Fragment key={`fr-${index}`}>\r\n                <a href=\"&nbsp;\" key={`op-${index}`}>{opText}</a>\r\n                {\r\n                    i !== operationArr.length -1\r\n                        ? <Divider type=\"vertical\" /> : null\r\n                }\r\n            </Fragment>)\r\n        );\r\n    });\r\n    return resultArr;\r\n}\r\n\r\nconst handleOperation = (columns = [], operationArr = [], context) => {\r\n    let opCol = null;\r\n    if (columns.length > 0 && columns[columns.length -1].title === '操作') {\r\n        opCol = columns[columns.length -1];\r\n    } else {\r\n        opCol = {\r\n            title: '操作',\r\n            dataIndex: 'operation',\r\n        };\r\n        columns.push(opCol);\r\n    }\r\n    opCol.render = (record, index) => {\r\n        if (!Array.isArray(operationArr)) {\r\n            return null;\r\n        }\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    operationArr.map(({ opText, opType, modalName, api = '' }, i) =>{\r\n                        const clickProps = {};\r\n                        if (opType === 'edit' || opType === 'view') {\r\n                            clickProps.onClick = (e) => {\r\n                                context.onShowModal(e, modalName, api, record);\r\n                            };\r\n                        } else if (opType === 'skip') { // 跳转\r\n\r\n                        } else { // 删除\r\n\r\n                        }\r\n                        return (\r\n                            <a href=\"javascript:;\" key={`op-${i}`} {...clickProps}>\r\n                                {opText}\r\n                            </a>\r\n                        );\r\n                    })\r\n                }\r\n            </Fragment>\r\n        );\r\n        // if (operationArr.length > 2) {\r\n        //     return (\r\n        //         <span>\r\n        //             {\r\n        //                 renderMultOperation(operationArr)\r\n        //             }\r\n        //         </span>\r\n        //     );\r\n        // } else {\r\n        //     return (\r\n        //         <span>\r\n        //             {\r\n        //                 renderNormalOperation(operationArr)\r\n        //             }\r\n        //         </span>\r\n        //     );\r\n        // }\r\n    };\r\n    return columns;\r\n}\r\n\r\nconst handleColumns = (values, configs, context) => {\r\n    const { operationArr = [], columns } = configs;\r\n    const newColumns = columns.slice();\r\n    Object.keys(values).forEach((k) => {\r\n        const val = values[k];\r\n        // 常规数据列\r\n        if (k.indexOf('-') > 0) {\r\n            const [ columnName, columnIndex ] = k.split('-');\r\n            const columnTarget = newColumns.find((item) => {\r\n                return item.index === +columnIndex;\r\n            });\r\n            if (columnTarget) {\r\n                columnTarget[columnName] = val;\r\n                if (columnName === 'width' && !val) {\r\n                    delete columnTarget.width;\r\n                }\r\n                if (columnName === 'fixed') {\r\n                    columnTarget[columnName] = TRUE === val;\r\n                }\r\n                delete values[k];\r\n            }\r\n        }\r\n    });\r\n    if (values.hasOperation === TRUE) {\r\n        return handleOperation(newColumns, operationArr, context); \r\n    }\r\n    // 序号列渲染处理\r\n    if (newColumns.length > 0 && newColumns[0].sortIndex === TRUE) {\r\n        newColumns[0].render = (record, index) => {\r\n            return (\r\n                <span>{index + 1}</span>\r\n            );\r\n        };\r\n    }\r\n    return newColumns;\r\n};\r\n\r\nconst getTableConfig = (values, configs, context) => {\r\n    const columns = handleColumns(values, configs, context);\r\n    const newConfigs = {\r\n        columns,\r\n    };\r\n    Object.keys(values).forEach((k) => {\r\n        const val = values[k];\r\n        if (k === 'pagination') { // 分页\r\n            if (val === TRUE) {\r\n                newConfigs.pagination = {\r\n                    pageSize: values.pageSize,\r\n                    pageSizeOptions: values.pageSizeOptions.split(','),\r\n                };\r\n            } else {\r\n                newConfigs[k] = TRUE === val;\r\n            }\r\n        } else if (k === 'rowSelection') {\r\n            if (val === TRUE) {\r\n                newConfigs.rowSelection = {\r\n                    type: values.type,\r\n                };\r\n                if (values.type === 'radio') {\r\n                    newConfigs.rowSelection.columnTitle = values.columnTitle;\r\n                }\r\n            } else {\r\n                newConfigs[k] = null;\r\n            }\r\n        } else {\r\n            newConfigs[k] = val;\r\n        }\r\n    });\r\n    return newConfigs;\r\n};\r\n\r\nexport {\r\n    getTableConfig,\r\n}\r\n\r\nexport default getTableConfig;","import { FORM_QUERY, MODE_ADD } from './Constants';\r\n\r\nconst getFormData = (values, renderArr, hasIndex) => {\r\n    const formData = hasIndex ? [] : {};\r\n    Object.keys(values).forEach((valKey) => {\r\n        let fk = valKey;\r\n        if (hasIndex) {\r\n            if (valKey.indexOf('-') > 0) {\r\n                const [ k, i ] = valKey.split('-');\r\n                fk = k;\r\n                if (isContain(fk, renderArr)) {\r\n                    const item = findItemByRule(({ index }) => index === i, formData);\r\n                    if (item) {\r\n                        item[fk] = values[valKey];\r\n                    } else {\r\n                        formData.push({\r\n                            [fk]: values[valKey],\r\n                            index: i,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        } else if (isContain(fk, renderArr)) {\r\n            formData[fk] = values[valKey];\r\n        }\r\n    });\r\n    return formData;\r\n};\r\n\r\nconst getFormDataByIndex = (values, renderArr, i) => {\r\n    const result ={};\r\n    renderArr.forEach((k) => {\r\n        const indexK = `${k}-${i}`;\r\n        if (Object.hasOwnProperty.call(values, indexK)) {\r\n            result[k] = values[indexK];\r\n            delete values[indexK];\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nconst isContain = (matchKey, matchArr) => {\r\n    return !!findItemByRule(matchKey, matchArr);\r\n};\r\n\r\nconst findItemByRule = (rule, matchArr) => {\r\n    const isFn = typeof rule === 'function';\r\n    return matchArr.find((item) => {\r\n        return isFn ? rule(item) : item.key === rule;\r\n    });\r\n};\r\n\r\nconst getFormApi = (mode, formConfig) => {\r\n    const { formType, queryApi, addApi, editApi } = formConfig;\r\n    return formType === FORM_QUERY ? queryApi : mode === MODE_ADD ? addApi : editApi;\r\n};\r\n\r\nexport {\r\n    getFormApi,\r\n    getFormData,\r\n    getFormDataByIndex,\r\n};\r\n\r\nexport default getFormData;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Button, Card, Drawer, Divider, Collapse, Form, Input, Icon, Select } from 'antd';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport getTableConfig from '../../../utils/TableUtil';\r\nimport { getFormDataByIndex } from '../../../utils/FormUtil';\r\nimport { renderApiSelect, renderModalSelect } from '../../../utils/RenderUtil';\r\nimport { TRUE, FALSE } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\nconst Option = Select.Option;\r\n\r\nconst fLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 10 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 14 },\r\n    },\r\n};\r\n\r\nclass TableEdit extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            configs: props.configs,\r\n        };\r\n        this.setColumnMaxIndex(props);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAddColumn = this.onAddColumn.bind(this);\r\n        this.onDeleteColumn = this.onDeleteColumn.bind(this);\r\n        this.onAddOperation = this.onAddOperation.bind(this);\r\n        this.onDeleteOperation = this.onDeleteOperation.bind(this);\r\n        this.renderOperationBtn = this.renderOperationBtn.bind(this);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.visible !== this.props.visible && nextProps.visible) {\r\n            this.setState({\r\n                configs: nextProps.configs,\r\n            });\r\n            this.setColumnMaxIndex(nextProps);\r\n            this.setOperationMaxIndex(nextProps);\r\n        }\r\n    }\r\n    setColumnMaxIndex({ configs }) {\r\n        const { columns = [] } = configs;\r\n        this.columnMaxIndex = columns.length || 0;\r\n    }\r\n    setOperationMaxIndex({ configs }) {\r\n        const { operationArr = [] } = configs;\r\n        this.operationMaxIndex = operationArr.length || 0;\r\n    }\r\n    addColumnMaxIndex() {\r\n        this.columnMaxIndex += 1;\r\n    }\r\n    addOperationMaxIndex() {\r\n        this.operationMaxIndex += 1;\r\n    }\r\n    onAddOperation() {\r\n        const { configs } = this.state;\r\n        const { operationArr = [] } = configs;\r\n        const newOperationArr = operationArr.slice();\r\n        const opreationIndex = this.operationMaxIndex;\r\n        newOperationArr.push({\r\n            opText: \"操作\",\r\n            index: opreationIndex,\r\n        });\r\n        this.setState({\r\n            configs: this.getNewConfigs('operationArr', newOperationArr),\r\n        });\r\n        this.addOperationMaxIndex();\r\n    }\r\n    onAddColumn() {\r\n        const { configs } = this.state;\r\n        const { columns } = configs;\r\n        const newColumns = columns.slice();\r\n        const columnIndex = this.columnMaxIndex;\r\n        newColumns.push({\r\n            title: `column${columnIndex}`,\r\n            dataIndex: `dataIndex${columnIndex}`,\r\n            index: columnIndex,\r\n        });\r\n        this.setState({\r\n            configs: this.getNewConfigs('columns', newColumns),\r\n        });\r\n        this.addColumnMaxIndex();\r\n    }\r\n    onDeleteOperation(index) {\r\n        const { configs } = this.state;\r\n        const { operationArr } = configs;\r\n        const newOperationArr = operationArr.reduce((arr, item) => {\r\n            if (item.index !== index) {\r\n                arr.push(Object.assign({}, item));\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.operationArr = newOperationArr;\r\n        this.setState({\r\n            configs: this.getNewConfigs('operationArr', newOperationArr),\r\n        });\r\n    }\r\n    onDeleteColumn(columnIndex) {\r\n        const { configs } = this.state;\r\n        const { columns } = configs;\r\n        const newColumns = columns.reduce((arr, item) => {\r\n            if (item.index !== columnIndex) {\r\n                arr.push(Object.assign({}, item));\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.columns = newColumns;\r\n        this.setState({\r\n            configs: this.getNewConfigs('columns', newColumns),\r\n        });\r\n    }\r\n    getNewConfigs(k, v) {\r\n        const { configs } = this.state;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs[k] = v;\r\n        return newConfigs;\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const { context, form, onUpdateLayoutConfig } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { configs } = this.state;\r\n                const newOperationArr = [];\r\n                // 有操作列\r\n                if (values.hasOperation === TRUE) {\r\n                    const { operationArr = [] } = configs;\r\n                    const opArr = ['opText', 'opType', 'modalName', 'modalData', 'api'];\r\n                    for (let i = 0; i< operationArr.length; i++) {\r\n                        const { index } = operationArr[i];\r\n                        newOperationArr.push(Object.assign(operationArr[i], getFormDataByIndex(values, opArr, index)));\r\n                    }\r\n                }\r\n                const newConfigs = getTableConfig(values, configs, context);\r\n                newConfigs.operationArr = newOperationArr;\r\n                delete newConfigs.pageSize;\r\n                delete newConfigs.pageSizeOptions;\r\n                delete newConfigs.type;\r\n                delete newConfigs.columnTitle;\r\n                onUpdateLayoutConfig(newConfigs);\r\n            }\r\n        });\r\n    }\r\n    renderPanelHeader({ title, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{title}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteColumn(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderOperationHeader({ opText, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{opText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteOperation(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderCollapse() {\r\n        const { form } = this.props;\r\n        const { configs } = this.state;\r\n        const { columns = [] } = configs;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Collapse>\r\n                {\r\n                    columns.map((item, i) => {\r\n                        const { title, index, dataIndex, width, sortIndex, align = 'left', fixed = false } = item;\r\n                        if (title === '操作' && i === columns.length -1) {\r\n                            return null;\r\n                        }\r\n                        return (\r\n                            <Panel header={this.renderPanelHeader(item)} key={`${title}-${index}`}>\r\n                                <Form.Item label=\"title\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`title-${index}`, { \r\n                                        rules: [{ required: true, message: '请输入title!' }],\r\n                                        initialValue: title,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"dataIndex\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`dataIndex-${index}`, { \r\n                                        rules: [{ required: true, message: 'dataIndex!' }],\r\n                                        initialValue: dataIndex,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"width\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`width-${index}`, {\r\n                                        initialValue: width || '',\r\n                                    }, {\r\n                                        rules: [{ pattern: /^\\d+(%)?$/, message: '请输入数字或者百分比!' }]\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                {\r\n                                    i === 0 ? (\r\n                                        <Form.Item label=\"序号列\" {...formItemLayout}>\r\n                                            {getFieldDecorator(`sortIndex-${index}`, {\r\n                                                initialValue: sortIndex,\r\n                                            })(\r\n                                                <Select placeholder=\"是否显示序号\">\r\n                                                    <Option value=\"0\">false</Option>\r\n                                                    <Option value=\"1\">true</Option>\r\n                                                </Select>\r\n                                            )}\r\n                                        </Form.Item>\r\n                                    ): null\r\n                                }\r\n                                <Form.Item label=\"align\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`align-${index}`, { \r\n                                        initialValue: align,\r\n                                    })(\r\n                                        <Select>\r\n                                            <Option value={'left'}>left</Option>\r\n                                            <Option value={'right'}>right</Option>\r\n                                            <Option value={'center'}>center</Option>\r\n                                        </Select>\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"fixed\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`fixed-${index}`, { \r\n                                        initialValue: fixed ? \"1\" : \"0\",\r\n                                    })(\r\n                                        <Select>\r\n                                            <Option value=\"0\">false</Option>\r\n                                            <Option value=\"1\">true</Option>\r\n                                        </Select>\r\n                                    )}\r\n                                </Form.Item>\r\n                            </Panel>\r\n                        );\r\n                    })\r\n                }\r\n            </Collapse>\r\n        );\r\n    }\r\n    renderOperationBtn(btnConfig) {\r\n        const { form, layerConfig } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { index, opText, opType, modalName, modalData, api } = btnConfig;\r\n        const _opType = form.getFieldValue(`opType-${index}`);\r\n        return (\r\n            <Panel header={this.renderOperationHeader(btnConfig)} key={`op-${index}`}>\r\n                <Form.Item label=\"文字\" {...formItemLayout}>\r\n                    {getFieldDecorator(`opText-${index}`, { \r\n                        initialValue: opText,\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"类型\" {...formItemLayout}>\r\n                    {getFieldDecorator(`opType-${index}`, { \r\n                        initialValue: opType,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"edit\">编辑(弹窗)</Option>\r\n                            <Option value=\"view\">查看(弹窗)</Option>\r\n                            <Option value=\"delete\">删除</Option>\r\n                            <Option value=\"skip\">跳转</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    _opType === 'edit' || _opType === 'view' ? renderModalSelect(layerConfig, form, modalName, index) : null\r\n                }\r\n                {\r\n                    _opType === 'edit' || _opType === 'view' ? (\r\n                        <Form.Item label=\"数据来源\" {...formItemLayout}>\r\n                            {getFieldDecorator(`modalData-${index}`, {\r\n                                initialValue: modalData,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"table\">表格</Option>\r\n                                    <Option value=\"api\">接口调用</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                    ) : null\r\n                }\r\n                {\r\n                    form.getFieldValue(`modalData-${index}`) === 'api' ? renderApiSelect(layerConfig, form, { initialValue: api, key: index }) : null\r\n                }\r\n            </Panel>\r\n        )\r\n    }\r\n    renderTableProps() {\r\n        const { form } = this.props;\r\n        const { configs } = this.state;\r\n        const { getFieldDecorator } = form;\r\n        const {  operationArr = [], pagination, rowSelection, hasOperation = FALSE, mockData = 0, rowKey } = configs;\r\n        const { pageSize = 10, pageSizeOptions = '10,20,30' } = pagination || {};\r\n        const { type = 'checkbox', columnTitle = '选择' } = rowSelection || {};\r\n        const hasPagination = Object.keys(pagination || {}).length > 0 ? TRUE : FALSE;\r\n        const hasRowSelection = Object.keys(rowSelection || {}).length > 0 ? TRUE : FALSE;\r\n        return (\r\n            <Fragment>\r\n                <Form.Item label=\"操作列\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"hasOperation\", { \r\n                        initialValue: hasOperation,\r\n                    })(\r\n                        <Select>\r\n                            <Option value={FALSE}>无</Option>\r\n                            <Option value={TRUE}>有</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('hasOperation') === TRUE ? // 操作列\r\n                        [\r\n                            <Collapse key=\"op-collapse\">\r\n                                {\r\n                                    operationArr.map(this.renderOperationBtn)\r\n                                }\r\n                            </Collapse>,\r\n                            <Fragment key=\"op-collapse-btns\">\r\n                                {\r\n                                    form.getFieldValue('hasOperation') === TRUE ?\r\n                                        (<div className=\"btn-add-box\">\r\n                                            <Button\r\n                                                type=\"dashed\"\r\n                                                size=\"large\"\r\n                                                onClick={this.onAddOperation}\r\n                                            >\r\n                                                添加操作项\r\n                                            </Button>\r\n                                        </div>) : null\r\n                                }\r\n                            </Fragment>\r\n                        ] : null\r\n                }\r\n                <Form.Item label=\"pagination\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"pagination\", { \r\n                        initialValue: hasPagination,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">false</Option>\r\n                            <Option value=\"1\">true</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"rowKey\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"rowKey\", { \r\n                        initialValue: rowKey,\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('pagination') === '1' ?\r\n                    <Card title=\"pagination配置\">\r\n                        <Form.Item label=\"pageSize\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"pageSize\", { \r\n                                initialValue: pageSize,\r\n                            })(\r\n                                <Input />\r\n                            )}\r\n                        </Form.Item>\r\n                        <Form.Item label=\"pageSizeOptions\" {...fLayout}>\r\n                            {getFieldDecorator(\"pageSizeOptions\", { \r\n                                initialValue: Array.isArray(pageSizeOptions)\r\n                                    ? pageSizeOptions.join(',') : pageSizeOptions,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"10,20,30\">10,20,30</Option>\r\n                                    <Option value=\"10,20,30,40\">10,20,30,40</Option>\r\n                                    <Option value=\"20,30,40\">20,30,40</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                    </Card> : null\r\n                }\r\n                <Form.Item label=\"rowSelection\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"rowSelection\", { \r\n                        initialValue: hasRowSelection,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">false</Option>\r\n                            <Option value=\"1\">true</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('rowSelection') === '1' ?\r\n                    <Card title=\"rowSelection配置\">\r\n                        <Form.Item label=\"type\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"type\", { \r\n                                initialValue: type,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"checkbox\">checkbox</Option>\r\n                                    <Option value=\"radio\">radio</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                        {\r\n                            form.getFieldValue('type') === 'radio' ?\r\n                                <Form.Item label=\"columnTitle\" {...formItemLayout}>\r\n                                    {getFieldDecorator(\"columnTitle\", { \r\n                                        initialValue: columnTitle,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item> : null\r\n                        }\r\n                    </Card> : null\r\n                }\r\n                {/* <Form.Item label=\"模拟数据\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"mockData\", {\r\n                        initialValue: mockData,\r\n                    })(\r\n                        <Input placeholder=\"请输入数据条数\" />\r\n                    )}\r\n                </Form.Item> */}\r\n            </Fragment>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, onClose, onDeleteContainer, form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { configs } = this.state;\r\n        const {  dataSrouce } = configs;\r\n        return (\r\n            <Drawer\r\n                title=\"表格编辑\"\r\n                maskClosable={false}\r\n                width={420}\r\n                onClose={onClose}\r\n                visible={visible}\r\n            >\r\n                <Form onSubmit={this.onSubmit}>\r\n                    <Divider>表头</Divider>\r\n                    {this.renderCollapse()}\r\n                    <div className=\"btn-add-box\">\r\n                        <Button\r\n                            type=\"dashed\"\r\n                            size=\"large\"\r\n                            onClick={this.onAddColumn}\r\n                        >\r\n                            添加表头列\r\n                        </Button>\r\n                    </div>\r\n                    <Divider>表格属性</Divider>\r\n                    {this.renderTableProps()}\r\n                    <Divider>数据源</Divider>\r\n                    <Form.Item label=\"dataSrouce\" {...formItemLayout}>\r\n                        {getFieldDecorator(\"modelKey\", {\r\n                            initialValue: dataSrouce,\r\n                        })(\r\n                            <Input placeholder=\"model key\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item style={{ marginTop: '20px', textAlign: 'center' }}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(TableEdit);","import React, { PureComponent } from 'react';\r\nimport { Icon, Table } from 'antd';\r\nimport TableEdit from '../../EditDrawer/TableEdit';\r\n\r\nimport './index.css';\r\n\r\nclass TableContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n        };\r\n        this.onClose = this.onClose.bind(this);\r\n        this.onShowEditTable = this.onShowEditTable.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onPageIndexChange = this.onPageIndexChange.bind(this);\r\n        this.onShowSizeChange = this.onShowSizeChange.bind(this);\r\n    }\r\n    onShowEditTable() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onClose(e) {\r\n        e.stopPropagation();\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onUpdateConfigs(configs) {\r\n        const { layoutIndex, onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({layoutIndex, configs});\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { layoutIndex, onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n    }\r\n    getMockDataSource(columns, dataSize) {\r\n        const ds = [];\r\n        for (let i = 0; i < dataSize; i++) {\r\n            const dsItem = {};\r\n            columns.forEach((item) => {\r\n                Object.keys(item).forEach((k) => {\r\n                    dsItem[item.dataIndex] = `${item.dataIndex}-${i}`;\r\n                });\r\n            });\r\n            ds.push(dsItem);\r\n        }\r\n        return ds;\r\n    }\r\n    getModelKey() {\r\n        const { configs = {} } = this.props;\r\n        const { modelKey } = configs;\r\n        return modelKey;\r\n    }\r\n    onPageIndexChange(page, pageSize) {\r\n        this.props.onPageIndexChange(page, pageSize, this.getModelKey());\r\n    }\r\n    onShowSizeChange(current, size) {\r\n        this.props.onShowSizeChange(current, size, this.getModelKey());\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { configs = {}, apiData = {}, currentPage, pageSize, context, layerConfig, preview = false } = this.props;\r\n        const { pagination = false, rowSelection = null, columns = [], modelKey, mockData, rowKey } = configs;\r\n        const copyColumns = columns.slice();\r\n        const mockDataNum = (/^\\d+$/).test(mockData) ? +mockData : 0;\r\n        // 是否存在api接口返回的数据项\r\n        const hasApiDataSource = modelKey && Object.hasOwnProperty.call(apiData, modelKey);\r\n        const dataSource = hasApiDataSource ? apiData[modelKey] : this.getMockDataSource(columns, mockDataNum);\r\n        // 有分页属性\r\n        if (pagination) {\r\n            pagination.showQuickJumper = true;\r\n            pagination.showSizeChanger = true;\r\n            pagination.current = currentPage;\r\n            pagination.pageSize = pageSize;\r\n            pagination.total = hasApiDataSource ? apiData[`${modelKey}Total`] : mockDataNum;\r\n            pagination.onChange = this.onPageIndexChange;\r\n            pagination.onShowSizeChange = this.onShowSizeChange;\r\n        }\r\n        return (\r\n            <div className={`table-container container ${preview ? 'preview-box' : ''}`}>\r\n                <Table\r\n                    columns={copyColumns}\r\n                    bordered\r\n                    dataSource={dataSource}\r\n                    pagination={pagination}\r\n                    rowSelection={rowSelection}\r\n                    rowKey={rowKey}\r\n                />\r\n                <TableEdit\r\n                    visible={visible}\r\n                    layerConfig={layerConfig}\r\n                    configs={configs}\r\n                    context={context}\r\n                    onClose={this.onClose}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                    onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                />\r\n                {\r\n                    !preview ? \r\n                        <Icon type=\"form\" className=\"icon-operation\" onClick={this.onShowEditTable} /> : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TableContainer;","import React, { PureComponent } from 'react';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\n\r\nclass DropRender extends PureComponent {\r\n\trender() {\r\n\t\tconst { dropConfig = {}, ...restProps } =this.props;\r\n\t\tconst { cellStyles, textAlign = 'center', type } = dropConfig;\r\n\t\tconst styleObj = type === 'Button' ? Object.assign({}, cellStyles, { textAlign }) : cellStyles;\r\n\t\treturn (\r\n\t\t\t<div style={styleObj}>\r\n                {\r\n                    renderComponent(dropConfig, restProps)\r\n                }\r\n\t\t    </div>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default DropRender;","/**\r\n * 计算表单单元格跨列\r\n * @param {*} colIndex \r\n * @param {*} originSpan \r\n * @param {*} formItemArr \r\n * @param {*} colSpanArr \r\n */\r\nconst getCellColSpan = (colIndex, originSpan = 1, formItemArr = [], colSpanArr = []) => {\r\n    let finalColSpan = 0;\r\n    // 占据整行\r\n    if (originSpan === colSpanArr.length) {\r\n        finalColSpan = 24;\r\n    } else {\r\n        let locationIndex = 0;\r\n        let total = 0;\r\n        for (let i = 0; i < formItemArr.length; i++) {\r\n            if (formItemArr[i].colIndex >= colIndex) {\r\n                total = total % 24;\r\n                if (total === 0) {\r\n                    locationIndex = 0;\r\n                } else {\r\n                    for (let j = 0; j < colSpanArr.length; j++) {\r\n                        total -= colSpanArr[j];\r\n                        if (total <= 0) {\r\n                            locationIndex = j + 1;\r\n                            j = colSpanArr.length;\r\n                        }\r\n                    }\r\n                }\r\n                i = formItemArr.length;\r\n            } else {\r\n                total += formItemArr[i].colSpan;\r\n            }\r\n        }\r\n        let start = 0;\r\n        let end = 0;\r\n        // 不换行显示\r\n        if (originSpan <= colSpanArr.length - locationIndex) {\r\n            start = locationIndex;\r\n        }\r\n        end = start + originSpan - 1;\r\n        for(; start <= end; start++) {\r\n            finalColSpan += colSpanArr[start];\r\n        }\r\n    }\r\n    return finalColSpan;\r\n};\r\n\r\nconst strToObj = (str, separator = ';') => {\r\n    if (str) {\r\n        return str.split(separator).reduce((styleObj, styleStr) => {\r\n            const [ name, value ] = styleStr.split(':');\r\n            if (name && value) {\r\n                styleObj[name] = value.replace(/['\"\\s]/g, '');\r\n            }\r\n            return styleObj;\r\n        }, {});\r\n    }\r\n    return {};\r\n};\r\n\r\nconst objToStr = (objLike, separator = ';') => {\r\n    if (Object.prototype.toString.call(objLike) === '[object Object]') {\r\n        return Object.keys(objLike).reduce((arr, k) => {\r\n            arr.push(`${k}:${objLike[k]}`);\r\n            return arr;\r\n        }, []).join(separator);\r\n    } else if (Array.isArray(objLike)) {\r\n        return objLike.join(separator);\r\n    }\r\n    return objLike;\r\n};\r\n\r\nexport default getCellColSpan;\r\n\r\nexport {\r\n    strToObj,\r\n    objToStr,\r\n};","import React, { Component, Fragment } from 'react';\r\nimport { Card, DatePicker, Select, Icon, Input, Form, Collapse } from 'antd';\r\nimport getCellColSpan, { strToObj } from '../../utils/CellUtil';\r\nimport formItemLayout from '../../configs/layout';\r\nimport { renderModalSelect } from '../../utils/RenderUtil';\r\nimport { TRUE } from '../../utils/Constants';\r\n\r\nconst { Option } = Select;\r\nconst Panel = Collapse.Panel;\r\nconst allowCallApi = ['import', 'export', 'edit', 'view', 'mult'];\r\nconst allowCallModal = ['add', 'edit', 'view'];\r\n\r\nclass BaseEdit extends Component {\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n            deleteComponent: false,\r\n        };\r\n        this.onDeleteComponent = this.onDeleteComponent.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.onAddListItem = this.onAddListItem.bind(this);\r\n        this.onDeleteListItem = this.onDeleteListItem.bind(this);\r\n        this.renderBtnPanelHeader = this.renderBtnPanelHeader.bind(this);\r\n        this.onDeleteButton = this.onDeleteButton.bind(this);\r\n    }\r\n    getItemSetType() {\r\n        return [];\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n\t\tconst { dropConfig } = nextProps;\r\n        const { type, configs = {} } = dropConfig;\r\n        const itemSetType = this.getItemSetType();\r\n\t\tif (~itemSetType.indexOf(type) && !this[`init${type}`] && nextProps.visible) {\r\n\t\t\tconst lowerCaseType = type.toLowerCase();\r\n\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\tconst stateVal =  configs[stateKey] || [];\r\n\t\t\tthis.setState({\r\n\t\t\t\t[stateKey]: stateVal,\r\n            });\r\n\t\t\tthis[`${lowerCaseType}Index`] = stateVal.length;\r\n\t\t\tthis[`init${type}`] = true;\r\n\t\t}\r\n\t}\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tconst { deleteComponent, buttonArr } = this.state;\r\n        const { form, onUpdateConfigs, dropConfig, colSpanArr,\r\n            formItemArr, inForm = true } = this.props;\r\n        const itemSetType = this.getItemSetType();\r\n\t\tform.validateFields((err, values) => {\r\n\t        if (!err) {\r\n\t\t\t\tconst newDropConfig = Object.assign({}, dropConfig, values);\r\n\t\t\t\tif (deleteComponent) {\r\n\t\t\t\t\tnewDropConfig.deleteFlag = true;\r\n\t\t\t\t}\r\n\t\t\t\tnewDropConfig.cellStyles = strToObj(values.cellStyles);\r\n\t\t\t\tconst configType = newDropConfig.type;\r\n\t\t\t\tif (~itemSetType.indexOf(configType) && configType !== 'Button') {\r\n\t\t\t\t\tconst lowerCaseType = configType.toLowerCase();\r\n\t\t\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\t\t\tconst newList = this.state[stateKey].slice();\r\n\t\t\t\t\tnewList.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst kLabel = `${lowerCaseType}Label-${index}`;\r\n\t\t\t\t\t\tconst kValue = `${lowerCaseType}Value-${index}`;\r\n\t\t\t\t\t\titem.label = values[kLabel];\r\n\t\t\t\t\t\titem.value= values[kValue];\r\n\t\t\t\t\t\tdelete newDropConfig[kLabel];\r\n\t\t\t\t\t\tdelete newDropConfig[kValue];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewDropConfig[stateKey] = newList;\r\n\t\t\t\t} else if (configType === 'DatePicker' || configType === 'RangePicker') {\r\n\t\t\t\t\tconst { format } = values;\r\n\t\t\t\t\tnewDropConfig.showTime = values.showTime === TRUE;\r\n\t\t\t\t\tif (configType === 'DatePicker') {\r\n\t\t\t\t\t\tnewDropConfig.initialValue = values.initialValue && values.initialValue.format(format);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (configType === 'Button') {\r\n\t\t\t\t\tconst newButtonArr = buttonArr.slice();\r\n\t\t\t\t\tnewButtonArr.forEach((item) => {\r\n\t\t\t\t\t\tconst { btnIndex } = item;\r\n\t\t\t\t\t\tconst btnText = `btnText-${btnIndex}`;\r\n\t\t\t\t\t\tconst antdType = `antdType-${btnIndex}`;\r\n\t\t\t\t\t\tconst htmlType = `htmlType-${btnIndex}`;\r\n\t\t\t\t\t\tconst api = `api-${btnIndex}`;\r\n\t\t\t\t\t\tconst expandFlag = `expandFlag-${btnIndex}`;\r\n\t\t\t\t\t\tconst modalName = `modalName-${btnIndex}`;\r\n\t\t\t\t\t\titem.btnText = values[btnText];\r\n\t\t\t\t\t\titem.antdType= values[antdType];\r\n\t\t\t\t\t\titem.htmlType = values[htmlType];\r\n\t\t\t\t\t\titem.expandFlag = values[expandFlag];\r\n\t\t\t\t\t\titem.api = values[api];\r\n\t\t\t\t\t\titem.modalName = values[modalName];\r\n\t\t\t\t\t\tconst expandCount = `expandCount-${btnIndex}`;\r\n\t\t\t\t\t\tif (values[expandFlag] === TRUE) {\r\n\t\t\t\t\t\t\titem.expandCount = values[expandCount];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdelete newDropConfig[modalName];\r\n\t\t\t\t\t\tdelete newDropConfig[expandCount];\r\n\t\t\t\t\t\tdelete newDropConfig[expandFlag];\r\n\t\t\t\t\t\tdelete newDropConfig[api];\r\n\t\t\t\t\t\tdelete newDropConfig[htmlType];\r\n\t\t\t\t\t\tdelete newDropConfig[btnText];\r\n\t\t\t\t\t\tdelete newDropConfig[antdType];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewDropConfig.buttonArr = newButtonArr;\r\n                }\r\n                if (inForm) {\r\n                    const { originSpan = 1 } = values;\r\n\t\t\t\t\tnewDropConfig.originSpan = originSpan;\r\n                    newDropConfig.colSpan = getCellColSpan(newDropConfig.colIndex, originSpan,\r\n                        formItemArr, colSpanArr);\r\n\t\t\t\t}\r\n\t\t\t\tdelete newDropConfig.configs;\r\n                this.onCloseEdit();\r\n\t\t\t\tonUpdateConfigs(newDropConfig);\r\n\t        }\r\n\t      },\r\n\t    );\r\n    }\r\n    onCloseEdit() {\r\n        this.initBtn = false;\r\n        const itemSetType = this.getItemSetType();\r\n        itemSetType.forEach((item) => {\r\n            this[`init${item}`] = false;\r\n        });\r\n        this.setState({\r\n\t\t\tdeleteComponent: false,\r\n        });\r\n    }\r\n    onDeleteComponent() {\r\n        this.setState({\r\n\t\t\tdeleteComponent: true,\r\n        });\r\n    }\r\n    onDeleteButton(btnIndex) {\r\n\t\tconst { buttonArr = [] } = this.state;\r\n\t\tconst newButtonArr = buttonArr.reduce((arr, item) => {\r\n\t\t\tif (item.btnIndex !== btnIndex) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tbuttonArr: newButtonArr,\r\n\t\t});\r\n\t}\r\n    onDeleteListItem(index, key) {\r\n\t\tconst stateKey = `${key}Arr`;\r\n\t\tconst list = this.state[stateKey];\r\n\t\tconst newList = list.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\t[stateKey]: newList,\r\n\t\t});\r\n    }\r\n    onAddListItem(key) {\r\n\t\tconst stateKey = `${key}Arr`;\r\n\t\tconst list = this.state[stateKey];\r\n\t\tconst newList = list.slice();\r\n\t\tnewList.push({\r\n\t\t\tlabel: '',\r\n\t\t\tvalue: '',\r\n\t\t\tindex: this[`${key}Index`],\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\t[stateKey]: newList,\r\n\t\t});\r\n\t\tthis[`${key}Index`] += 1;\r\n    }\r\n    renderDefaultValueItem() {\r\n\t\tconst { dropConfig, form } = this.props;\r\n\t\tconst { type, initialValue } = dropConfig;\r\n        const { getFieldDecorator } = form;\r\n        const itemSetType = this.getItemSetType();\r\n\t\tif (~itemSetType.indexOf(type)) {\r\n\t\t\tconst lowerCaseType = type.toLowerCase();\r\n\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\tconst list = this.state[stateKey] || [];\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\t\tinitialValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select allowClear>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlist.map((item) => {\r\n\t\t\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\t\t\tconst optionValue = form.getFieldValue(`${lowerCaseType}Value-${index}`);\r\n\t\t\t\t\t\t\t\tconst optionText = form.getFieldValue(`${lowerCaseType}Label-${index}`);\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Option value={optionValue} key={`op-${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t{`${optionValue}/${optionText}`}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t);\r\n\t\t} else if (type === 'DatePicker') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\tinitialValue,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<DatePicker style={{ width: '100%' }} />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'Input') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\t\tinitialValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'Text') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"text\">\r\n\t\t\t\t\t{getFieldDecorator('text', {\r\n\t\t\t\t\t\tinitialValue: dropConfig.text,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>);\r\n\t\t}  else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n    renderBtnPanelHeader({ btnText, btnIndex }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{btnText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteButton(btnIndex);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderTabs() {\r\n\t\treturn this.renderItemSettingCard({ title: 'tab设置', dataKey:'tabs' });\r\n\t}\r\n\trenderBreadcrumb() {\r\n\t\treturn this.renderItemSettingCard({\r\n\t\t\ttitle: 'breadcrumb设置',\r\n\t\t\tdataKey: 'breadcrumb',\r\n\t\t\tlabPlaceholder: '名称',\r\n\t\t\tvalPlaceholder: '路径',\r\n\t\t});\r\n\t}\r\n    renderSelect() {\r\n\t\treturn this.renderItemSettingCard({ title: 'select设置', dataKey:'select' });\r\n\t}\r\n\trenderRadio() {\r\n\t\treturn this.renderItemSettingCard({ title: 'radio设置', dataKey:'radio' });\r\n\t}\r\n\trenderCheckbox() {\r\n\t\treturn this.renderItemSettingCard({ title: 'checkbox设置', dataKey:'checkbox' });\r\n\t}\r\n    renderItemSettingCard({ title, dataKey, labPlaceholder = 'label', valPlaceholder = 'label' }) {\r\n\t\tconst { form } = this.props;\r\n\t\tconst stateKey = `${dataKey}Arr`;\r\n        const itemList = this.state[stateKey] || [];\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle={title}\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={() => {\r\n\t\t\t\t\tthis.onAddListItem(dataKey);\r\n\t\t\t\t}} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\titemList.map(({ label, value, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`${dataKey}-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`${dataKey}-label-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`${dataKey}Label-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: label,\r\n\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: labPlaceholder }]\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder={labPlaceholder} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`${dataKey}-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block', marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`${dataKey}Value-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder={valPlaceholder} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteListItem(index, dataKey);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trenderBtnExpand(btnConfig) {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { expandFlag = '0' } = this.state;\r\n\t\tconst { index, expandCount } = btnConfig;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tkey={`expandFlag-${index}`}\r\n\t\t\t\t\tlabel=\"折叠\"\r\n\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t>\r\n\t\t\t\t\t{form.getFieldDecorator(`expandFlag-${index}`, {\r\n\t\t\t\t\t\tinitialValue: expandFlag,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{\r\n\t\t\t\t\tform.getFieldValue(`expandFlag-${index}`) === '1' ?\r\n\t\t\t\t\t\t(<Form.Item\r\n\t\t\t\t\t\t\tkey={`expandCount-${index}`}\r\n\t\t\t\t\t\t\tlabel=\"折叠可见数\"\r\n\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{form.getFieldDecorator(`expandCount-${index}`, {\r\n\t\t\t\t\t\t\t\tinitialValue: expandCount,\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<Input placeholder=\"expandCount\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trenderApiItem({ btnIndex, api, logicType }) {\r\n\t\tconst { layerConfig = {}, form } = this.props;\r\n\t\t// 容许配置api调用属性\r\n\t\tif (allowCallApi.indexOf(logicType) >= 0) {\r\n\t\t\treturn renderModalSelect(layerConfig, form, api, btnIndex);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderModalItem({ btnIndex, modalName, logicType }) {\r\n\t\tconst { layerConfig = {}, form } = this.props;\r\n\t\t// 容许配置modal\r\n\t\tif (allowCallModal.indexOf(logicType) >= 0) {\r\n\t\t\treturn renderModalSelect(layerConfig, form, modalName, btnIndex);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderBtnCard() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { buttonArr = [] } = this.state;\r\n\t\treturn (\r\n\t\t\t<Card title=\"按钮区域\">\r\n\t\t\t\t<Collapse>\r\n\t\t\t\t{\r\n\t\t\t\t\tbuttonArr.map((item) => {\r\n\t\t\t\t\t\tconst { btnIndex, btnText, antdType = '', htmlType = 'button', logicType, textDisabled } = item;\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Panel header={this.renderBtnPanelHeader(item)} key={`btn-${btnIndex}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`btnText-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\tlabel=\"按钮文字\"\r\n\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`btnText-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: btnText,\r\n\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: '按钮文字' }],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"按钮文字\" disabled={textDisabled} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`antdType-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\tlabel=\"type\"\r\n\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`antdType-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: antdType,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Select placeholder=\"按钮类型\" disabled={htmlType === 'submit' || htmlType === 'reset'}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"primary\">primary</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"dashed\">dashed</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"danger\">danger</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"\">none</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`htmlType-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\tlabel=\"htmlType\"\r\n\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`htmlType-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: htmlType,\r\n\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: 'htmlType' }]\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Select disabled={htmlType === 'submit' || htmlType === 'reset'}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"submit\">submit</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"reset\">reset</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"button\">button</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.renderApiItem(item)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.renderModalItem(item)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlogicType === 'expand' ? this.renderBtnExpand(item) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t</Collapse>\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default BaseEdit;","import React, { Fragment } from 'react';\r\nimport { Button, Drawer, Select, Input, Form } from 'antd';\r\nimport BaseEdit from '../../Core/BaseEdit';\r\nimport { objToStr } from '../../../utils/CellUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\n\r\nclass CompEdit extends BaseEdit {\r\n\tgetItemSetType() {\r\n\t\treturn ['Tabs', 'Breadcrumb', 'Button', 'Radio'];\r\n\t}\r\n\trenderContent() {\r\n\t\tconst { form, dropConfig } = this.props;\r\n\t\tconst { placeholder, type } = dropConfig;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tif (this.state.deleteComponent) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (type === 'Button') {\r\n\t\t\treturn this.renderBtnCard();\r\n\t\t}\r\n\t\tif (type === 'Breadcrumb') {\r\n\t\t\treturn this.renderBreadcrumb();\r\n\t\t}\r\n\t\tif (type === 'Tabs') {\r\n\t\t\treturn this.renderTabs();\r\n\t\t}\r\n\t\tif (type === 'Radio') {\r\n\t\t\treturn this.renderRadio();\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t{this.renderDefaultValueItem()}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype !== 'Text' && type !== 'Breadcrumb' ?\r\n\t\t\t\t\t\t(<Form.Item {...formItemLayout} label=\"placeholder\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('placeholder', {\r\n\t\t\t\t\t\t\t\tinitialValue: placeholder,\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { visible, onClose, form, dropConfig } = this.props;\r\n\t\tconst initialCellStyles = objToStr(dropConfig.cellStyles);\r\n\t\tconst { type, radioType, textAlign = 'center' } = dropConfig;\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\ttitle=\"编辑组件\"\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tthis.onCloseEdit();\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<Form.Item label=\"style设置\" {...formItemLayout}>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"cellStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialCellStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype === 'Button' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"对齐方式\" {...formItemLayout}>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"textAlign\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: textAlign,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t左\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t中\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t右\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype === 'Radio' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"类型\" {...formItemLayout}>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"radioType\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: radioType,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t默认\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"tab\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"tab\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\ttab\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n                    {\r\n                        this.renderContent()\r\n                    }\r\n                    <div className=\"btn-box\">\r\n\t\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t        <div className=\"btn-bottom-box\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t        </div>\r\n\t\t    \t</Form>\r\n\t    \t</Drawer>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Form.create()(CompEdit);","const initDropData = (dragData, context, isFormItem = false) => {\r\n    const { dropComponent, dropConfig } = context.state;\r\n    const { type, ...defaultConfigs } = dragData;\r\n    let newDropConfig = {\r\n        textAlign: 'left',\r\n        configs: {},\r\n    };\r\n    if (dropComponent) {\r\n        if (type === 'Button' && dropConfig.type === 'Button') {\r\n            newDropConfig = Object.assign({}, dropConfig);\r\n            newDropConfig.configs.buttonArr.push({\r\n                btnIndex: context.btnIndex,\r\n                ...defaultConfigs,\r\n            });\r\n            context.btnIndex += 1;\r\n        } else {\r\n            return;\r\n        }\r\n    } else {\r\n        if (type === 'Button') {\r\n            newDropConfig.configs.buttonArr = [{\r\n                btnIndex: context.btnIndex,\r\n                ...defaultConfigs,\r\n            }];\r\n            context.btnIndex += 1;\r\n        } else {\r\n            newDropConfig = {\r\n                configs: {...defaultConfigs},\r\n            };\r\n        }\r\n        newDropConfig.type = type;\r\n    }\r\n    if (isFormItem && newDropConfig.type !== 'Button') {\r\n        newDropConfig.originSpan = context.props.originSpan;\r\n        newDropConfig.cellStyles = context.props.cellStyles;\r\n        newDropConfig.colIndex = context.props.colIndex;\r\n        newDropConfig.colSpan = context.props.colSpan;\r\n        newDropConfig.configs.label = type;\r\n        newDropConfig.configs.name = `name-${context.props.colIndex}`;\r\n    }\r\n    return newDropConfig;\r\n};\r\n\r\nexport default initDropData;","import { FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER } from './Constants';\r\n\r\nconst containerArr = [FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER];\r\n\r\nconst isContainer = (type) => {\r\n    return containerArr.indexOf(type) > -1;\r\n};\r\n\r\nconst isLogin = () => {\r\n    return !!localStorage.getItem('access_token') && !!localStorage.getItem('webapi');\r\n}\r\n\r\nconst isIndex = (i) => {\r\n    return (/\\d+/).test(i);\r\n};\r\n\r\nexport {\r\n    isLogin,\r\n    isIndex,\r\n};\r\n\r\nexport default isContainer;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Icon } from 'antd';\r\nimport DropRender from './DropRender';\r\nimport CompEdit from '../../EditDrawer/CompEdit';\r\nimport { activeColor } from '../../../utils/Constants';\r\nimport initDropData from '../../../utils/DropUtil';\r\nimport isContainer from '../../../utils/common';\r\nimport './index.css';\r\n\r\nconst clsName = 'drop-container';\r\n\r\nclass DropContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dropConfig: props.preview ? props.dropConfig : {},\r\n            showEdit: false,\r\n            dropComponent: false,\r\n        };\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.onDragenter = this.onDragenter.bind(this);\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.btnIndex = 1;\r\n    }\r\n    componentDidMount() {\r\n        if (!this.DropDom || this.props.preview) {\r\n            return;\r\n        }\r\n        this.DropDom.addEventListener(\"drop\", this.onDrop, false);\r\n        this.DropDom.addEventListener(\"dragleave\", this.onDragLeave, false);\r\n        this.DropDom.addEventListener(\"dragenter\", this.onDragenter, false);\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.DropDom && !this.props.preview) {\r\n            this.DropDom.removeEventListener('drop', this.onDrop);\r\n            this.DropDom.removeEventListener('dragleave', this.onDragLeave);\r\n            this.DropDom.removeEventListener(\"dragenter\", this.onDragenter);\r\n        }\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            showEdit: !this.state.showEdit,\r\n        });\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...dropConfig }) {\r\n        const { onUpdateLayoutConfig, dropIndex } = this.props;\r\n        const newState = {\r\n            dropConfig: {\r\n                dropIndex,\r\n            },\r\n        };\r\n        // 删除组件\r\n        if (deleteFlag) {\r\n            newState.dropComponent = false;\r\n            newState.dropConfig.cellStyles = dropConfig.cellStyles;\r\n        } else {\r\n            newState.dropConfig = Object.assign({}, this.state.dropConfig, Object.hasOwnProperty.call(dropConfig, 'configs')\r\n            ? { configs: dropConfig.configs } : dropConfig);\r\n        }\r\n        this.setState({\r\n            ...newState,\r\n        });\r\n        onUpdateLayoutConfig({\r\n            ...newState.dropConfig,\r\n            deleteFlag,\r\n            dropIndex,\r\n        });\r\n        if (!isContainer(this.state.dropConfig.type)) {\r\n            this.onToggleEdit();\r\n        }\r\n    }\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (event.target.className === clsName) {\r\n            this.resetBg();\r\n            const data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            const { onUpdateLayoutConfig, dropIndex } = this.props;\r\n            const { type, ...newDropConfig } = initDropData(data, this);\r\n            if (newDropConfig) {\r\n                this.setState({\r\n                    dropConfig: {\r\n                        type,\r\n                        dropIndex,\r\n                        ...newDropConfig,\r\n                    },\r\n                    dropComponent: true,\r\n                }, () => {\r\n                    onUpdateLayoutConfig(this.state.dropConfig);\r\n                });\r\n            }\r\n        }\r\n    }\r\n    resetBg() {\r\n        const dropDomArr = document.querySelectorAll('.drop-container');\r\n        if (dropDomArr) {\r\n            dropDomArr.forEach((item) => {\r\n                item.style.background = '';\r\n            });\r\n        }\r\n    }\r\n    onDragenter(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = activeColor;\r\n        }\r\n    }\r\n    onDragLeave(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = '';\r\n        }\r\n    }\r\n    render() {\r\n        const { dropComponent, dropConfig, showEdit } = this.state;\r\n        const { dropIndex, layerConfig, preview } = this.props;\r\n        const newDropConfig = preview ? this.props.dropConfig :\r\n            Object.assign({ dropIndex }, dropConfig);\r\n        return (\r\n            <div\r\n                className=\"drop-container\"\r\n                ref={(DropDom) => { this.DropDom = DropDom; }}\r\n            >\r\n                {\r\n                  dropComponent || preview ? (\r\n                    <Fragment> \r\n                        <DropRender\r\n                            {...this.props}\r\n                            onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                            dropConfig={newDropConfig}\r\n                        />\r\n                        {\r\n                            !isContainer(dropConfig.type) && !preview ? ( <Icon\r\n                                type=\"bars\"\r\n                                className=\"icon-operation\"\r\n                                onClick={this.onToggleEdit}\r\n                            />) : null\r\n                        }\r\n                    </Fragment>\r\n                    ) : !preview ? <Icon type=\"drag\" /> : null\r\n                }\r\n                <CompEdit\r\n                    visible={showEdit}\r\n                    dropConfig={dropConfig}\r\n                    layerConfig={layerConfig}\r\n                    inForm={false}\r\n                    onClose={this.onToggleEdit}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DropContainer;","import React, { Component } from 'react';\r\nimport { Button, Form, Input, Select, Drawer } from 'antd';\r\nimport  { objToStr, strToObj } from '../../../utils/CellUtil';\r\nimport { HEADER_CONTINAER, FALSE } from '../../../utils/Constants';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst TextArea = Input.TextArea;\r\nconst Option = Select.Option;\r\n\r\nclass BoxEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onClose } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { boxStyles, ...rest } = values;\r\n                const configs = {\r\n                    boxStyles: strToObj(boxStyles),\r\n                    ...rest,\r\n                };\r\n                onClose(configs);\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { visible, form, onClose, configs = {}, onDeleteContainer, type } = this.props;\r\n        const { boxStyles = {}, layoutColumn = 3, positionFixed = FALSE } = configs;\r\n        const initialBoxStyles = objToStr(boxStyles);\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Drawer\r\n                visible={visible}\r\n                maskClosable={false}\r\n                width={420}\r\n                title=\"编辑列\"\r\n                onClose={() => {\r\n                    onClose(0);\r\n                }}\r\n            >\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"style设置\"\r\n                        {...formItemLayout}\r\n                    >\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"boxStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialBoxStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n                    {\r\n                        type === HEADER_CONTINAER ? (\r\n                            <Form.Item\r\n                            label=\"位置固定\"\r\n                            {...formItemLayout}\r\n                        >\r\n                            {getFieldDecorator('positionFixed', {\r\n                                initialValue: positionFixed,\r\n    \r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"1\">是</Option>\r\n                                    <Option value=\"0\">否</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                        ) : null\r\n                    }\r\n                    <Form.Item\r\n                        label=\"容器列\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('layoutColumn', {\r\n                            initialValue: layoutColumn,\r\n                            rules: [\r\n                                { required: true, message: '请选择列数!' },\r\n                            ],\r\n                        })(\r\n                            <Select>\r\n                                <Option value=\"1\">1</Option>\r\n                                <Option value=\"2\">2</Option>\r\n                                <Option value=\"3\">3</Option>\r\n                                <Option value=\"4\">4</Option>\r\n                                <Option value=\"5\">5</Option>\r\n                                <Option value=\"6\">6</Option>\r\n                                <Option value=\"7\">7</Option>\r\n                                <Option value=\"8\">8</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    <div className=\"btn-box\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </div>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(BoxEdit);","import React, { PureComponent } from 'react';\r\nimport { Icon, Button } from 'antd';\r\nimport DropContainer from '../DropContainer';\r\nimport BoxEdit from '../../EditDrawer/BoxEdit';\r\nimport './index.css';\r\n\r\nclass BoxContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            configs: {\r\n                cellsArr: [{\r\n                    dropIndex: 0,\r\n                }],\r\n                layoutColumn: 1, // 默认有一列\r\n            },\r\n        };\r\n        this.onAddRowCell = this.onAddRowCell.bind(this);\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            visible: !this.state.visible,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n        this.onToggleEdit();\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const { onUpdateLayoutConfig, layoutIndex, layoutColumn } = this.props;\r\n        const newConfigs = Object.assign({ ...configs }, layoutColumn);\r\n        const newCellsArr = newConfigs.cellsArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.dropIndex !== item.dropIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        dropIndex: values.dropIndex,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.dropIndex === item.dropIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newConfigs.cellsArr = newCellsArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    onAddRowCell() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        const { configs } = this.state;\r\n        const { cellsArr, layoutColumn } = configs;\r\n        const newCellsArr = cellsArr.concat([{\r\n            dropIndex: cellsArr.length,\r\n        }]);\r\n        const newConfigs = {\r\n            layoutColumn,\r\n            cellsArr: newCellsArr,\r\n        };\r\n        const newState = {\r\n            configs: newConfigs,\r\n        };\r\n        this.setState({\r\n            ...newState,\r\n        }, () => {\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    rendeCell(layoutColumn) {\r\n        if (!layoutColumn) {\r\n            return null;\r\n        }\r\n        const { preview, context = this, apiData, execFetchApi, onShowLoginModal } = this.props;\r\n        const componentArr = [];\r\n        const width = `${100 / layoutColumn}%`;\r\n        const { configs } = preview ? this.props : this.state;\r\n        const { cellsArr } = configs;\r\n        const cellNum = cellsArr.length;\r\n        const { layerConfig } = this.props;\r\n        const previewProps = {\r\n            preview,\r\n        };\r\n        for (let i = 0; i < cellNum; i++) {\r\n            previewProps.dropConfig = cellsArr[i];\r\n            componentArr.push((\r\n               <div className=\"cell border-box\" key={`cell-${layoutColumn}-${i}`} style={{ width }}>\r\n                    <DropContainer\r\n                        dropIndex={i}\r\n                        apiData={apiData}\r\n                        execFetchApi={execFetchApi}\r\n                        layerConfig={layerConfig}\r\n                        {...previewProps}\r\n                        onShowLoginModal={onShowLoginModal}\r\n                        context={context}\r\n                        onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                    />\r\n               </div>\r\n            ));\r\n        }\r\n        return componentArr;\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { onUpdateLayoutConfig, layoutIndex, configs = {}, preview } = this.props;\r\n        const { layoutColumn = 1, boxStyles } = configs;\r\n        return (\r\n            <div className={`fulu-cell-box ${ preview ? 'preview-mode' : 'edit-mode'}`} style={boxStyles}>\r\n                <div className=\"clear-box\">\r\n                    {this.rendeCell(+layoutColumn)}\r\n                </div>\r\n                <BoxEdit\r\n                    visible={visible}\r\n                    configs={configs}\r\n                    onClose={(configs) => {\r\n                        if (configs) {\r\n                            const layoutConfig = {\r\n                                layoutIndex,\r\n                            };\r\n                            const { layoutColumn } = configs;\r\n                            const { cellsArr } = this.state.configs;\r\n                            const newCellsArr = cellsArr.slice(0, layoutColumn);\r\n                            for (let i = 0; i < layoutColumn; i++) {\r\n                                if (newCellsArr.length <= i) {\r\n                                    newCellsArr.push({\r\n                                        dropIndex: i\r\n                                    });\r\n                                }\r\n                            }\r\n                            const newConfigs = {\r\n                                cellsArr: newCellsArr,\r\n                                layoutColumn,\r\n                                boxStyles: configs.boxStyles,\r\n                            };\r\n                            layoutConfig.configs = newConfigs;\r\n                            this.setState({\r\n                                configs: newConfigs,\r\n                            });\r\n                            onUpdateLayoutConfig(layoutConfig);\r\n                        }\r\n                        this.onToggleEdit();\r\n                    }}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                />\r\n                {\r\n                    !preview ? (\r\n                        <Icon type=\"form\" className=\"icon-operation\" onClick={this.onToggleEdit} />\r\n                    ) : null\r\n                }\r\n                {\r\n                    !preview ? (\r\n                        <div className=\"btn-add-box\">\r\n                            <Button onClick={this.onAddRowCell}>\r\n                                新增单元格\r\n                            </Button>\r\n                        </div>\r\n                    ) : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BoxContainer;","import React, { PureComponent } from 'react';\r\nimport { Icon } from 'antd';\r\nimport DropContainer from '../DropContainer';\r\nimport BoxEdit from '../../EditDrawer/BoxEdit';\r\nimport { TRUE } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nclass HeaderContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            configs: props.preview ? props.configs : {\r\n                cellsArr: [{\r\n                    dropIndex: 0,\r\n                }],\r\n                layoutColumn: 1, // 默认有一列\r\n            },\r\n        };\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            visible: !this.state.visible,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n        this.onToggleEdit();\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const { onUpdateLayoutConfig, layoutIndex, layoutColumn } = this.props;\r\n        const newConfigs = Object.assign({}, configs, layoutColumn);\r\n        const newCellsArr = newConfigs.cellsArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.dropIndex !== item.dropIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        dropIndex: values.dropIndex,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.dropIndex === item.dropIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newConfigs.cellsArr = newCellsArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    rendeCell(layoutColumn) {\r\n        if (!layoutColumn) {\r\n            return null;\r\n        }\r\n        const componentArr = [];\r\n        const width = `${100 / layoutColumn}%`;\r\n        const { configs } = this.state;\r\n        const { preview } = this.props;\r\n        const { cellsArr = [] } = configs;\r\n        const cellNum = cellsArr.length;\r\n        for (let i = 0; i < cellNum; i++) {\r\n            componentArr.push((\r\n               <div className=\"cell border-box\" key={`cell-${layoutColumn}-${i}`} style={{ width }}>\r\n                    < DropContainer\r\n                        dropIndex={i}\r\n                        preview={preview}\r\n                        dropConfig={cellsArr[i]}\r\n                        onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                    />\r\n               </div>\r\n            ));\r\n        }\r\n        return componentArr;\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { onUpdateLayoutConfig, layoutIndex, configs = {}, preview = false, type } = this.props;\r\n        const { layoutColumn = 1, boxStyles, positionFixed } = configs;\r\n        const positionCls = positionFixed === TRUE ? 'position-fixed' : '';\r\n        const previewCls = preview ? 'preview-box' : '';\r\n        return (\r\n            <div className={`header-box fulu-cell-box ${positionCls}  ${previewCls}`} style={boxStyles}>\r\n                {\r\n                    this.rendeCell(+layoutColumn)\r\n                }\r\n                <BoxEdit\r\n                    visible={visible}\r\n                    configs={configs}\r\n                    type={type}\r\n                    onClose={(configs) => {\r\n                        if (configs) {\r\n                            const layoutConfig = {\r\n                                layoutIndex,\r\n                            };\r\n                            const { layoutColumn } = configs;\r\n                            const { cellsArr } = this.state.configs;\r\n                            const newCellsArr = cellsArr.slice(0, layoutColumn);\r\n                            for (let i = 0; i < layoutColumn; i++) {\r\n                                if (newCellsArr.length <= i) {\r\n                                    newCellsArr.push({\r\n                                        dropIndex: i\r\n                                    });\r\n                                }\r\n                            }\r\n                            const newConfigs = {\r\n                                ...configs,\r\n                                cellsArr: newCellsArr,\r\n                            };\r\n                            layoutConfig.configs = newConfigs;\r\n                            this.setState({\r\n                                configs: newConfigs,\r\n                            });\r\n                            onUpdateLayoutConfig(layoutConfig);\r\n                        }\r\n                        this.onToggleEdit();\r\n                    }}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                />\r\n                {\r\n                    !preview ? \r\n                        <Icon type=\"form\" className=\"icon-operation\" onClick={this.onToggleEdit} /> : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HeaderContainer;","import React, { Fragment } from 'react';\r\nimport { Button, Checkbox, Input, Icon, Tabs, Select, DatePicker, Breadcrumb, Radio, Form } from 'antd';\r\nimport FormContainer from '../component/Container/FormContainer';\r\nimport LineContainer from '../component/Container/LineContainer';\r\nimport TableContainer from '../component/Container/TableContainer';\r\nimport BoxContainer from '../component/Container/BoxContainer';\r\nimport HeaderContainer from '../component/Container/HeaderContainer';\r\nimport { TRUE } from './Constants';\r\nimport formItemLayout from '../configs/layout';\r\nimport { isIndex } from './common';\r\n\r\nconst CheckboxGroup = Checkbox.Group;\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nconst { TabPane } = Tabs;\r\nconst { TextArea } = Input;\r\n\r\nconst renderComponent = (renderConfig, props) => {\r\n    const { placeholder = '', type = 'Input' } = renderConfig;\r\n    let component = null;\r\n    switch(type) {\r\n        case 'Text':\r\n            component = renderText(renderConfig);\r\n            break;\r\n        case 'Breadcrumb':\r\n            component = renderBreadcrumb(renderConfig);\r\n            break;\r\n        case 'Select':\r\n            component = renderSelect(renderConfig);\r\n            break;\r\n        case 'RangePicker':\r\n            component = renderRangePicker(renderConfig);\r\n            break;\r\n        case 'DatePicker':\r\n            component = renderDatePicker(renderConfig);\r\n            break;\r\n        case 'Radio':\r\n            component = renderRadio(renderConfig);\r\n            break;\r\n        case 'Checkbox':\r\n            component = renderCheckbox(renderConfig);\r\n            break;\r\n        case 'Tabs':\r\n            component = renderTabs(renderConfig);\r\n            break;\r\n        case 'Button':\r\n            component = renderBtn(renderConfig, props);\r\n            break;\r\n        case 'FormContainer':\r\n            component = renderForm(renderConfig, props);\r\n            break;\r\n        case 'LineContainer':\r\n            component = renderLine(renderConfig, props);\r\n            break;\r\n        case 'TableContainer':\r\n            component = renderTable(renderConfig, props);\r\n            break;\r\n        case 'BoxContainer':\r\n            component = renderBox(renderConfig, props);\r\n            break;\r\n        case 'HeaderContainer':\r\n            component = renderHeader(renderConfig, props);\r\n            break;\r\n        case 'TextArea':\r\n            component = renderTextArea(renderConfig);\r\n            break;\r\n        case 'Input':\r\n            component = (<Input placeholder={placeholder} />);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    return component;\r\n};\r\n\r\nconst renderTextArea = (configs) => {\r\n    const { colIndex, dropIndex, originSpan, cellStyles, hasLinkage,  ...rest } = configs;\r\n    return (<TextArea {...rest} />);\r\n};\r\n\r\nconst renderForm = (configs, props) => {\r\n    return (<FormContainer {...configs} {...props} />);\r\n};\r\n\r\nconst renderHeader = (configs) => {\r\n    return (<HeaderContainer {...configs} />);\r\n};\r\n\r\nconst renderTable = (configs, props) => {\r\n    return (<TableContainer {...configs} {...props} />);\r\n};\r\n\r\nconst renderLine = (configs) => {\r\n    return (<LineContainer {...configs} />)\r\n};\r\n\r\nconst renderBox = (configs, props) => {\r\n    return (<BoxContainer {...configs} {...props} />);\r\n};\r\n\r\nconst renderBreadcrumb = ({ configs }) => {\r\n    const { breadcrumbArr = [], style } = configs;\r\n    return (\r\n        <Breadcrumb style={style}>\r\n            {\r\n                breadcrumbArr.map(({ label, value }, i) => {\r\n                    return (\r\n                        <Breadcrumb.Item key={`breadcrumb-${i}`}>\r\n                            { value ? \r\n                                <a href={value}>{label}</a> : <span>{label}</span>\r\n                            }\r\n                        </Breadcrumb.Item>\r\n                    );\r\n                })\r\n            }\r\n        </Breadcrumb>\r\n    )\r\n};\r\nconst renderText = ({ configs }) => {\r\n    const { text, style } = configs;\r\n    return (\r\n        <span style={style}>{text}</span>\r\n    );\r\n};\r\nconst renderRadio = ({ configs }) => {\r\n    const { style = {}, radioArr = [], radioType } = configs;\r\n    const RadioItem = radioType === 'tab' ? Radio.Button : Radio;\r\n    return (\r\n        <Radio.Group style={{ ...style }}>\r\n            {\r\n                Array.isArray(radioArr) ? radioArr.map(({ key, label, value }) => {\r\n                    return (\r\n                        <RadioItem\r\n                            key={key || value}\r\n                            value={value}\r\n                        >\r\n                            {label}\r\n                        </RadioItem>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Radio.Group>\r\n    );\r\n};\r\nconst renderTabs = ({ configs }) => {\r\n    const { style = {}, tabsArr = [] } = configs;\r\n    return (\r\n        <Tabs style={style}>\r\n            {\r\n                Array.isArray(tabsArr) ? tabsArr.map(({ key, label, value }) => {\r\n                    return (\r\n                        <TabPane\r\n                            key={key || value}\r\n                            tab={label}\r\n                        >\r\n\r\n                        </TabPane>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Tabs>\r\n   );\r\n};\r\nconst renderCheckbox = ({ configs }) => {\r\n    const { style = {}, checkboxArr = [] } = configs;\r\n    if (checkboxArr.length > 0) {\r\n        return (\r\n            <CheckboxGroup options={checkboxArr} style={{ width: \"100%\", ...style }} />\r\n        );\r\n    }\r\n    return null;\r\n};\r\nconst renderSelect = ({ configs }) => {\r\n    const { style = {}, options, selectArr, ...rest } = configs;\r\n    const finalOptions = Object.hasOwnProperty.call(configs, 'options') ? configs.options : configs.selectArr;\r\n    return (\r\n        <Select style={{ width: '100%', ...style }} {...rest}>\r\n            {\r\n                Array.isArray(finalOptions) ? finalOptions.map(({ key, label, value }) => {\r\n                    return (\r\n                        <Option\r\n                            key={key || value}\r\n                            value={value}\r\n                        >\r\n                            {label}\r\n                        </Option>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Select>\r\n    );\r\n};\r\nconst renderDatePicker = ({ configs }) => {\r\n    const { showTime, format } = configs;\r\n        return (\r\n            <DatePicker\r\n                style={{ width: '100%' }}\r\n                showTime={showTime}\r\n                format={format}\r\n            />\r\n        );\r\n};\r\nconst renderRangePicker = ({ configs }) => {\r\n    const { showTime, format } = configs;\r\n        return (\r\n            <RangePicker\r\n                showTime={showTime}\r\n                format={format}\r\n                style={{ width: '100%' }}\r\n            />\r\n        );\r\n}\r\n\r\nconst renderBtn = ({ configs }, { context }) => {\r\n    const { buttonArr = [] } = configs;\r\n    const { expand, onCollapse } = context || {};\r\n    return (\r\n        <span className=\"btn-group\">\r\n            {\r\n                buttonArr.map((btnConfig) => {\r\n                    const { logicType, btnText, expandFlag = '0', expandCount, api, modalName, antdType,\r\n                        style = {}, textDisabled, btnIndex, ...btnProps } = btnConfig;\r\n                    if (expandFlag === TRUE) {\r\n                        const collapseBtnText = expand ? '隐藏' : '展开';\r\n                        return (\r\n                            <span\r\n                                className=\"btn-collapse\"\r\n                                onClick={onCollapse}\r\n                                style={style}\r\n                                key={`btn-${btnIndex}`}\r\n                            >\r\n                                {collapseBtnText}\r\n                                <Icon type={expand ? 'up' : 'down'} />\r\n                            </span>\r\n                            );\r\n                    }\r\n                    if (btnConfig.htmlType !== 'submit' && btnConfig.htmlType !== 'reset') {\r\n                        btnProps.onClick = (e) => {\r\n                            if (context) {\r\n                                if (modalName) {\r\n                                    context.onShowModal(e, modalName, api);\r\n                                }\r\n                            }\r\n                        };\r\n                    }\r\n                    return (\r\n                        <Button\r\n                            key={`btn-${btnIndex}`}\r\n                            style={style}\r\n                            type={antdType}\r\n                            {...btnProps}\r\n                        >\r\n                            {btnText}\r\n                        </Button>\r\n                    );\r\n                })\r\n            }\r\n        </span>\r\n    );\r\n}\r\n\r\nconst renderExpandBtn = (config, expand, onCollapse) => {\r\n    const { btnArr } = config;\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    btnArr.map((btn) => {\r\n                        const { btnText = 'button', type, index, props,\r\n                            style = {}, expandFlag = '0' } = btn;\r\n                        if (expandFlag === '1') {\r\n                            const collapseBtnText = expand ? '隐藏' : '展开';\r\n                            return (\r\n                                <a\r\n                                    className=\"btn-collapse\"\r\n                                    onClick={onCollapse}\r\n                                    href=\"javascript:void(0);\"\r\n                                    style={style}\r\n                                    key={`btn-${index}`}\r\n                                >\r\n                                    {collapseBtnText}\r\n                                    <Icon type={expand ? 'up' : 'down'} />\r\n                                </a>\r\n                                );\r\n                        }\r\n                        return (\r\n                            <Button\r\n                                key={`btn-${index}`}\r\n                                type={type}\r\n                                style={style}\r\n                                {...props}\r\n                            >\r\n                                {btnText}\r\n                            </Button>\r\n                        );\r\n                    })\r\n                }\r\n            </Fragment>\r\n        );\r\n};\r\n\r\nconst renderConfigForm = (form, renderConfig, initData = {}) => {\r\n    const { getFieldDecorator } = form;\r\n    const hasIndex = isIndex(initData.index);\r\n    if (Array.isArray(renderConfig)) {\r\n        return renderConfig.map((cf) => {\r\n            const { label, key, rules = [], initialValue, required, ...restConfig } = cf;\r\n            if (required) {\r\n                rules.push({\r\n                    required: true, message: `请输入${label}`,\r\n                });\r\n            }\r\n            return (\r\n                <Form.Item label={label} key={`${key}-item`} {...formItemLayout}>\r\n                    {getFieldDecorator(hasIndex ? `${key}-${initData.index}` : key, {\r\n                            rules,\r\n                            initialValue: initData[key] || initialValue,\r\n                        })(renderComponent({ type: restConfig.type, configs: restConfig }))}\r\n                </Form.Item>\r\n            );\r\n        });\r\n    }\r\n    return null;\r\n};\r\n\r\nconst renderModalSelect = (layerConfig = {}, form, initialValue, key = '') => {\r\n    const keyStr = `${key}`;\r\n    const { modalArr = [] } = layerConfig;\r\n    if (modalArr.length === 0) {\r\n        return null;\r\n    }\r\n    const formItemKey = keyStr ? `modal-item-${keyStr}` : 'modal-item';\r\n    const formNameKey = keyStr ? `modalName-${keyStr}` : 'modalName';\r\n    return (\r\n        <Form.Item\r\n            key={formItemKey}\r\n            label=\"打开modal\"\r\n            {...formItemLayout}\r\n        >\r\n            {form.getFieldDecorator(formNameKey, {\r\n                rules: [{ required: true, 'message': 'modal' }],\r\n                initialValue,\r\n            })(\r\n                <Select placeholder=\"modal\">\r\n                    {\r\n                        modalArr.map(({ index, name }) => {\r\n                            return (\r\n                                <Option key={`modalName-${index}`} value={name}>{name}</Option>\r\n                            )\r\n                        })\r\n                    }\r\n                </Select>\r\n            )}\r\n        </Form.Item>\r\n    );\r\n};\r\n\r\nconst renderApiSelect = (layerConfig = {}, form, compData) => {\r\n    const { initialValue, key = '', label = '调用api', apiName } = compData;\r\n    const keyStr = `${key}`;\r\n    const { apiArr = [] } = layerConfig;\r\n    if (apiArr.length === 0) {\r\n        return null;\r\n    }\r\n    const formItemKey = apiName ? `api-item-${apiName}` : keyStr ? `api-item-${keyStr}` : 'modal-item';\r\n    const formNameKey = apiName ? apiName : keyStr ? `api-${keyStr}` : 'api';\r\n    return (\r\n        <Form.Item\r\n            key={formItemKey}\r\n            label={label}\r\n            {...formItemLayout}\r\n        >\r\n            {form.getFieldDecorator(formNameKey, {\r\n                rules: [{ required: true, 'message': 'api' }],\r\n                initialValue,\r\n            })(\r\n                <Select placeholder=\"api\">\r\n                    {\r\n                        apiArr.map(({ index, requestApi }) => {\r\n                            return (\r\n                                <Option key={`api-${index}`} value={requestApi}>{requestApi}</Option>\r\n                            )\r\n                        })\r\n                    }\r\n                </Select>\r\n            )}\r\n        </Form.Item>\r\n    );\r\n};\r\n\r\nexport default renderComponent;\r\n\r\nexport {\r\n    renderExpandBtn,\r\n    renderModalSelect,\r\n    renderApiSelect,\r\n    renderConfigForm,\r\n};","import React, { Component, Fragment } from 'react';\r\nimport { Button, Divider, message, Form, Input, Select, Drawer } from 'antd';\r\nimport { renderApiSelect } from '../../../utils/RenderUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\n\r\nclass FormEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n    handleChange(value) {\r\n        const colSpanValues = {};\r\n        const val = 24 / value;\r\n        for(let i = 0; i < value; i++) {\r\n            colSpanValues[`colSpan-${i}`] = val;\r\n        }\r\n        setTimeout(() => {\r\n            this.props.form.setFieldsValue(colSpanValues);\r\n        }, 0);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onClose } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const lcNum = +values.layoutColumn;\r\n                let colSpanTotal = 0;\r\n                const configs = {\r\n                    colSpanArr: [],\r\n                };\r\n                for (let i = 0; i < lcNum; i++) {\r\n                    const colSpan = +values[`colSpan-${i}`];\r\n                    delete values[`colSpan-${i}`];\r\n                    colSpanTotal += colSpan;\r\n                    configs.colSpanArr.push(colSpan);\r\n                }\r\n                if (colSpanTotal > 24) {\r\n                    message.error('跨列总数不能超过24!');\r\n                    return;\r\n                }\r\n                onClose(Object.assign(configs, values));\r\n            }\r\n        });\r\n    }\r\n    renderColSpanInputs() {\r\n        const { form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const layoutColumn = +form.getFieldValue('layoutColumn');\r\n        const componentArr = [];\r\n        for (let i = 0; i < layoutColumn; i++) {\r\n            componentArr.push(\r\n                <Form.Item\r\n                    key={`formitem-${i}`}\r\n                    label={`第${i+1}列`}\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator(`colSpan-${i}`, {\r\n                        initialValue: 24 / layoutColumn,\r\n                        rules: [\r\n                            { required: true, message: '请输入列宽!' },\r\n                            { pattern: /^[1-9](\\d)?$/, message: '只能包含数字！' }\r\n                        ],\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n            );\r\n        }\r\n        return componentArr;\r\n    }\r\n    renderApiFormItem() {\r\n        const { form, layerConfig } = this.props;\r\n        if (form.getFieldValue('formType') === 'query') {\r\n            return renderApiSelect(layerConfig, form, { label: '查询api', apiName: 'queryApi' });\r\n        }\r\n        return (\r\n            <Fragment>\r\n                {renderApiSelect(layerConfig, form, { label: '新增api', apiName: 'addApi' })}\r\n                {renderApiSelect(layerConfig, form, { label: '编辑api', apiName: 'editApi' })}\r\n            </Fragment>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, form, onClose, onDeleteContainer } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Drawer\r\n                visible={visible}\r\n                maskClosable={false}\r\n                width={420}\r\n                title=\"编辑列\"\r\n                onClose={() => {\r\n                    onClose(0);\r\n                }}\r\n            >\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"表单列\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('layoutColumn', {\r\n                            initialValue: 3,\r\n                            rules: [\r\n                                { required: true, message: '请选择列数!' },\r\n                            ],\r\n                        })(\r\n                            <Select onChange={this.handleChange}>\r\n                                <Option value=\"1\">1</Option>\r\n                                <Option value=\"2\">2</Option>\r\n                                <Option value=\"3\">3</Option>\r\n                                <Option value=\"4\">4</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    <Divider />\r\n                    {this.renderColSpanInputs()}\r\n                    <Divider />\r\n                    <Form.Item\r\n                        label=\"表单类型\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('formType', {\r\n                            initialValue: 'query',\r\n                            rules: [\r\n                                { required: true, message: '请选择表单类型!' },\r\n                            ],\r\n                        })(\r\n                            <Select>\r\n                                <Option value=\"query\">查询</Option>\r\n                                <Option value=\"save\">新增/编辑</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    {\r\n                        this.renderApiFormItem()\r\n                    }\r\n                    <div className=\"btn-box\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </div>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(FormEdit);","import React, { Component, Fragment } from 'react';\r\nimport { Form, Col } from 'antd';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\nimport moment  from 'moment';\r\n\r\nclass FormItemRender extends Component {\r\n    getInitialValue(formItemConfig = {}) {\r\n        const { type = 'Input', initialValue } = formItemConfig;\r\n        if (type === 'DatePicker' || type === 'RangePicker') {\r\n            return initialValue && moment(initialValue, 'YYYY-MM-DD');\r\n        }\r\n        return formItemConfig.initialValue || '';\r\n    }\r\n\r\n\trender() {\r\n        const { formItemConfig, form, context, preview = false } =this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { configs } = formItemConfig;\r\n        const { colSpan, label, name, rules = [], cellStyles = {}, required, hasLinkage } = configs;\r\n        const { type, textAlign } = formItemConfig;\r\n        const md = colSpan || 8;\r\n        if (!name && type !== 'Button') {\r\n            return null;\r\n        }\r\n        // 联动显示控制\r\n        if (hasLinkage === '1') {\r\n            const { linkName, condition } = configs;\r\n            if (form.getFieldValue(linkName) !== condition) {\r\n                return null;\r\n            }\r\n        }\r\n        if (required) {\r\n            rules.push({\r\n                required: true, message: `请输入${label}`,\r\n            });\r\n        }\r\n        const styleObj = type === 'Button' ? Object.assign({}, cellStyles, { textAlign }) : cellStyles;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Col\r\n\t\t\t        span={colSpan}\r\n                    md={md} sm={24}\r\n\t\t\t    >\r\n                    {\r\n                        type !== 'Button' ?\r\n                            (\r\n                                <Form.Item label={label} style={styleObj}>\r\n                                    {getFieldDecorator(name, {\r\n                                        rules: rules || [],\r\n                                        initialValue: this.getInitialValue(configs),\r\n                                    })(\r\n                                        renderComponent(formItemConfig, preview, context)\r\n                                    )}\r\n                                </Form.Item>\r\n                            ) : (\r\n                                <Form.Item style={styleObj}>\r\n                                    {\r\n                                        renderComponent(formItemConfig, preview, context)\r\n                                    }\r\n                                </Form.Item>\r\n                            )\r\n                    }\r\n\t\t\t      \r\n\t\t\t    </Col>\r\n\t\t    </Fragment>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default FormItemRender;","import React, { Fragment } from 'react';\r\nimport { Button, Card, Drawer, Divider, Select, Input, Icon, Form } from 'antd';\r\nimport BaseEdit from '../../Core/BaseEdit';\r\nimport { objToStr } from '../../../utils/CellUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport { TRUE } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\n\r\nclass FormItemEdit extends BaseEdit {\r\n\tgetItemSetType() {\r\n\t\treturn ['Select', 'Button', 'Radio', 'Checkbox'];\r\n\t}\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tbuttonArr: [],\r\n\t\t\tselectArr: [],\r\n\t\t\tradioArr: [],\r\n\t\t\tcheckboxArr: [],\r\n\t\t};\r\n\t\tthis.onAddCellStyleItem = this.onAddCellStyleItem.bind(this);\r\n\t\tthis.onDeleteCellStyleItem = this.onDeleteCellStyleItem.bind(this);\r\n\t}\r\n\tonAddCellStyleItem() {\r\n\t\tconst { cellStyles = [] } = this.state;\r\n\t\tconst newCellStyles = cellStyles.slice();\r\n\t\tnewCellStyles.push({\r\n\t\t\tvalue: '',\r\n\t\t\tname: '',\r\n\t\t\tindex: this.cellStyleIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tcellStyles: newCellStyles,\r\n\t\t});\r\n\t\tthis.cellStyleIndex += 1;\r\n\t}\r\n\tonDeleteCellStyleItem(index) {\r\n\t\tconst { cellStyles = [] } = this.state;\r\n\t\tconst newCellStyles = cellStyles.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tcellStyles: newCellStyles,\r\n\t\t});\r\n\t}\r\n\trenderLinkage(dropConfig, formItemArr) {\r\n\t\tconst { condition, linkName } = dropConfig;\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"关联组件name\">\r\n\t\t\t\t\t{getFieldDecorator('linkName', {\r\n\t\t\t\t\t\tinitialValue: linkName,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tformItemArr.map(({ name, colIndex, label }) => {\r\n\t\t\t\t\t\t\t\t\tif (name && colIndex !== dropConfig.colIndex) {\r\n\t\t\t\t\t\t\t\t\t\treturn (<Option value={`${name}`}>{`${name}/${label}`}</Option>);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"condition\">\r\n\t\t\t\t\t{getFieldDecorator('condition', {\r\n\t\t\t\t\t\tinitialValue: condition,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trenderDatePickerExtra(dropConfig) {\r\n\t\tconst { showTime = false, format = 'YYYY-MM-DD' } = dropConfig;\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t\t<Form.Item {...formItemLayout} label=\"showTime\">\r\n\t\t\t\t\t\t{getFieldDecorator('showTime', {\r\n\t\t\t\t\t\t\tinitialValue: showTime === TRUE ? '1' : '0',\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item {...formItemLayout} label=\"format\">\r\n\t\t\t\t\t\t{getFieldDecorator('format', {\r\n\t\t\t\t\t\t\tinitialValue: format,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trenderContent() {\r\n\t\tconst { deleteComponent } = this.state;\r\n\t\tconst { form, dropComponent = false, dropConfig = {}, formItemArr } = this.props;\r\n\t\tconst { type } = dropConfig;\r\n\t\tconst { label, name, placeholder, linkage, required } = dropConfig.configs || {};\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tif (dropComponent && !deleteComponent) {\r\n\t\t\tif (type === 'Button') {\r\n\t\t\t\treturn this.renderBtnCard();\r\n\t\t\t}\r\n\t\t\treturn (<Fragment>\r\n\t\t\t\t<Divider>组件</ Divider>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"label\">\r\n\t\t\t\t\t{getFieldDecorator('label', {\r\n\t\t\t\t\t\tinitialValue: label,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"name\">\r\n\t\t\t\t\t{getFieldDecorator('name', {\r\n\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"required\">\r\n\t\t\t\t\t{getFieldDecorator('required', {\r\n\t\t\t\t\t\tinitialValue: required,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select allowClear>\r\n\t\t\t\t\t\t\t<Option value={1}>是</Option>\r\n\t\t\t\t\t\t\t<Option value={0}>否</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'DatePicker' || type === 'RangePicker' ? \r\n\t\t\t\t\t\tthis.renderDatePickerExtra(dropConfig) : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Radio' ? this.renderRadio() : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Checkbox' ? this.renderCheckbox() : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Select' ? this.renderSelect() : null\r\n\t\t\t\t}\r\n\t\t\t\t{this.renderDefaultValueItem()}\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"placeholder\">\r\n\t\t\t\t\t{getFieldDecorator('placeholder', {\r\n\t\t\t\t\t\tinitialValue: placeholder,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"联动关联\">\r\n\t\t\t\t\t{getFieldDecorator('hasLinkage', {\r\n\t\t\t\t\t\tinitialValue: linkage,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{\r\n\t\t\t\t\tform.getFieldValue('hasLinkage') === '1' ?\r\n\t\t\t\t\t\tthis.renderLinkage(dropConfig, formItemArr) : null\r\n\t\t\t\t}\r\n\t\t\t\t<Form.Item style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderCellStylesSetting() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { cellStyles } = this.state;\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle=\"style设置\"\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={this.onAddCellStyleItem} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tcellStyles.map(({ name, value, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`cell-styleitem-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`cell-styleitem-name-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`styleName-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"style name\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`cell-styleitem-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block', marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`styleValue-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"style value\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteCellStyleItem(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { deleteComponent } = this.state;\r\n\t\tconst { visible, onClose, form, onDeleteFormItemContainer,\r\n\t\t\tdropConfig, colSpanArr = [], dropComponent } = this.props;\r\n\t\tlet initialColSpan = 1;\r\n\t\tlet tempColSpan = dropConfig.colSpan;\r\n\t\tfor (let i = 0; i < colSpanArr.length; i++) {\r\n\t\t\ttempColSpan -= colSpanArr[i].colSpan;\r\n\t\t\tif (tempColSpan > 0) {\r\n\t\t\t\tinitialColSpan++;\r\n\t\t\t} else {\r\n\t\t\t\ti = colSpanArr.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst { type, textAlign = 'left' } = dropConfig;\r\n\t\tconst initialCellStyles = objToStr(dropConfig.cellStyles);\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\ttitle=\"编辑表单项\"\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tthis.onCloseEdit();\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t\t\t<Divider>单元格</ Divider>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t\tlabel=\"style设置\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"cellStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialCellStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tkey=\"cell-colSpan\"\r\n\t\t\t\t\t\tlabel=\"跨列设置\"\r\n\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"originSpan\", {\r\n\t\t\t\t\t\t\tinitialValue: initialColSpan,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcolSpanArr.map((c, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`${c}-${i}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={i+1}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{`${i+1}列`}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!deleteComponent && dropComponent && type === 'Button' ? (\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"对齐方式\"\r\n\t\t\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"textAlign\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: textAlign,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t左\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t中\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t右\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<div className=\"btn-box\">\r\n\t\t\t\t\t\t<Button onClick={onDeleteFormItemContainer}>\r\n\t\t\t\t\t\t\t删除单元格\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n                    {\r\n                        this.renderContent()\r\n                    }\r\n\t\t\t        <div className=\"btn-bottom-box\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t        </div>\r\n\t\t    \t</Form>\r\n\t    \t</Drawer>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Form.create()(FormItemEdit);","import React, { PureComponent } from 'react';\r\nimport { Icon, message } from 'antd';\r\nimport FormItemRender from './FormItemRender';\r\nimport FormItemEdit from '../../EditDrawer/FormItemEdit';\r\nimport { activeColor } from '../../../utils/Constants';\r\nimport initDropData from '../../../utils/DropUtil';\r\nimport './index.css';\r\n\r\nconst clsName = 'drop-container border-box';\r\nconst forbiddenDropType = ['Breadcrumb', 'Text', 'Tabs'];\r\n\r\nclass FormItemContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        const dropConfig = this.getConfigFromProps();\r\n        this.state = {\r\n            dropComponent: dropConfig && dropConfig.type ? true : false, // 是否放入了组件\r\n            dropConfig: Object.assign({\r\n                colSpan: props.colSpan,\r\n                colIndex: props.colIndex,\r\n                originSpan: props.originSpan,\r\n                cellStyles: props.cellStyles || {},\r\n            }, dropConfig || {}), // 组件配置信息\r\n            visible: false,\r\n        };\r\n        this.btnIndex = 1;\r\n        this.onUpdateConfig = this.onUpdateConfig.bind(this);\r\n        this.onShowEditItem = this.onShowEditItem.bind(this);\r\n        this.onEditDropContainer = this.onEditDropContainer.bind(this);\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.onDeleteCol = this.onDeleteCol.bind(this);\r\n        this.onClose = this.onClose.bind(this);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.colSpan !== this.props.colSpan || nextProps.colIndex !== this.props.colIndex) {\r\n            const newdropConfig = Object.assign({},\r\n                this.state.dropConfig, {\r\n                    colSpan: nextProps.colSpan,\r\n                    colIndex: nextProps.colIndex,\r\n                    originSpan: nextProps.originSpan,\r\n                    cellStyles: nextProps.cellStyles,\r\n                });\r\n            this.setState({\r\n                dropConfig: newdropConfig,\r\n            });\r\n        }\r\n    }\r\n    getConfigFromProps() {\r\n        const { configs = {} } = this.props;\r\n        const { formItemArr = [] } = configs;\r\n        return formItemArr.find((formItem) => {\r\n            return formItem.colIndex === this.props.colIndex;\r\n        });\r\n    }\r\n    onShowEditItem() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        if (event.target.className === clsName) {\r\n            this.resetBg();\r\n            const data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            const { type } = data;\r\n            if (~forbiddenDropType.indexOf(type)) {\r\n                message.warn('当前容器不支持拖拽的组件!');\r\n                return;\r\n            }\r\n            const { onUpdateConfigs, colIndex } = this.props;\r\n            const dropConfig = initDropData(data, this, true);\r\n            if (dropConfig) {\r\n                this.setState({\r\n                    dropConfig: { colIndex, ...dropConfig },\r\n                    dropComponent: true,\r\n                }, () => {\r\n                    onUpdateConfigs(this.state.dropConfig);\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @desc  删除单元格\r\n     * @param {object} e \r\n     */\r\n    onDeleteCol(e) {\r\n        e && e.stopPropagation();\r\n        const { onUpdateConfigs, colIndex } = this.props;\r\n        const { dropConfig } = this.state;\r\n        this.setState({\r\n            dropConfig: {\r\n                colSpan: dropConfig.colSpan,\r\n                originSpan: dropConfig.originSpan,\r\n                colIndex,\r\n            },\r\n            dropComponent: false,\r\n        });\r\n        onUpdateConfigs({ colIndex, deleteFlag: true });\r\n    }\r\n    resetBg() {\r\n        const dropDomArr = document.querySelectorAll('.form-container .drop-container');\r\n        if (dropDomArr) {\r\n            dropDomArr.forEach((item) => {\r\n                item.style.background = '';\r\n            });\r\n        }\r\n    }\r\n    onDragenter(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = activeColor;\r\n        }\r\n    }\r\n    onDragLeave(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = '';\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.targetDom) {\r\n            this.targetDom.removeEventListener('drop', this.onDrop);\r\n            this.targetDom.removeEventListener('dragleave', this.onDragLeave);\r\n            this.targetDom.removeEventListener(\"dragenter\", this.onDragenter);\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (!this.targetDom) {\r\n            return;\r\n        }\r\n        this.targetDom.addEventListener(\"drop\", this.onDrop, false);\r\n        this.targetDom.addEventListener(\"dragleave\", this.onDragLeave, false);\r\n        this.targetDom.addEventListener(\"dragenter\", this.onDragenter, false);\r\n    }\r\n    onUpdateConfig(config) {\r\n        const { dropConfig } = this.state;\r\n        let newdropConfig = null;\r\n        // 删除单元格内的组件\r\n        if (config.deleteFlag) {\r\n            newdropConfig = {\r\n                colIndex: config.colIndex,\r\n                colSpan: config.colSpan,\r\n                originSpan: config.originSpan,\r\n                cellStyles: config.cellStyles,\r\n            }\r\n        } else {\r\n            const { colIndex, colSpan, originSpan, cellStyles, ...configs } = config;\r\n            newdropConfig = Object.assign(dropConfig, { colIndex, colSpan, originSpan, cellStyles, configs });\r\n        }\r\n        this.setState({\r\n            dropConfig: newdropConfig,\r\n            dropComponent: !config.deleteFlag,\r\n        }, () => {\r\n            const { onUpdateConfigs } = this.props;\r\n            onUpdateConfigs(newdropConfig);\r\n            this.onClose();\r\n        });\r\n    }\r\n    onEditDropContainer(e) {\r\n        if (e.target.className === clsName) {\r\n            e && e.stopPropagation();\r\n            this.setState({\r\n                visible: true,\r\n            });\r\n        }\r\n    }\r\n    onClose() {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    getContainerWidth(colSpan = 8) {\r\n        return `${100 * colSpan / 24 }%`;\r\n    }\r\n    render() {\r\n        const { dropComponent, dropConfig = {}, visible } = this.state;\r\n        const { layoutColumn, onDeleteFormItemContainer, colIndex, configs = {}, preview } = this.props;\r\n        const colIndexNum = + colIndex;\r\n        const _colSpan = Object.hasOwnProperty.call(dropConfig, 'colSpan') ? \r\n            dropConfig.colSpan : (24 / layoutColumn);\r\n        return (\r\n            <div\r\n                className={preview ? `preview-box ${clsName}` : clsName}\r\n                style={{\r\n                    width: this.getContainerWidth(_colSpan, layoutColumn),\r\n                }}\r\n                ref={(targetDom) => { this.targetDom = targetDom; }}\r\n            >\r\n                {\r\n                  dropComponent || preview ? (\r\n                        <FormItemRender\r\n                            {...this.props}\r\n                            formItemConfig={preview ? this.getConfigFromProps() : dropConfig}\r\n                        />\r\n                    ) : <Icon type=\"drag\" />\r\n                }\r\n                {\r\n                    !preview ? \r\n                        <Icon\r\n                            type=\"bars\"\r\n                            className=\"icon-operation\"\r\n                            onClick={this.onShowEditItem}\r\n                        /> : null\r\n                }\r\n                <FormItemEdit\r\n                    visible={visible}\r\n                    onDelete={this.onDeleteCol}\r\n                    onUpdateConfigs={this.onUpdateConfig}\r\n                    colSpanArr={configs.colSpanArr}\r\n                    formItemArr={configs.formItemArr}\r\n                    dropConfig={dropConfig}\r\n                    dropComponent={dropComponent}\r\n                    layoutColumn={layoutColumn}\r\n                    onDeleteFormItemContainer={() => {\r\n                        this.setState({\r\n                            visible: false,\r\n                        }, () => {\r\n                            onDeleteFormItemContainer(colIndexNum);\r\n                        });\r\n                    }}\r\n                    onClose={this.onClose}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FormItemContainer;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Form, Row, Button, message, Icon } from 'antd';\r\nimport FormEdit from '../../EditDrawer/FormEdit';\r\nimport getCellColSpan from '../../../utils/CellUtil';\r\nimport FormItemContainer from '../FormItemContainer';\r\nimport { getFormApi } from '../../../utils/FormUtil';\r\nimport { TRUE } from '../../../utils/Constants';\r\nimport { isLogin } from '../../../utils/common';\r\nimport './index.css';\r\n\r\nclass FormContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            fetchLoading: false,\r\n            expand: false, // 是否展开\r\n            configs: {\r\n                layoutColumn: 1, // 容器列数\r\n                formItemArr: [],\r\n            },\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onShowEditForm = this.onShowEditForm.bind(this);\r\n        this.onCloseEditForm = this.onCloseEditForm.bind(this);\r\n        this.renderFormItemContainer = this.renderFormItemContainer.bind(this);\r\n        this.onAddRow = this.onAddRow.bind(this);\r\n        this.onAddRowCell = this.onAddRowCell.bind(this);\r\n        this.onDeleteRow = this.onDeleteRow.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onDeleteFormItemContainer = this.onDeleteFormItemContainer.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onCollapse = this.onCollapse.bind(this);\r\n        this.colIndexStart = 0;\r\n    }\r\n    componentDidMount() {\r\n        const { onFormRenderCallBack, form } = this.props;\r\n        if (typeof onFormRenderCallBack === 'function') {\r\n            onFormRenderCallBack(form);\r\n        }\r\n    }\r\n    onShowEditForm() {\r\n        this.setState({\r\n            visible: true,\r\n            expand: false,\r\n        });\r\n    }\r\n    onCollapse() {\r\n        const { expand } = this.state;\r\n        this.setState({ expand: !expand });\r\n    }\r\n    addNewFormItem(formItemArr, layoutColumnNum, colSpanArr) {\r\n        if (formItemArr.length < layoutColumnNum) {\r\n            for(let i = formItemArr.length; i < layoutColumnNum; i++) {\r\n                formItemArr.push({\r\n                    colIndex: this.colIndexStart + i,\r\n                    colSpan: colSpanArr[i],\r\n                    originSpan: 1,\r\n                });\r\n            }\r\n        }\r\n        return formItemArr;\r\n    }\r\n    onCloseEditForm(configs) {\r\n        const newState = {\r\n            visible: false,\r\n        };\r\n        const { layoutColumn, colSpanArr } = configs;\r\n        const layoutColumnNum = +layoutColumn;\r\n        if (layoutColumnNum) {\r\n            const copyFormItemArr = this.state.configs.formItemArr.slice();\r\n            const formItemArr = this.addNewFormItem(copyFormItemArr, layoutColumnNum, colSpanArr);\r\n            formItemArr.forEach((item) => {\r\n                item.colSpan = getCellColSpan(item.colIndex, item.originSpan, formItemArr, colSpanArr);\r\n            });\r\n            this.colIndexStart += layoutColumnNum;\r\n            configs.layoutColumn = layoutColumnNum;\r\n            configs.formItemArr = formItemArr;\r\n            newState.configs = configs;\r\n        }\r\n        this.setState({\r\n            ...newState\r\n        });\r\n    }\r\n    onAddRowCell() {\r\n        const { configs } = this.state;\r\n        const { colSpanArr } = configs;\r\n        const formItemArr = configs.formItemArr.slice();\r\n        if (formItemArr.length === 0) {\r\n            message.warn('请设置容器列数');\r\n            return;\r\n        }\r\n        const rowSpanCount = formItemArr.reduce((total, item, i) => {\r\n            total += item.colSpan;\r\n            if (i === formItemArr.length -1) {\r\n                total %= 24;\r\n            }\r\n            return total;\r\n        }, 0);\r\n        let colSpanIndex = 0;\r\n        let total = 0;\r\n        for (let i = 0; i < colSpanArr.length; i++) {\r\n            total = total + (+colSpanArr[i]);\r\n            if (total > rowSpanCount) {\r\n                colSpanIndex = i;\r\n                i = colSpanArr.length;\r\n            }\r\n        }\r\n        formItemArr.push({ \r\n            colIndex: this.colIndexStart,\r\n            originSpan: 1,\r\n            colSpan: colSpanArr[colSpanIndex],\r\n        });\r\n        this.colIndexStart += 1;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.formItemArr = formItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    onAddRow() {\r\n        const { configs } = this.state;\r\n        const formItemArr = configs.formItemArr.slice();\r\n        if (formItemArr.length === 0) {\r\n            message.warn('请设置容器列数');\r\n            return;\r\n        }\r\n        const { layoutColumn } = configs;\r\n        for(let i = 0; i < layoutColumn; i++) {\r\n            formItemArr.push({ colIndex: this.colIndexStart + i });\r\n        }\r\n        this.colIndexStart += layoutColumn;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.formItemArr = formItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    onDeleteRow() {\r\n        const { configs } = this.state;\r\n        const { layoutColumn, formItemArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.slice();\r\n        if (newFormItemArr.length <= layoutColumn) {\r\n            message.warn('不能再删除了');\r\n            return;\r\n        }\r\n        newFormItemArr.length = Math.max(0, newFormItemArr.length- layoutColumn);\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n            onUpdateLayoutConfig({ layoutIndex, newConfigs });\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n    }\r\n    onDeleteFormItemContainer(colIndex) {\r\n        const { configs } = this.state;\r\n        const { formItemArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.filter((item) => {\r\n            return item.colIndex !== colIndex;\r\n        });\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const { formItemArr, colSpanArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        const newFormItemArr = formItemArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.colIndex !== item.colIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        colIndex: values.colIndex,\r\n                        colSpan: values.colSpan,\r\n                        originSpan: values.originSpan,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.colIndex === item.colIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newFormItemArr.forEach((item) => {\r\n            // 更新跨列\r\n            if (item.colIndex > values.colIndex) {\r\n                item.colSpan = getCellColSpan(item.colIndex, item.originSpan,\r\n                    newFormItemArr, colSpanArr);\r\n            }\r\n        });\r\n        const newState = {};\r\n        if (values.type === 'Button') {\r\n            const { buttonArr } = values.configs;\r\n            const expendBtn = buttonArr.find((item) => {\r\n                return item.expandFlag === TRUE;\r\n            });\r\n            if (expendBtn) {\r\n                newState.expandCount = + expendBtn.expandCount;\r\n            } else {\r\n                newState.expandCount = 0;\r\n            }\r\n        }\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        newState.configs = newConfigs;\r\n        this.setState({...newState}, () => {\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const { onShowLoginModal, form, execFetchApi, mode } = this.props;\r\n        if (!isLogin()) {\r\n            onShowLoginModal();\r\n            return;\r\n        }\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { configs } = this.state;\r\n                const api = getFormApi(mode, configs);\r\n                if (api) {\r\n                    execFetchApi(api, values);\r\n                } else {\r\n                    message.warn('请配置form的api属性');\r\n                }\r\n            }\r\n        });\r\n    }\r\n    renderFormItemContainer() {\r\n        const { preview } = this.props;\r\n        const { configs = {}, expand, expandCount = 0 } = preview ? this.props : this.state;\r\n        const { formItemArr = [], layoutColumn } = configs;\r\n        return formItemArr.map(({ colIndex, colSpan, originSpan, cellStyles, type }, i) => {\r\n            // 隐藏组件\r\n            if (expandCount > 0 && !expand && (i+1) > expandCount && type !== 'Button') {\r\n                return null;\r\n            }\r\n            return (\r\n                <FormItemContainer\r\n                    key={`ed-${colIndex}`}\r\n                    colIndex={colIndex}\r\n                    {...this.props}\r\n                    colSpan={colSpan}\r\n                    expand={expand}\r\n                    context={this}\r\n                    originSpan={originSpan}\r\n                    layoutColumn={layoutColumn}\r\n                    cellStyles={cellStyles}\r\n                    onCollapse={this.onCollapse}\r\n                    onDeleteFormItemContainer={this.onDeleteFormItemContainer}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                />\r\n            );\r\n        });\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { layoutIndex, onUpdateLayoutConfig, preview, layerConfig } = this.props;\r\n        const { configs = {} } = preview ? this.props : this.state;\r\n        const { layoutColumn = 1, formItemArr = [] } = configs || {};\r\n        return (\r\n            <Fragment>\r\n                <div className={`form-container container ${preview ? 'preview-box' : 'border-box'}`}>\r\n                    <div className=\"inner-box\">\r\n                        {\r\n                            <Form onSubmit={this.onSubmit}>\r\n                                <Row\r\n                                    gutter={{ md: 24 / layoutColumn, lg: 24, xl: 48 }}\r\n                                >\r\n                                    {this.renderFormItemContainer()}\r\n                                </Row>\r\n                            </Form>\r\n                        }\r\n                        {\r\n                            formItemArr.length > 0 && !preview ? (\r\n                                <div style={{\r\n                                    textAlign: 'center',\r\n                                    marginTop: '10px',\r\n                                    }}\r\n                                >\r\n                                    <Button\r\n                                        onClick={this.onAddRowCell}\r\n                                    >\r\n                                        新增单元格\r\n                                    </Button>\r\n                                </div>\r\n                                ) : null\r\n                        }\r\n                    </div>\r\n                    {\r\n                        !preview ? <Icon type=\"form\" className=\"icon-operation\" onClick={this.onShowEditForm} /> : null\r\n                    }\r\n                </div>\r\n                <FormEdit\r\n                    visible={visible}\r\n                    layerConfig={layerConfig}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                    onClose={(configs) => {\r\n                        const { layoutColumn } = configs;\r\n                        this.onCloseEditForm(configs);\r\n                        if (layoutColumn) {\r\n                            onUpdateLayoutConfig({\r\n                                layoutIndex,\r\n                                configs,\r\n                            });\r\n                        }\r\n                    }}\r\n                />\r\n            </Fragment>  \r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(FormContainer);","import React, { PureComponent, Fragment } from 'react';\r\nimport { FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER } from '../../../utils/Constants';\r\nimport FormContainer from '../FormContainer';\r\nimport TableContainer from '../TableContainer';\r\nimport BoxContainer from '../BoxContainer';\r\nimport EmptyContainer from '../EmptyContainer';\r\nimport HeaderContainer from '../HeaderContainer';\r\nimport LineContainer from '../LineContainer';\r\nimport './index.css';\r\n\r\nclass LayoutContainer extends PureComponent {\r\n    renderContainer() {\r\n        const { layoutConfig, ...restProps } = this.props;\r\n        if (Array.isArray(layoutConfig) && layoutConfig.length > 0) {\r\n            return layoutConfig.map((config) => {\r\n                const { type, layoutIndex } = config;\r\n                const k = `layout-${layoutIndex}`;\r\n                const transferProps = Object.assign({ key: k }, restProps, config);\r\n                if (type === FORM_CONTAINER) {\r\n                    return (<FormContainer {...transferProps} />);\r\n                } else if (type === TABLE_CONTAINER) {\r\n                    return (<TableContainer {...transferProps} />);\r\n                } else if (type === EMPTY_CONTAINER) {\r\n                    return (<EmptyContainer {...transferProps} />);\r\n                } else if (type === BOX_CONTINAER) {\r\n                    return (<BoxContainer {...transferProps} />);\r\n                } else if (type === HEADER_CONTINAER) {\r\n                    return (<HeaderContainer {...transferProps} />);\r\n                } else if (type === LINE_CONTINAER) {\r\n                    return (<LineContainer {...transferProps} />);\r\n                }\r\n                return null;\r\n            });\r\n        }\r\n        return (\r\n            <div className=\"empty-tips\">请添加容器组件</div>\r\n        );\r\n    }\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    this.renderContainer()\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LayoutContainer;","/**\r\n * @desc 可拖拽组件抽象类\r\n */\r\nimport React, { PureComponent } from 'react';\r\n\r\nclass Dragable extends PureComponent {\r\n\tonDragStart(e, data) {\r\n\t\te.dataTransfer.setData('text/plain',JSON.stringify(data));\r\n\t}\r\n\trender() {\r\n\t\tconst { ch, data } = this.props;\r\n\t\treturn (\r\n\t\t\t<span\r\n\t\t\t\tdraggable=\"true\"\r\n\t\t\t\tclassName=\"drag-item\"\r\n\t\t\t\tonDragStart={(e) => { this.onDragStart(e, data); }}\r\n\t\t\t>\r\n\t\t\t\t{ch}\r\n\t\t\t</span>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Dragable;","import defaultColumns from './defaultColumns';\r\nimport { FALSE } from '../utils/Constants';\r\n\r\nconst dargConfig = {\r\n\tcomponent: {\r\n\t\tform: [\r\n\t\t\t{ ch: 'Input', data: { type: 'Input', label: '', name: '' } },\r\n\t\t\t// { ch: 'Button', data: { type: 'Button', btnArr: [\r\n\t\t\t// \t\t{ btnText: 'button', type: 'primary', index: 0 },\r\n\t\t\t// \t],\r\n\t\t\t// }},\r\n\t\t\t{ ch: 'Select', data: { type: 'Select' } },\r\n\t\t\t{ ch: 'DatePicker', data: { type: 'DatePicker' } },\r\n\t\t\t{ ch: 'RangePicker', data: { type: 'RangePicker' } },\r\n\t\t\t{ ch: 'Radio', data: { type: 'Radio', radioArr: [\r\n\t\t\t\t\t{ index: 0, value: 'a1', label: 'a' },\r\n\t\t\t\t\t{ index: 1, value: 'b1', label: 'b' },\r\n\t\t\t\t],\r\n\t\t\t\tradioType: 'default',\r\n\t\t\t}},\r\n\t\t\t{ ch: 'TextArea', data: { type: 'TextArea', label: '', name: '' } },\r\n\t\t\t{ ch: 'Checkbox', data: { type: 'Checkbox' } },\r\n\t\t],\r\n\t\tbutton: [\r\n\t\t\t{ ch: '查询', data: { logicType: 'query', type: 'Button', antdType: 'primary', textDisabled: true, btnText: '查询', htmlType: 'submit' } },\r\n\t\t\t{ ch: '重置', data: { logicType: 'reset', type: 'Button', antdType: 'button', textDisabled: true, btnText: '重置', htmlType: 'reset' } },\r\n\t\t\t{ ch: '展开/收起', data: { logicType: 'expand', type: 'Button', textDisabled: true, btnText: '展开/收起' } },\r\n\t\t\t{ ch: '导入', data: { logicType: 'import', type: 'Button', btnText: '导入' } },\r\n\t\t\t{ ch: '导出', data: { logicType: 'export', type: 'Button', btnText: '导出' } },\r\n\t\t\t{ ch: '新增', data: { logicType: 'add', type: 'Button', btnText: '新增' } },\r\n\t\t\t{ ch: '编辑', data: { logicType: 'edit', type: 'Button', btnText: '编辑' } },\r\n\t\t\t{ ch: '查看', data: { logicType: 'view', type: 'Button', btnText: '查看' } },\r\n\t\t\t{ ch: '批量', data: { logicType: 'mult', type: 'Button', btnText: '批量' } },\r\n\t\t\t{ ch: '跳转', data: { logicType: 'skip', type: 'Button', btnText: '跳转' } },\r\n\t\t],\r\n\t\tothers: [\r\n\t\t\t{ ch: 'Breadcrumb', data: { type: 'Breadcrumb', breadcrumbArr: [\r\n\t\t\t\t\t{index: 0, label: 'menu1', value: '' },\r\n\t\t\t\t\t{index: 1, label: 'menu2', value: '' },\r\n\t\t\t\t],\r\n\t\t\t}},\r\n\t\t\t{ ch: 'Text', data: { type: 'Text', text: 'Text' } },\r\n\t\t\t{ ch: 'Tabs', data: { type: 'Tabs', tabsArr: [\r\n\t\t\t\t\t{ label: 'tab1', value: 'tab1', index: 0 },\r\n\t\t\t\t],\r\n\t\t\t}},\r\n\t\t]\r\n\t},\r\n\tlayout: [\r\n\t\t{ ch: 'Form', data: { type: 'FormContainer' } },\r\n\t\t{ ch: 'Table', data: { type: 'TableContainer', columns: defaultColumns } },\r\n\t\t{ ch: 'Box', data: { type: 'BoxContainer', layoutColumn: 1, cellsArr: [\r\n\t\t\t\t\t{ dropIndex: 0 },\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{ ch: 'Header', data: { type: 'HeaderContainer', layoutColumn: 1, positionFixed: FALSE, cellsArr: [\r\n\t\t\t\t\t{ dropIndex: 0 },\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{ ch: 'Line', data: { type: 'LineContainer' } },\r\n\t\t// { ch: 'Modal', data: { type: 'ModalContainer' } },\r\n\t],\r\n};\r\n\r\nexport default dargConfig;","const columns = [{\r\n    title: 'column0',\r\n    dataIndex: 'dataIndex0',\r\n    index: 0,\r\n}, {\r\n    title: 'column1',\r\n    dataIndex: 'dataIndex1',\r\n    index: 1,\r\n}, {\r\n    title: 'column2',\r\n    dataIndex: 'dataIndex2',\r\n    index: 2,\r\n}, {\r\n    title: 'column3',\r\n    dataIndex: 'dataIndex3',\r\n    index: 3,\r\n}, {\r\n    title: 'column4',\r\n    dataIndex: 'dataIndex4',\r\n    index: 4,\r\n}];\r\n\r\nexport default columns;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Divider } from 'antd';\r\nimport Dragable from './Dragable';\r\nimport dargConfig from '../../configs/dragConfig';\r\n\r\nclass DragTabFactory extends PureComponent {\r\n\trenderContentByType(targetConfigs, type = '') {\r\n\t\treturn (\r\n\t\t\t<Fragment key={`${type}`}>\r\n\t\t\t\t{\r\n\t\t\t\t\ttype ? (<Divider key={`${type}`}>{type}</Divider>) : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttargetConfigs.map((config, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Dragable {...config} key={`drag-${config.ch}-${index}`} />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { tabType = 'component' } = this.props;\r\n\t\tconst targetConfigs = dargConfig[tabType] || [];\r\n\t\tif (Array.isArray(targetConfigs)) {\r\n\t\t\treturn this.renderContentByType(targetConfigs);\r\n\t\t} else {\r\n\t\t\treturn Object.keys(targetConfigs).map((k) => {\r\n\t\t\t\tif(Array.isArray(targetConfigs[k])) {\r\n\t\t\t\t\treturn this.renderContentByType(targetConfigs[k], k);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default DragTabFactory;","import React, { Component } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport DragTabFactory from '../Core/DragTabFactory';\r\nimport './index.css';\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass DragTabs extends Component {\r\n\tcomponentDidMount() {\r\n        /* 放置目标元素时触发事件 */\r\n         document.addEventListener(\"dragover\", function( event ) {\r\n             // 阻止默认动作以启用drop\r\n             event.preventDefault();\r\n         }, false);\r\n\r\n        /* 拖动目标元素时触发drag事件 */\r\n         document.addEventListener(\"drag\", function( event ) {\r\n\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragstart\", function( event ) {\r\n          // 使其半透明\r\n              event.target.style.opacity = .5;\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragend\", function( event ) {\r\n            // 重置透明度\r\n            event.target.style.opacity = \"\";\r\n            document.querySelectorAll('.drop-zone').forEach((t) => {\r\n              \tt.style.background = \"#fff\";\r\n            })\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragenter\", function( event ) {\r\n          // 当可拖动的元素进入可放置的目标时高亮目标节点\r\n          if ( event.target.className === \"drop-zone\" ) {\r\n              event.target.style.background = \"#96cdf9\";\r\n          }\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragleave\", function( event ) {\r\n          // 当拖动元素离开可放置目标节点，重置其背景\r\n          if ( event.target.className === \"drop-zone\" ) {\r\n              event.target.style.background = \"\";\r\n          }\r\n        }, false);\r\n    }\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Tabs defaultActiveKey=\"1\" className=\"aside-tabs\">\r\n\t\t\t    <TabPane tab=\"容器\" key=\"layout\">\r\n                    <DragTabFactory tabType=\"layout\" />\r\n\t\t\t    </TabPane>\r\n\t\t\t    <TabPane tab=\"组件\" key=\"component\">\r\n                    <DragTabFactory />\r\n\t\t\t    </TabPane>\r\n                <TabPane tab=\"模板\" key=\"template\">\r\n                    <DragTabFactory tabType=\"template\" />\r\n\t\t\t    </TabPane>\r\n\t\t  \t</Tabs>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DragTabs;\r\n","import React, { PureComponent } from 'react';\r\nimport { Modal, Layout } from 'antd';\r\nimport DragTabs from '../../DragTabs';\r\nimport MainContainer from '../MainContainer';\r\n\r\nimport './index.css';\r\n\r\nconst { Sider, Content } = Layout;\r\n\r\nclass ModalContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            layoutConfig: [],\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onUpdateLayoutConfig = this.onUpdateLayoutConfig.bind(this);\r\n    }\r\n    onSubmit() {\r\n        const { onOk, editModal } = this.props;\r\n        const { layoutConfig } = this.state;\r\n        onOk({\r\n            ...editModal,\r\n            layoutConfig,\r\n        });\r\n    }\r\n    onUpdateLayoutConfig(layoutConfig) {\r\n        this.setState({\r\n            layoutConfig,\r\n        })\r\n    }\r\n    render() {\r\n        const { visible, onCancel, layerConfig } = this.props;\r\n        return (\r\n            <Modal\r\n                title=\"弹框编辑\"\r\n                width={1024}\r\n                visible={visible}\r\n                maskClosable={false}\r\n                onOk={this.onSubmit}\r\n                onCancel={onCancel}\r\n            >\r\n                <Layout>\r\n                        <Sider width=\"300\">\r\n                            <DragTabs />\r\n                        </Sider>\r\n                        <Layout>\r\n                            <Content>\r\n                                <MainContainer\r\n                                    onUpdateLayoutConfig={this.onUpdateLayoutConfig}\r\n                                    layerConfig={layerConfig}\r\n                                    noLayer\r\n                                />\r\n                            </Content>\r\n                        </Layout>\r\n                </Layout>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ModalContainer;","const common = localStorage.getItem('common');\r\nconst main = localStorage.getItem('main');\r\nconst webapi = localStorage.getItem('webapi');\r\n\r\nconst apiRenderConfig = [\r\n    {  \r\n        label: '接口地址前缀',\r\n        key: 'requestHost',\r\n        type: 'Select',\r\n        initialValue: webapi,\r\n        placeholder: '接口地址前缀',\r\n        options: [{\r\n            value: common,\r\n            label: 'common',\r\n        }, {\r\n            value: main,\r\n            label: 'main',\r\n        }, {\r\n            value: webapi,\r\n            label: 'webapi',\r\n        }],\r\n        rules: [{ required: true, message: 'host!' }],\r\n    }, {\r\n        label: '请求方法',\r\n        key: 'requestMethod',\r\n        type: 'Select',\r\n        initialValue: 'GET',\r\n        placeholder: '请求方法',\r\n        options: [{\r\n            value: 'GET',\r\n            label: 'GET',\r\n        }, {\r\n            value: 'POST',\r\n            label: 'POST',\r\n        }, {\r\n            value: 'PUT',\r\n            label: 'PUT',\r\n        }, {\r\n            value: 'DELETE',\r\n            label: 'DELETE',\r\n        }],\r\n        rules: [{ required: true, message: 'method!' }],\r\n    }, {\r\n        label: '接口地址',\r\n        key: 'requestApi',\r\n        type: 'Input',\r\n        placeholder: '接口地址',\r\n        rules: [{ required: true, message: '接口地址!' }],\r\n    }, {\r\n        label: '接口参数',\r\n        key: 'requestParams',\r\n        type: 'TextArea',\r\n        placeholder: '接口入参，多个参数以逗号分隔',\r\n    }, {\r\n        label: 'modelKey',\r\n        key: 'modelKey',\r\n        type: 'Input',\r\n        placeholder: '存放在model中的字段名称',\r\n        rules: [{ required: true, message: 'model key!' }],\r\n    }, {\r\n        label: 'API是否分页',\r\n        key: 'requestPagination',\r\n        type: 'Select',\r\n        placeholder: 'API是否分页',\r\n        rules: [{ required: true, message: 'requestPagination!' }],\r\n        initialValue: '0',\r\n        options: [{\r\n            value: '1',\r\n            label: '是',\r\n        }, {\r\n            value: '0',\r\n            label: '否',\r\n        }],\r\n    }\r\n];\r\n\r\nconst modalRenderConfig = [{\r\n    label: '名称',\r\n    key: 'name',\r\n    type: 'Input',\r\n    placeholder: '英文名称',\r\n    rules: [{ required: true, message: '名称!' }],\r\n}, {\r\n    label: 'width',\r\n    key: 'width',\r\n    type: 'Input',\r\n}, {\r\n    label: 'title',\r\n    key: 'title',\r\n    type: 'Input',\r\n    placeholder: 'title',\r\n    rules: [{ required: true, message: 'title!' }],\r\n}];\r\n\r\nconst btnRenderConfig = [{\r\n    label: '按钮文字',\r\n    key: 'btnText',\r\n    type: 'Input',\r\n    initialValue: 'button',\r\n    placeholder: 'button',\r\n    rules: [{ required: true, message: '按钮文字!' }],\r\n}, {\r\n    label: 'type',\r\n    key: 'type',\r\n    type: 'Select',\r\n    initialValue: 'primary',\r\n    placeholder: 'type',\r\n    rules: [{ required: true, message: 'type!' }],\r\n    options: [{\r\n        value: 'primary',\r\n        label: 'primary',\r\n    }, {\r\n        value: 'dashed',\r\n        label: 'dashed',\r\n    }, {\r\n        value: 'danger',\r\n        label: 'danger'\r\n    }, {\r\n        value: '',\r\n        label: 'none'\r\n    }],\r\n}, {\r\n    label: 'htmlType',\r\n    key: 'htmlType',\r\n    type: 'Select',\r\n    initialValue: 'button',\r\n    placeholder: 'htmlType',\r\n    rules: [{ required: true, message: 'htmlType!' }],\r\n    options: [{\r\n        value: 'submit',\r\n        label: 'submit',\r\n    }, {\r\n        value: 'reset',\r\n        label: 'reset',\r\n    }, {\r\n        value: 'button',\r\n        label: 'button'\r\n    }],\r\n}, {\r\n    label: 'onClick',\r\n    key: 'triggerFn',\r\n    type: 'Select',\r\n    placeholder: '点击事件',\r\n    options: 'clickEvents',\r\n}, {\r\n    label: '按钮样式',\r\n    key: 'btnStyle',\r\n    type: 'TextArea',\r\n    placeholder: '多个样式属性请用分号分隔',\r\n}];\r\n\r\nexport {\r\n    apiRenderConfig,\r\n    btnRenderConfig,\r\n    modalRenderConfig,\r\n}\r\n\r\nexport default apiRenderConfig;","import React, { Component, Fragment } from 'react';\r\nimport { Button, Drawer, Divider, Collapse, Form, Icon } from 'antd';\r\nimport { renderConfigForm } from '../../../utils/RenderUtil';\r\nimport { getFormData } from '../../../utils/FormUtil';\r\nimport { LAYER_MODAL, LAYER_API } from '../../../utils/Constants';\r\nimport ModalContainer from '../../Container/ModalContainer';\r\nimport { apiRenderConfig, modalRenderConfig } from '../../../configs/renderConfig';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\n\r\nclass LayerEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            layerConfig: {\r\n\t\t\t\tmodalArr: [],\r\n\t\t\t\tapiArr: [],\r\n\t\t\t\tdrawerArr: [],\r\n            },\r\n            editModal: null,\r\n            showEditModal: false,\r\n        };\r\n        this.modalAddIndex = 0;\r\n\t\tthis.apiAddIndex = 0;\r\n        this.onClose = this.onClose.bind(this);\r\n        this.onAddApi = this.onAddApi.bind(this);\r\n\t\tthis.onAddModal = this.onAddModal.bind(this);\r\n\t\tthis.onDeleteApi = this.onDeleteApi.bind(this);\r\n\t\tthis.onDeleteModal = this.onDeleteModal.bind(this);\r\n        this.onSubmitLayer = this.onSubmitLayer.bind(this);\r\n        this.onShowEditModal = this.onShowEditModal.bind(this);\r\n        this.onCloseEditModal = this.onCloseEditModal.bind(this);\r\n        this.onSaveEditModal = this.onSaveEditModal.bind(this);\r\n        this.renderModalPanelHeader = this.renderModalPanelHeader.bind(this);\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.props.visible && !this.initState) {\r\n            this.initState = true;\r\n            this.setState({\r\n                layerConfig: this.props.layerConfig,\r\n            });\r\n        }\r\n    }\r\n    onShowEditModal(item) {\r\n\t\tthis.setState({\r\n\t\t\tshowEditModal: true,\r\n\t\t\teditModal: item,\r\n\t\t});\r\n    }\r\n    onCloseEditModal() {\r\n\t\tthis.setState({\r\n\t\t\tshowEditModal: false,\r\n\t\t\teditModal: null,\r\n\t\t});\r\n    }\r\n    onSaveEditModal(layerItem) {\r\n\t\tconst { layerType } = layerItem;\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tconst { modalArr = [] } = newLayerConfig;\r\n\t\tif (layerType === LAYER_MODAL) {\r\n\t\t\tconst newModalArr = modalArr.reduce((arr, item) => {\r\n\t\t\t\tif (item.index === layerItem.index) {\r\n\t\t\t\t\titem = Object.assign({}, item, layerItem);\r\n\t\t\t\t}\r\n\t\t\t\tarr.push(item);\r\n\t\t\t\treturn arr;\r\n\t\t\t}, []);\r\n\t\t\tnewLayerConfig.modalArr = newModalArr;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n\t\tthis.onCloseEditModal();\r\n\t}\r\n    onClose() {\r\n        const { onCloseLayer, form } = this.props;\r\n        form.resetFields();\r\n        this.initState = false;\r\n        onCloseLayer();\r\n    }\r\n    onSubmitLayer(e) {\r\n        e.preventDefault();\r\n        const { form, onUpdateLayerConfig } = this.props;\r\n        form.validateFields((err, values) => {\r\n\t\t\tif (!err) {\r\n                const { layerConfig } = this.state;\r\n\t\t\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\t\t\t[LAYER_MODAL, LAYER_API].forEach((itemKey) => {\r\n\t\t\t\t\tconst renderConfig = itemKey === LAYER_MODAL ? modalRenderConfig : apiRenderConfig;\r\n\t\t\t\t\tconst newItemArr = getFormData(values, renderConfig, true);\r\n\t\t\t\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr;\r\n                });\r\n                newLayerConfig.modalArr.forEach((newItem) => {\r\n                    layerConfig.modalArr.forEach((item) => {\r\n                        if (item.index == newItem.index) {\r\n                            newItem.layoutConfig = item.layoutConfig;\r\n                            newItem.layerType = item.layerType;\r\n                        }\r\n                    });\r\n                });\r\n                onUpdateLayerConfig(newLayerConfig);\r\n                this.onClose();\r\n\t\t\t}\r\n\t\t});\r\n    }\r\n    onAddModal() {\r\n\t\tthis.onAddItem(LAYER_MODAL);\r\n\t}\r\n\tonAddApi() {\r\n\t\tthis.onAddItem(LAYER_API);\r\n\t}\r\n\t/**\r\n\t * @desc  新增弹框/抽屉/api\r\n\t * @param itemKey modal/drawer/api\r\n\t */\r\n\tonAddItem(itemKey) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst itemArr = layerConfig[`${itemKey}Arr`];\r\n\t\tconst newItemArr = itemArr.concat([{\r\n\t\t\tindex: this[`${itemKey}AddIndex`],\r\n\t\t\tlayerType: itemKey,\r\n\t\t}]);\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr;\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n\t\tthis[`${itemKey}AddIndex`] += 1;\r\n\t}\r\n\t/**\r\n\t * @desc 删除弹框/抽屉/api\r\n\t */\r\n\tonDeleteItem(itemKey, deleteIndex) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst itemArr = layerConfig[`${itemKey}Arr`];\r\n\t\tconst newItemArr = itemArr.reduce((arr, item) => {\r\n\t\t\tif (item.index != deleteIndex) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr || [];\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n\t}\r\n\tonDeleteModal(deleteIndex) {\r\n\t\tthis.onDeleteItem(LAYER_MODAL, deleteIndex);\r\n\t}\r\n\tonDeleteApi(deleteIndex) {\r\n\t\tthis.onDeleteItem(LAYER_API, deleteIndex);\r\n\t}\r\n    renderModalPanelHeader(item) {\r\n\t\tconst { name, index } = item;\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{name || `modal-${index}`}</span>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName=\"edit-modal\"\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tthis.onShowEditModal(item);;\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t编辑\r\n\t\t\t\t</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteModal(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n\t}\r\n\trenderApiPanelHeader(item) {\r\n\t\tconst { requestApi, index } = item;\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{requestApi || `api-${index}`}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteApi(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, form } = this.props;\r\n        const { layerConfig, showEditModal, editModal } = this.state;\r\n        const { modalArr = [], apiArr = [] } = layerConfig;\r\n        // 实时同步接口地址\r\n        if (!apiRenderConfig[0].initialValue) {\r\n            apiRenderConfig[0].initialValue = localStorage.getItem('webapi');\r\n            apiRenderConfig[0].options = [{\r\n                value: localStorage.getItem('common'),\r\n                label: 'common',\r\n            }, {\r\n                value: localStorage.getItem('main'),\r\n                label: 'main',\r\n            }, {\r\n                value: localStorage.getItem('webapi'),\r\n                label: 'webapi',\r\n            }];\r\n        }\r\n        return (\r\n            <Fragment>\r\n                <Drawer\r\n                    title=\"弹出层&接口\"\r\n                    placement=\"right\"\r\n                    closable\r\n                    maskClosable={false}\r\n                    onClose={this.onClose}\r\n                    visible={visible}\r\n                    width=\"400\"\r\n                >\r\n                    <Form onSubmit={this.onSubmitLayer}>\r\n                        <Divider>弹窗</Divider>\r\n                        <Collapse>\r\n                            {\r\n                                modalArr.map((item) => {\r\n                                    const { index } = item;\r\n                                    return (\r\n                                        <Panel\r\n                                            header={this.renderModalPanelHeader(item)}\r\n                                            key={`modal-${index}`}\r\n                                        >\r\n                                            {\r\n                                                renderConfigForm(form, modalRenderConfig, item)\r\n                                            }\r\n                                        </Panel>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </Collapse>\r\n                        <div className=\"btn-add-box\">\r\n                            <Button\r\n                                type=\"dashed\"\r\n                                size=\"large\"\r\n                                onClick={this.onAddModal}\r\n                            >\r\n                                添加弹窗\r\n                            </Button>\r\n                        </div>\r\n                        {/* <Divider>抽屉</Divider> */}\r\n\r\n                        <Divider>接口</Divider>\r\n                        <Collapse>\r\n                            {\r\n                                apiArr.map((item) => {\r\n                                    const { index } = item;\r\n                                    return (\r\n                                        <Panel\r\n                                            header={this.renderApiPanelHeader(item)}\r\n                                            key={`api-${index}`}\r\n                                        >\r\n                                            {\r\n                                                renderConfigForm(form, apiRenderConfig, item)\r\n                                            }\r\n                                        </Panel>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </Collapse>\r\n                        <div className=\"btn-add-box\">\r\n                            <Button\r\n                                type=\"dashed\"\r\n                                size=\"large\"\r\n                                onClick={this.onAddApi}\r\n                            >\r\n                                添加接口\r\n                            </Button>\r\n                        </div>\r\n                        <Form.Item style={{ marginTop: '20px', textAlign: 'center' }}>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                            >\r\n                                确定\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Drawer>\r\n                <ModalContainer\r\n                    layerConfig={this.props.layerConfig}\r\n                    visible={showEditModal}\r\n                    editModal={editModal}\r\n                    onOk={this.onSaveEditModal}\r\n                    onCancel={this.onCloseEditModal}\r\n                />\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(LayerEdit);","import React, { PureComponent, Fragment } from 'react';\r\nimport { Modal, message, Spin } from 'antd';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\nimport { getFormApi } from '../../../utils/FormUtil';\r\nimport { MODE_EDIT, FORM_CONTAINER, FORM_SAVE, CODE_SUCCESS } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nclass PreviewModal extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        };\r\n        this.onCancel = this.onCancel.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAfterClose = this.onAfterClose.bind(this);\r\n        this.onFormRenderCallBack = this.onFormRenderCallBack.bind(this);\r\n        this.initEdit = false;\r\n    }\r\n    componentDidUpdate() {\r\n        const { mode, visible, recordData, api, execFetchApi, modalLayoutConfig } = this.props;\r\n        // 编辑模式\r\n        if (visible && mode === MODE_EDIT && !this.initEdit) {\r\n            if (api) { // 需要调用接口查询数据\r\n                execFetchApi(api, recordData);\r\n            } else if (recordData) { // 传递的编辑数据\r\n                const formObj = modalLayoutConfig.find(({ type, configs }) => {\r\n                    return type === FORM_CONTAINER && configs.formType === FORM_SAVE;\r\n                });\r\n                if (formObj && Array.isArray(formObj.configs.formItemArr)) {\r\n                    const formData = formObj.configs.formItemArr.reduce((obj, item) => {\r\n                        const { type, name } = item;\r\n                        obj[name] = recordData[name];\r\n                        return obj;\r\n                    }, {});\r\n                    if (this.form) {\r\n                        this.form.setFieldsValue(formData);\r\n                    }\r\n                    this.formData = formData;\r\n                } else {\r\n                    message.warn('请配置编辑弹窗');\r\n                }\r\n            }\r\n            this.initEdit = true;\r\n        }\r\n    }\r\n    onCancel() {\r\n        const { loading } = this.state;\r\n        if (loading) {\r\n            return;\r\n        }\r\n        const { modalName, onCancelModal } = this.props;\r\n        onCancelModal(modalName);\r\n    }\r\n    renderContent(layoutConfig = []) {\r\n        const { mode } = this.props;\r\n        return layoutConfig.map((item, i) => {\r\n            return (\r\n                <Fragment key={`preview-${i}`}>\r\n                    {renderComponent(item, {\r\n                        preview: true,\r\n                        context: this,\r\n                        mode,\r\n                        onFormRenderCallBack: this.onFormRenderCallBack })}\r\n                </Fragment>\r\n            );\r\n        });\r\n    }\r\n    onSubmit() {\r\n        const { loading } = this.state;\r\n        if (loading) {\r\n            return;\r\n        }\r\n        const { onOkModal, modalName, mode, modalLayoutConfig, layerConfig, recordData } = this.props;\r\n        if(this.form) {\r\n            this.form.validateFields((err, values) => {\r\n                if (!err) {\r\n                    if (Array.isArray(modalLayoutConfig)) {\r\n                        const formObj = modalLayoutConfig.find(({ type, configs }) => {\r\n                            return type === FORM_CONTAINER && configs.formType;\r\n                        });\r\n                        if (formObj) {\r\n                            const api = getFormApi(mode, formObj.configs); // 根据模式获取对应接口地址\r\n                            const { apiArr } = layerConfig;\r\n                            const apiObj = apiArr.find(({ requestApi }) => {\r\n                                return requestApi === api;\r\n                            });\r\n                            if (apiObj && apiObj.requestParams) { // 接口入参\r\n                                const paramsArr = apiObj.requestParams.split(',');\r\n                                paramsArr.forEach((paramKey) => {\r\n                                    if (Object.hasOwnProperty.call(recordData, paramKey) && !Object.hasOwnProperty.call(values, paramKey)) {\r\n                                        values[paramKey] = recordData[paramKey];\r\n                                    }\r\n                                });\r\n                            }\r\n                            if (api) {\r\n                                this.setState({\r\n                                    loading: true,\r\n                                });\r\n                                onOkModal(modalName, api, values).then((res) => {\r\n                                    const { data } = res;\r\n                                    const { code } = data || {};\r\n                                    this.setState({\r\n                                        loading: false,\r\n                                    });\r\n                                    if (code === CODE_SUCCESS) {\r\n                                        message.success('保存成功');\r\n                                        this.onCancel();\r\n                                    }\r\n                                }).catch(() => {\r\n                                    this.setState({\r\n                                        loading: false,\r\n                                    });\r\n                                });\r\n                            } else {\r\n                                message.warn('请配置form的api属性');\r\n                            }\r\n                        } else {\r\n                            message.warn('请配置form组件');\r\n                        }\r\n                    } else {\r\n                        message.warn('请配置form组件');\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            message.warn('请配置form组件');\r\n        }\r\n    }\r\n    onFormRenderCallBack(form) {\r\n        this.form = form;\r\n        if (this.formData) {\r\n            this.form.setFieldsValue(this.formData);\r\n        }\r\n    }\r\n    onAfterClose() {\r\n        this.initEdit = false;\r\n        this.formData = null;\r\n        if (this.form) {\r\n            this.form.resetFields();\r\n        }\r\n\r\n    }\r\n    render() {\r\n        const { title, visible, modalLayoutConfig, mode } = this.props;\r\n        const { loading } = this.state;\r\n        return (\r\n            <Modal\r\n                title={mode === MODE_EDIT ? '编辑' : title}\r\n                visible={visible}\r\n                onCancel={this.onCancel}\r\n                onOk={this.onSubmit}\r\n                afterClose={this.onAfterClose}\r\n                maskClosable={false}\r\n            >\r\n                <Spin spinning={loading}>\r\n                    {this.renderContent(modalLayoutConfig)}\r\n                </Spin>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PreviewModal;","/**\r\n * @desc 页面右侧容器主视图，拖拽组件的容器\r\n */\r\nimport React, { PureComponent, Fragment } from 'react';\r\nimport { message, Button, Spin } from 'antd';\r\nimport { Service } from '../../../annotation';\r\nimport LayoutContainer from '../LayoutContainer';\r\nimport isContainer from '../../../utils/common';\r\nimport LayerEdit from '../../EditDrawer/LayerEdit';\r\nimport PreviewModal from '../../Modal/PreviewModal';\r\nimport { CODE_SUCCESS, TRUE, MODE_EDIT, MODE_ADD, proxyServerUrl } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst initLayerConfig = {\r\n\tmodalArr: [],\r\n\tapiArr: [],\r\n\tdrawerArr: [],\r\n};\r\n\r\n@Service('AppService')\r\nclass MainContainer extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlayoutConfig: props.preview ? props.layoutConfig : [],\r\n\t\t\tlayerConfig: props.layerConfig || initLayerConfig,\r\n\t\t\tPageIndex: 1,\r\n\t\t\tPageSize: 10,\r\n\t\t\tfetchLoading: false,\r\n\t\t\tapiData: {}, // 接口数据对象\r\n\t\t\tshowLayer: false,\r\n\t\t\tgenerateLoading: false, // 页面是否在生成\r\n\t\t};\r\n\t\tthis.paramData = {};\r\n\t\tthis.apiConfig = {};\r\n\t\tthis.onDrop = this.onDrop.bind(this);\r\n        this.onOkModal = this.onOkModal.bind(this);\r\n\t\tthis.onCancelModal = this.onCancelModal.bind(this);\r\n\t\tthis.onUpdateApiConfig = this.onUpdateApiConfig.bind(this);\r\n\t\tthis.onPageIndexChange = this.onPageIndexChange.bind(this);\r\n\t\tthis.onShowSizeChange = this.onShowSizeChange.bind(this);\r\n\t\tthis.execFetchApi = this.execFetchApi.bind(this);\r\n\t\tthis.onPreviewPage = this.onPreviewPage.bind(this);\r\n\t\tthis.onUpdateLayerConfig = this.onUpdateLayerConfig.bind(this);\r\n\t\tthis.onToggleLayer = this.onToggleLayer.bind(this);\r\n\t\tthis.onGeneratePage = this.onGeneratePage.bind(this);\r\n\t\tthis.onUpdateLayoutConfig = this.onUpdateLayoutConfig.bind(this);\r\n\t\tthis.layoutIndex = 0;\r\n\t\tthis.container = React.createRef();\r\n\t}\r\n\tstatic getDerivedStateFromProps(nextProps) {\r\n\t\tif (nextProps.visible) {\r\n\t\t\treturn {\r\n\t\t\t\tlayerConfig: nextProps.layerConfig,\r\n\t\t\t\tlayoutConfig: nextProps.layoutConfig,\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (Object.hasOwnProperty.call(nextProps, 'layerConfig')) {\r\n\t\t\treturn {\r\n\t\t\t\tlayerConfig: nextProps.layerConfig,\r\n\t\t\t};\r\n\t\t}\r\n\t\t// 否则，对于state不进行任何操作\r\n\t\treturn null;\r\n\t}\r\n\t/**\r\n\t * @desc 更新页面配置对象，所有拖拽组件更新都将调用该方法同步配置信息\r\n\t * @param {object} param0 \r\n\t */\r\n\tonUpdateLayoutConfig({ layoutIndex, configs, deleteFlag = false }) {\r\n\t\tconst { layoutConfig } = this.state;\r\n\t\tconst copyConfig = layoutConfig.slice();\r\n\t\t// 删除配置文件\r\n\t\tif (deleteFlag) {\r\n\t\t\tconst deleteIndex = copyConfig.findIndex((item) => {\r\n\t\t\t\treturn item.layoutIndex === layoutIndex;\r\n\t\t\t});\r\n\t\t\tcopyConfig.splice(deleteIndex, 1);\r\n\t\t} else {\r\n\t\t\tconst updateConfigItem = copyConfig.find((item) => {\r\n\t\t\t\treturn item.layoutIndex === layoutIndex;\r\n\t\t\t});\r\n\t\t\tupdateConfigItem.configs = configs;\r\n\t\t}\r\n\t\tif (typeof this.props.onUpdateLayoutConfig === 'function') {\r\n\t\t\tthis.props.onUpdateLayoutConfig(copyConfig);\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tlayoutConfig: copyConfig,\r\n\t\t});\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconst { preview =false } = this.props;\r\n\t\tif (!preview && this.container && this.container.current) {\r\n\t\t\tthis.container.current.addEventListener(\"drop\", this.onDrop, false);\r\n\t\t}\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tconst { preview =false } = this.props;\r\n\t\tif (!preview && this.container && this.container.current) {\r\n\t\t\tthis.container.current.removeEventListener(\"drop\", this.onDrop);\r\n\t\t}\r\n\t}\r\n\tonDrop(event) {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\tconst data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n\t\tconst { type, ...defaultConfigs } = data;\r\n\t\tif (!event.target.className || event.target.className.indexOf('main-container') === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (isContainer(type)) {\r\n\t\t\tconst { layoutConfig } = this.state;\r\n\t\t\tconst copyLayoytConfig = layoutConfig.slice();\r\n\t\t\tconst configObj = Object.assign({\r\n\t\t\t\ttype,\r\n\t\t\t\tlayoutIndex: this.layoutIndex,\r\n\t\t\t\tconfigs: Object.assign({}, defaultConfigs),\r\n\t\t\t});\r\n\t\t\tcopyLayoytConfig.push(configObj);\r\n\t\t\tthis.setState({\r\n\t\t\t\tlayoutConfig: copyLayoytConfig,\r\n\t\t\t});\r\n\t\t\tthis.layoutIndex += 1;\r\n\t\t} else {\r\n\t\t\tmessage.warn('请拖拽容器组件');\r\n\t\t}\r\n\t}\r\n\texecFetchApi(api, reqPrams) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst { apiArr } = layerConfig;\r\n\t\tconst apiObj = apiArr.find(({ requestApi }) => {\r\n\t\t\treturn requestApi === api;\r\n\t\t});\r\n\t\tif (!apiObj) {\r\n\t\t\tmessage.warn('api配置参数有误');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { modelKey, requestHost, requestMethod, requestPagination } = apiObj;\r\n\t\tthis.toggleLoading();\r\n\t\t// 分页查询接口\r\n\t\tif (requestPagination === TRUE) {\r\n\t\t\tif (this.state.PageIndex !== 1) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tPageIndex: 1,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst { PageSize } = this.state;\r\n\t\t\treqPrams.PageIndex = 1;\r\n\t\t\treqPrams.PageSize = PageSize;\r\n\t\t}\r\n\t\tthis.paramData[modelKey] = reqPrams; // 保存查询参数\r\n\t\treturn this.props.service.fetchApi(requestHost, requestMethod, api, reqPrams).then((res = {}) => {\r\n\t\t\tconst { data } = res;\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconst { code, message: msg, data: realData } = data || {};\r\n\t\t\t\tif (code !== CODE_SUCCESS) {\r\n\t\t\t\t\tmessage.error(msg || '调用接口异常');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst { total, list } = realData;\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tapiData: {\r\n\t\t\t\t\t\t\t[modelKey]: list,\r\n\t\t\t\t\t\t\t[`${modelKey}Total`]: total,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst { message: msg } = data || {};\r\n\t\t\t\tmessage.error(msg || '调用接口异常');\r\n\t\t\t}\r\n\t\t\tthis.toggleLoading(false);\r\n\t\t\treturn Promise.resolve(res);\r\n\t\t}).catch((error) => {\r\n\t\t\tthis.toggleLoading(false);\r\n\t\t\tif (error.response) {\r\n\t\t\t\tif (error.response.status === 401) {\r\n\t\t\t\t\tmessage.error('登录信息过期，请重新登录');\r\n\t\t\t\t\tthis.props.onShowLoginModal();\r\n\t\t\t\t} else if (error.response.status === 403) {\r\n\t\t\t\t\tmessage.error(error.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error(JSON.stringify(error));\r\n\t\t\t}\r\n\t\t\treturn Promise.reject(error);\r\n\t\t});\r\n\t}\r\n\ttoggleLoading(fetchLoading = true) {\r\n\t\tthis.setState({\r\n\t\t\tfetchLoading,\r\n\t\t});\r\n\t}\r\n\tonPageIndexChange(page, pageSize, modelKey) {\r\n\t\tthis.setState({\r\n\t\t\tPageIndex: page,\r\n\t\t}, () => {\r\n\t\t\tthis.execTableQuery(modelKey);\r\n\t\t});\r\n\t}\r\n\tonShowSizeChange(current, pageSize, modelKey) {\r\n\t\tthis.setState({\r\n\t\t\tPageIndex: 1,\r\n\t\t\tPageSize: pageSize,\r\n\t\t}, () => {\r\n\t\t\tthis.execTableQuery(modelKey);\r\n\t\t});\r\n\t}\r\n\t/**\r\n\t * @desc 执行表格接口查询\r\n\t * @param {*} modelKey \r\n\t */\r\n\texecTableQuery(modelKey) {\r\n\t\tif (this.apiConfig[modelKey]) {\r\n\t\t\tconst { PageIndex, PageSize } = this.state;\r\n\t\t\tconst reqPrams = this.paramData[modelKey];\r\n\t\t\tconst { host, method, api } = this.apiConfig[modelKey];\r\n\t\t\tthis.execFetchApi(modelKey, host, method, api, Object.assign(reqPrams, { PageIndex, PageSize }));\r\n\t\t} else {\r\n\t\t\tmessage.warn('请配置Table的modelKey');\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * @desc 生成页面源代码\r\n\t */\r\n\tonGeneratePage() {\r\n\t\tconst { pageName, projectDir, onShowPageNameModal } = this.props;\r\n\t\tif (!pageName || !projectDir) {\r\n\t\t\tonShowPageNameModal(); // 设置页面名称\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { layoutConfig = [], layerConfig = {} } = this.state;\r\n        const pageConfig = {\r\n\t\t\tpageName,\r\n\t\t\tprojectDir,\r\n\t\t\tlayoutConfig,\r\n\t\t\tlayerConfig,\r\n\t\t};\r\n\t\tthis.setState({\r\n\t\t\tgenerateLoading: true,\r\n\t\t});\r\n\t\tif (window.ipcRenderer) {\r\n\t\t\twindow.ipcRenderer.send('createCode', JSON.stringify(pageConfig));\r\n\t\t\twindow.ipcRenderer.on('createCodeReply', (event, args) => {\r\n\t\t\t\tconst { code, info } = JSON.parse(args);\r\n\t\t\t\tif (code == 0) {\r\n\t\t\t\t\tmessage.success(info);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.error(info);\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgenerateLoading: false,\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.service.generatePage(pageConfig)\r\n        .then((response) => {\r\n\t\t\tconst { data } = response;\r\n\t\t\tif (data.code == CODE_SUCCESS) {\r\n\t\t\t\tmessage.success(data.info);\r\n\t\t\t\t// const aLink = document.createElement('a');\r\n\t\t\t\t// aLink.href = `${proxyServerUrl}/sourceCache/${pageName}.js`;\r\n\t\t\t\t// aLink.style.display = 'none';\r\n\t\t\t\t// document.body.appendChild(aLink);\r\n\t\t\t\t// aLink.click();\r\n\t\t\t\t// document.body.removeChild(aLink);\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error(data.info);\r\n\t\t\t}\r\n\t\t\tthis.setState({\r\n\t\t\t\tgenerateLoading: false,\r\n\t\t\t});\r\n        })\r\n        .catch(() => {\r\n\t\t\tmessage.error('请求失败');\r\n\t\t\tthis.setState({\r\n\t\t\t\tgenerateLoading: false,\r\n\t\t\t});\r\n        });\r\n\t}\r\n\t/**\r\n\t * @desc 预览页面\r\n\t */\r\n\tonPreviewPage() {\r\n\t\tconst { onPreviewPage } = this.props;\r\n\t\tconst { layoutConfig, layerConfig } = this.state;\r\n\t\tonPreviewPage(layoutConfig, layerConfig);\r\n\t}\r\n\t/**\r\n\t * @desc 管理弹出层组件，包括Modal和Drawer\r\n\t */\r\n\tonToggleLayer() {\r\n\t\tthis.setState({\r\n\t\t\tshowLayer: !this.state.showLayer,\r\n\t\t});\r\n\t}\r\n\t\r\n\tonUpdateLayerConfig(layerConfig) {\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig,\r\n\t\t});\r\n\t}\r\n\tonUpdateApiConfig(modelKey, apiConfig) {\r\n\t\tthis.apiConfig[modelKey] = apiConfig;\r\n\t\t// console.log(this.apiConfig);\r\n\t}\r\n\tgetChildFuncProps() {\r\n\t\treturn {\r\n\t\t\texecFetchApi: this.execFetchApi,\r\n\t\t\tonPageIndexChange: this.onPageIndexChange,\r\n\t\t\tonShowSizeChange: this.onShowSizeChange,\r\n\t\t\tonUpdateApiConfig: this.onUpdateApiConfig,\r\n\t\t\tonUpdateLayoutConfig: this.onUpdateLayoutConfig,\r\n\t\t};\r\n\t}\r\n\tonShowModal(e, modalName, api, data) {\r\n\t\tconst newState = {\r\n\t\t\t[`show${modalName}`]: true,\r\n\t\t\tapi,\r\n\t\t\trecordData: data,\r\n\t\t};\r\n\t\tthis.setState({\r\n\t\t\t...newState\r\n\t\t});\r\n\t}\r\n\tonCancelModal(modalName) {\r\n        this.setState({\r\n\t\t\t[`show${modalName}`]: false,\r\n\t\t\trecordData: null,\r\n\t\t\tapi: '',\r\n        })\r\n    }\r\n    onOkModal(modalName, api, values) {\r\n\t\treturn this.execFetchApi(api, values);\r\n        // this.onCancelModal(modalName);\r\n    }\r\n\trenderModal() {\r\n\t\tconst { layerConfig, recordData, api } = this.state;\r\n\t\tconst { modalArr = []} = layerConfig;\r\n        return modalArr.map((item) => {\r\n            const { name: modalName, title, width, layoutConfig } = item;\r\n            const visibleStateName = `show${modalName}`;\r\n\t\t\tconst visible = this.state[visibleStateName];\r\n\t\t\tconst props = {\r\n\t\t\t\tapi,\r\n\t\t\t\twidth: parseInt(width),\r\n\t\t\t\ttitle,\r\n\t\t\t\tvisible,\r\n\t\t\t\trecordData,\r\n\t\t\t\tlayerConfig,\r\n\t\t\t\tmodalName,\r\n\t\t\t\tlayoutConfig: this.state.layoutConfig,\r\n\t\t\t\tmodalLayoutConfig: layoutConfig,\r\n\t\t\t\texecFetchApi: this.execFetchApi,\r\n\t\t\t};\r\n\t\t\tif (visible) {\r\n\t\t\t\t// 判断是否是编辑模式\r\n\t\t\t\tprops.mode = recordData || api ? MODE_EDIT : MODE_ADD;\r\n\t\t\t}\r\n            return (\r\n                <PreviewModal\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tkey={`${title}-${modalName}`}\r\n\t\t\t\t\tonCancelModal={this.onCancelModal}\r\n\t\t\t\t\tonOkModal={this.onOkModal}\r\n                />\r\n            );\r\n        });\r\n\t}\r\n\trender() {\r\n\t\tconst { noLayer = false, onShowLoginModal, preview = false } = this.props;\r\n\t\tconst { layoutConfig, generateLoading, showLayer, layerConfig,\r\n\t\t\tfetchLoading, apiData, PageIndex, PageSize } = this.state;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Spin spinning={fetchLoading}>\r\n\t\t\t\t\t<div className={`main-container border-box ${ preview ? 'preview-mode' : '' }`} ref={this.container}>\r\n\t\t\t\t\t\t<LayoutContainer\r\n\t\t\t\t\t\t\tonShowLoginModal={onShowLoginModal}\r\n\t\t\t\t\t\t\tlayoutConfig={layoutConfig}\r\n\t\t\t\t\t\t\tlayerConfig={layerConfig}\r\n\t\t\t\t\t\t\tcurrentPage={PageIndex}\r\n\t\t\t\t\t\t\tpageSize={PageSize}\r\n\t\t\t\t\t\t\tapiData={apiData}\r\n\t\t\t\t\t\t\tcontext={this}\r\n\t\t\t\t\t\t\tpreview={preview}\r\n\t\t\t\t\t\t\t{...this.getChildFuncProps()}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t!preview || !noLayer ? (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\tshape=\"round\"\r\n\t\t\t\t\t\t\t\t\ticon=\"plus\"\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn-manage\"\r\n\t\t\t\t\t\t\t\t\tonClick={this.onToggleLayer}\r\n\t\t\t\t\t\t\t\t\ttitle=\"弹出层&接口编辑\"\r\n\t\t\t\t\t\t\t\t></Button>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<LayerEdit\r\n\t\t\t\t\t\t\tvisible={showLayer}\r\n\t\t\t\t\t\t\tonCloseLayer={this.onToggleLayer}\r\n\t\t\t\t\t\t\tonUpdateLayerConfig={this.onUpdateLayerConfig}\r\n\t\t\t\t\t\t\tlayerConfig={layerConfig}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Spin>\r\n\t\t\t\t{\r\n\t\t\t\t\t!preview || !noLayer ? (\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tid=\"btn-code\"\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={this.onGeneratePage}\r\n\t\t\t\t\t\t\t\tloading={generateLoading}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t生成页面\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={this.onPreviewPage}\r\n\t\t\t\t\t\t\t\tstyle={{ marginLeft: '5px' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t预览\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t) : null\r\n\t\t\t\t}\r\n\t\t\t\t{this.renderModal()}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MainContainer;","/**\r\n * @desc 页面预览窗口\r\n */\r\nimport React, { Component } from 'react';\r\nimport MainContainer from '../../Container/MainContainer';\r\nimport { Modal, Layout } from 'antd';\r\nimport './index.css';\r\nconst { Sider, Content } = Layout;\r\n\r\nclass PreviewPageModal extends Component {\r\n    render() {\r\n        const { showModal, layoutConfig, onCloseModal, layerConfig } = this.props;\r\n        return (\r\n            <Modal\r\n                visible={showModal}\r\n                footer={null}\r\n                width={'100%'}\r\n                closable\r\n                centered\r\n                wrapClassName=\"preview-page-modal\"\r\n                onCancel={onCloseModal}\r\n                title=\"页面预览\"\r\n                maskClosable\r\n            >\r\n                <div className=\"preview-container\">\r\n                    <Layout>\r\n                        <Sider width=\"210\">\r\n                        </Sider>\r\n                        <Layout>\r\n                            <Content>\r\n                                <MainContainer\r\n                                    visible={showModal}\r\n                                    layoutConfig={layoutConfig}\r\n                                    layerConfig={layerConfig}\r\n                                    preview\r\n                                    noLayer\r\n                                />\r\n                            </Content>\r\n                        </Layout>\r\n                    </Layout>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PreviewPageModal;","import React, { PureComponent } from 'react';\r\nimport { Modal, Form, Input, Button, message } from 'antd';\r\nimport proxyServerUrl from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\n@Form.create()\r\nclass LoginModal extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showLoginFrame: false,\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onResetModal = this.onResetModal.bind(this);\r\n        this.getIframeUrl = this.getIframeUrl.bind(this);\r\n        this.asyncAppendJs = this.asyncAppendJs.bind(this);\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                this.asyncAppendJs(values.appUrl);\r\n            }\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        window.addEventListener('message', (e) => {\r\n            if (e.origin === proxyServerUrl) {\r\n                const appUrl =  this.props.form.getFieldValue('appUrl');\r\n                let MerchantId = '';\r\n                if (appUrl && appUrl.indexOf('?') > 0 && appUrl.indexOf('MerchantId=') > 0) {\r\n                    const targetStr = appUrl.slice(appUrl.indexOf('?') + 1).split('&').find((searchStr) => {\r\n                        return searchStr.indexOf('MerchantId=') >= 0;\r\n                    })\r\n                    if (targetStr) {\r\n                        MerchantId = targetStr.split('=')[1];\r\n                    }\r\n                    localStorage.setItem('access_token', e.data);\r\n                    localStorage.setItem('MerchantId', MerchantId);\r\n                    localStorage.setItem('appUrl', appUrl);\r\n                    message.success('登录成功');\r\n                    this.props.onCloseLoginModal();\r\n                }\r\n            }\r\n        }, false);\r\n    }\r\n    clearStorage() {\r\n        ['access_token', 'MerchantId', 'appUrl', 'common', 'main', 'webapi'].forEach((k) => {\r\n            localStorage.removeItem(k);\r\n        });\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.props.visible && !this.clearInit) {\r\n            this.clearInit = true;\r\n            this.clearStorage();\r\n        }\r\n    }\r\n\r\n    asyncAppendJs(appUrl) {\r\n        const js = document.createElement('script');\r\n        js.type = 'text/javascript';\r\n        js.onload = (e) => {\r\n            // 配置文件加载成功\r\n            if (window.configs) {\r\n                localStorage.setItem('common', window.configs.host.common);\r\n                localStorage.setItem('main', window.configs.host.main);\r\n                localStorage.setItem('webapi', window.configs.host.webapi);\r\n                this.setState({\r\n                    showLoginFrame: true,\r\n                }, () => {\r\n                    this.sendMessageToIframe();\r\n                });\r\n            }\r\n        };\r\n        let jsHost = appUrl;\r\n        if (appUrl.indexOf('?')) {\r\n            jsHost = appUrl.slice(0, appUrl.indexOf('?') - 1);\r\n        }\r\n        js.src = `${jsHost}/resources/js/configs.js?time=${Date.now()}`;\r\n        document.body.appendChild(js);\r\n    }\r\n\r\n    sendMessageToIframe() {\r\n        const iframeLogin = document.createElement('iframe');\r\n        iframeLogin.src = this.getIframeUrl();\r\n        iframeLogin.id = 'login-app';\r\n        document.querySelector('.iframe-container').appendChild(iframeLogin);\r\n        iframeLogin.onload = () => {\r\n            const data = Object.assign({ appUrl: this.props.form.getFieldValue('appUrl') }, window.configs);\r\n            document.getElementById('login-app').contentWindow.postMessage(data, proxyServerUrl);\r\n        };\r\n    }\r\n\r\n    onResetModal() {\r\n        this.props.form.resetFields();\r\n        this.clearInit = false;\r\n        this.setState({\r\n            showLoginFrame: false,\r\n        });\r\n    }\r\n\r\n    getIframeUrl() {\r\n        if (window.configs) {\r\n            const { host: { passport: { auth } } } = window.configs;\r\n            return `${proxyServerUrl}/appLogin?authUrl=${encodeURIComponent(auth)}`;\r\n        }\r\n        return `${proxyServerUrl}/appLogin`;\r\n    }\r\n\r\n    render() {\r\n        const { visible, form, onCloseLoginModal } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { showLoginFrame } = this.state;\r\n        return (\r\n            <Modal\r\n                title=\"登录\"\r\n                visible={visible}\r\n                width=\"500px\"\r\n                wrapClassName=\"login-modal\"\r\n                onCancel={onCloseLoginModal}\r\n                afterClose={this.onResetModal}\r\n                maskClosable={false}\r\n                footer={null}\r\n            >\r\n                <div className={`login-wrapper ${showLoginFrame ? 'slide-l' : ''}`}>\r\n                    <div className=\"url-container\">\r\n                        <Form onSubmit={this.onSubmit}>\r\n                            <Form.Item>\r\n                                {getFieldDecorator('appUrl', {\r\n                                    rules: [\r\n                                        { required: true, message: '请输入应用url' },\r\n                                        { type: 'url', message: 'url格式不合法' }\r\n                                    ],\r\n                                })(<Input placeholder=\"请输入应用url\" />)}\r\n                            </Form.Item>\r\n                            <p className=\"btn-box\">\r\n                                <Button type=\"primary\" htmlType=\"submit\">确定</Button>\r\n                            </p>\r\n                        </Form>\r\n                    </div>\r\n                    <div className=\"iframe-container\">\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LoginModal;","import React, { Component } from 'react';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport { Layout, LocaleProvider } from 'antd';\nimport PageNameModal from './component/Modal/PageNameModal';\nimport PreviewPageModal from './component/Modal/PreviewPageModal';\nimport DragTabs from './component/DragTabs';\nimport { isLogin } from './utils/common';\nimport MainContainer from './component//Container/MainContainer';\nimport LoginModal from './component/Modal/LoginModal';\n\nconst { Sider, Content } = Layout;\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showLoginModal: false,\n            showEditNameModal: false, // 显示编辑页面名称弹窗\n            showPreviewModal: false, // 显示预览窗口\n            pageName: '', // 页面名称\n        };\n        this.onSubmitPageName = this.onSubmitPageName.bind(this);\n        this.onPreviewPage = this.onPreviewPage.bind(this);\n        this.onShowLoginModal = this.onShowLoginModal.bind(this);\n        this.onCloseLoginModal = this.onCloseLoginModal.bind(this);\n        this.onClosePreviewModal = this.onClosePreviewModal.bind(this);\n        this.onShowPageNameModal = this.onShowPageNameModal.bind(this);\n        this.onClosePageNameModal = this.onClosePageNameModal.bind(this);\n    }\n    componentDidMount() {\n        if (!isLogin()) {\n            this.onShowLoginModal();\n        }\n    }\n    onCloseLoginModal() {\n        this.setState({\n            showLoginModal: false,\n        });\n    }\n    onShowLoginModal() {\n        this.setState({\n            showLoginModal: true,\n        });\n    }\n    onShowPageNameModal() {\n        this.setState({\n            showEditNameModal: true,\n        });\n    }\n    onSubmitPageName(pageName = '', projectDir) {\n        this.setState({\n            showEditNameModal: false,\n            pageName,\n            projectDir,\n        }, () => {\n            if (pageName && projectDir) {\n                document.querySelector('#btn-code').click();\n            }\n        });\n    }\n    onClosePageNameModal() {\n        this.setState({\n            showEditNameModal: false,\n        });\n    }\n    onClosePreviewModal() {\n        this.setState({\n            showPreviewModal: false,\n        });\n    }\n    onPreviewPage(layoutConfig, layerConfig) {\n        this.setState({\n            showPreviewModal: true,\n        });\n        this.layoutConfig = layoutConfig;\n        this.layerConfig = layerConfig;\n\t}\n    render() {\n        const {\n            pageName,\n            projectDir,\n            showLoginModal,\n            showPreviewModal,\n            showEditNameModal,\n        } = this.state;\n        return (\n            <div className=\"App\">\n                <LocaleProvider locale={zhCN}>\n                    <Layout>\n                        <Sider width=\"300\">\n                            <DragTabs />\n                        </Sider>\n                        <Layout>\n                            <Content>\n                                <MainContainer\n                                    pageName={pageName}\n                                    projectDir={projectDir}\n                                    onShowLoginModal={this.onShowLoginModal}\n                                    onShowPageNameModal={this.onShowPageNameModal}\n                                    onPreviewPage={this.onPreviewPage}\n                                />\n                            </Content>\n                        </Layout>\n                        <PageNameModal\n                            onOkModal={this.onSubmitPageName}\n                            onCloseModal={this.onClosePageNameModal}\n                            visible={showEditNameModal}\n                        />\n                        <PreviewPageModal\n                            layoutConfig={this.layoutConfig}\n                            layerConfig={this.layerConfig}\n                            onCloseModal={this.onClosePreviewModal}\n                            showModal={showPreviewModal}\n                        />\n                        <LoginModal\n                            visible={showLoginModal}\n                            onCloseLoginModal={this.onCloseLoginModal}\n                        />\n                    </Layout>\n                </LocaleProvider>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './assets/css/app.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}