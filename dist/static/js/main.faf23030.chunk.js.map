{"version":3,"sources":["component/Modal/PageNameModal/index.js","utils/Constants.js","service/AppService.js","annotation/Service.js","component/Container/LineContainer/index.js","configs/layout.js","utils/TableUtil.js","utils/DateUtil.js","utils/FormUtil.js","component/EditDrawer/TableEdit/index.js","component/Container/TableContainer/index.js","component/Core/BaseContainer.js","component/Container/DropContainer/DropRender.js","utils/CellUtil.js","configs/saveConfigs.js","component/Core/BaseEdit.js","component/EditDrawer/CompEdit/index.js","utils/DropUtil.js","utils/common.js","component/Container/DropContainer/index.js","component/EditDrawer/BoxEdit/index.js","component/Container/BoxContainer/index.js","component/Container/HeaderContainer/index.js","utils/RenderUtil.js","component/EditDrawer/FormEdit/index.js","component/Container/FormItemContainer/FormItemRender.js","component/EditDrawer/FormItemEdit/index.js","component/Container/FormItemContainer/index.js","component/Container/FormContainer/index.js","component/Container/LayoutContainer/index.js","component/Core/Dragable.js","configs/dragConfig.js","configs/defaultColumns.js","component/Core/DragTabFactory.js","component/DragTabs/index.js","component/Container/ModalContainer/index.js","configs/renderConfig.js","component/EditDrawer/LayerEdit/index.js","component/Modal/PreviewModal/index.js","component/Container/MainContainer/index.js","component/Modal/PreviewPageModal/index.js","component/Modal/LoginModal/index.js","App.js","index.js"],"names":["PageNameModal","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","afterClose","bind","assertThisInitialized","onSubmit","e","preventDefault","_this$props","form","onOkModal","validateFields","err","values","pageName","projectDir","resetFields","_this$props2","visible","onCloseModal","getFieldDecorator","react_default","a","createElement","modal","footer","width","closable","maskClosable","centered","onOk","onCancel","title","es_form","style","padding","Item","rules","required","message","pattern","input","placeholder","window","ipcRenderer","marginTop","textAlign","es_button","type","htmlType","Component","Form","create","HEADER_CONTINAER","LAYER_MODAL","LAYER_API","proxyServerUrl","axios","interceptors","response","use","error","Promise","reject","ServicesMatch","AppService","data","method","url","concat","host","api","params","localStorage","getItem","appUrl","access_token","MerchantId","name","LineContainer","onDelete","onUpdateLayoutConfig","deleteFlag","className","divider","icon","onClick","PureComponent","formItemLayout","labelCol","xs","span","sm","wrapperCol","handleColumns","configs","context","_configs$operationArr","operationArr","newColumns","columns","slice","keys","forEach","k","val","indexOf","_k$split","split","_k$split2","slicedToArray","columnName","columnIndex","columnTarget","find","item","index","hasOperation","arguments","length","undefined","opCol","dataIndex","push","render","text","record","Array","isArray","react","map","_ref3","i","opText","opType","modalName","_ref3$api","skipUrl","clickProps","onShowModal","location","execFetchApi","Fragment","assign","href","key","handleOperation","sortIndex","getTableConfig","newConfigs","pagination","pageSize","pageSizeOptions","rowSelection","columnTitle","transferDateToStr","date","formatStr","format","getFormData","renderArr","hasIndex","formData","valKey","fk","_valKey$split","_valKey$split2","isContain","_formData$push","findItemByRule","_ref","defineProperty","getFormDataByIndex","result","indexK","hasOwnProperty","matchKey","matchArr","rule","isFn","getFormApi","mode","formConfig","formType","queryApi","addApi","editApi","getSubmitData","formItemArr","_ref4","dateKeys","_values$name","startTime","endTime","_dateKeys$split","_dateKeys$split2","startKey","endKey","getFormByType","layoutConfig","getFormArr","_ref5","reduce","arr","cellsArr","apply","toConsumableArray","Panel","Collapse","Option","Select","fLayout","TableEdit","state","setColumnMaxIndex","onAddColumn","onDeleteColumn","onAddOperation","onDeleteOperation","renderOperationBtn","nextProps","setState","setOperationMaxIndex","_configs$columns","columnMaxIndex","_ref2","operationMaxIndex","_configs$operationArr2","newOperationArr","opreationIndex","getNewConfigs","addOperationMaxIndex","addColumnMaxIndex","v","_this2","_configs$operationArr3","opArr","_this3","_this4","_this5","_configs$columns2","collapse","_item$align","align","_item$fixed","fixed","header","renderPanelHeader","label","initialValue","es_select","value","btnConfig","layerConfig","modalData","_opType","getFieldValue","renderOperationHeader","renderModalSelect","renderApiSelect","_configs$operationArr4","_configs$hasOperation","rowKey","_ref5$pageSize","_ref5$pageSizeOptions","_ref6","_ref6$type","_ref6$columnTitle","hasPagination","hasRowSelection","size","card","join","_this$props3","onClose","onDeleteContainer","dataSrouce","drawer","renderCollapse","renderTableProps","marginRight","TableContainer","onShowEditTable","onUpdateConfigs","onPageIndexChange","onShowSizeChange","stopPropagation","layoutIndex","objectSpread","dataSize","ds","_loop","dsItem","_this$props$configs","modelKey","page","getModelKey","current","sRowKeys","selectedRowKeys","onChange","selectedRows","_this$props3$configs","_this$props3$apiData","apiData","currentPage","_this$props3$preview","preview","GuiContext","_configs$pagination","_configs$rowSelection","mockData","copyColumns","mockDataNum","test","hasApiDataSource","dataSource","getMockDataSource","showQuickJumper","showSizeChanger","total","Consumer","lib","bordered","getRowSelection","component_EditDrawer_TableEdit","BaseContainer","getContainerIndex","getContainerType","onToggleEditDrawer","_render","DropRender","restProps","objectWithoutProperties","cellStyles","_configs$textAlign","styleObj","renderComponent","strToObj","str","separator","styleStr","_styleStr$split","_styleStr$split2","replace","objToStr","objLike","prototype","toString","getCellColSpan","colIndex","originSpan","colSpanArr","finalColSpan","locationIndex","j","colSpan","end","start","ButtonSaveKeys","allowCallApi","allowCallModal","BaseEdit","deleteFormItem","deleteComponent","handleSubmit","onAddListItem","onDeleteButton","onDeleteListItem","onDeleteComponent","renderBtnPanelHeader","_nextProps$configs","getItemSetType","lowerCaseType","toLowerCase","stateKey","stateVal","_this$state","buttonArr","_this$state$deleteFor","_this$props$inForm","inForm","onCloseEdit","itemSetType","configType","newList","kLabel","kValue","showTime","newButtonArr","btnIndex","sKey","itemKey","logicType","expandCount","_values$originSpan","initBtn","_this$state$buttonArr","_this$props2$configs","list","allowClear","optionValue","optionText","BaseEdit_Option","date_picker","btnText","renderItemSettingCard","dataKey","labPlaceholder","valPlaceholder","_ref2$labPlaceholder","_ref2$valPlaceholder","itemList","extra","marginLeft","lineHeight","_this$props3$layerCon","_this$props4","_this$props4$layerCon","_this6","_this$state$buttonArr2","activeKeyArr","defaultActiveKey","_item$antdType","antdType","_item$htmlType","textDisabled","BaseEdit_Panel","disabled","renderApiItem","renderModalItem","renderBtnExpand","TextArea","Input","CompEdit","renderBtnCard","renderBreadcrumb","renderTabs","renderRadio","renderDefaultValueItem","initialCellStyles","radioType","CompEdit_Option","renderComp","initDropData","dragData","isFormItem","dropComponent","defaultConfigs","containerArr","isLogin","getInitialValue","config","_config$type","_config$format","moment","isContainer","clsName","DropContainer","showEdit","onDrop","onDragenter","onToggleEdit","DropDom","addEventListener","onDragLeave","removeEventListener","_ref$deleteFlag","newState","event","target","resetBg","JSON","parse","dataTransfer","getData","initData","warn","_this$props$notAllow","notAllow","dropDomArr","document","querySelectorAll","background","ref","DropContainer_DropRender","component_EditDrawer_CompEdit","BoxEdit","boxStyles","rest","_configs$boxStyles","_configs$layoutColumn","layoutColumn","_configs$positionFixe","positionFixed","initialBoxStyles","BoxEdit_TextArea","BoxEdit_Option","BoxContainer","boxItemIndex","onAddRowCell","onReceiveConfigs","onDeleteBoxItemContainer","newCellsArr","_configs$cellsArr","_this$props$context","onShowLoginModal","componentArr","cellNum","hasDeleteIcon","cls","component_Container_DropContainer","popconfirm","onConfirm","okText","cancelText","rendeCell","component_EditDrawer_BoxEdit","pConfigs","ghost","HeaderContainer","_ref2$cellsArr","positionCls","previewCls","CheckboxGroup","Checkbox","Group","RangePicker","DatePicker","TabPane","Tabs","renderConfig","_renderConfig$placeho","component","renderText","renderSelect","renderRangePicker","renderDatePicker","renderCheckbox","renderBtn","renderForm","renderLine","renderTable","renderBox","renderHeader","renderTextArea","dropIndex","hasLinkage","RenderUtil_TextArea","component_Container_FormContainer","component_Container_HeaderContainer","component_Container_TableContainer","component_Container_LineContainer","component_Container_BoxContainer","_configs$breadcrumbAr","breadcrumbArr","breadcrumb","_configs$style","_configs$radioArr","radioArr","RadioItem","Radio","Button","es_radio","_configs$style2","_configs$tabsArr","tabsArr","tabs","tab","_configs$style3","_configs$checkboxArr","checkboxArr","options","_configs$style4","selectArr","finalOptions","RenderUtil_Option","getMultBtnDisabled","onResetForm","_configs$buttonArr","onCollapse","_state$expand","expand","_ref7","_btnConfig$style","btnProps","collapseBtnText","renderConfigForm","cf","_cf$rules","renderCondition","itemName","keyStr","_layerConfig$modalArr","modalArr","formItemKey","formNameKey","_ref8","compData","_compData$key","_compData$label","apiName","_layerConfig$apiArr","apiArr","_ref9","requestApi","FormEdit","handleChange","colSpanValues","setTimeout","setFieldsValue","onSave","lcNum","colSpanTotal","FormEdit_Option","renderColSpanInputs","renderApiFormItem","FormItemRender","_this$props$preview","_this$props$colSpanAr","formItemAlign","_configs$rules","md","getStyle","formItemProps","col","FormItemEdit","onAddCellStyleItem","onDeleteCellStyleItem","_this$state$cellStyle","newCellStyles","cellStyleIndex","_this$state$cellStyle2","condition","linkName","FormItemEdit_Option","_configs$showTime","_configs$format","_this$props$dropCompo","linkage","renderDatePickerExtra","renderLinkage","initialColSpan","tempColSpan","FormItemEdit_TextArea","c","renderContent","forbiddenDropType","FormItemContainer","onShowEditItem","onEditDropContainer","onDeleteChildren","onUpdateFormItemConfigs","targetDom","onDeleteFormItemContainer","_this$props3$colSpanA","_this$props3$formItem","colIndexNum","_colSpan","getContainerWidth","FormItemContainer_FormItemRender","component_EditDrawer_FormItemEdit","FormContainer","fetchLoading","onAddRow","onDeleteRow","onShowEditForm","onCloseEditForm","onUpdateFormLayout","renderFormItemContainer","colIndexStart","onFormRenderCallBack","layoutColumnNum","rowSpanCount","colSpanIndex","newFormItemArr","Math","max","filter","_this7","copyFormItemArr","addNewFormItem","_ref2$formItemArr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","b","return","_this8","_this$props5","_ref3$formItemArr","getExpandCount","itemConfigs","component_Container_FormItemContainer","_this$props6","_ref4$configs","_ref5$layoutColumn","_ref5$formItemArr","row","gutter","lg","xl","component_EditDrawer_FormEdit","LayoutContainer","EmptyContainer_default","renderContainer","Dragable","setData","stringify","ch","draggable","onDragStart","dargConfig","button","others","layout","DragTabFactory","targetConfigs","Core_Dragable","_this$props$tabType","tabType","renderContentByType","DragTabs","opacity","t","DragTabs_TabPane","Core_DragTabFactory","Sider","Layout","Content","ModalContainer","editModal","src_component_DragTabs","component_Container_MainContainer","noLayer","apiRenderConfig","modalRenderConfig","LayerEdit","drawerArr","showEditModal","modalAddIndex","apiAddIndex","onAddApi","onAddModal","onDeleteApi","onDeleteModal","onSubmitLayer","onShowEditModal","onCloseEditModal","onSaveEditModal","renderModalPanelHeader","initState","layerItem","layerType","newLayerConfig","_newLayerConfig$modal","newModalArr","onCloseLayer","onUpdateLayerConfig","newItemArr","newItem","onAddItem","deleteIndex","onDeleteItem","modalActiveKey","apiActiveKey","placement","LayerEdit_Panel","renderApiPanelHeader","component_Container_ModalContainer","PreviewModal","loading","onAfterClose","initEdit","recordData","modalLayoutConfig","then","res","code","onInitForm","catch","editData","formObj","obj","_item$format","_dateKeys","onCancelModal","apiObj","requestParams","paramKey","success","spin","spinning","React","createContext","initLayerConfig","MainContainer","Target","newProps","ServiceClass","service","PageIndex","PageSize","showLayer","generateLoading","paramData","onUpdateApiConfig","onPreviewPage","onToggleLayer","onGeneratePage","container","createRef","_newConfigs$deleteFla","copyConfig","findIndex","splice","updateIndex","_this$props$preview2","copyLayoytConfig","configObj","reqPrams","requestHost","requestMethod","requestPagination","_apiObj$requestParams","paramKeys","_obj","pk","toggleLoading","_paginationParams$spl","paginationParams","_paginationParams$spl2","pIndex","pSize","_this$state2","execTableQuery","fetchApi","status","msg","realData","newApiData","resolve","getApiConfig","onShowPageNameModal","onResetProps","_this$state3","_this$state3$layoutCo","_this$state3$layerCon","pageConfig","send","on","args","_JSON$parse","info","generatePage","aLink","display","body","appendChild","click","removeChild","_this$state4","apiConfig","_newState","_this$setState","_this$state5","visibleStateName","parseInt","component_Modal_PreviewModal","_this$props2$noLayer","_this$props2$preview","_this$state6","isEdit","MainContainer_GuiContext","Provider","component_Container_LayoutContainer","getChildFuncProps","shape","component_EditDrawer_LayerEdit","id","renderModal","PreviewPageModal","showModal","wrapClassName","PreviewPageModal_Sider","PreviewPageModal_Content","LoginModal","showLoginFrame","onResetModal","getIframeUrl","asyncAppendJs","origin","targetStr","searchStr","setItem","onCloseLoginModal","removeItem","clearInit","clearStorage","js","onload","console","log","common","main","webapi","passport","authCode","sendMessageToIframe","jsHost","src","Date","now","iframeLogin","querySelector","getElementById","contentWindow","postMessage","auth","encodeURIComponent","App","showLoginModal","showEditNameModal","showPreviewModal","onSubmitPageName","onClosePreviewModal","onClosePageNameModal","locale_provider","locale","zhCN","App_Sider","App_Content","component_Modal_PageNameModal","component_Modal_PreviewPageModal","component_Modal_LoginModal","ReactDOM","src_App"],"mappings":"usBAIMA,sBACF,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,WAAaP,EAAKO,WAAWC,KAAhBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAClBA,EAAKU,SAAWV,EAAKU,SAASF,KAAdP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAHDA,wEAKVW,GACLA,GAAKA,EAAEC,iBADC,IAAAC,EAEoBV,KAAKJ,MAAzBe,EAFAD,EAEAC,KAAMC,EAFNF,EAEME,UACdD,EAAKE,eAAe,SAACC,EAAKC,GACtB,IAAKD,EAAK,KACEE,EAAyBD,EAAzBC,SAAUC,EAAeF,EAAfE,WAClBL,EAAUI,EAAUC,2CAK5BjB,KAAKJ,MAAMe,KAAKO,+CAEX,IAAAC,EACmCnB,KAAKJ,MAArCwB,EADHD,EACGC,QAAST,EADZQ,EACYR,KAAMU,EADlBF,EACkBE,aACfC,EAAsBX,EAAtBW,kBACR,OACIC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACIN,QAASA,EACTO,OAAQ,KACRC,MAAO,IACPC,UAAQ,EACRC,cAAc,EACdC,UAAQ,EACR3B,WAAYJ,KAAKI,WACjB4B,KAAMhC,KAAKO,SACX0B,SAAUZ,EACVa,MAAM,4BAENX,EAAAC,EAAAC,cAACU,EAAA,EAAD,CACI5B,SAAUP,KAAKO,SACf6B,MAAO,CAAEC,QAAS,cAElBd,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,KACKhB,EAAkB,WAAY,CAC3BiB,MAAO,CACH,CAAEC,UAAU,EAAMC,QAAS,+CAC3B,CAAEC,QAAS,cAAeD,QAAS,4DAH1CnB,CAMGC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAOC,YAAY,2CAIvBC,OAAOC,YAAevB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,KACjBhB,EAAkB,aAAc,CAC7BiB,MAAO,CACH,CAAEC,UAAU,EAAMC,QAAS,uDAFlCnB,CAKGC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAOC,YAAY,qCAEX,KAEpBrB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,CAAYF,MAAO,CAAEW,UAAW,OAAQC,UAAW,WAC/CzB,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CACIC,KAAK,UACLC,SAAS,UAFb,0BA7DIC,cA0EbC,MAAKC,QAALD,CAAc1D,yECvEvB4D,EAAmB,kBAWnBC,EAAc,QAEdC,EAAY,MAwBHC,EA5CQ,kCCGvBC,IAAMC,aAAaC,SAASC,IAAI,SAACD,GAC7B,OAAOA,GACN,SAACE,GACF,OAAOC,QAAQC,OAAOF,SCHpBG,EAAgB,CAClBC,gHDMaC,GACT,OAAOT,IAAM,CACTU,OAAQ,OACRC,IAAG,GAAAC,OAAKb,EAAL,iBACHU,0CAGCI,EAAMH,EAAQI,EAAKC,GACxB,OAAOf,IAAM,CACTU,OAAQ,OACRC,IAAG,GAAAC,OAAKb,EAAL,aACHU,KAAM,CACFI,KAAMG,aAAaC,QAAQJ,IAAS,GACpCH,SACAI,MACAC,SACAG,OAAQF,aAAaC,QAAQ,UAC7BE,aAAcH,aAAaC,QAAQ,gBACnCG,WAAYJ,aAAaC,QAAQ,iCCrBjBI,oGCgBjBC,sBAlBX,SAAAA,EAAYrF,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiF,IACfpF,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmF,GAAA9E,KAAAH,KAAMJ,KACDsF,SAAWrF,EAAKqF,SAAS7E,KAAdP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAFDA,2EAMfsF,EADiCnF,KAAKJ,MAA9BuF,sBACa,CAAEC,YAAY,qCAGnC,OACI7D,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,0BACX9D,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,MACA/D,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAMrC,KAAK,QAAQmC,UAAU,cAAcG,QAASxF,KAAKkF,mBAb7CO,+CCObC,EAXQ,CACnBC,SAAU,CACRC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEdE,WAAY,CACVH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MC+GZG,mBAAgB,SAACjF,EAAQkF,EAASC,GAAY,IAAAC,EACTF,EAA/BG,oBADwC,IAAAD,EACzB,GADyBA,EAE1CE,EADiCJ,EAAZK,QACAC,QAqB3B,OApBAzG,OAAO0G,KAAKzF,GAAQ0F,QAAQ,SAACC,GACzB,IAAMC,EAAM5F,EAAO2F,GAEnB,GAAIA,EAAEE,QAAQ,KAAO,EAAG,KAAAC,EACgBH,EAAEI,MAAM,KADxBC,EAAAjH,OAAAkH,EAAA,EAAAlH,CAAA+G,EAAA,GACZI,EADYF,EAAA,GACAG,EADAH,EAAA,GAEdI,EAAed,EAAWe,KAAK,SAACC,GAClC,OAAOA,EAAKC,SAAWJ,IAEvBC,IACAA,EAAaF,GAAcN,EACR,UAAfM,GAA2BN,UACpBQ,EAAavF,MAEL,UAAfqF,IACAE,EAAaF,GL7HpB,MK6H2CN,UAEjC5F,EAAO2F,OL/HjB,MKmIL3F,EAAOwG,aAzFS,WAA8C,IAA7CjB,EAA6CkB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAnC,GAAIpB,EAA+BoB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAhB,GAAItB,EAAYsB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC9DC,EAAQ,KA8DZ,OA7DIrB,EAAQmB,OAAS,GAA0C,iBAArCnB,EAAQA,EAAQmB,OAAQ,GAAGvF,MACjDyF,EAAQrB,EAAQA,EAAQmB,OAAQ,IAEhCE,EAAQ,CACJzF,MAAO,eACP0F,UAAW,aAEftB,EAAQuB,KAAKF,IAEjBA,EAAMG,OAAS,SAACC,EAAMC,GAClB,OAAKC,MAAMC,QAAQ9B,GAIf7E,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KAEQ/B,EAAagC,IAAI,SAAAC,EAAmDC,GAAM,IAAtDC,EAAsDF,EAAtDE,OAAQC,EAA8CH,EAA9CG,OAAQC,EAAsCJ,EAAtCI,UAAsCC,EAAAL,EAA3B5D,WAA2B,IAAAiE,EAArB,GAAqBA,EAAjBC,EAAiBN,EAAjBM,QAC/CC,EAAa,GAcnB,OAZIA,EAAWpD,QADA,SAAXgD,GAAgC,SAAXA,EACA,SAAChI,GAClB0F,EAAQ2C,YAAYrI,EAAGiI,EAAWhE,EAAKuD,IAEzB,SAAXQ,EACc,SAAChI,GAClBqC,OAAOiG,SAAWH,GAGD,SAACnI,GAClB0F,EAAQtG,MAAMmJ,aAAatE,EAAKuD,IAIpCzG,EAAAC,EAAAC,cAAAF,EAAAC,EAAAwH,SAAA,KACIzH,EAAAC,EAAAC,cAAA,IAAA3B,OAAAmJ,OAAA,CAAGC,KAAK,eAAeC,IAAG,MAAA5E,OAAQ+D,IAASM,GACtCL,GAEHD,IAAMlC,EAAaqB,OAAS,EAAIlG,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,CAASpC,KAAK,aAAgB,SAzB7E,MAkDRoD,EA2BI8C,CAAgB/C,EAAYD,EAAcF,IAGjDG,EAAWoB,OAAS,GLvIf,MKuIoBpB,EAAW,GAAGgD,YACvChD,EAAW,GAAGyB,OAAS,SAACE,EAAQV,GAC5B,OACI/F,EAAAC,EAAAC,cAAA,YAAO6F,EAAQ,KAIpBjB,KAyCIiD,GAtCQ,SAACvI,EAAQkF,EAASC,GACrC,IACMqD,EAAa,CACfjD,QAFYN,GAAcjF,EAAQkF,EAASC,IA8B/C,OA1BApG,OAAO0G,KAAKzF,GAAQ0F,QAAQ,SAACC,GACzB,IAAMC,EAAM5F,EAAO2F,GACT,eAANA,ELxJC,MKyJGC,EACA4C,EAAWC,WAAa,CACpBC,SAAU1I,EAAO0I,SACjBC,gBAAiB3I,EAAO2I,gBAAgB5C,MAAM,MAGlDyC,EAAW7C,GL/Jd,MK+J4BC,EAEhB,iBAAND,ELjKN,MKkKGC,GACA4C,EAAWI,aAAe,CACtBzG,KAAMnC,EAAOmC,MAEG,UAAhBnC,EAAOmC,OACPqG,EAAWI,aAAaC,YAAc7I,EAAO6I,cAGjDL,EAAW7C,GAAK,KAGpB6C,EAAW7C,GAAKC,IAGjB4C,iCCnLLM,GAAoB,SAACC,GAAmC,IAA7BC,EAA6BvC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAjB,aACzC,OAAIsC,GAAQA,EAAKE,OACNF,EAAKE,OAAOD,GAEhBD,GCPLG,GAAc,SAAClJ,EAAQmJ,EAAWC,GACpC,IAAMC,EAAWD,EAAW,GAAK,GAuBjC,OAtBArK,OAAO0G,KAAKzF,GAAQ0F,QAAQ,SAAC4D,GACzB,IAAIC,EAAKD,EACT,GAAIF,GACA,GAAIE,EAAOzD,QAAQ,KAAO,EAAG,KAAA2D,EACRF,EAAOvD,MAAM,KADL0D,EAAA1K,OAAAkH,EAAA,EAAAlH,CAAAyK,EAAA,GACjB7D,EADiB8D,EAAA,GACdlC,EADckC,EAAA,GAGzB,GAAIC,GADJH,EAAK5D,EACawD,GAAY,CAC1B,IAGOQ,EAHDrD,EAAOsD,GAAe,SAAAC,GAAA,OAAAA,EAAGtD,QAAsBgB,GAAG8B,GACxD,GAAI/C,EACAA,EAAKiD,GAAMvJ,EAAOsJ,QAElBD,EAASvC,MAAT6C,EAAA,GAAA5K,OAAA+K,EAAA,EAAA/K,CAAA4K,EACKJ,EAAKvJ,EAAOsJ,IADjBvK,OAAA+K,EAAA,EAAA/K,CAAA4K,EAAA,QAEWpC,GAFXoC,WAOLD,GAAUH,EAAIJ,KACrBE,EAASE,GAAMvJ,EAAOsJ,MAGvBD,GAGLU,GAAqB,SAAC/J,EAAQmJ,EAAW5B,GAC3C,IAAMyC,EAAQ,GAQd,OAPAb,EAAUzD,QAAQ,SAACC,GACf,IAAMsE,EAAM,GAAAzG,OAAMmC,EAAN,KAAAnC,OAAW+D,GACnBxI,OAAOmL,eAAe9K,KAAKY,EAAQiK,KACnCD,EAAOrE,GAAK3F,EAAOiK,UACZjK,EAAOiK,MAGfD,GAGLN,GAAY,SAACS,EAAUC,GACzB,QAASR,GAAeO,EAAUC,IAGhCR,GAAiB,SAACS,EAAMD,GAC1B,IAAME,EAAuB,oBAATD,EACpB,OAAOD,EAAS/D,KAAK,SAACC,GAClB,OAAOgE,EAAOD,EAAK/D,GAAQA,EAAK8B,MAAQiC,KAI1CE,GAAa,SAACC,EAAMC,GAAe,IAC7BC,EAAwCD,EAAxCC,SAAUC,EAA8BF,EAA9BE,SAAUC,EAAoBH,EAApBG,OAAQC,EAAYJ,EAAZI,QACpC,MP1Ce,UO0CRH,EAA0BC,EP3CpB,QO2C+BH,EAAoBI,EAASC,GA0BvEC,GAAgB,SAAAxD,EAAkBtH,GAYpC,OAZ+CsH,EAA1ByD,YACTrF,QAAQ,SAAAsF,GAAsC,IAAnC7I,EAAmC6I,EAAnC7I,KAAM8B,EAA6B+G,EAA7B/G,KAAMgH,EAAuBD,EAAvBC,SAAUhC,EAAa+B,EAAb/B,OACzC,GAAa,eAAT9G,EACAnC,EAAOiE,GAAQ6E,GAAkB9I,EAAOiE,GAAOgF,QAC5C,GAAa,gBAAT9G,GAA0B+E,MAAMC,QAAQnH,EAAOiE,KAAUjE,EAAOiE,GAAMyC,OAAS,EAAI,KAAAwE,EAAAnM,OAAAkH,EAAA,EAAAlH,CAC3DiB,EAAOiE,GADoD,GAClFkH,EADkFD,EAAA,GACvEE,EADuEF,EAAA,GAAAG,EAE/DJ,EAASlF,MAAM,KAFgDuF,EAAAvM,OAAAkH,EAAA,EAAAlH,CAAAsM,EAAA,GAEnFE,EAFmFD,EAAA,GAEzEE,EAFyEF,EAAA,GAG1FtL,EAAOuL,GAAYzC,GAAkBqC,EAAWlC,GAChDjJ,EAAOwL,GAAU1C,GAAkBsC,EAASnC,UACrCjJ,EAAOiE,MAGfjE,GAGLyL,GAAgB,WAAuC,IAAtCC,EAAsCjF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAvB,GAAItE,EAAmBsE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,QAC7C,OAAOkF,GAAWD,GAAcrF,KAAK,SAAAuF,GAAkB,IAAflB,EAAekB,EAAflB,SACpC,OAAOvI,IAASuI,KAIlBiB,GAAa,SAACD,GAUhB,OATgBA,EAAaG,OAAO,SAACC,EAAKxF,GAAS,IACvCnE,EAAmBmE,EAAnBnE,KAAM4J,EAAazF,EAAbyF,SAMd,OALI7E,MAAMC,QAAQ4E,IAAaA,EAASrF,OAAS,EAC7CoF,EAAIhF,KAAJkF,MAAAF,EAAG/M,OAAAkN,GAAA,EAAAlN,CAAS0M,GAAc,CAAEC,aAAcK,MPxG/B,kBOyGJ5J,GACP2J,EAAIhF,KAAKR,GAENwF,GACR,KCvGDI,YAAQC,IAASD,OACjBE,GAASC,IAAOD,OAEhBE,GAAU,CACZ1H,SAAU,CACRC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,KAEdE,WAAY,CACVH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAIZyH,eACF,SAAAA,EAAY1N,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsN,IACfzN,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwN,GAAAnN,KAAAH,KAAMJ,KACD2N,MAAQ,CACTtH,QAASrG,EAAMqG,SAEnBpG,EAAK2N,kBAAkB5N,GACvBC,EAAKU,SAAWV,EAAKU,SAASF,KAAdP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAChBA,EAAK4N,YAAc5N,EAAK4N,YAAYpN,KAAjBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACnBA,EAAK6N,eAAiB7N,EAAK6N,eAAerN,KAApBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACtBA,EAAK8N,eAAiB9N,EAAK8N,eAAetN,KAApBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACtBA,EAAK+N,kBAAoB/N,EAAK+N,kBAAkBvN,KAAvBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACzBA,EAAKgO,mBAAqBhO,EAAKgO,mBAAmBxN,KAAxBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAXXA,yFAaOiO,GAClBA,EAAU1M,UAAYpB,KAAKJ,MAAMwB,SAAW0M,EAAU1M,UACtDpB,KAAK+N,SAAS,CACV9H,QAAS6H,EAAU7H,UAEvBjG,KAAKwN,kBAAkBM,GACvB9N,KAAKgO,qBAAqBF,iDAGH,IAAAG,EAAArD,EAAX3E,QACRK,eADmB,IAAA2H,EACT,GADSA,EAE3BjO,KAAKkO,eAAiB5H,EAAQmB,QAAU,kDAEV,IAAAtB,EAAAgI,EAAXlI,QACXG,oBADsB,IAAAD,EACP,GADOA,EAE9BnG,KAAKoO,kBAAoBhI,EAAaqB,QAAU,8CAGhDzH,KAAKkO,gBAAkB,iDAGvBlO,KAAKoO,mBAAqB,2CAEb,IAAAC,EACOrO,KAAKuN,MAAjBtH,QACAG,aACFkI,QAHO,IAAAD,EAEU,GAFVA,GAGwB9H,QAC/BgI,EAAiBvO,KAAKoO,kBAC5BE,EAAgBzG,KAAK,CACjBU,OAAQ,eACRjB,MAAOiH,IAEXvO,KAAK+N,SAAS,CACV9H,QAASjG,KAAKwO,cAAc,eAAgBF,KAEhDtO,KAAKyO,6DAEK,IAGJpI,EAFcrG,KAAKuN,MAAjBtH,QACAK,QACmBC,QACrBW,EAAclH,KAAKkO,eACzB7H,EAAWwB,KAAK,CACZ3F,MAAK,SAAAqC,OAAW2C,GAChBU,UAAS,YAAArD,OAAc2C,GACvBI,MAAOJ,IAEXlH,KAAK+N,SAAS,CACV9H,QAASjG,KAAKwO,cAAc,UAAWnI,KAE3CrG,KAAK0O,8DAESpH,GAAO,IACbrB,EAAYjG,KAAKuN,MAAjBtH,QAEFqI,EADmBrI,EAAjBG,aAC6BwG,OAAO,SAACC,EAAKxF,GAI9C,OAHIA,EAAKC,QAAUA,GACfuF,EAAIhF,KAAK/H,OAAOmJ,OAAO,GAAI5B,IAExBwF,GACR,IACgB/M,OAAOmJ,OAAO,GAAIhD,GAC1BG,aAAekI,EAC1BtO,KAAK+N,SAAS,CACV9H,QAASjG,KAAKwO,cAAc,eAAgBF,4CAGrCpH,GAAa,IAChBjB,EAAYjG,KAAKuN,MAAjBtH,QAEFI,EADcJ,EAAZK,QACmBsG,OAAO,SAACC,EAAKxF,GAIpC,OAHIA,EAAKC,QAAUJ,GACf2F,EAAIhF,KAAK/H,OAAOmJ,OAAO,GAAI5B,IAExBwF,GACR,IACgB/M,OAAOmJ,OAAO,GAAIhD,GAC1BK,QAAUD,EACrBrG,KAAK+N,SAAS,CACV9H,QAASjG,KAAKwO,cAAc,UAAWnI,2CAGjCK,EAAGiI,GAAG,IACR1I,EAAYjG,KAAKuN,MAAjBtH,QACFsD,EAAazJ,OAAOmJ,OAAO,GAAIhD,GAErC,OADAsD,EAAW7C,GAAKiI,EACTpF,mCAEF/I,GAAG,IAAAoO,EAAA5O,KACRQ,EAAEC,iBADM,IAAAC,EAEwCV,KAAKJ,MAA7CsG,EAFAxF,EAEAwF,QAASvF,EAFTD,EAESC,KAAMwE,EAFfzE,EAEeyE,qBACvBxE,EAAKE,eAAe,SAACC,EAAKC,GACtB,IAAKD,EAAK,KACEmF,EAAY2I,EAAKrB,MAAjBtH,QACFqI,EAAkB,GAExB,GR3HH,MQ2HOvN,EAAOwG,aAGP,IAH8B,IAAAsH,EACA5I,EAAtBG,oBADsB,IAAAyI,EACP,GADOA,EAExBC,EAAQ,CAAC,SAAU,SAAU,YAAa,YAAa,MAAO,WAC3DxG,EAAI,EAAGA,EAAGlC,EAAaqB,OAAQa,IAAK,KACjChB,EAAUlB,EAAakC,GAAvBhB,MACRgH,EAAgBzG,KAAK/H,OAAOmJ,OAAO7C,EAAakC,GAAIwC,GAAmB/J,EAAQ+N,EAAOxH,KAG9F,IAAMiC,EAAaD,GAAevI,EAAQkF,EAASC,GACnDqD,EAAWnD,aAAekI,SACnB/E,EAAWE,gBACXF,EAAWG,uBACXH,EAAWrG,YACXqG,EAAWK,YAClBzE,EAAqBoE,mDAIG,IAAAwF,EAAA/O,KAAhBkC,EAAgBmG,EAAhBnG,MAAOoF,EAASe,EAATf,MACvB,OACI/F,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,gBACX9D,EAAAC,EAAAC,cAAA,QAAM4D,UAAU,SAASnD,GACzBX,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CACIrC,KAAK,QACLmC,UAAU,aACVG,QAAS,WACLuJ,EAAKrB,eAAepG,wDAMC,IAAA0H,EAAAhP,KAAjBuI,EAAiBwD,EAAjBxD,OAAQjB,EAASyE,EAATzE,MAC5B,OACI/F,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,gBACX9D,EAAAC,EAAAC,cAAA,QAAM4D,UAAU,SAASkD,GACzBhH,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CACIrC,KAAK,QACLmC,UAAU,aACVG,QAAS,WACLwJ,EAAKpB,kBAAkBtG,gDAM1B,IAAA2H,EAAAjP,KACLW,EAASX,KAAKJ,MAAde,KADKuO,EAEOlP,KAAKuN,MAAjBtH,QACAK,eAHK,IAAA4I,EAGK,GAHLA,EAIL5N,EAAsBX,EAAtBW,kBACR,OACIC,EAAAC,EAAAC,cAAC0N,EAAA,EAAD,KAEQ7I,EAAQ8B,IAAI,SAACf,EAAMiB,GAAM,IACbpG,EAA6EmF,EAA7EnF,MAAOoF,EAAsED,EAAtEC,MAAOM,EAA+DP,EAA/DO,UAAWhG,EAAoDyF,EAApDzF,MAAOyH,EAA6ChC,EAA7CgC,UADnB+F,EACgE/H,EAAlCgI,aAD9B,IAAAD,EACsC,OADtCA,EAAAE,EACgEjI,EAAlBkI,aAD9C,IAAAD,KAErB,MAAc,iBAAVpN,GAAkBoG,IAAMhC,EAAQmB,OAAQ,EACjC,KAGPlG,EAAAC,EAAAC,cAACwL,GAAD,CAAOuC,OAAQP,EAAKQ,kBAAkBpI,GAAO8B,IAAG,GAAA5E,OAAKrC,EAAL,KAAAqC,OAAc+C,IAC1D/F,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,SAAYhK,GACxBpE,EAAiB,SAAAiD,OAAU+C,GAAS,CACjC/E,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,6BACnCkN,aAAczN,GAFjBZ,CAIGC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAGRpB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,aAAgBhK,GAC5BpE,EAAiB,aAAAiD,OAAc+C,GAAS,CACrC/E,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,eACnCkN,aAAc/H,GAFjBtG,CAIGC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAGRpB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,SAAYhK,GACxBpE,EAAiB,SAAAiD,OAAU+C,GAAS,CACjCqI,aAAc/N,GAAS,IACxB,CACCW,MAAO,CAAC,CAAEG,QAAS,YAAaD,QAAS,mEAH5CnB,CAKGC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAIE,IAAN2F,EACI/G,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,sBAAUhK,GACtBpE,EAAiB,aAAAiD,OAAc+C,GAAS,CACrCqI,aAActG,GADjB/H,CAGGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,CAAQhN,YAAY,wCAChBrB,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,KAAd,SACAtO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,KAAd,WAIb,KAEPtO,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,SAAYhK,GACxBpE,EAAiB,SAAAiD,OAAU+C,GAAS,CACjCqI,aAAcN,GADjB/N,CAGGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACIrO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAO,QAAf,QACAtO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAO,SAAf,SACAtO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAO,UAAf,aAIZtO,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,SAAYhK,GACxBpE,EAAiB,SAAAiD,OAAU+C,GAAS,CACjCqI,aAAcJ,EAAQ,IAAM,KAD/BjO,CAGGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACIrO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,KAAd,SACAtO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,KAAd,0DAWrBC,GAAW,IAAA3O,EACInB,KAAKJ,MAA3Be,EADkBQ,EAClBR,KAAMoP,EADY5O,EACZ4O,YACNzO,EAAsBX,EAAtBW,kBACAgG,EAA8DwI,EAA9DxI,MAAOiB,EAAuDuH,EAAvDvH,OAAQC,EAA+CsH,EAA/CtH,OAAQC,EAAuCqH,EAAvCrH,UAAWuH,EAA4BF,EAA5BE,UAAWvL,EAAiBqL,EAAjBrL,IAAKkE,EAAYmH,EAAZnH,QACpDsH,EAAUtP,EAAKuP,cAAL,UAAA3L,OAA6B+C,IAC7C,OACI/F,EAAAC,EAAAC,cAACwL,GAAD,CAAOuC,OAAQxP,KAAKmQ,sBAAsBL,GAAY3G,IAAG,MAAA5E,OAAQ+C,IAC7D/F,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,gBAAShK,GACrBpE,EAAiB,UAAAiD,OAAW+C,GAAS,CAClCqI,aAAcpH,GADjBjH,CAGGC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAGRpB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,gBAAShK,GACrBpE,EAAiB,UAAAiD,OAAW+C,GAAS,CAClCqI,aAAcnH,GADjBlH,CAGGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACIrO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,QAAd,8BACAtO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,QAAd,8BACAtO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,UAAd,gBACAtO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,QAAd,mBAKI,SAAZI,GAAkC,SAAZA,EAAqBG,GAAkBL,EAAapP,EAAM8H,EAAWnB,GAAS,KAGxF,SAAZ2I,GAAkC,SAAZA,EAClB1O,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,4BAAWhK,GACvBpE,EAAiB,aAAAiD,OAAc+C,GAAS,CACrC/E,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,yCACnCkN,aAAcK,GAFjB1O,CAIGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACIrO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,SAAd,gBACAtO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,OAAd,+BAIZ,KAGS,SAAZI,EACG1O,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,4BAAWhK,GACvBpE,EAAiB,WAAAiD,OAAY+C,GAAS,CACnC/E,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,yCACnCkN,aAAchH,GAFjBrH,CAIGC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAGR,KAGyC,QAA7ChC,EAAKuP,cAAL,aAAA3L,OAAgC+C,KAAkC,WAAZ2I,EAClDI,GAAgBN,EAAapP,EAAM,CAAEgP,aAAclL,EAAK0E,IAAK7B,IAAW,iDAKzE,IACP3G,EAASX,KAAKJ,MAAde,KACAsF,EAAYjG,KAAKuN,MAAjBtH,QACA3E,EAAsBX,EAAtBW,kBAHOgP,EAIwErK,EAA9EG,oBAJM,IAAAkK,EAIS,GAJTA,EAIa9G,EAA2DvD,EAA3DuD,WAAYG,EAA+C1D,EAA/C0D,aAJzB4G,EAIwEtK,EAAjCsB,oBAJvC,IAAAgJ,ERzTT,IQyTSA,EAI6DC,EAAWvK,EAAXuK,OAJ7D7D,EAKyCnD,GAAc,GALvDiH,EAAA9D,EAKPlD,gBALO,IAAAgH,EAKI,GALJA,EAAAC,EAAA/D,EAKQjD,uBALR,IAAAgH,EAK0B,WAL1BA,EAAAC,EAMmChH,GAAgB,GANnDiH,EAAAD,EAMPzN,YANO,IAAA0N,EAMA,WANAA,EAAAC,EAAAF,EAMY/G,mBANZ,IAAAiH,EAM0B,eAN1BA,EAOTC,EAAgBhR,OAAO0G,KAAKgD,GAAc,IAAI/B,OAAS,ERjUxD,IACC,IQiUAsJ,EAAkBjR,OAAO0G,KAAKmD,GAAgB,IAAIlC,OAAS,ERlU5D,IACC,IQkUN,OACIlG,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KACI5G,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,sBAAUhK,GACtBpE,EAAkB,eAAgB,CAC/BqO,aAAcpI,GADjBjG,CAGGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACIrO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MRzUtB,KQyUc,UACAtO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MR3UvB,KQ2Ue,aR3Uf,MQgVOlP,EAAKuP,cAAc,gBACf,CACI3O,EAAAC,EAAAC,cAAC0N,EAAA,EAAD,CAAUhG,IAAI,eAEN/C,EAAagC,IAAIpI,KAAK6N,qBAG9BtM,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,CAAUgB,IAAI,oBRvV7B,MQyVuBxI,EAAKuP,cAAc,gBACd3O,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,eACZ9D,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CACIC,KAAK,SACL8N,KAAK,QACLxL,QAASxF,KAAK2N,gBAHlB,mCAOM,OAGtB,KAEZpM,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,cAAiBhK,GAC7BpE,EAAkB,aAAc,CAC7BqO,aAAcmB,GADjBxP,CAGGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACIrO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,KAAd,SACAtO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,KAAd,WAIZtO,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,UAAahK,GACzBpE,EAAkB,SAAU,CACzBqO,aAAca,GADjBlP,CAGGC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAIiC,MAArChC,EAAKuP,cAAc,cACnB3O,EAAAC,EAAAC,cAACwP,EAAA,EAAD,CAAM/O,MAAM,0BACRX,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,YAAehK,GAC3BpE,EAAkB,WAAY,CAC3BqO,aAAclG,GADjBnI,CAGGC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAGRpB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,mBAAsBrC,IAClC/L,EAAkB,kBAAmB,CAClCqO,aAAc1H,MAAMC,QAAQwB,GACtBA,EAAgBwH,KAAK,KAAOxH,GAFrCpI,CAIGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACIrO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,YAAd,YACAtO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,eAAd,eACAtO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,YAAd,gBAIN,KAEdtO,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,gBAAmBhK,GAC/BpE,EAAkB,eAAgB,CAC/BqO,aAAcoB,GADjBzP,CAGGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACIrO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,KAAd,SACAtO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,KAAd,WAK+B,MAAvClP,EAAKuP,cAAc,gBACnB3O,EAAAC,EAAAC,cAACwP,EAAA,EAAD,CAAM/O,MAAM,4BACRX,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,QAAWhK,GACvBpE,EAAkB,OAAQ,CACvBqO,aAAczM,GADjB5B,CAGGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACIrO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,YAAd,YACAtO,EAAAC,EAAAC,cAAC0L,GAAD,CAAQ0C,MAAM,SAAd,YAKuB,UAA/BlP,EAAKuP,cAAc,QACf3O,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,eAAkBhK,GAC9BpE,EAAkB,cAAe,CAC9BqO,aAAc/F,GADjBtI,CAGGC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAEO,MAEjB,uCAYjB,IAAAwO,EACiDnR,KAAKJ,MAAnDwB,EADH+P,EACG/P,QAASgQ,EADZD,EACYC,QAASC,EADrBF,EACqBE,kBAClB/P,EAFH6P,EACwCxQ,KACrCW,kBAECgQ,EADWtR,KAAKuN,MAAjBtH,QACCqL,WACT,OACI/P,EAAAC,EAAAC,cAAC8P,EAAA,EAAD,CACIrP,MAAM,2BACNJ,cAAc,EACdF,MAAO,IACPwP,QAASA,EACThQ,QAASA,GAETG,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAM5B,SAAUP,KAAKO,UACjBgB,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,qBACCtF,KAAKwR,iBACNjQ,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,eACX9D,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CACIC,KAAK,SACL8N,KAAK,QACLxL,QAASxF,KAAKyN,aAHlB,mCAQJlM,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,iCACCtF,KAAKyR,mBACNlQ,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,2BACA/D,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,cAAiBhK,GAC7BpE,EAAkB,WAAY,CAC3BqO,aAAc2B,GADjBhQ,CAGGC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAOC,YAAY,gBAG3BrB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,CAAWF,MAAO,CAAEW,UAAW,OAAQC,UAAW,WAC9CzB,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CACIC,KAAK,UACLC,SAAS,SACTf,MAAO,CAAEsP,YAAa,SAH1B,gBAOAnQ,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CAAQuC,QAAS6L,GAAjB,sCA3dAjO,aAmeTC,OAAKC,QAALD,CAAciK,IC5WdqE,wBArIX,SAAAA,EAAY/R,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2R,IACf9R,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6R,GAAAxR,KAAAH,KAAMJ,KACD2N,MAAQ,CACTnM,SAAS,GAEbvB,EAAKuR,QAAUvR,EAAKuR,QAAQ/Q,KAAbP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACfA,EAAK+R,gBAAkB/R,EAAK+R,gBAAgBvR,KAArBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACvBA,EAAKgS,gBAAkBhS,EAAKgS,gBAAgBxR,KAArBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACvBA,EAAKwR,kBAAoBxR,EAAKwR,kBAAkBhR,KAAvBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACzBA,EAAKiS,kBAAoBjS,EAAKiS,kBAAkBzR,KAAvBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACzBA,EAAKkS,iBAAmBlS,EAAKkS,iBAAiB1R,KAAtBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAVTA,iFAafG,KAAK+N,SAAS,CACV3M,SAAS,oCAGTZ,GACJA,EAAEwR,kBACFhS,KAAK+N,SAAS,CACV3M,SAAS,4CAGDmI,GAAY,IAAA7I,EACkBV,KAAKJ,MAAvCqG,EADgBvF,EAChBuF,QAASd,EADOzE,EACPyE,qBACT8M,EAAgBhM,EAAhBgM,YACR9M,EAAqBrF,OAAAoS,EAAA,EAAApS,CAAA,CACjBmS,cACA/O,KTjCY,kBSkCTqG,IAEPvJ,KAAK+N,SAAS,CACV3M,SAAS,gDAGG,IAAAD,EAC0BnB,KAAKJ,MAAvCqG,EADQ9E,EACR8E,SAERd,EAHgBhE,EACCgE,sBAEI,CACjB8M,YAFoBhM,EAAhBgM,YAGJ7M,YAAY,8CAGFkB,EAAS6L,GAEvB,IADA,IAAMC,EAAK,GADsBC,EAAA,SAExB/J,GACL,IAAMgK,EAAS,GACfhM,EAAQG,QAAQ,SAACY,GACbvH,OAAO0G,KAAKa,GAAMZ,QAAQ,SAACC,GACvB4L,EAAOjL,EAAKO,WAAZ,GAAArD,OAA4B8C,EAAKO,UAAjC,KAAArD,OAA8C+D,OAGtD8J,EAAGvK,KAAKyK,IAPHhK,EAAI,EAAGA,EAAI6J,EAAU7J,IAAK+J,EAA1B/J,GAST,OAAO8J,wCAEG,IAAAG,EACevS,KAAKJ,MAAtBqG,QAER,YAHU,IAAAsM,EACQ,GADRA,GAEFC,mDAGMC,EAAMhJ,GACpBzJ,KAAKJ,MAAMkS,kBAAkBW,EAAMhJ,EAAUzJ,KAAK0S,wDAErCC,EAAS3B,GACtBhR,KAAKJ,MAAMmS,iBAAiBY,EAAS3B,EAAMhR,KAAK0S,uDAEpC/I,EAAciJ,GAAU,IAC5B1M,EAAYlG,KAAKJ,MAAjBsG,QAUR,OATIyD,IACAA,EAAakJ,gBAAkBD,EAC/BjJ,EAAamJ,SAAW,SAACD,EAAiBE,GACtC7M,EAAQ6H,SAAS,CACb8E,kBACAE,mBAILpJ,mCAEF,IAAAiF,EAAA5O,KACGoB,EAAYpB,KAAKuN,MAAjBnM,QADH+P,EAEgGnR,KAAKJ,MAFrGoT,EAAA7B,EAEGlL,eAFH,IAAA+M,EAEa,GAFbA,EAAAC,EAAA9B,EAEiB+B,eAFjB,IAAAD,EAE2B,GAF3BA,EAE+BE,EAF/BhC,EAE+BgC,YAAa1J,EAF5C0H,EAE4C1H,SAAUvD,EAFtDiL,EAEsDjL,QAAS6J,EAF/DoB,EAE+DpB,YAF/DqD,EAAAjC,EAE4EkC,eAF5E,IAAAD,KAGGE,EAAepN,EAAfoN,WAHHC,EAIyFtN,EAAtFuD,kBAJH,IAAA+J,KAAAC,EAIyFvN,EAAlE0D,oBAJvB,IAAA6J,EAIsC,KAJtCA,EAAAvF,EAIyFhI,EAA7CK,eAJ5C,IAAA2H,EAIsD,GAJtDA,EAI0DuE,EAA+BvM,EAA/BuM,SAAUiB,EAAqBxN,EAArBwN,SAAUjD,EAAWvK,EAAXuK,OAC7EkD,EAAcpN,EAAQC,QACtBoN,EAAe,QAASC,KAAKH,IAAaA,EAAW,EAErDI,EAAmBrB,GAAY1S,OAAOmL,eAAe9K,KAAK+S,EAASV,GACnEsB,EAAaD,EAAmBX,EAAQV,GAAYxS,KAAK+T,kBAAkBzN,EAASqN,GAW1F,OATInK,IACAA,EAAWwK,iBAAkB,EAC7BxK,EAAWyK,iBAAkB,EAC7BzK,EAAWmJ,QAAUQ,EACrB3J,EAAWC,SAAWA,EACtBD,EAAW0K,MAAQL,EAAmBX,EAAO,GAAA3O,OAAIiO,EAAJ,UAAuBmB,EACpEnK,EAAWsJ,SAAW9S,KAAK8R,kBAC3BtI,EAAWuI,iBAAmB/R,KAAK+R,kBAGnCxQ,EAAAC,EAAAC,cAAA,OAAK4D,UAAS,6BAAAd,OAA+B8O,EAAU,cAAgB,KACnE9R,EAAAC,EAAAC,cAAC6R,EAAWa,SAAZ,KAEQ,SAAAvJ,GAAA,IAAGiI,EAAHjI,EAAGiI,gBAAH,OACItR,EAAAC,EAAAC,cAAC2S,EAAA,EAAD,CACI9N,QAASoN,EACTW,UAAQ,EACRP,WAAYA,EACZtK,WAAYA,EACZG,aAAciF,EAAK0F,gBAAgB3K,EAAckJ,GACjDrC,OAAQA,MAIxBjP,EAAAC,EAAAC,cAAC8S,GAAD,CACInT,QAASA,EACT2O,YAAaA,EACb9J,QAASA,EACTC,QAASA,EACTkL,QAASpR,KAAKoR,QACdC,kBAAmBrR,KAAKqR,kBACxBlM,qBAAsBnF,KAAK6R,kBAG1BwB,EACyF,KAAtF9R,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAMrC,KAAK,OAAOmC,UAAU,sBAAsBG,QAASxF,KAAK4R,0BA/H3DxO,yBCoCdoR,2LAzCKjL,GAAY,IAAA1J,EAAAG,KAChBmF,EAAyBnF,KAAKJ,MAA9BuF,qBACRnF,KAAK+N,SAAS,CACV9H,QAASsD,GACV,WACCpE,EAAqBrF,OAAAoS,EAAA,EAAApS,CAAA,CACjBmS,YAAapS,EAAK4U,oBAClBvR,KAAMrD,EAAK6U,oBACRnL,mDAKXvJ,KAAK+N,SAAS,CACV3M,SAAUpB,KAAKuN,MAAMnM,uDAKzB+D,EADiCnF,KAAKJ,MAA9BuF,sBACa,CACjB8M,YAAajS,KAAKyU,oBAClBrP,YAAY,IAEhBpF,KAAK2U,iEAIL,OADoB3U,KAAKJ,MAAjBqG,QACOgM,uDAIf,OADoBjS,KAAKJ,MAAjBqG,QACO/C,uCAGf,OAAO,sCAGP,OAAOlD,KAAK4U,iBAtCQnP,iBCgBboP,oLAdL,IAAAnU,EAC8BV,KAAKJ,MADnC2S,EAAA7R,EACAuF,eADA,IAAAsM,EACU,GADVA,EACiBuC,EADjBhV,OAAAiV,EAAA,EAAAjV,CAAAY,EAAA,aAEAsU,EAA2C/O,EAA3C+O,WAFAC,EAE2ChP,EAA/BjD,iBAFZ,IAAAiS,EAEwB,SAFxBA,EAGFC,EAAoB,WADyBjP,EAAT/C,KACLpD,OAAOmJ,OAAO,GAAI+L,EAAY,CAAEhS,cAAegS,EACpF,OACCzT,EAAAC,EAAAC,cAAA,OAAKW,MAAO8S,GAEKC,GAAgBlP,EAAS6O,WARpB1R,aC6CnBgS,GAAW,SAACC,GAAyB,IAApBC,EAAoB9N,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAR,IAC/B,OAAI6N,EACOA,EAAIvO,MAAMwO,GAAW1I,OAAO,SAACsI,EAAUK,GAAa,IAAAC,EAC/BD,EAASzO,MAAM,KADgB2O,EAAA3V,OAAAkH,EAAA,EAAAlH,CAAA0V,EAAA,GAC/CxQ,EAD+CyQ,EAAA,GACzC5F,EADyC4F,EAAA,GAKvD,OAHIzQ,GAAQ6K,IACRqF,EAASlQ,GAAQ6K,EAAM6F,QAAQ,UAAW,KAEvCR,GACR,IAEA,IAGLS,GAAW,SAACC,GAA6B,IAApBN,EAAoB9N,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAR,IACnC,MAAgD,oBAA5C1H,OAAO+V,UAAUC,SAAS3V,KAAKyV,GACxB9V,OAAO0G,KAAKoP,GAAShJ,OAAO,SAACC,EAAKnG,GAErC,OADAmG,EAAIhF,KAAJ,GAAAtD,OAAYmC,EAAZ,KAAAnC,OAAiBqR,EAAQlP,KAClBmG,GACR,IAAIqE,KAAKoE,GACLrN,MAAMC,QAAQ0N,GACdA,EAAQ1E,KAAKoE,GAEjBM,GAGIG,GAlEQ,SAACC,GAAgE,IAAtDC,EAAsDzO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzC,EAAGsE,EAAsCtE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAxB,GAAI0O,EAAoB1O,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACzE2O,EAAe,EAEnB,GAAIF,IAAeC,EAAWzO,OAC1B0O,EAAe,OACZ,CAGH,IAFA,IAAIC,EAAgB,EAChBlC,EAAQ,EACH5L,EAAI,EAAGA,EAAIwD,EAAYrE,OAAQa,IACpC,GAAIwD,EAAYxD,GAAG0N,UAAYA,EAAU,CAErC,GAAc,KADd9B,GAAgB,IAEZkC,EAAgB,OAEhB,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAWzO,OAAQ4O,KACnCnC,GAASgC,EAAWG,KACP,IACTD,EAAgBC,EAAI,EACpBA,EAAIH,EAAWzO,QAI3Ba,EAAIwD,EAAYrE,YAEhByM,GAASpI,EAAYxD,GAAGgO,QAGhC,IACIC,EADAC,EAAQ,EAOZ,IAJIP,GAAcC,EAAWzO,OAAS2O,IAClCI,EAAQJ,GAEZG,EAAMC,EAAQP,EAAa,EACrBO,GAASD,EAAKC,IAChBL,GAAgBD,EAAWM,GAGnC,OAAOL,GC7CLM,GAAiB,CAAC,UAAW,WAAY,UAAW,MAAO,aCQzDtJ,GAAWC,IAAXD,OACFF,GAAQC,IAASD,MACjByJ,GAAe,CAAC,SAAU,SAAU,OAAQ,OAAQ,QACpDC,GAAiB,CAAC,MAAO,OAAQ,QAoaxBC,eAjaX,SAAAA,EAAYhX,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4W,IACrB/W,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8W,GAAAzW,KAAAH,KAAMJ,KACD2N,MAAQ,CACZsJ,gBAAgB,EACPC,iBAAiB,GAErBjX,EAAKkX,aAAelX,EAAKkX,aAAa1W,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAKmX,cAAgBnX,EAAKmX,cAAc3W,KAAnBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACrBA,EAAKoX,eAAiBpX,EAAKoX,eAAe5W,KAApBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACtBA,EAAKqX,iBAAmBrX,EAAKqX,iBAAiB7W,KAAtBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACxBA,EAAKsX,kBAAoBtX,EAAKsX,kBAAkB9W,KAAvBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACzBA,EAAKuX,qBAAuBvX,EAAKuX,qBAAqB/W,KAA1BP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAXbA,gFAcf,MAAO,qDAEeiO,GAAW,IAAAuJ,EACdvJ,EAAjB7H,eAD+B,IAAAoR,EACrB,GADqBA,EAEzBnU,EAAS+C,EAAT/C,KACd,IAAKlD,KAAKsX,iBAAiB1Q,QAAQ1D,KAAUlD,KAAA,OAAAuE,OAAYrB,KAAW4K,EAAU1M,QAAS,CACtF,IAAMmW,EAAgBrU,EAAKsU,cACrBC,EAAQ,GAAAlT,OAAMgT,EAAN,OACRG,EAAYzR,EAAQwR,IAAa,GACvCzX,KAAK+N,SAALjO,OAAA+K,EAAA,EAAA/K,CAAA,GACE2X,EAAWC,IAEb1X,KAAA,GAAAuE,OAAQgT,EAAR,UAAgCG,EAASjQ,OACzCzH,KAAA,OAAAuE,OAAYrB,KAAU,wCAGR1C,GAAG,IAAAoO,EAAA5O,KACZQ,EAAEC,iBACRD,EAAEwR,kBAFgB,IAAA2F,EAG6C3X,KAAKuN,MAA5DuJ,EAHUa,EAGVb,gBAAiBc,EAHPD,EAGOC,UAHPC,EAAAF,EAGkBd,sBAHlB,IAAAgB,KAAAnX,EAKeV,KAAKJ,MADxBe,EAJID,EAIJC,KAAMkR,EAJFnR,EAIEmR,gBAAiB5L,EAJnBvF,EAImBuF,QAASiQ,EAJ5BxV,EAI4BwV,WAAY7E,EAJxC3Q,EAIwC2Q,kBACzDvF,EALiBpL,EAKjBoL,YALiBgM,EAAApX,EAKJqX,cALI,IAAAD,KAMlB,GAAIjB,EAGH,OAFA7W,KAAKgY,mBACL3G,IAGK,IAAM4G,EAAcjY,KAAKsX,iBAC/B3W,EAAKE,eAAe,SAACC,EAAKC,GACnB,IAAKD,EAAK,CACf,IAAMyI,EAAazJ,OAAOmJ,OAAO,GAAIhD,EAASlF,GAC9CwI,EAAWyL,WAAaI,GAASrU,EAAOiU,YACpC8B,IACHvN,EAAWnE,YAAa,GAEzB,IAAM8S,EAAa3O,EAAWrG,KAC9B,IAAK+U,EAAYrR,QAAQsR,IAA8B,WAAfA,EAAyB,CAChE,IAAMX,EAAgBW,EAAWV,cAC3BC,EAAQ,GAAAlT,OAAMgT,EAAN,OACRY,EAAUvJ,EAAKrB,MAAMkK,GAAUlR,QACrC4R,EAAQ1R,QAAQ,SAACY,GAAS,IACjBC,EAAUD,EAAVC,MACF8Q,EAAM,GAAA7T,OAAMgT,EAAN,UAAAhT,OAA4B+C,GAClC+Q,EAAM,GAAA9T,OAAMgT,EAAN,UAAAhT,OAA4B+C,GACxCD,EAAKqI,MAAQ3O,EAAOqX,GACpB/Q,EAAKwI,MAAO9O,EAAOsX,UACZ9O,EAAW6O,UACX7O,EAAW8O,KAEnB9O,EAAWkO,GAAYU,OACjB,GAAmB,eAAfD,GAA8C,gBAAfA,EAA8B,KAC/DlO,EAAWjJ,EAAXiJ,OACRT,EAAW+O,SdtEH,McsEcvX,EAAOuX,SACV,eAAfJ,IACH3O,EAAWoG,aAAe5O,EAAO4O,cAAgB5O,EAAO4O,aAAa3F,OAAOA,SAEvE,GAAmB,WAAfkO,EAAyB,CACnC,IAAMK,EAAeX,EAAUrR,QAC/BgS,EAAa9R,QAAQ,SAACY,GAAS,IACtBmR,EAAanR,EAAbmR,SAMR,GALA/B,GAAehQ,QAAQ,SAACgS,GACvB,IAAMC,EAAO,GAAAnU,OAAMkU,EAAN,KAAAlU,OAAciU,GAC3BnR,EAAKoR,GAAQ1X,EAAO2X,UACbnP,EAAWmP,KAEI,WAAnBrR,EAAKsR,UAAwB,CAChC,IAAMC,EAAW,eAAArU,OAAkBiU,GACnCnR,EAAKuR,YAAc7X,EAAO6X,UACnBrP,EAAWqP,MAGpBrP,EAAWqO,UAAYW,EAExB,GAAIR,EAAQ,KAAAc,EACgB9X,EAAnBkV,kBADG,IAAA4C,EACU,EADVA,EAEXtP,EAAW0M,WAAaA,EACxB1M,EAAW+M,QAAUP,GAAexM,EAAWyM,SAAUC,EACxDnK,EAAaoK,GAEftH,EAAKoJ,cACLnG,EAAgBtI,4CAIF,IAAAwF,EAAA/O,KAChBA,KAAKsX,iBAAiB7Q,QAAQ,SAACvD,GAC9B6L,EAAI,OAAAxK,OAAQrB,KAAU,IAEvBlD,KAAK8Y,SAAU,EACT9Y,KAAK+N,SAAS,CACnB+I,iBAAiB,EACjBD,gBAAgB,gDAIX7W,KAAK+N,SAAS,CACnB+I,iBAAiB,2CAGD0B,GAAU,IAAAO,EACA/Y,KAAKuN,MAAxBqK,UACFW,QAFqB,IAAAQ,EACP,GADOA,GAEInM,OAAO,SAACC,EAAKxF,GAI3C,OAHIA,EAAKmR,WAAaA,GACrB3L,EAAIhF,KAAKR,GAEHwF,GACL,IACH7M,KAAK+N,SAAS,CACb6J,UAAWW,6CAGOjR,EAAO6B,GAC1B,IAAMsO,EAAQ,GAAAlT,OAAM4E,EAAN,OAERgP,EADOnY,KAAKuN,MAAMkK,GACH7K,OAAO,SAACC,EAAKxF,GAIjC,OAHIA,EAAKC,QAAUA,GAClBuF,EAAIhF,KAAKR,GAEHwF,GACL,IACH7M,KAAK+N,SAALjO,OAAA+K,EAAA,EAAA/K,CAAA,GACE2X,EAAWU,0CAGGhP,GAChB,IAAMsO,EAAQ,GAAAlT,OAAM4E,EAAN,OAERgP,EADOnY,KAAKuN,MAAMkK,GACHlR,QACrB4R,EAAQtQ,KAAK,CACZ6H,MAAO,GACPG,MAAO,GACPvI,MAAOtH,KAAA,GAAAuE,OAAQ4E,EAAR,YAERnJ,KAAK+N,SAALjO,OAAA+K,EAAA,EAAA/K,CAAA,GACE2X,EAAWU,IAEbnY,KAAA,GAAAuE,OAAQ4E,EAAR,WAAuB,mDAEI,IAAAhI,EACInB,KAAKJ,MADToZ,EAAA7X,EACnB8E,eADmB,IAAA+S,EACT,GADSA,EACLrY,EADKQ,EACLR,KACduC,EAA6B+C,EAA7B/C,KAAMyM,EAAuB1J,EAAvB0J,aAAc5H,EAAS9B,EAAT8B,KACdzG,EAAsBX,EAAtBW,kBAEd,IAD0BtB,KAAKsX,iBACd1Q,QAAQ1D,GAAO,CAC/B,IAAMqU,EAAgBrU,EAAKsU,cACrBC,EAAQ,GAAAlT,OAAMgT,EAAN,OACR0B,EAAOjZ,KAAKuN,MAAMkK,IAAa,GACrC,OACClW,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,iBACnCpO,EAAkB,eAAgB,CAClCqO,gBADArO,CAGAC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,CAAQsJ,YAAU,GAEjBD,EAAK7Q,IAAI,SAACf,GAAS,IACVC,EAAUD,EAAVC,MACF6R,EAAcxY,EAAKuP,cAAL,GAAA3L,OAAsBgT,EAAtB,UAAAhT,OAA4C+C,IAC1D8R,EAAazY,EAAKuP,cAAL,GAAA3L,OAAsBgT,EAAtB,UAAAhT,OAA4C+C,IAC/D,OACC/F,EAAAC,EAAAC,cAAC4X,GAAD,CAAQxJ,MAAOsJ,EAAahQ,IAAG,MAAA5E,OAAQ+C,IAAvC,GAAA/C,OACK4U,EADL,KAAA5U,OACoB6U,SASpB,MAAa,eAATlW,EACF3B,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,iBAC3CpO,EAAkB,eAAgB,CAClCqO,gBADArO,CAGAC,EAAAC,EAAAC,cAAC6X,EAAA,EAAD,CAAYlX,MAAO,CAAER,MAAO,YAGX,UAATsB,EACF3B,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,iBAC1CpO,EAAkB,eAAgB,CAClCqO,gBADArO,CAGAC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAGgB,SAATO,EACF3B,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,SAC1CpO,EAAkB,OAAQ,CAC1BqO,aAAc5H,GADdzG,CAGAC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAII,qDAGsC,IAAAqM,EAAAhP,KAArBuZ,EAAqB3O,EAArB2O,QAASf,EAAY5N,EAAZ4N,SAC5B,OACIjX,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,gBACX9D,EAAAC,EAAAC,cAAA,QAAM4D,UAAU,SAASkU,GACzBhY,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CACIrC,KAAK,QACLmC,UAAU,aACVG,QAAS,WACLwJ,EAAKiI,eAAeuB,4CAO1C,OAAOxY,KAAKwZ,sBAAsB,CAAEtX,MAAO,kBAASuX,QAAQ,oDAG5D,OAAOzZ,KAAKwZ,sBAAsB,CACjCtX,MAAO,yBACPuX,QAAS,aACTC,eAAgB,eAChBC,eAAgB,wDAIjB,OAAO3Z,KAAKwZ,sBAAsB,CAAEtX,MAAO,qBAAYuX,QAAQ,iDAG/D,OAAOzZ,KAAKwZ,sBAAsB,CAAEtX,MAAO,oBAAWuX,QAAQ,mDAG9D,OAAOzZ,KAAKwZ,sBAAsB,CAAEtX,MAAO,uBAAcuX,QAAQ,8DAE+B,IAAAxK,EAAAjP,KAAtEkC,EAAsEiM,EAAtEjM,MAAOuX,EAA+DtL,EAA/DsL,QAA+DG,EAAAzL,EAAtDuL,sBAAsD,IAAAE,EAArC,QAAqCA,EAAAC,EAAA1L,EAA5BwL,sBAA4B,IAAAE,EAAX,QAAWA,EACxFlZ,EAASX,KAAKJ,MAAde,KACF8W,EAAQ,GAAAlT,OAAMkV,EAAN,OACFK,EAAW9Z,KAAKuN,MAAMkK,IAAa,GAC/C,OACClW,EAAAC,EAAAC,cAACwP,EAAA,EAAD,CACC/O,MAAOA,EACP6X,MAAOxY,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAMrC,KAAK,cAAcsC,QAAS,WACxCyJ,EAAK+H,cAAcyC,OAInBK,EAAS1R,IAAI,SAAAC,GAA6B,IAA1BqH,EAA0BrH,EAA1BqH,MAAOG,EAAmBxH,EAAnBwH,MAAOvI,EAAYe,EAAZf,MAC7B,OACC/F,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,CAAUgB,IAAG,GAAA5E,OAAKkV,EAAL,KAAAlV,OAAgB+C,IAC5B/F,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,CACC+C,UAAU,YACV8D,IAAG,GAAA5E,OAAKkV,EAAL,WAAAlV,OAAsB+C,IAExB3G,EAAKW,kBAAL,GAAAiD,OAA0BkV,EAA1B,UAAAlV,OAA0C+C,GAAS,CACnDqI,aAAcD,EACdnN,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAASiX,KAFnC/Y,CAIAY,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAOC,YAAa8W,MAGtBnY,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,CACC+C,UAAU,YACV8D,IAAG,GAAA5E,OAAKkV,EAAL,WAAAlV,OAAsB+C,GACzBlF,MAAO,CAAE4X,WAAY,SAEpBrZ,EAAKW,kBAAL,GAAAiD,OAA0BkV,EAA1B,UAAAlV,OAA0C+C,GAAS,CACnDqI,aAAcE,GADdlP,CAGAY,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAOC,YAAa+W,MAGtBpY,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CACCrC,KAAK,eACLd,MAAO,CAAE4X,WAAY,MAAOC,WAAY,QACxCzU,QAAS,WACRyJ,EAAKiI,iBAAiB5P,EAAOmS,kDAUtB3J,GAAW,IAClBnP,EAASX,KAAKJ,MAAde,KACA6X,EAA0B1I,EAA1B0I,SAAUI,EAAgB9I,EAAhB8I,YAClB,OACCrX,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CACCE,IAAG,eAAA5E,OAAiBiU,GACpB9I,MAAM,kCACFhK,GAEH/E,EAAKW,kBAAL,eAAAiD,OAAsCiU,GAAY,CAClDjW,MAAO,CAAC,CACPC,SAAU,OAAQC,QAAS,mCAE5BkN,aAAciJ,GAJdjY,CAMAY,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAOC,YAAY,2DAKqB,IAA5B4V,EAA4BzM,EAA5ByM,SAAU/T,EAAkBsH,EAAlBtH,IAAKkU,EAAa5M,EAAb4M,UAAaxH,EACRnR,KAAKJ,MADGsa,EAAA/I,EACnCpB,mBADmC,IAAAmK,EACrB,GADqBA,EACjBvZ,EADiBwQ,EACjBxQ,KAE1B,OAAI+V,GAAa9P,QAAQ+R,IAAc,EAC/BtI,GAAgBN,EAAapP,EAAM,CAAEgP,aAAclL,EAAK0E,IAAKqP,IAE9D,gDAE4C,IAAlCA,EAAkC7L,EAAlC6L,SAAU/P,EAAwBkE,EAAxBlE,UAAWkQ,EAAahM,EAAbgM,UAAawB,EAChBna,KAAKJ,MADWwa,EAAAD,EAC3CpK,mBAD2C,IAAAqK,EAC7B,GAD6BA,EACzBzZ,EADyBwZ,EACzBxZ,KAE1B,OAAIgW,GAAe/P,QAAQ+R,IAAc,EACjCvI,GAAkBL,EAAapP,EAAM8H,EAAW+P,GAEjD,6CAEQ,IAAA6B,EAAAra,KACPW,EAASX,KAAKJ,MAAde,KADO2Z,EAEYta,KAAKuN,MAAxBqK,iBAFO,IAAA0C,EAEK,GAFLA,EAGTC,EAAe3C,EAAUhL,OAAO,SAACC,EAAD8D,GAAuB,IAAf6H,EAAe7H,EAAf6H,SAE7C,OADA3L,EAAIhF,KAAJ,OAAAtD,OAAgBiU,IACT3L,GACL,IACH,OACCtL,EAAAC,EAAAC,cAACwP,EAAA,EAAD,CAAM/O,MAAM,4BACXX,EAAAC,EAAAC,cAAC0N,EAAA,EAAD,CAAUqL,iBAAkBD,GAE3B3C,EAAUxP,IAAI,SAACf,GAAS,IACfmR,EAA4FnR,EAA5FmR,SAAUe,EAAkFlS,EAAlFkS,QADKkB,EAC6EpT,EAAzEqT,gBADJ,IAAAD,EACe,GADfA,EAAAE,EAC6EtT,EAA1DlE,gBADnB,IAAAwX,EAC8B,SAD9BA,EACwChC,EAAqCtR,EAArCsR,UAAWiC,EAA0BvT,EAA1BuT,aAAcjS,EAAYtB,EAAZsB,QACxF,OACCpH,EAAAC,EAAAC,cAACoZ,GAAD,CAAOrL,OAAQ6K,EAAKjD,qBAAqB/P,GAAO8B,IAAG,OAAA5E,OAASiU,IAC3DjX,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CACCE,IAAG,WAAA5E,OAAaiU,GAChB9I,MAAM,4BACFhK,GAEH/E,EAAKW,kBAAL,WAAAiD,OAAkCiU,GAAY,CAC9C7I,aAAc4J,EACdhX,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,8BAFnC9B,CAIAY,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAOC,YAAY,2BAAOkY,SAAUF,MAIvB,WAAdjC,EACEpX,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CACAE,IAAG,YAAA5E,OAAciU,GACjB9I,MAAM,QACFhK,GAEH/E,EAAKW,kBAAL,YAAAiD,OAAmCiU,GAAY,CAC/C7I,aAAc+K,GADd/Z,CAGAY,EAAAC,EAAAC,cAACmO,EAAA,EAAD,CAAQhN,YAAY,2BAAOkY,SAAuB,WAAb3X,GAAsC,UAAbA,GAC7D5B,EAAAC,EAAAC,cAAC4X,GAAD,CAAQxJ,MAAM,WAAd,WACAtO,EAAAC,EAAAC,cAAC4X,GAAD,CAAQxJ,MAAM,UAAd,UACAtO,EAAAC,EAAAC,cAAC4X,GAAD,CAAQxJ,MAAM,UAAd,UACAtO,EAAAC,EAAAC,cAAC4X,GAAD,CAAQxJ,MAAM,IAAd,WAGa,KAGjBwK,EAAKU,cAAc1T,GAGnBgT,EAAKW,gBAAgB3T,GAGP,WAAdsR,EAAyB0B,EAAKY,gBAAgB5T,GAAQ,KAGxC,SAAdsR,EACEpX,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CACAE,IAAG,WAAA5E,OAAaiU,GAChB9I,MAAM,4BACFhK,GAEH/E,EAAKW,kBAAL,WAAAiD,OAAkCiU,GAAY,CAC9CjW,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,yCACnCkN,aAAchH,GAFdhI,CAIAY,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAEc,SAOtBpB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,CAAWF,MAAO,CAAEY,UAAW,WAC9BzB,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CAAQuC,QAASxF,KAAKmX,mBAAtB,qCAzZkB/T,aCNjB+J,YAASC,IAAOD,QACd+N,GAAaC,IAAbD,SAEFE,4LAEJ,MAAO,CAAC,OAAQ,aAAc,SAAU,8CAE5B,IAAA1a,EACcV,KAAKJ,MAAvBe,EADID,EACJC,KAAMsF,EADFvF,EACEuF,QACNrD,EAAsBqD,EAAtBrD,YAAaM,EAAS+C,EAAT/C,KACb5B,EAAsBX,EAAtBW,kBACR,OAAItB,KAAKuN,MAAMuJ,gBACP,KAEK,WAAT5T,EACIlD,KAAKqb,gBAEA,eAATnY,EACIlD,KAAKsb,mBAEA,SAATpY,EACIlD,KAAKub,aAEA,UAATrY,EACIlD,KAAKwb,cAGZja,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KACEnI,KAAKyb,yBAEI,SAATvY,GAA4B,eAATA,EACjB3B,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,gBACpCpO,EAAkB,cAAe,CACjCqO,aAAc/M,GADdtB,CAGAC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAEc,uCAKZ,IAAA9C,EAAAG,KAAAmB,EACoCnB,KAAKJ,MAAzCwB,EADAD,EACAC,QAASgQ,EADTjQ,EACSiQ,QAASzQ,EADlBQ,EACkBR,KAAMsF,EADxB9E,EACwB8E,QACxB6Q,EAAoB9W,KAAKuN,MAAzBuJ,gBACF4E,EAAoB/F,GAAS1P,EAAQ+O,YACnC9R,EAA0C+C,EAA1C/C,KAAMyY,EAAoC1V,EAApC0V,UAJN1G,EAI0ChP,EAAzBjD,iBAJjB,IAAAiS,EAI6B,SAJ7BA,EAKR,OACC1T,EAAAC,EAAAC,cAAC8P,EAAA,EAAD,CACCnQ,QAASA,EACTU,cAAc,EACdI,MAAM,2BACNkP,QAAS,WACRvR,EAAKmY,cACL5G,KAEDxP,MAAO,KAEPL,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAM5B,SAAUP,KAAK+W,cAElBD,EAOe,KANfvV,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,qBAAchK,GAC7B/E,EAAKW,kBAAkB,aAAc,CACrCqO,aAAc+L,GADd/a,CAGAY,EAAAC,EAAAC,cAACyZ,GAAD,CAAUtY,YAAY,+EAKhB,WAATM,GAAsB4T,EA2BlB,KA1BHvV,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,4BAAWhK,GAC1B/E,EAAKW,kBAAkB,YAAa,CACpCqO,aAAc3M,GADdrC,CAGAY,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACCrO,EAAAC,EAAAC,cAACma,GAAD,CACCzS,IAAI,OACJ0G,MAAM,QAFP,UAMAtO,EAAAC,EAAAC,cAACma,GAAD,CACCzS,IAAI,SACJ0G,MAAM,UAFP,UAMAtO,EAAAC,EAAAC,cAACma,GAAD,CACCzS,IAAI,QACJ0G,MAAM,SAFP,aAYK,UAAT3M,GAAqB4T,EAqBjB,KApBHvV,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAM,gBAAShK,GACxB/E,EAAKW,kBAAkB,YAAa,CACpCqO,aAAcgM,GADdhb,CAGAY,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACCrO,EAAAC,EAAAC,cAACma,GAAD,CACCzS,IAAI,UACJ0G,MAAM,WAFP,gBAMAtO,EAAAC,EAAAC,cAACma,GAAD,CACCzS,IAAI,MACJ0G,MAAM,OAFP,UAYc7P,KAAK6b,aAGtB/E,EAMG,KALHvV,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,WACd9D,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CAAQuC,QAASxF,KAAKmX,mBAAtB,6BAMG5V,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,kBACpB9D,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CAAQC,KAAK,UAAUC,SAAS,UAAhC,0BArIiByT,IA+IRvT,OAAKC,QAALD,CAAc+X,IC9GdU,GA3CM,SAACC,EAAU7V,GAAgC,IAAvB8V,EAAuBxU,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GACpDyU,EAAkB/V,EAAQqH,MAA1B0O,cACAhW,EAAYC,EAAQtG,MAApBqG,QACA/C,EAA4B6Y,EAA5B7Y,KAASgZ,EAH2Cpc,OAAAiV,EAAA,EAAAjV,CAGxBic,EAHwB,UAIxDxS,EAAa,CACbvG,UAAW,QAEf,GAAIiZ,EAAe,CACf,GAAa,WAAT/Y,GAAsC,WAAjB+C,EAAQ/C,KAQ7B,QAPAqG,EAAazJ,OAAOmJ,OAAO,GAAIhD,IACpB2R,UAAU/P,KAArB/H,OAAAoS,EAAA,EAAApS,CAAA,CACI0Y,SAAUtS,EAAQsS,UACf0D,IAEPhW,EAAQsS,UAAY,MAKX,WAATtV,GACAqG,EAAWqO,UAAY,CAAC9X,OAAAoS,EAAA,EAAApS,CAAA,CACpB0Y,SAAUtS,EAAQsS,UACf0D,IAEPhW,EAAQsS,UAAY,GAEpBjP,EAAUzJ,OAAAoS,EAAA,EAAApS,CAAA,GAAQoc,GAEtB3S,EAAWrG,KAAOA,EAEtB,GAAI8Y,GAAkC,WAApBzS,EAAWrG,KAAmB,KACpC+C,EAAYC,EAAQtG,MAApBqG,QACAgQ,EAA8ChQ,EAA9CgQ,WAAYjB,EAAkC/O,EAAlC+O,WAAYgB,EAAsB/P,EAAtB+P,SAAUM,EAAYrQ,EAAZqQ,QAC1C/M,EAAW0M,WAAaA,EACxB1M,EAAWyL,WAAaA,EACxBzL,EAAWyM,SAAWA,EACtBzM,EAAW+M,QAAUA,EACrB/M,EAAWmG,MAAQxM,EACnBqG,EAAWvE,KAAX,QAAAT,OAA0ByR,GAE9B,OAAOzM,GCrCL4S,GAAe,CjBAE,gBACC,iBACA,iBACF,eiBHiE5Y,EjBKhE,iBiBCjB6Y,GAAU,WACZ,QAASzX,aAAaC,QAAQ,mBAAqBD,aAAaC,QAAQ,WAOtEyX,GAAkB,WAAiB,IAAhBC,EAAgB9U,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAO+U,EAC2BD,EAAxDpZ,YAD6B,IAAAqZ,EACtB,QADsBA,EACb5M,EAAwC2M,EAAxC3M,aADa6M,EAC2BF,EAA1BtS,cADD,IAAAwS,EACU,aADVA,EAErC,MAAa,eAATtZ,EACOyM,GAAgB8M,KAAO9M,EAAc3F,GAEnC,aAAT9G,EACO,CAACyM,GAELA,GAAgB,IAeZ+M,GAnCK,SAACxZ,GACjB,OAAOiZ,GAAavV,QAAQ1D,IAAS,GCGnCyZ,YAAU,kBA2JDC,eAxJX,SAAAA,EAAYhd,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4c,IACf/c,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8c,GAAAzc,KAAAH,KAAMJ,KACD2N,MAAQ,CACTtH,QAASrG,EAAMqG,QACf4W,UAAU,EACVZ,gBAAiBrc,EAAMqG,QAAQ/C,MAEnCrD,EAAKid,OAASjd,EAAKid,OAAOzc,KAAZP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACdA,EAAKkd,YAAcld,EAAKkd,YAAY1c,KAAjBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACnBA,EAAKmd,aAAend,EAAKmd,aAAa3c,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAKgS,gBAAkBhS,EAAKgS,gBAAgBxR,KAArBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACvBA,EAAK2Y,SAAW,EAXD3Y,mFAcVG,KAAKid,UAAWjd,KAAKJ,MAAMyT,UAGhCrT,KAAKid,QAAQC,iBAAiB,OAAQld,KAAK8c,QAAQ,GACnD9c,KAAKid,QAAQC,iBAAiB,YAAald,KAAKmd,aAAa,GAC7Dnd,KAAKid,QAAQC,iBAAiB,YAAald,KAAK+c,aAAa,mDAGzD/c,KAAKid,UAAYjd,KAAKJ,MAAMyT,UAC5BrT,KAAKid,QAAQG,oBAAoB,OAAQpd,KAAK8c,QAC9C9c,KAAKid,QAAQG,oBAAoB,YAAapd,KAAKmd,aACnDnd,KAAKid,QAAQG,oBAAoB,YAAapd,KAAK+c,qDAIvD/c,KAAK+N,SAAS,CACV8O,UAAW7c,KAAKuN,MAAMsP,sDAGyB,IAAAQ,EAAAzS,EAArCxF,kBAAqC,IAAAiY,KAAd9T,EAAczJ,OAAAiV,EAAA,EAAAjV,CAAA8K,EAAA,gBAAAlK,EACTV,KAAKJ,MAAvCuF,EAD2CzE,EAC3CyE,qBACA8M,EAF2CvR,EACrBuF,QACtBgM,YACFqL,EAAW,CACbrX,QAAS,CACLgM,gBAIJ7M,GACAkY,EAASrB,eAAgB,EACzBqB,EAASrX,QAAQ+O,WAAazL,EAAWyL,YAEzCsI,EAASrX,QAAUnG,OAAOmJ,OAAO,GAAIjJ,KAAKuN,MAAMtH,QAASsD,GAE7DvJ,KAAK+N,SAALjO,OAAAoS,EAAA,EAAApS,CAAA,GACOwd,IAEPnY,EAAqBrF,OAAAoS,EAAA,EAAApS,CAAA,GACdwd,EAASrX,QADI,CAEhBb,aACA6M,iBAECyK,GAAY1c,KAAKuN,MAAMtH,QAAQ/C,OAChClD,KAAKgd,8CAGNO,GAAO,IAAA3O,EAAA5O,KAGV,GAFAud,EAAM9c,iBACN8c,EAAMvL,kBACFuL,EAAMC,OAAOnY,YAAcsX,GAAS,CACpC3c,KAAKyd,UACL,IAAMrZ,EAAOsZ,KAAKC,MAAMJ,EAAMK,aAAaC,QAAQ,eAFf1c,EAGWnB,KAAKJ,MAA5CuF,EAH4BhE,EAG5BgE,qBAH4B6T,EAAA7X,EAGN8E,eAHM,IAAA+S,EAGI,GAHJA,EAI9B8E,EAAWhC,GAAa1X,EAAMpE,MACpC,IAAK8d,EAED,YADArb,IAAQsb,KAAK,wCANmB,IAS5B7a,EAAwB4a,EAAxB5a,KAASqG,EATmBzJ,OAAAiV,EAAA,EAAAjV,CASJge,EATI,UAAAE,EAUVhe,KAAKJ,MAAvBqe,SACR,SAXoC,IAAAD,EAUjB,GAViBA,GAWvBpX,QAAQ1D,IAAS,EAE1B,YADAT,IAAQsb,KAAK,sEAZmB,IAe5B9L,EAAgBhM,EAAhBgM,YACJ1I,GACAvJ,KAAK+N,SAAS,CACV9H,QAAQnG,OAAAoS,EAAA,EAAApS,CAAA,CACJoD,OACA+O,eACG1I,GAEP0S,eAAe,GAChB,WACC9W,EAAqByJ,EAAKrB,MAAMtH,8CAM5C,IAAMiY,EAAaC,SAASC,iBAAiB,mBACzCF,GACAA,EAAWzX,QAAQ,SAACY,GAChBA,EAAKjF,MAAMic,WAAa,yCAIxBd,GACJA,EAAMC,OAAOnY,YAAcsX,KAC3BY,EAAMC,OAAOpb,MAAMic,WlBjHX,+CkBoHJd,GACJA,EAAMC,OAAOnY,YAAcsX,KAC3BY,EAAMC,OAAOpb,MAAMic,WAAa,qCAG/B,IAAAtP,EAAA/O,KAAA2X,EACwC3X,KAAKuN,MAA1C0O,EADHtE,EACGsE,cAAehW,EADlB0R,EACkB1R,QAAS4W,EAD3BlF,EAC2BkF,SAD3B1L,EAE4BnR,KAAKJ,MAA9BmQ,EAFHoB,EAEGpB,YAAasD,EAFhBlC,EAEgBkC,QACf9J,EAAa8J,EAAUrT,KAAKJ,MAAMqG,QACpCnG,OAAOmJ,OAAO,GAAIhD,GACtB,OACI1E,EAAAC,EAAAC,cAAA,OACI4D,UAAU,iBACViZ,IAAK,SAACrB,GAAclO,EAAKkO,QAAUA,IAGjChB,GAAiB5I,EACf9R,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KACI5G,EAAAC,EAAAC,cAAC8c,GAADze,OAAAmJ,OAAA,GACQjJ,KAAKJ,MADb,CAEIuF,qBAAsBnF,KAAK6R,gBAC3B5L,QAASsD,KAGRmT,GAAYzW,EAAQ/C,OAAUmQ,EAIzB,KAJqC9R,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CACvCrC,KAAK,OACLmC,UAAU,sBACVG,QAASxF,KAAKgd,gBAIrB3J,EAAiC,KAAvB9R,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAMrC,KAAK,SAE9B3B,EAAAC,EAAAC,cAAC+c,GAAD,CACIpd,QAASyb,EACT5W,QAASA,EACT8J,YAAaA,EACbgI,QAAQ,EACR3G,QAASpR,KAAKgd,aACdnL,gBAAiB7R,KAAK6R,0BAlJdzO,aCJtB8X,YAAWC,IAAMD,UACjB/N,GAASC,IAAOD,OAEhBsR,eACF,SAAAA,EAAY7e,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAye,IACf5e,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2e,GAAAte,KAAAH,KAAMJ,KACDmX,aAAelX,EAAKkX,aAAa1W,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAFLA,4EAINW,GACTA,EAAEC,iBADU,IAAAC,EAEcV,KAAKJ,MAAvBe,EAFID,EAEJC,KAAMyQ,EAFF1Q,EAEE0Q,QACdzQ,EAAKE,eAAe,SAACC,EAAKC,GACtB,IAAKD,EAAK,KACE4d,EAAuB3d,EAAvB2d,UAAcC,EADhB7e,OAAAiV,EAAA,EAAAjV,CACyBiB,EADzB,eAEAkF,EAAOnG,OAAAoS,EAAA,EAAApS,CAAA,CACT4e,UAAWtJ,GAASsJ,IACjBC,GAEPvN,EAAQnL,uCAIX,IAAA9E,EAC+DnB,KAAKJ,MAAjEwB,EADHD,EACGC,QAAST,EADZQ,EACYR,KAAMyQ,EADlBjQ,EACkBiQ,QADlB4H,EAAA7X,EAC2B8E,eAD3B,IAAA+S,EACqC,GADrCA,EACyC3H,EADzClQ,EACyCkQ,kBADzCuN,EAEqE3Y,EAAlEyY,iBAFH,IAAAE,EAEe,GAFfA,EAAAC,EAEqE5Y,EAAlD6Y,oBAFnB,IAAAD,EAEkC,EAFlCA,EAAAE,EAEqE9Y,EAAhC+Y,qBAFrC,IAAAD,EnBlBC,ImBkBDA,EAE4D7b,EAAS+C,EAAT/C,KAC3D+b,EAAmBtJ,GAAS+I,GAC1Bpd,EAAsBX,EAAtBW,kBACR,OACIC,EAAAC,EAAAC,cAAC8P,EAAA,EAAD,CACInQ,QAASA,EACTU,cAAc,EACdF,MAAO,IACPM,MAAM,qBACNkP,QAAS,WACLA,EAAQ,KAGZ7P,EAAAC,EAAAC,cAACU,EAAA,EAAD,CACI5B,SAAUP,KAAK+W,aACf3U,MAAO,CAAEC,QAAS,WAElBd,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CACIyG,MAAM,qBACFhK,GAErB/E,EAAKW,kBAAkB,YAAa,CACpCqO,aAAcsP,GADdte,CAGAY,EAAAC,EAAAC,cAACyd,GAAD,CAAUtc,YAAY,+EAILM,IAASK,EACLhC,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CACAyG,MAAM,4BACFhK,GAEHpE,EAAkB,gBAAiB,CAChCqO,aAAcqP,GADjB1d,CAIGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACIrO,EAAAC,EAAAC,cAAC0d,GAAD,CAAQtP,MAAM,KAAd,UACAtO,EAAAC,EAAAC,cAAC0d,GAAD,CAAQtP,MAAM,KAAd,aAIR,KAGJ3M,IAASK,EACLhC,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CACIyG,MAAM,sBACFhK,GAEHpE,EAAkB,eAAgB,CAC/BqO,aAAcmP,EACdvc,MAAO,CACH,CAAEC,UAAU,EAAMC,QAAS,qCAHlCnB,CAMGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACIrO,EAAAC,EAAAC,cAAC0d,GAAD,CAAQtP,MAAM,KAAd,KACAtO,EAAAC,EAAAC,cAAC0d,GAAD,CAAQtP,MAAM,KAAd,KACAtO,EAAAC,EAAAC,cAAC0d,GAAD,CAAQtP,MAAM,KAAd,KACAtO,EAAAC,EAAAC,cAAC0d,GAAD,CAAQtP,MAAM,KAAd,KACAtO,EAAAC,EAAAC,cAAC0d,GAAD,CAAQtP,MAAM,KAAd,KACAtO,EAAAC,EAAAC,cAAC0d,GAAD,CAAQtP,MAAM,KAAd,KACAtO,EAAAC,EAAAC,cAAC0d,GAAD,CAAQtP,MAAM,KAAd,KACAtO,EAAAC,EAAAC,cAAC0d,GAAD,CAAQtP,MAAM,KAAd,QAIZ,KAERtO,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,WACX9D,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CACIC,KAAK,UACLC,SAAS,SACTf,MAAO,CAAEsP,YAAa,SAH1B,gBAOAnQ,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CAAQuC,QAAS6L,GAAjB,sCApGFjO,aA4GPC,OAAKC,QAALD,CAAcob,IC8EdW,wBA3LX,SAAAA,EAAYxf,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAof,IACfvf,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsf,GAAAjf,KAAAH,KAAMJ,KACD2N,MAAQ,CACTnM,SAAS,EACT6E,QAAS,CACL6G,SAAU,CAAC,CACPmF,YAAa,IAEjB6M,aAAc,IAGtBjf,EAAKwf,aAAe,EACpBxf,EAAKyf,aAAezf,EAAKyf,aAAajf,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAK0f,iBAAmB1f,EAAK0f,iBAAiBlf,KAAtBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACxBA,EAAKgS,gBAAkBhS,EAAKgS,gBAAgBxR,KAArBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACvBA,EAAKwR,kBAAoBxR,EAAKwR,kBAAkBhR,KAAvBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACzBA,EAAK8U,mBAAqB9U,EAAK8U,mBAAmBtU,KAAxBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAC1BA,EAAK2f,yBAA2B3f,EAAK2f,yBAAyBnf,KAA9BP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAjBjBA,mFAmBiC,IAAAwd,EAAAzS,EAAjCxF,kBAAiC,IAAAiY,KAAVtc,EAAUjB,OAAAiV,EAAA,EAAAjV,CAAA8K,EAAA,gBACxC3E,EAAYjG,KAAKuN,MAAjBtH,QACA6Y,EAAiB9e,KAAKJ,MAAtBkf,aACFvV,EAAazJ,OAAOmJ,OAAPnJ,OAAAoS,EAAA,EAAApS,CAAA,GAAmBmG,GAAW6Y,GAC3CW,EAAclW,EAAWuD,SAASF,OAAO,SAACC,EAAKxF,GAiBjD,OAfIjC,EACIrE,EAAOkR,cAAgB5K,EAAK4K,YAC5BpF,EAAIhF,KAAK/H,OAAOmJ,OAAO,GAAI5B,IAE3BwF,EAAIhF,KAAK,CACLoK,YAAalR,EAAOkR,cAIxBlR,EAAOkR,cAAgB5K,EAAK4K,YAC5BpF,EAAIhF,KAAK/H,OAAOmJ,OAAO,GAAI5B,EAAMtG,IAEjC8L,EAAIhF,KAAK/H,OAAOmJ,OAAO,GAAI5B,IAG5BwF,GACR,IACHtD,EAAWuD,SAAW2S,EACtBzf,KAAK6R,gBAAgBtI,oDAEA0I,GAAa,IAAArD,EAAA5O,KAC1BiG,EAAYjG,KAAKuN,MAAjBtH,QAD0ByZ,EAERzZ,EAAlB6G,SACF2S,QAH4B,IAAAC,EAEf,GAFeA,GAGL9S,OAAO,SAACC,EAAKxF,GAItC,OAHIA,EAAK4K,cAAgBA,GACrBpF,EAAIhF,KAAKR,GAENwF,GACR,IACGtD,EAAazJ,OAAOmJ,OAAO,GAAIhD,EAAS,CAAE6G,SAAU2S,IAC1Dzf,KAAK+N,SAAS,CACV9H,QAASsD,GACV,WACCqF,EAAKiD,gBAAgBtI,4CAGd,IAAAwF,EAAA/O,KACHiG,EAAYjG,KAAKuN,MAAjBtH,QACA6G,EAA2B7G,EAA3B6G,SAAUgS,EAAiB7Y,EAAjB6Y,aAClB9e,KAAKqf,cAAgB,EACrB,IAGM9V,EAAa,CACfuV,eACAhS,SALgBA,EAASvI,OAAO,CAAC,CACjC0N,YAAajS,KAAKqf,iBAMhB/B,EAAW,CACbrX,QAASsD,GAEbvJ,KAAK+N,SAALjO,OAAAoS,EAAA,EAAApS,CAAA,GACOwd,GACJ,WACCvO,EAAK8C,gBAAgBtI,uCAGnBuV,GAAc,IAAA9P,EAAAhP,KACpB,IAAK8e,EACD,OAAO,KASX,IAXoB,IAAApe,EAIuEV,KAAKJ,MAAxFyT,EAJY3S,EAIZ2S,QAJYsM,EAAAjf,EAIHwF,eAJG,IAAAyZ,EAIO3f,KAJP2f,EAIazM,EAJbxS,EAIawS,QAASnK,EAJtBrI,EAIsBqI,aAAc6W,EAJpClf,EAIoCkf,iBAAqB9K,EAJzDhV,OAAAiV,EAAA,EAAAjV,CAAAY,EAAA,mEAKdmf,EAAe,GACfje,EAAK,GAAA2C,OAAM,IAAMua,EAAZ,KAEHhS,GADYuG,EAAUrT,KAAKJ,MAAQI,KAAKuN,OAAxCtH,QACA6G,SACFgT,EAAUhT,EAASrF,OACjBsI,EAAgB/P,KAAKJ,MAArBmQ,YAVYsC,EAAA,SAWX/J,GACL,IAAMrC,EAAU6G,EAASxE,GACjB2J,EAAgBhM,EAAhBgM,YACF8N,GAAiB1M,GAAWyM,EAAU,EACtCE,EAAMD,EAAgB,4CAA8C,2BAC1EF,EAAahY,KACVtG,EAAAC,EAAAC,cAAA,OAAK4D,UAAW2a,EAAK7W,IAAG,YAAA5E,OAAc0N,GAAe7P,MAAO,CAAER,UACzDL,EAAAC,EAAAC,cAACwe,GAADngB,OAAAmJ,OAAA,CACIgJ,YAAaA,EACbiB,QAASA,EACTnK,aAAcA,EACdgH,YAAaA,GACT+E,EALR,CAMI7O,QAASA,EACToN,QAASA,EACTuM,iBAAkBA,EAClB1Z,QAASA,EACTf,qBAAsB6J,EAAKuQ,oBAG3BQ,EACIxe,EAAAC,EAAAC,cAACye,GAAA,EAAD,CACIhe,MAAM,4BACNie,UAAW,WACPnR,EAAKwQ,yBAAyBvN,IAElCmO,OAAO,SACPC,WAAW,UAEX9e,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAMrC,KAAK,QAAQmC,UAAU,qBAEjC,QA/BXiD,EAAI,EAAGA,EAAIwX,EAASxX,IAAK+J,EAAzB/J,GAoCT,OAAOuX,oCAED,IAAA5Q,EAAAjP,KACEoB,EAAYpB,KAAKuN,MAAjBnM,QADFD,EAEkDnB,KAAKJ,MAArDuF,EAFFhE,EAEEgE,qBAFF6T,EAAA7X,EAEwB8E,eAFxB,IAAA+S,EAEkC,GAFlCA,EAEsC3F,EAFtClS,EAEsCkS,QAFtCwL,EAGkC5Y,EAAhC6Y,oBAHF,IAAAD,EAGiB,EAHjBA,EAGoBH,EAAczY,EAAdyY,UAC1B,OACInd,EAAAC,EAAAC,cAAA,OAAK4D,UAAS,iBAAAd,OAAoB8O,EAAU,eAAiB,aAAejR,MAAOsc,GAC/End,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,aACVrF,KAAKsgB,WAAWxB,IAErBvd,EAAAC,EAAAC,cAAC8e,GAAD,CACInf,QAASA,EACT6E,QAASA,EACTmL,QAAS,SAACoP,GACN,GAAIA,EAAU,KACF1B,EAAiB0B,EAAjB1B,aAEFvV,EAAa,CACfuD,SAFiBmC,EAAK1B,MAAMtH,QAAxB6G,SAGJgS,cAAeA,EACf7M,YAAahM,EAAQgM,YACrB/O,KpBzJV,eoB0JUwb,UAAW8B,EAAS9B,WAExBzP,EAAKlB,SAAS,CACV9H,QAASsD,IAEbpE,EAAqBoE,GAEzB0F,EAAK0F,sBAETtD,kBAAmBrR,KAAKqR,oBAGvBgC,EAIG,KAHA9R,EAAAC,EAAAC,cAAAF,EAAAC,EAAAwH,SAAA,KACAzH,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAMrC,KAAK,OAAOmC,UAAU,sBAAsBG,QAASxF,KAAK2U,sBAKnEtB,EAUG,KATA9R,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,eACX9D,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CACIwd,OAAK,EACLvd,KAAK,UACLsC,QAASxF,KAAKsf,cAHlB,sBA7KD9K,KCmIZkM,wBAnIX,SAAAA,EAAY9gB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0gB,IACf7gB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4gB,GAAAvgB,KAAAH,KAAMJ,KACD2N,MAAQ,CACTnM,SAAS,EACT6E,QAAS,CACL6G,SAAU,CAAC,CACPmF,YAAa,IAEjB/O,KAAMK,EACNub,aAAc,IAGtBjf,EAAKmd,aAAend,EAAKmd,aAAa3c,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAKwR,kBAAoBxR,EAAKwR,kBAAkBhR,KAAvBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACzBA,EAAKgS,gBAAkBhS,EAAKgS,gBAAgBxR,KAArBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAdRA,8EAiBfG,KAAK+N,SAAS,CACV3M,SAAUpB,KAAKuN,MAAMnM,sDAGT,IAAAV,EAC8BV,KAAKJ,OACnDuF,EAFgBzE,EACRyE,sBACa,CAAE8M,YAFPvR,EACcuR,YACM7M,YAAY,IAChDpF,KAAKgd,0DAE0C,IAAAK,EAAAzS,EAAjCxF,kBAAiC,IAAAiY,KAAVtc,EAAUjB,OAAAiV,EAAA,EAAAjV,CAAA8K,EAAA,gBAAAzJ,EACLnB,KAAKJ,MAAvCuF,EADuChE,EACvCgE,qBACA8M,EAFuC9Q,EACjB8E,QACtBgM,YACF1I,EAAazJ,OAAOmJ,OAAO,CAAEgJ,eAAejS,KAAKuN,MAAMtH,SACvDwZ,EAAclW,EAAWuD,SAASF,OAAO,SAACC,EAAKxF,GAiBjD,OAfIjC,EACIrE,EAAOkR,cAAgB5K,EAAK4K,YAC5BpF,EAAIhF,KAAK/H,OAAOmJ,OAAO,GAAI5B,IAE3BwF,EAAIhF,KAAK,CACLoK,YAAalR,EAAOkR,cAIxBlR,EAAOkR,cAAgB5K,EAAK4K,YAC5BpF,EAAIhF,KAAK/H,OAAOmJ,OAAO,GAAI5B,EAAMtG,IAEjC8L,EAAIhF,KAAK/H,OAAOmJ,OAAO,GAAI5B,IAG5BwF,GACR,IACHtD,EAAWuD,SAAW2S,EACtBzf,KAAK+N,SAAS,CACV9H,QAASsD,GACV,WACCpE,EAAqBoE,uCAGnBuV,GACN,IAAKA,EACD,OAAO,KAOX,IALA,IAAMe,EAAe,GACfje,EAAK,GAAA2C,OAAM,IAAMua,EAAZ,KACHzL,EAAYrT,KAAKJ,MAAjByT,QANYsN,GAOMtN,EAAUrT,KAAKJ,MAAMqG,QAAUjG,KAAKuN,MAAMtH,SAA5D6G,gBAPY,IAAA6T,EAOD,GAPCA,EAQdb,EAAUhT,EAASrF,OAChBa,EAAI,EAAGA,EAAIwX,EAASxX,IACzBuX,EAAahY,KACVtG,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,kBAAkB8D,IAAG,QAAA5E,OAAUua,EAAV,KAAAva,OAA0B+D,GAAKlG,MAAO,CAAER,UACvEL,EAAAC,EAAAC,cAAEwe,GAAF,CACIhO,YAAa3J,EACb2V,SAAU,CAAC,gBAAiB,iBAAkB,UAC9C5K,QAASA,EACTpN,QAASnG,OAAOmJ,OAAO,CAAEgJ,YAAa3J,GAAKwE,EAASxE,IACpDnD,qBAAsBnF,KAAK6R,oBAK3C,OAAOgO,mCAEF,IAAAjR,EAAA5O,KACGoB,EAAYpB,KAAKuN,MAAjBnM,QADH+P,EAEiEnR,KAAKJ,MAAnEuF,EAFHgM,EAEGhM,qBAFH6N,EAAA7B,EAEyBlL,eAFzB,IAAA+M,EAEmC,GAFnCA,EAAAI,EAAAjC,EAEuCkC,eAFvC,IAAAD,KAEwDlQ,EAFxDiO,EAEwDjO,KACrD+O,EAA4DhM,EAA5DgM,YAHH4M,EAG+D5Y,EAA/C6Y,oBAHhB,IAAAD,EAG+B,EAH/BA,EAGkCH,EAA6BzY,EAA7ByY,UACjCkC,ErBlFD,MqBiF+D3a,EAAlB+Y,cACL,iBAAmB,GAC1D6B,EAAaxN,EAAU,cAAgB,GAC7C,OACI9R,EAAAC,EAAAC,cAAA,OAAK4D,UAAS,sCAAAd,OAAwCqc,EAAxC,MAAArc,OAAwDsc,GAAcze,MAAOsc,GAEnF1e,KAAKsgB,WAAWxB,GAEpBvd,EAAAC,EAAAC,cAAC8e,GAAD,CACInf,QAASA,EACT6E,QAASA,EACT/C,KAAMA,EACNkO,QAAS,SAACnL,GACN,GAAIA,EAAS,CAIT,IAJS,IACD6Y,EAAiB7Y,EAAjB6Y,aAEFW,EADe7Q,EAAKrB,MAAMtH,QAAxB6G,SACqBvG,MAAM,EAAGuY,GAC7BxW,EAAI,EAAGA,EAAIwW,EAAcxW,IAC1BmX,EAAYhY,QAAUa,GACtBmX,EAAY5X,KAAK,CACboK,YAAa3J,IAIzB,IAAMiB,EAAUzJ,OAAAoS,EAAA,EAAApS,CAAA,GACTmG,EADS,CAEZgM,cACA/O,KAAMK,EACNuJ,SAAU2S,IAEd7Q,EAAKb,SAAS,CACV9H,QAASsD,IAEbpE,EAAqBoE,GAEzBqF,EAAKoO,gBAET3L,kBAAmBrR,KAAKqR,oBAGvBgC,EACsF,KAAnF9R,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAMrC,KAAK,OAAOmC,UAAU,sBAAsBG,QAASxF,KAAKgd,uBA7H1D5Z,cCGxB0d,GAAgBC,IAASC,MACvB7T,GAAWC,IAAXD,OACA8T,GAAgBC,IAAhBD,YACAE,GAAYC,IAAZD,QACAjG,GAAaC,IAAbD,SAEF/F,GAAkB,SAACkM,EAAczhB,GAAU,IAAA0hB,EACVD,EAA3Bze,mBADqC,IAAA0e,EACvB,GADuBA,EAEzCC,EAAY,KAChB,OAFmCF,EAATne,MAGtB,IAAK,OACDqe,EAAYC,GAAWH,GACvB,MACJ,IAAK,aACDE,EAAYjG,GAAiB+F,GAC7B,MACJ,IAAK,SACDE,EAAYE,GAAaJ,GACzB,MACJ,IAAK,cACDE,EAAYG,GAAkBL,GAC9B,MACJ,IAAK,aACDE,EAAYI,GAAiBN,GAC7B,MACJ,IAAK,QACDE,EAAY/F,GAAY6F,GACxB,MACJ,IAAK,WACDE,EAAYK,GAAeP,GAC3B,MACJ,IAAK,OACDE,EAAYhG,GAAW8F,GACvB,MACJ,IAAK,SACDE,EAAYM,GAAUR,EAAczhB,GACpC,MACJ,IAAK,gBACD2hB,EAAYO,GAAWT,EAAczhB,GACrC,MACJ,IAAK,gBACD2hB,EAAYQ,GAAWV,EAAczhB,GACrC,MACJ,IAAK,iBACD2hB,EAAYS,GAAYX,EAAczhB,GACtC,MACJ,IAAK,eACD2hB,EAAYU,GAAUZ,EAAczhB,GACpC,MACJ,IAAK,kBACD2hB,EAAYW,GAAab,EAAczhB,GACvC,MACJ,IAAK,WACD2hB,EAAYY,GAAed,GAC3B,MACJ,IAAK,QACDE,EAAahgB,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAOC,YAAaA,IAKzC,OAAO2e,GAGLY,GAAiB,SAAClc,GACuEA,EAAnF+P,SAAmF/P,EAAzEmc,UAAyEnc,EAA9DgQ,WAA8DhQ,EAAlDgM,YAAkDhM,EAArC+O,WAAqC/O,EAAzBoc,WADlC,IACkD1D,EADlD7e,OAAAiV,EAAA,EAAAjV,CAC2DmG,EAD3D,+EAEhC,OAAQ1E,EAAAC,EAAAC,cAAC6gB,GAAa3D,IAGpBmD,GAAa,SAAC7b,EAASrG,GACzB,OAAQ2B,EAAAC,EAAAC,cAAC8gB,GAADziB,OAAAmJ,OAAA,CAAehD,QAASA,GAAarG,KAG3CsiB,GAAe,SAACjc,EAASrG,GAC3B,OAAQ2B,EAAAC,EAAAC,cAAC+gB,GAAD1iB,OAAAmJ,OAAA,GAAqBhD,EAAarG,KAGxCoiB,GAAc,SAAC/b,EAASrG,GAC1B,OAAQ2B,EAAAC,EAAAC,cAACghB,GAAD3iB,OAAAmJ,OAAA,CAAgBhD,QAASA,GAAarG,KAG5CmiB,GAAa,SAAC9b,EAASrG,GACzB,OAAQ2B,EAAAC,EAAAC,cAACihB,EAAD5iB,OAAAmJ,OAAA,CAAehD,QAASA,GAAarG,KAG3CqiB,GAAY,SAAChc,EAASrG,GACxB,OAAQ2B,EAAAC,EAAAC,cAACkhB,GAAD7iB,OAAAmJ,OAAA,CAAchD,QAASA,GAAarG,KAG1C0b,GAAmB,SAACrV,GAAY,IAAA2c,EACI3c,EAA9B4c,qBAD0B,IAAAD,EACV,GADUA,EACNxgB,EAAU6D,EAAV7D,MAC5B,OACIb,EAAAC,EAAAC,cAACqhB,EAAA,EAAD,CAAY1gB,MAAOA,GAEXygB,EAAcza,IAAI,SAAAwC,EAAmBtC,GAAM,IAAtBoH,EAAsB9E,EAAtB8E,MAAOG,EAAejF,EAAfiF,MACxB,OACItO,EAAAC,EAAAC,cAACqhB,EAAA,EAAWxgB,KAAZ,CAAiB6G,IAAG,cAAA5E,OAAgB+D,IAC9BuH,EACEtO,EAAAC,EAAAC,cAAA,KAAGyH,KAAM2G,GAAQH,GAAanO,EAAAC,EAAAC,cAAA,YAAOiO,QAS/D8R,GAAa,SAACvb,GAAY,IACpB8B,EAAgB9B,EAAhB8B,KAAM3F,EAAU6D,EAAV7D,MACd,OACIb,EAAAC,EAAAC,cAAA,QAAMW,MAAOA,GAAQ2F,IAGvByT,GAAc,SAACvV,GAAY,IAAA8c,EACoB9c,EAAzC7D,aADqB,IAAA2gB,EACb,GADaA,EAAAC,EACoB/c,EAA7Bgd,gBADS,IAAAD,EACE,GADFA,EAEvBE,EAA0B,QADiBjd,EAAd0V,UACKwH,IAAMC,OAASD,IACvD,OACI5hB,EAAAC,EAAAC,cAAC4hB,EAAA,EAAMrC,MAAP,CAAa5e,MAAKtC,OAAAoS,EAAA,EAAApS,CAAA,GAAOsC,IAEjB6F,MAAMC,QAAQ+a,GAAYA,EAAS7a,IAAI,SAAA+F,GAA2B,IAAxBhF,EAAwBgF,EAAxBhF,IAAKuG,EAAmBvB,EAAnBuB,MAAOG,EAAY1B,EAAZ0B,MAClD,OACItO,EAAAC,EAAAC,cAACyhB,EAAD,CACI/Z,IAAKA,GAAO0G,EACZA,MAAOA,GAENH,KAGR,OAKf6L,GAAa,SAACtV,GAAY,IAAAqd,EACSrd,EAA7B7D,aADoB,IAAAkhB,EACZ,GADYA,EAAAC,EACStd,EAAjBud,eADQ,IAAAD,EACE,GADFA,EAE5B,OACIhiB,EAAAC,EAAAC,cAACgiB,EAAA,EAAD,CAAMrhB,MAAOA,GAEL6F,MAAMC,QAAQsb,GAAWA,EAAQpb,IAAI,SAAAC,GAA2B,IAAxBc,EAAwBd,EAAxBc,IAAKuG,EAAmBrH,EAAnBqH,MAAOG,EAAYxH,EAAZwH,MAChD,OACItO,EAAAC,EAAAC,cAAC0f,GAAD,CACIhY,IAAKA,GAAO0G,EACZ6T,IAAKhU,MAKZ,OAKfkS,GAAiB,SAAC3b,GAAY,IAAA0d,EACS1d,EAAjC7D,aADwB,IAAAuhB,EAChB,GADgBA,EAAAC,EACS3d,EAArB4d,mBADY,IAAAD,EACE,GADFA,EAEhC,OAAI3b,MAAMC,QAAQ2b,GAEVtiB,EAAAC,EAAAC,cAACqf,GAAD,CAAegD,QAASD,EAAazhB,MAAKtC,OAAAoS,EAAA,EAAApS,CAAA,CAAI8B,MAAO,QAAWQ,KAGjE,MAELqf,GAAe,SAACxb,GAAY,IAAA8d,EACsB9d,EAA5C7D,aADsB,IAAA2hB,EACd,GADcA,EACapF,GAAS1Y,EAAhC6d,QAAgC7d,EAAvB+d,UADClkB,OAAAiV,EAAA,EAAAjV,CACsBmG,EADtB,kCAExBge,EAAenkB,OAAOmL,eAAe9K,KAAK8F,EAAS,WAAaA,EAAQ6d,QAAU7d,EAAQ+d,UAChG,OACIziB,EAAAC,EAAAC,cAACmO,EAAA,EAAD9P,OAAAmJ,OAAA,CAAQ7G,MAAKtC,OAAAoS,EAAA,EAAApS,CAAA,CAAI8B,MAAO,QAAWQ,IAAauc,GAExC1W,MAAMC,QAAQ+b,GAAgBA,EAAa7b,IAAI,SAAA2D,GAA2B,IAAxB5C,EAAwB4C,EAAxB5C,IAAKuG,EAAmB3D,EAAnB2D,MAAOG,EAAY9D,EAAZ8D,MAC1D,OACItO,EAAAC,EAAAC,cAACyiB,GAAD,CACI/a,IAAKA,GAAO0G,EACZA,MAAOA,GAENH,KAGR,OAKfiS,GAAmB,SAAC1b,GAAY,IAC1BqS,EAAqBrS,EAArBqS,SAAUtO,EAAW/D,EAAX+D,OACd,OACIzI,EAAAC,EAAAC,cAAC6X,EAAA,EAAD,CACIlX,MAAO,CAAER,MAAO,QAChB0W,SAAUA,EACVtO,OAAQA,KAIlB0X,GAAoB,SAACzb,GAAY,IAC3BqS,EAAqBrS,EAArBqS,SAAUtO,EAAW/D,EAAX+D,OACd,OACIzI,EAAAC,EAAAC,cAACwf,GAAD,CACI3I,SAAUA,EACVtO,OAAQA,EACR5H,MAAO,CAAER,MAAO,WAO1BuiB,GAAqB,SAACxL,EAAW9F,GACnC,MAAkB,SAAd8F,KACkB1Q,MAAMC,QAAQ2K,IAAoBA,EAAgBpL,OAAS,IAM/Eoa,GAAY,SAAC5b,EAAD0G,GAAuC,IAA3BzG,EAA2ByG,EAA3BzG,QAASke,EAAkBzX,EAAlByX,YAAkBC,EAC1Bpe,EAAnB2R,iBAD6C,IAAAyM,EACjC,GADiCA,EAAA1T,EAEvBzK,GAAW,GAAjCqH,EAF6CoD,EAE7CpD,MAAO+W,EAFsC3T,EAEtC2T,WAFsCC,EAG3BhX,EAAlBiX,cAH6C,IAAAD,KAI7CjR,EAAepN,EAAfoN,WACR,OACI/R,EAAAC,EAAAC,cAAC6R,EAAWa,SAAZ,KAEQ,SAAAsQ,GAAA,IAAG5R,EAAH4R,EAAG5R,gBAAH,OACItR,EAAAC,EAAAC,cAAA,QAAM4D,UAAU,aAERuS,EAAUxP,IAAI,SAAC0H,GAAc,IACjB6I,EACgD7I,EADhD6I,UAAWY,EACqCzJ,EADrCyJ,QAAsB9U,GACeqL,EAD5B8I,YAC4B9I,EADfrL,KAAKgE,EACUqH,EADVrH,UAAWiS,EACD5K,EADC4K,SAAU/R,EACXmH,EADWnH,QAD1C+b,EAE+B5U,EAApD1N,aAFqB,IAAAsiB,EAEb,GAFaA,EAEKlM,GAA0B1I,EAAxC8K,aAAwC9K,EAA1B0I,UAAamM,EAFlB7kB,OAAAiV,EAAA,EAAAjV,CAE+BgQ,EAF/B,gHAGzB,GAAkB,WAAd6I,EAAwB,CACxB,IAAMiM,EAAkBJ,EAAS,eAAO,eACxC,OACIjjB,EAAAC,EAAAC,cAAA,QACI4D,UAAU,oBACVG,QAAS8e,EACTliB,MAAOA,EACP+G,IAAG,OAAA5E,OAASiU,IAEXoM,EACDrjB,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAMrC,KAAMshB,EAAS,KAAO,UAoBxC,MAhB2B,WAAvB1U,EAAU3M,WACVwhB,EAASnf,QAAU,SAAChF,GACZ0F,IAC2B,UAAvB4J,EAAU3M,SACVihB,IACO3b,EACPvC,EAAQ2C,YAAYrI,EAAGiI,EAAWhE,GACb,SAAdkU,EACPzS,EAAQ6C,aAAatE,EAAK,GAAIkU,GACT,SAAdA,IACP9V,OAAOiG,SAAWH,MAO9BpH,EAAAC,EAAAC,cAACwB,EAAA,EAADnD,OAAAmJ,OAAA,CACIE,IAAG,OAAA5E,OAASiU,GACZpW,MAAOA,EACPc,KAAMwX,GACFiK,EAJR,CAKI7J,SAAUqJ,GAAmBxL,EAAW9F,KAEvC0G,SAWnCsL,GAAmB,SAAClkB,EAAM0gB,GAAgC,ILhR/C/Y,EKgR6BwV,EAAkBtW,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAC7ClG,EAAsBX,EAAtBW,kBACF6I,GLlRO7B,EKkRYwV,EAASxW,MLjR1B,MAAOsM,KAAKtL,IKkRpB,OAAIL,MAAMC,QAAQmZ,GACPA,EAAajZ,IAAI,SAAC0c,GAAO,IACpBpV,EAAoEoV,EAApEpV,MAAOvG,EAA6D2b,EAA7D3b,IADa4b,EACgDD,EAAxDviB,aADQ,IAAAwiB,EACA,GADAA,EACIpV,EAA4CmV,EAA5CnV,aAAcnN,EAA8BsiB,EAA9BtiB,SAAUwiB,EAAoBF,EAApBE,gBACxD,GAAIA,EAAiB,KACThgB,EAAgBggB,EAAhBhgB,KAAM6K,EAAUmV,EAAVnV,MACRoV,EAAW9a,EAAQ,GAAA5F,OAAMS,EAAN,KAAAT,OAAcuZ,EAASxW,OAAUtC,EAC1D,GAAIrE,EAAKuP,cAAc+U,KAAcpV,EACjC,OAAO,KAQf,OALIrN,GACAD,EAAMsF,KAAK,CACPrF,UAAU,EAAMC,QAAO,qBAAA8B,OAAQmL,KAInCnO,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CAAWyG,MAAOA,EAAOvG,IAAG,GAAA5E,OAAK4E,EAAL,UAAqBzD,GAC5CpE,EAAkB6I,EAAQ,GAAA5F,OAAM4E,EAAN,KAAA5E,OAAauZ,EAASxW,OAAU6B,EAAK,CACxD5G,QACAoN,aAAcmO,EAAS3U,IAAQwG,GAFtCrO,CAGM6T,GAAgB2P,OAKhC,MAGL1U,GAAoB,WAAoD,IAAnDL,EAAmDvI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAArC,GAAI7G,EAAiC6G,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAA3BiI,EAA2BnI,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAbyB,EAAa3B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAC7D0d,EAAM,GAAA3gB,OAAM4E,GADwDgc,EAEhDpV,EAAlBqV,gBAFkE,IAAAD,EAEvD,GAFuDA,EAG1E,GAAwB,IAApBC,EAAS3d,OACT,OAAO,KAEX,IAAM4d,EAAcH,EAAM,cAAA3gB,OAAiB2gB,GAAW,aAChDI,EAAcJ,EAAM,aAAA3gB,OAAgB2gB,GAAW,YACrD,OACI3jB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CACIE,IAAKkc,EACL3V,MAAM,qBACFhK,GAEH/E,EAAKW,kBAAkBgkB,EAAa,CACjC/iB,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAW,UACrCkN,gBAFHhP,CAIGY,EAAAC,EAAAC,cAACmO,EAAA,EAAD,CAAQhN,YAAY,SAEZwiB,EAAShd,IAAI,SAAAmd,GAAqB,IAAlBje,EAAkBie,EAAlBje,MAAOtC,EAAWugB,EAAXvgB,KACnB,OACIzD,EAAAC,EAAAC,cAACyiB,GAAD,CAAQ/a,IAAG,aAAA5E,OAAe+C,GAASuI,MAAO7K,GAAOA,SAU3EqL,GAAkB,WAAsC,IAArCN,EAAqCvI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAvB,GAAI7G,EAAmB6G,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAb8d,EAAahe,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAClDiI,EAAqD6V,EAArD7V,aADkD8V,EACGD,EAAvCrc,WADoC,IAAAsc,EAC9B,GAD8BA,EAAAC,EACGF,EAA7B9V,aAD0B,IAAAgW,EAClB,kBADkBA,EACTC,EAAYH,EAAZG,QAC3CT,EAAM,GAAA3gB,OAAM4E,GAFwCyc,EAGlC7V,EAAhB8V,cAHkD,IAAAD,EAGzC,GAHyCA,EAI1D,GAAsB,IAAlBC,EAAOpe,OACP,OAAO,KAEX,IAAM4d,EAAcM,EAAO,YAAAphB,OAAeohB,GAAYT,EAAM,YAAA3gB,OAAe2gB,GAAW,aAChFI,EAAcK,IAAoBT,EAAM,OAAA3gB,OAAU2gB,GAAW,OACnE,OACI3jB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CACIE,IAAKkc,EACL3V,MAAOA,GACHhK,GAEH/E,EAAKW,kBAAkBgkB,EAAa,CACjC/iB,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAW,QACrCkN,gBAFHhP,CAIGY,EAAAC,EAAAC,cAACmO,EAAA,EAAD,CAAQhN,YAAY,OAEZijB,EAAOzd,IAAI,SAAA0d,GAA2B,IAAxBxe,EAAwBwe,EAAxBxe,MAAOye,EAAiBD,EAAjBC,WACjB,OACIxkB,EAAAC,EAAAC,cAACyiB,GAAD,CAAQ/a,IAAG,OAAA5E,OAAS+C,GAASuI,MAAOkW,GAAaA,SAUlE5Q,MCvXThI,YAASC,IAAOD,QAEhB6Y,eACF,SAAAA,EAAYpmB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgmB,IACfnmB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkmB,GAAA7lB,KAAAH,KAAMJ,KACDmX,aAAelX,EAAKkX,aAAa1W,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAKomB,aAAepmB,EAAKomB,aAAa5lB,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAHLA,4EAKNgQ,GAGT,IAHgB,IAAAjB,EAAA5O,KACVkmB,EAAgB,GAChBvf,EAAM,GAAKkJ,EACTvH,EAAI,EAAGA,EAAIuH,EAAOvH,IACtB4d,EAAa,WAAA3hB,OAAY+D,IAAO3B,EAEpCwf,WAAW,WACPvX,EAAKhP,MAAMe,KAAKylB,eAAeF,IAChC,wCAEM1lB,GACTA,EAAEC,iBADU,IAAAC,EAEaV,KAAKJ,MAAtBe,EAFID,EAEJC,KAAM0lB,EAFF3lB,EAEE2lB,OACd1lB,EAAKE,eAAe,SAACC,EAAKC,GACtB,IAAKD,EAAK,CAMN,IALA,IAAMwlB,GAASvlB,EAAO+d,aAClByH,EAAe,EACbtgB,EAAU,CACZiQ,WAAY,IAEP5N,EAAI,EAAGA,EAAIge,EAAOhe,IAAK,CAC5B,IAAMgO,GAAWvV,EAAM,WAAAwD,OAAY+D,WAC5BvH,EAAM,WAAAwD,OAAY+D,IACzBie,GAAgBjQ,EAChBrQ,EAAQiQ,WAAWrO,KAAKyO,GAE5B,GAAIiQ,EAAe,GAEf,YADA9jB,IAAQsB,MAAM,uDAGlBsiB,EAAOvmB,OAAOmJ,OAAOhD,EAASlF,qDAStC,IALkB,IACVJ,EAASX,KAAKJ,MAAde,KACAW,EAAsBX,EAAtBW,kBACFwd,GAAgBne,EAAKuP,cAAc,gBACnC2P,EAAe,GACZvX,EAAI,EAAGA,EAAIwW,EAAcxW,IAC9BuX,EAAahY,KACTtG,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CACIE,IAAG,YAAA5E,OAAc+D,GACjBoH,MAAK,SAAAnL,OAAM+D,EAAE,EAAR,WACD5C,GAEHpE,EAAiB,WAAAiD,OAAY+D,GAAK,CAC/BqH,aAAc,GAAKmP,EACnBvc,MAAO,CACH,CAAEC,UAAU,EAAMC,QAAS,mCAC3B,CAAEC,QAAS,eAAgBD,QAAS,gDAJ3CnB,CAOGC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,SAKhB,OAAOkd,8CAES,IAAA1e,EACcnB,KAAKJ,MAA3Be,EADQQ,EACRR,KAAMoP,EADE5O,EACF4O,YACd,MAAuC,UAAnCpP,EAAKuP,cAAc,YACZG,GAAgBN,EAAapP,EAAM,CAAE+O,MAAO,kBAASiW,QAAS,aAGrEpkB,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KACKkI,GAAgBN,EAAapP,EAAM,CAAE+O,MAAO,kBAASiW,QAAS,WAC9DtV,GAAgBN,EAAapP,EAAM,CAAE+O,MAAO,kBAASiW,QAAS,8CAIlE,IAAAxU,EACiDnR,KAAKJ,MAAnDwB,EADH+P,EACG/P,QAAST,EADZwQ,EACYxQ,KAAMyQ,EADlBD,EACkBC,QAASC,EAD3BF,EAC2BE,kBACxB/P,EAAsBX,EAAtBW,kBACR,OACIC,EAAAC,EAAAC,cAAC8P,EAAA,EAAD,CACInQ,QAASA,EACTU,cAAc,EACdF,MAAO,IACPM,MAAM,qBACNkP,QAASA,GAET7P,EAAAC,EAAAC,cAACU,EAAA,EAAD,CACI5B,SAAUP,KAAK+W,aACf3U,MAAO,CAAEC,QAAS,WAElBd,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CACIyG,MAAM,sBACFhK,GAEHpE,EAAkB,eAAgB,CAC/BqO,aAAc,EACdpN,MAAO,CACH,CAAEC,UAAU,EAAMC,QAAS,qCAHlCnB,CAMGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,CAAQkD,SAAU9S,KAAKimB,cACnB1kB,EAAAC,EAAAC,cAAC+kB,GAAD,CAAQ3W,MAAM,KAAd,KACAtO,EAAAC,EAAAC,cAAC+kB,GAAD,CAAQ3W,MAAM,KAAd,KACAtO,EAAAC,EAAAC,cAAC+kB,GAAD,CAAQ3W,MAAM,KAAd,KACAtO,EAAAC,EAAAC,cAAC+kB,GAAD,CAAQ3W,MAAM,KAAd,QAIZtO,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,MACCtF,KAAKymB,sBACNllB,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,MACA/D,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CACIyG,MAAM,4BACFhK,GAEHpE,EAAkB,gBAAiB,CAChCqO,aAAc,MADjBrO,CAGGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACIrO,EAAAC,EAAAC,cAAC+kB,GAAD,CAAQ3W,MAAM,MAAd,4BACAtO,EAAAC,EAAAC,cAAC+kB,GAAD,CAAQ3W,MAAM,KAAd,qCAIZtO,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,CACIyG,MAAM,4BACFhK,GAEHpE,EAAkB,WAAY,CAC3BqO,aAAc,QACdpN,MAAO,CACH,CAAEC,UAAU,EAAMC,QAAS,iDAHlCnB,CAMGC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACIrO,EAAAC,EAAAC,cAAC+kB,GAAD,CAAQ3W,MAAM,SAAd,gBACAtO,EAAAC,EAAAC,cAAC+kB,GAAD,CAAQ3W,MAAM,QAAd,gCAKR7P,KAAK0mB,oBAETnlB,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,WACX9D,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CACIC,KAAK,UACLC,SAAS,SACTf,MAAO,CAAEsP,YAAa,SAH1B,gBAOAnQ,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CAAQuC,QAAS6L,GAAjB,sCA1JDjO,aAkKRC,OAAKC,QAALD,CAAc2iB,aC5GdW,oLAxDL,IAAAjmB,EAEiDV,KAAKJ,MADhDqG,EADNvF,EACMuF,QAAStF,EADfD,EACeC,KAAMuF,EADrBxF,EACqBwF,QADrB0gB,EAAAlmB,EAC8B2S,eAD9B,IAAAuT,KAAAC,EAAAnmB,EAEEwV,kBAFF,IAAA2Q,EAEe,GAFfA,EAEmBC,EAFnBpmB,EAEmBomB,cAAe1C,EAFlC1jB,EAEkC0jB,YAC5B9iB,EAAsBX,EAAtBW,kBACA4B,EAAqD+C,EAArD/C,KAAMoT,EAA+CrQ,EAA/CqQ,QAAS5G,EAAsCzJ,EAAtCyJ,MAAO1K,EAA+BiB,EAA/BjB,KAJ5B+hB,EAI2D9gB,EAAzB1D,aAJlC,IAAAwkB,EAI0C,GAJ1CA,EAI8CvkB,EAAayD,EAAbzD,SAC1CwkB,EAAK1Q,GAAWJ,EAAW,IAAM,EACvC,IAAKlR,GAAiB,WAAT9B,EACT,OAAO,KAEPV,GACAD,EAAMsF,KAAK,CACPrF,UAAU,EAAMC,QAAO,qBAAA8B,OAAQmL,KAGvC,IAAMwF,EPQG,SAACoH,GAAW,IACjBpZ,EAAgCoZ,EAAhCpZ,KAAM8R,EAA0BsH,EAA1BtH,WAAYhS,EAAcsZ,EAAdtZ,UAC1B,MAAgB,WAATE,EAAoBpD,OAAOmJ,OAAO,GAAI+L,EAAY,CAAEhS,cAAegS,GAAc,GOVnEiS,CAAShhB,GACpBihB,EAAgB,CAClBxX,QACAtN,MAAO8S,GAMjB,MAJ4B,MAAlB4R,IACAI,EAAcvhB,SAAW,CAAEE,KAAM,GACjCqhB,EAAcnhB,WAAa,CAAEF,KAAM,KAG5CtE,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KACC5G,EAAAC,EAAAC,cAAC0lB,GAAA,EAAD,CACOthB,KAAMmhB,EACGA,GAAIA,EACJlhB,GAAI,IAGS,WAAT5C,EAEQ3B,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAS4kB,EACV5lB,EAAkB0D,EAAM,CACrBzC,MAAOA,GAAS,GAChBoN,aAAc0M,GAAgBpW,IAFjC3E,CAIG6T,GAAgBlP,EAAS,CAAEoN,UAASnN,cAI5C3E,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,CAAWF,MAAO8S,GAEVC,GAAgBlP,EAAS,CAAEoN,UAASnN,UAASke,0BA7CxDhhB,aCGvB+J,YAASC,IAAOD,QACd+N,GAAaC,IAAbD,SAEFkM,eAIL,SAAAA,EAAYxnB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAonB,IAClBvnB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsnB,GAAAjnB,KAAAH,KAAMJ,KACD2N,MAAQ,CACZqK,UAAW,GACXoM,UAAW,GACXf,SAAU,GACVY,YAAa,IAEdhkB,EAAKwnB,mBAAqBxnB,EAAKwnB,mBAAmBhnB,KAAxBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAC1BA,EAAKynB,sBAAwBznB,EAAKynB,sBAAsBjnB,KAA3BP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAC7BA,EAAKwR,kBAAoBxR,EAAKwR,kBAAkBhR,KAAvBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAVPA,gFAFlB,MAAO,CAAC,SAAU,SAAU,QAAS,0EAcjB,IAAA0nB,EACQvnB,KAAKuN,MAAzByH,WACFwS,QAFc,IAAAD,EACC,GADDA,GAEahhB,QACjCihB,EAAc3f,KAAK,CAClBgI,MAAO,GACP7K,KAAM,GACNsC,MAAOtH,KAAKynB,iBAEbznB,KAAK+N,SAAS,CACbiH,WAAYwS,IAEbxnB,KAAKynB,gBAAkB,gDAEFngB,GAAO,IAAAogB,EACA1nB,KAAKuN,MAAzByH,WACFwS,QAFsB,IAAAE,EACP,GADOA,GAEK9a,OAAO,SAACC,EAAKxF,GAI7C,OAHIA,EAAKC,QAAUA,GAClBuF,EAAIhF,KAAKR,GAEHwF,GACL,IACH7M,KAAK+N,SAAS,CACbiH,WAAYwS,gDAIbxnB,KAAK+N,SAAS,CACb8I,gBAAgB,0CAGJ5Q,EAAS6F,GAAa,IAC3B6b,EAAwB1hB,EAAxB0hB,UAAWC,EAAa3hB,EAAb2hB,SACXtmB,EAAsBtB,KAAKJ,MAAMe,KAAjCW,kBACR,OACCC,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KACC5G,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,iCACnCpO,EAAkB,WAAY,CAC9BqO,aAAciY,GADdtmB,CAGAC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KAEE9D,EAAY1D,IAAI,SAAAwC,GAA+B,IAA5B5F,EAA4B4F,EAA5B5F,KAAMgR,EAAsBpL,EAAtBoL,SAAUtG,EAAY9E,EAAZ8E,MAClC,OAAI1K,GAAQgR,IAAa/P,EAAQ+P,SACxBzU,EAAAC,EAAAC,cAAComB,GAAD,CAAQhY,MAAK,GAAAtL,OAAKS,GAAQmE,IAAG,WAAA5E,OAAaS,IAA1C,GAAAT,OAAsDS,EAAtD,KAAAT,OAA8DmL,IAEhE,UAMZnO,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,6BACnCpO,EAAkB,YAAa,CAC/BqO,aAAcgY,GADdrmB,CAGAC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,uDAMiBsD,GAAS,IACtB/C,EAA4D+C,EAA5D/C,KADsB4kB,EACsC7hB,EAAtDqS,gBADgB,IAAAwP,KAAAC,EACsC9hB,EAApC+D,cADF,IAAA+d,EACW,aADXA,EACyB/b,EAAa/F,EAAb+F,SAC/C1K,EAAsBtB,KAAKJ,MAAMe,KAAjCW,kBACR,OACCC,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KACE5G,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,aACnCpO,EAAkB,WAAY,CAC9BqO,azBrFM,MyBqFQ2I,EAAoB,IAAM,KADxChX,CAGAC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACCrO,EAAAC,EAAAC,cAAComB,GAAD,CAAQhY,MAAM,KAAd,UACAtO,EAAAC,EAAAC,cAAComB,GAAD,CAAQhY,MAAM,KAAd,aAIHtO,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,WACnCpO,EAAkB,SAAU,CAC5BqO,aAAc3F,GADd1I,CAGAC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAIQ,gBAATO,EACC3B,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,yCACnCpO,EAAkB,WAAY,CAC9BiB,MAAO,CAAC,CACPC,UAAU,EAAMC,QAAS,yCAE1BkN,aAAc3D,GAJd1K,CAMAC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAOC,YAAY,yEAEN,2CAKR,IACJkU,EAAoB9W,KAAKuN,MAAzBuJ,gBADIpW,EAEuDV,KAAKJ,MAAhEe,EAFID,EAEJC,KAFIqnB,EAAAtnB,EAEEub,qBAFF,IAAA+L,KAAAzV,EAAA7R,EAEyBuF,eAFzB,IAAAsM,EAEmC,GAFnCA,EAEuCzG,EAFvCpL,EAEuCoL,YAC3C5I,EAAsD+C,EAAtD/C,KAAMwM,EAAgDzJ,EAAhDyJ,MAAO1K,EAAyCiB,EAAzCjB,KAAMpC,EAAmCqD,EAAnCrD,YAAaqlB,EAAsBhiB,EAAtBgiB,QAASzlB,EAAayD,EAAbzD,SACzClB,EAAsBX,EAAtBW,kBACR,OAAI2a,IAAkBnF,EACR,WAAT5T,EACIlD,KAAKqb,gBAEL9Z,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KACP5G,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,qBACA/D,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,UACnCpO,EAAkB,QAAS,CAC3BiB,MAAO,CAAC,CACPC,UAAU,EAAMC,QAAS,UAE1BkN,aAAcD,GAJdpO,CAMAC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAGFpB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,SACnCpO,EAAkB,OAAQ,CAC1BiB,MAAO,CAAC,CACPC,UAAU,EAAMC,QAAS,SAE1BkN,aAAc3K,GAJd1D,CAMAC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAGFpB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,aACnCpO,EAAkB,WAAY,CAC9BqO,aAAcnN,GADdlB,CAGAC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,CAAQsJ,YAAU,GACjB3X,EAAAC,EAAAC,cAAComB,GAAD,CAAQhY,MAAO,GAAf,UACAtO,EAAAC,EAAAC,cAAComB,GAAD,CAAQhY,MAAO,GAAf,aAKO,eAAT3M,GAAkC,gBAATA,EACxBlD,KAAKkoB,sBAAsBjiB,GAAW,KAG9B,UAAT/C,EAAmBlD,KAAKwb,cAAgB,KAG/B,aAATtY,EAAsBlD,KAAK4hB,iBAAmB,KAGrC,WAAT1e,EAAoBlD,KAAKyhB,eAAiB,KAE1CzhB,KAAKyb,yBACNla,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,gBACnCpO,EAAkB,cAAe,CACjCqO,aAAc/M,GADdtB,CAGAC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,QAGFpB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAANxC,OAAAmJ,OAAA,GAAevD,EAAf,CAA+BgK,MAAM,6BACnCpO,EAAkB,aAAc,CAChCqO,aAAcsY,GADd3mB,CAGAC,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACCrO,EAAAC,EAAAC,cAAComB,GAAD,CAAQhY,MAAM,KAAd,UACAtO,EAAAC,EAAAC,cAAComB,GAAD,CAAQhY,MAAM,KAAd,azBxLM,MyB6LRlP,EAAKuP,cAAc,cAClBlQ,KAAKmoB,cAAcliB,EAAS6F,GAAe,KAE7CvK,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,CAAWF,MAAO,CAAEY,UAAW,WAC9BzB,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CAAQuC,QAASxF,KAAKmX,mBAAtB,8BAMI,uDAEkB,IAAAvI,EAAA5O,KACjBW,EAASX,KAAKJ,MAAde,KACAqU,EAAehV,KAAKuN,MAApByH,WACR,OACCzT,EAAAC,EAAAC,cAACwP,EAAA,EAAD,CACC/O,MAAM,oBACN6X,MAAOxY,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAMrC,KAAK,cAAcsC,QAASxF,KAAKqnB,sBAG7CrS,EAAW5M,IAAI,SAAA+F,GAA4B,IAAzBnJ,EAAyBmJ,EAAzBnJ,KAAM6K,EAAmB1B,EAAnB0B,MAAOvI,EAAY6G,EAAZ7G,MAC9B,OACC/F,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,CAAUgB,IAAG,kBAAA5E,OAAoB+C,IAChC/F,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,CACC+C,UAAU,YACV8D,IAAG,uBAAA5E,OAAyB+C,IAE3B3G,EAAKW,kBAAL,aAAAiD,OAAoC+C,GAAS,CAC7CqI,aAAc3K,GADdrE,CAGAY,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAOC,YAAY,iBAGrBrB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,CACC+C,UAAU,YACV8D,IAAG,wBAAA5E,OAA0B+C,GAC7BlF,MAAO,CAAE4X,WAAY,SAEpBrZ,EAAKW,kBAAL,cAAAiD,OAAqC+C,GAAS,CAC9CqI,aAAcE,GADdlP,CAGAY,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAOC,YAAY,kBAGrBrB,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CACCrC,KAAK,eACLd,MAAO,CAAE4X,WAAY,MAAOC,WAAY,QACxCzU,QAAS,WACRoJ,EAAK0Y,sBAAsBhgB,kDAgBnC,IANe,IAAAqQ,EAC6B3X,KAAKuN,MAAzCuJ,EADOa,EACPb,gBAAiBD,EADVc,EACUd,eADV1V,EAEsCnB,KAAKJ,MAAlDe,EAFOQ,EAEPR,KAAMsb,EAFC9a,EAED8a,cAAehW,EAFd9E,EAEc8E,QAASiQ,EAFvB/U,EAEuB+U,WAC9BI,EAAkDrQ,EAAlDqQ,QAASpT,EAAyC+C,EAAzC/C,KAHF+R,EAG2ChP,EAAnCjD,iBAHR,IAAAiS,EAGoB,OAHpBA,EAG4BD,EAAe/O,EAAf+O,WACvCoT,EAAiB,EACjBC,EAAc/R,EACThO,EAAI,EAAGA,EAAI4N,EAAWzO,OAAQa,KACtC+f,GAAenS,EAAW5N,GAAGgO,SACX,EACjB8R,IAEA9f,EAAI4N,EAAWzO,OAGjB,OAAIoP,EACI,KAGPtV,EAAAC,EAAAC,cAAAF,EAAAC,EAAAwH,SAAA,KACCzH,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,iBACC/D,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,CACCF,MAAO,CAAEC,QAAS,UAClBqN,MAAM,qBAEL/O,EAAKW,kBAAkB,aAAc,CACrCqO,aAAcgG,GAASX,IADvBrU,CAGAY,EAAAC,EAAAC,cAAC6mB,GAAD,CAAU1lB,YAAY,+EAGxBrB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,CACC6G,IAAI,eACJuG,MAAM,2BACNtN,MAAO,CAAEC,QAAS,WAEjB1B,EAAKW,kBAAkB,aAAc,CACrCqO,aAAcyY,GADdznB,CAGAY,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KAEEsG,EAAW9N,IAAI,SAACmgB,EAAGjgB,GAClB,OACC/G,EAAAC,EAAAC,cAAComB,GAAD,CACC1e,IAAG,GAAA5E,OAAKgkB,EAAL,KAAAhkB,OAAU+D,GACbuH,MAAOvH,EAAE,GAFV,GAAA/D,OAIK+D,EAAE,EAJP,iBAaJwO,GAAmBmF,GAA0B,WAAT/Y,EACpC3B,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,CACCoN,MAAM,2BACNtN,MAAO,CAAEC,QAAS,WAEjB1B,EAAKW,kBAAkB,YAAa,CACpCqO,aAAc3M,GADdrC,CAGAY,EAAAC,EAAAC,cAACmO,EAAA,EAAD,KACCrO,EAAAC,EAAAC,cAAComB,GAAD,CACC1e,IAAI,OACJ0G,MAAM,QAFP,UAMAtO,EAAAC,EAAAC,cAAComB,GAAD,CACC1e,IAAI,SACJ0G,MAAM,UAFP,UAMAtO,EAAAC,EAAAC,cAAComB,GAAD,CACC1e,IAAI,QACJ0G,MAAM,SAFP,aASA,KAENtO,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,WACd9D,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CAAQuC,QAASxF,KAAKqR,mBAAtB,yBAKArR,KAAK6b,+CAKA,IAAA9M,EAAA/O,KAAAmR,EACqBnR,KAAKJ,MAA1BwB,EADA+P,EACA/P,QAASgQ,EADTD,EACSC,QACjB,OACC7P,EAAAC,EAAAC,cAAC8P,EAAA,EAAD,CACCnQ,QAASA,EACTU,cAAc,EACdI,MAAM,iCACNkP,QAAS,WACRrC,EAAKiJ,cACL5G,KAEDxP,MAAO,KAEPL,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAM5B,SAAUP,KAAK+W,cACnB/W,KAAKwoB,gBACNjnB,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,kBACd9D,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CAAQC,KAAK,UAAUC,SAAS,UAAhC,0BAzWqByT,IAmXZvT,OAAKC,QAALD,CAAc+jB,ICrXvBqB,YAAoB,CAAC,aAAc,OAAQ,SAyKlCC,eAtKX,SAAAA,EAAY9oB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0oB,IACf7oB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4oB,GAAAvoB,KAAAH,KAAMJ,KACD2N,MAAQ,CACT0O,gBAAiBrc,EAAMqG,QAAQ/C,MAEnCrD,EAAK2Y,SAAW,EAChB3Y,EAAKgS,gBAAkBhS,EAAKgS,gBAAgBxR,KAArBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACvBA,EAAK8oB,eAAiB9oB,EAAK8oB,eAAetoB,KAApBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACtBA,EAAK+oB,oBAAsB/oB,EAAK+oB,oBAAoBvoB,KAAzBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAC3BA,EAAKid,OAASjd,EAAKid,OAAOzc,KAAZP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACdA,EAAKgpB,iBAAmBhpB,EAAKgpB,iBAAiBxoB,KAAtBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACxBA,EAAKuR,QAAUvR,EAAKuR,QAAQ/Q,KAAbP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAXAA,gFAcfG,KAAK+N,SAAS,CACV3M,SAAS,mCAGVmc,GAEH,GADAA,EAAM9c,iBAvBE,8BAwBJ8c,EAAMC,OAAOnY,UAAuB,CACpCrF,KAAKyd,UACL,IAAMrZ,EAAOsZ,KAAKC,MAAMJ,EAAMK,aAAaC,QAAQ,eAC3C3a,EAASkB,EAATlB,KACR,IAAKulB,GAAkB7hB,QAAQ1D,GAE3B,YADAT,IAAQsb,KAAK,6EALmB,IAAArd,EAQUV,KAAKJ,MAA3CkpB,EAR4BpoB,EAQ5BooB,wBAAyB9S,EARGtV,EAQHsV,SAC3BzM,EAAauS,GAAa1X,EAAMpE,MAAM,GACxCuJ,GACAvJ,KAAK+N,SAAS,CACVkO,eAAe,GAChB,WACC6M,EAAwBhpB,OAAAoS,EAAA,EAAApS,CAAA,CAAEkW,YAAazM,gDAStC/I,GACbA,GAAKA,EAAEwR,kBADS,IAAA7Q,EAE8BnB,KAAKJ,MAA3CkpB,EAFQ3nB,EAER2nB,wBAAyB9S,EAFjB7U,EAEiB6U,SACjChW,KAAK+N,SAAS,CACVkO,eAAe,IAEnB6M,EAAwB,CAAE9S,WAAU5Q,YAAY,sCAGhD,IAAM8Y,EAAaC,SAASC,iBAAiB,mCACzCF,GACAA,EAAWzX,QAAQ,SAACY,GAChBA,EAAKjF,MAAMic,WAAa,yCAIxBd,GA/DA,8BAgEJA,EAAMC,OAAOnY,YACbkY,EAAMC,OAAOpb,MAAMic,W1BvEX,+C0B0EJd,GApEA,8BAqEJA,EAAMC,OAAOnY,YACbkY,EAAMC,OAAOpb,MAAMic,WAAa,mDAIhCre,KAAK+oB,YACL/oB,KAAK+oB,UAAU3L,oBAAoB,OAAQpd,KAAK8c,QAChD9c,KAAK+oB,UAAU3L,oBAAoB,YAAapd,KAAKmd,aACrDnd,KAAK+oB,UAAU3L,oBAAoB,YAAapd,KAAK+c,0DAIpD/c,KAAK+oB,YAGV/oB,KAAK+oB,UAAU7L,iBAAiB,OAAQld,KAAK8c,QAAQ,GACrD9c,KAAK+oB,UAAU7L,iBAAiB,YAAald,KAAKmd,aAAa,GAC/Dnd,KAAK+oB,UAAU7L,iBAAiB,YAAald,KAAK+c,aAAa,4CAEnDxT,GAAY,IAAAqF,EAAA5O,KAChBiG,EAAYjG,KAAKJ,MAAjBqG,QACA+P,EAAa/P,EAAb+P,SACRhW,KAAK+N,SAAS,CACVkO,eAAgB1S,EAAWnE,YAC5B,YAEC0jB,EADoCla,EAAKhP,MAAjCkpB,yBACgBhpB,OAAOmJ,OAAOhD,EAASsD,EAAY,CAAEyM,cAC7DpH,EAAKwC,wDAGO5Q,GAnGR,8BAoGJA,EAAEgd,OAAOnY,YACT7E,GAAKA,EAAEwR,kBACPhS,KAAK+N,SAAS,CACV3M,SAAS,uCAKjBpB,KAAK+N,SAAS,CACV3M,SAAS,gDAGc,IAAbkV,EAAa9O,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,EACxB,SAAAjD,OAAU,IAAM+R,EAAU,GAA1B,sCAEK,IAAAvH,EAAA/O,KAAAmR,EAC6GnR,KAAKJ,MAA/Gkf,EADH3N,EACG2N,aAAckK,EADjB7X,EACiB6X,0BADjB5V,EAAAjC,EAC6CkC,eAD7C,IAAAD,KAAA6V,EAAA9X,EAC8D+E,kBAD9D,IAAA+S,EAC2E,GAD3EA,EAAAC,EAAA/X,EAC+ErF,mBAD/E,IAAAod,EAC6F,GAD7FA,EACiGjjB,EADjGkL,EACiGlL,QADjG0R,EAE8B3X,KAAKuN,MAAhC0O,EAFHtE,EAEGsE,cAAe7a,EAFlBuW,EAEkBvW,QAEjB+nB,GADeljB,EAAb+P,SAEFoT,EAAWtpB,OAAOmL,eAAe9K,KAAK8F,EAAS,WACjDA,EAAQqQ,QAAW,GAAKwI,EAC5B,OACIvd,EAAAC,EAAAC,cAAA,OACI4D,UAAWgO,EAAO,eAAA9O,OA5HlB,yDA6HAnC,MAAO,CACHR,MAAO5B,KAAKqpB,kBAAkBD,IAElC9K,IAAK,SAACyK,GAAgBha,EAAKga,UAAYA,IAGrC9M,GAAiB5I,EACX9R,EAAAC,EAAAC,cAAC6nB,GAADxpB,OAAAmJ,OAAA,GACQjJ,KAAKJ,MADb,CAEIqG,QAASA,KAEb1E,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAMrC,KAAK,SAGdmQ,EAKQ,KAJL9R,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CACIrC,KAAK,OACLmC,UAAU,sBACVG,QAASxF,KAAK2oB,iBAG1BpnB,EAAAC,EAAAC,cAAC8nB,GAAD,CACIxR,QAAM,EACN3W,QAASA,EACT8D,SAAUlF,KAAK6oB,iBACfhX,gBAAiB7R,KAAK6R,gBACtBqE,WAAYA,EACZpK,YAAaA,EACb7F,QAASA,EACTgW,cAAeA,EACf6C,aAAcA,EACdzN,kBAAmB,WACftC,EAAKhB,SAAS,CACV3M,SAAS,GACV,WACC4nB,EAA0BG,MAGlC/X,QAASpR,KAAKoR,kBAhKF3L,iBCD1B+jB,wBACF,SAAAA,EAAY5pB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwpB,IACf3pB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0pB,GAAArpB,KAAAH,KAAMJ,KACD2N,MAAQ,CACTnM,SAAS,EACTqoB,cAAc,EACdjF,QAAQ,EACRve,QAAS,CACL6Y,aAAc,EACd5I,WAAY,GACZpK,YAAa,KAGrBjM,EAAKU,SAAWV,EAAKU,SAASF,KAAdP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAChBA,EAAK6pB,SAAW7pB,EAAK6pB,SAASrpB,KAAdP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAChBA,EAAKykB,WAAazkB,EAAKykB,WAAWjkB,KAAhBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAClBA,EAAK8pB,YAAc9pB,EAAK8pB,YAAYtpB,KAAjBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACnBA,EAAKukB,YAAcvkB,EAAKukB,YAAY/jB,KAAjBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACnBA,EAAKyf,aAAezf,EAAKyf,aAAajf,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAK+pB,eAAiB/pB,EAAK+pB,eAAevpB,KAApBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACtBA,EAAKgqB,gBAAkBhqB,EAAKgqB,gBAAgBxpB,KAArBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACvBA,EAAKgS,gBAAkBhS,EAAKgS,gBAAgBxR,KAArBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACvBA,EAAKwR,kBAAoBxR,EAAKwR,kBAAkBhR,KAAvBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACzBA,EAAKiqB,mBAAqBjqB,EAAKiqB,mBAAmBzpB,KAAxBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAC1BA,EAAKkqB,wBAA0BlqB,EAAKkqB,wBAAwB1pB,KAA7BP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAC/BA,EAAKipB,wBAA0BjpB,EAAKipB,wBAAwBzoB,KAA7BP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAC/BA,EAAKmpB,0BAA4BnpB,EAAKmpB,0BAA0B3oB,KAA/BP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACjCA,EAAKmqB,cAAgB,EA1BNnqB,mFA4BC,IAAAa,EACuBV,KAAKJ,MAApCqqB,EADQvpB,EACRupB,qBAAsBtpB,EADdD,EACcC,KACM,oBAAzBspB,GACPA,EAAqBtpB,yCAIzBX,KAAKJ,MAAMe,KAAKO,uDAGhBlB,KAAK+N,SAAS,CACV3M,SAAS,EACTojB,QAAQ,yCAGH,IACDA,EAAWxkB,KAAKuN,MAAhBiX,OACRxkB,KAAK+N,SAAS,CAAEyW,QAASA,2CAEd1Y,EAAaoe,EAAiBhU,GACzC,GAAIpK,EAAYrE,OAASyiB,EACrB,IAAI,IAAI5hB,EAAIwD,EAAYrE,OAAQa,EAAI4hB,EAAiB5hB,IACjDwD,EAAYjE,KAAK,CACbmO,SAAUhW,KAAKgqB,cAAgB1hB,EAC/BgO,QAASJ,EAAW5N,GACpB2N,WAAY,IAIxB,OAAOnK,4CAGP9L,KAAK+N,SAAS,CACV3M,SAAS,2CAGF,IAAAwN,EAAA5O,KACHiG,EAAYjG,KAAKuN,MAAjBtH,QACAiQ,EAAejQ,EAAfiQ,WACFpK,EAAc7F,EAAQ6F,YAAYvF,QACxC,GAA2B,IAAvBuF,EAAYrE,OAAhB,CAaA,IATA,IAAM0iB,EAAere,EAAYc,OAAO,SAACsH,EAAO7M,EAAMiB,GAKlD,OAJA4L,GAAS7M,EAAKiP,QACVhO,IAAMwD,EAAYrE,OAAQ,IAC1ByM,GAAS,IAENA,GACR,GACCkW,EAAe,EACflW,EAAQ,EACH5L,EAAI,EAAGA,EAAI4N,EAAWzO,OAAQa,KACnC4L,IAAkBgC,EAAW5N,IACjB6hB,IACRC,EAAe9hB,EACfA,EAAI4N,EAAWzO,QAGvBqE,EAAYjE,KAAK,CACbmO,SAAUhW,KAAKgqB,cACf/T,WAAY,EACZK,QAASJ,EAAWkU,KAExBpqB,KAAKgqB,eAAiB,EACtB,IAAMzgB,EAAazJ,OAAOmJ,OAAO,GAAIhD,GACrCsD,EAAWuC,YAAcA,EACzB9L,KAAK+N,SAAS,CACV9H,QAASsD,GACV,WACCqF,EAAKiD,gBAAgBtI,UA9BrB9G,IAAQsb,KAAK,sFAiCLxU,GAAY,IAAApI,EACkBnB,KAAKJ,MAAvCuF,EADgBhE,EAChBgE,qBAAsBc,EADN9E,EACM8E,QAC9Bd,EAAqBrF,OAAAoS,EAAA,EAAApS,CAAA,CACjBmS,YAAahM,EAAQgM,YACrB/O,K3BlHW,iB2BmHRqG,uCAGA,IAAAwF,EAAA/O,KACCiG,EAAYjG,KAAKuN,MAAjBtH,QACF6F,EAAc7F,EAAQ6F,YAAYvF,QACxC,GAA2B,IAAvBuF,EAAYrE,OAAhB,CAKA,IARO,IAOCqX,EAAiB7Y,EAAjB6Y,aACAxW,EAAI,EAAGA,EAAIwW,EAAcxW,IAC7BwD,EAAYjE,KAAK,CAAEmO,SAAUhW,KAAKgqB,cAAgB1hB,IAEtDtI,KAAKgqB,eAAiBlL,EACtB,IAAMvV,EAAazJ,OAAOmJ,OAAO,GAAIhD,GACrCsD,EAAWuC,YAAcA,EACzB9L,KAAK+N,SAAS,CACV9H,QAASsD,GACV,WACCwF,EAAK8C,gBAAgBtI,UAbrB9G,IAAQsb,KAAK,oFAgBP,IAAA/O,EAAAhP,KACFiG,EAAYjG,KAAKuN,MAAjBtH,QACA6Y,EAA8B7Y,EAA9B6Y,aAAchT,EAAgB7F,EAAhB6F,YAChBvC,EAAazJ,OAAOmJ,OAAO,GAAIhD,GAC/BokB,EAAiBve,EAAYvF,QAC/B8jB,EAAe5iB,QAAUqX,EACzBrc,IAAQsb,KAAK,yCAGjBsM,EAAe5iB,OAAS6iB,KAAKC,IAAI,EAAGF,EAAe5iB,OAAQqX,GAC3DvV,EAAWuC,YAAcue,EACzBrqB,KAAK+N,SAAS,CACV9H,QAASsD,GACV,WACCyF,EAAK6C,gBAAgBtI,kDAMT,IAAA4H,EAC8BnR,KAAKJ,OACnDuF,EAFgBgM,EACRhM,sBACa,CAAE8M,YAFPd,EACcc,YACM7M,YAAY,sDAE1B4Q,GAAU,IAAA/G,EAAAjP,KACxBiG,EAAYjG,KAAKuN,MAAjBtH,QACA6F,EAAgB7F,EAAhB6F,YACFvC,EAAazJ,OAAOmJ,OAAO,GAAIhD,GAC/BokB,EAAiBve,EAAY0e,OAAO,SAACnjB,GACvC,OAAOA,EAAK2O,WAAaA,IAE7BzM,EAAWuC,YAAcue,EACzBrqB,KAAK+N,SAAS,CACV9H,QAASsD,GACV,WACC0F,EAAK4C,gBAAgBtI,wDAG8B,IAAA8Q,EAAAra,KAAAqd,EAAAzS,EAAjCxF,kBAAiC,IAAAiY,KAAVtc,EAAUjB,OAAAiV,EAAA,EAAAjV,CAAA8K,EAAA,gBAC/C3E,EAAYjG,KAAKuN,MAAjBtH,QACA6F,EAA4B7F,EAA5B6F,YAAaoK,EAAejQ,EAAfiQ,WACf3M,EAAazJ,OAAOmJ,OAAO,GAAIhD,GAC/BokB,EAAiBve,EAAYc,OAAO,SAACC,EAAKxF,GAmB5C,OAjBIjC,EACIrE,EAAOiV,WAAa3O,EAAK2O,SACzBnJ,EAAIhF,KAAK/H,OAAOmJ,OAAO,GAAI5B,IAE3BwF,EAAIhF,KAAK,CACLmO,SAAUjV,EAAOiV,SACjBM,QAASvV,EAAOuV,QAChBL,WAAYlV,EAAOkV,aAIvBlV,EAAOiV,WAAa3O,EAAK2O,SACzBnJ,EAAIhF,KAAK/H,OAAOmJ,OAAO,GAAI5B,EAAMtG,IAEjC8L,EAAIhF,KAAK/H,OAAOmJ,OAAO,GAAI5B,IAG5BwF,GACR,IACHwd,EAAe5jB,QAAQ,SAACY,GAEhBA,EAAK2O,SAAWjV,EAAOiV,WACvB3O,EAAKiP,QAAUP,GAAe1O,EAAK2O,SAAU3O,EAAK4O,WAC9CoU,EAAgBnU,MAG5B3M,EAAWuC,YAAcue,EACzBrqB,KAAK+N,SAAS,CACV9H,QAASsD,GACV,WACC8Q,EAAKxI,gBAAgBtI,gDAOVA,GAAY,IAAAkhB,EAAAzqB,KACnBiG,EAAYjG,KAAKuN,MAAjBtH,QACA6Y,EAA6BvV,EAA7BuV,aAAc5I,EAAe3M,EAAf2M,WAChBoH,EAAW,GACX4M,GAAmBpL,EACzB,GAAIoL,EAAiB,CACjB,IAAMQ,EAAkBzkB,EAAQ6F,YAAYvF,QACtCuF,EAAc9L,KAAK2qB,eAAeD,EAAiBR,EAAiBhU,GAC1EpK,EAAYrF,QAAQ,SAACY,GACjBA,EAAKiP,QAAUP,GAAe1O,EAAK2O,SAAU3O,EAAK4O,WAAYnK,EAAaoK,KAE/ElW,KAAKgqB,eAAiBE,EACtB3gB,EAAWuV,aAAeoL,EAC1B3gB,EAAWuC,YAAcA,EACzBwR,EAASrX,QAAUsD,EAEvBvJ,KAAK+N,SAALjO,OAAAoS,EAAA,EAAApS,CAAA,GACOwd,GACJ,WACCmN,EAAKZ,kBACLY,EAAK5Y,gBAAgBtI,sCAOpB/I,GACLA,EAAEC,iBADM,IAAA0Z,EAEwDna,KAAKJ,MAA7DggB,EAFAzF,EAEAyF,iBAAkBjf,EAFlBwZ,EAEkBxZ,KAAMoI,EAFxBoR,EAEwBpR,aAAcwC,EAFtC4O,EAEsC5O,KAAMtF,EAF5CkU,EAE4ClU,QAC/CmW,KAILzb,EAAKE,eAAe,SAACC,EAAKC,GACtB,IAAKD,EAAK,CACN,IAAM2D,EAAM6G,GAAWC,EAAMtF,GACzBxB,EACAsE,EAAatE,EAAKoH,GAAc5F,EAASlF,IAEzC0B,IAAQsb,KAAK,kDATrB6B,6CAcS,IAAAgL,GACO5qB,KAAKJ,MAAjByT,QAC+BrT,KAAKJ,MAAMqG,SAAW,GAAKjG,KAAKuN,MAAMtH,SAArE6F,mBAFK,IAAA8e,EAES,GAFTA,EAGThS,EAAc,EAHLiS,GAAA,EAAAC,GAAA,EAAAC,OAAArjB,EAAA,IAIb,QAAAsjB,EAAAC,EAAcnf,EAAdof,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA2B,KAAlBrpB,EAAkBwpB,EAAAnb,MACvB,GAAe,WAAXrO,EAAE0B,MAAqB+E,MAAMC,QAAQ1G,EAAEoW,WAAY,KAAA0T,GAAA,EAAAC,GAAA,EAAAC,OAAA9jB,EAAA,IACnD,QAAA+jB,EAAAC,EAAclqB,EAAEoW,UAAhBsT,OAAAC,cAAAG,GAAAG,EAAAC,EAAAN,QAAAC,MAAAC,GAAA,EAA2B,KAAlBK,EAAkBF,EAAA5b,MACH,WAAhB8b,EAAEhT,YACFC,IAAgB+S,EAAE/S,aAAe,IAErC,OAL+C,MAAA9X,GAAAyqB,GAAA,EAAAC,EAAA1qB,EAAA,YAAAwqB,GAAA,MAAAI,EAAAE,QAAAF,EAAAE,SAAA,WAAAL,EAAA,MAAAC,MAL9C,MAAA1qB,GAAAgqB,GAAA,EAAAC,EAAAjqB,EAAA,YAAA+pB,GAAA,MAAAI,EAAAW,QAAAX,EAAAW,SAAA,WAAAd,EAAA,MAAAC,GAcb,OAAOnS,oDAEe,IAAAiT,EAAA7rB,KAAA8rB,EACa9rB,KAAKJ,MAAhCe,EADcmrB,EACdnrB,KAAM0S,EADQyY,EACRzY,QAASnN,EADD4lB,EACC5lB,QADDmC,EAEgDgL,EAAUrT,KAAKJ,MAAMqG,SAAW,GAAKjG,KAAKuN,MAAMtH,QAFhG8lB,EAAA1jB,EAEdyD,mBAFc,IAAAigB,EAEA,GAFAA,EAEIjN,EAFJzW,EAEIyW,aAAc5I,EAFlB7N,EAEkB6N,WAAY4Q,EAF9Bze,EAE8Bye,cACpD9mB,KAAKsT,WAAapN,EAAQoN,WAHJ,IAIdkR,EAAWxkB,KAAKuN,MAAhBiX,OACF5L,EAAc5Y,KAAKgsB,iBACzB,OAAOlgB,EAAY1D,IAAI,SAAC6jB,EAAa3jB,GAAM,IAC/B0N,EAA+BiW,EAA/BjW,SAAU9S,EAAqB+oB,EAArB/oB,KAAMmf,EAAe4J,EAAf5J,WAExB,GAAIzJ,EAAc,IAAM4L,GAAWlc,EAAE,EAAKsQ,GAAwB,WAAT1V,EACrD,OAAO,KAGX,G3B9RC,M2B8RGmf,EAAqB,KACbuF,EAAwBqE,EAAxBrE,SAAUD,EAAcsE,EAAdtE,UAClB,GAAIhnB,EAAKuP,cAAc0X,KAAcD,EACjC,OAAO,KAGf,OACIpmB,EAAAC,EAAAC,cAACyqB,GAAD,CACI/iB,IAAG,MAAA5E,OAAQyR,GACXA,SAAUA,EACV/P,QAASgmB,EACTzH,OAAQA,EACRte,QAASA,EACTke,YAAayH,EAAKzH,YAClBzjB,KAAMA,EACN0S,QAASA,EACTyT,cAAeA,EACfhb,YAAaA,EACboK,WAAYA,EACZ4I,aAAcA,EACdwF,WAAYuH,EAAKvH,WACjB0E,0BAA2B6C,EAAK7C,0BAChCF,wBAAyB+C,EAAK/C,6DAKrC,IACG1nB,EAAYpB,KAAKuN,MAAjBnM,QADH+qB,EAE4BnsB,KAAKJ,MAA9ByT,EAFH8Y,EAEG9Y,QAAStD,EAFZoc,EAEYpc,YAFZqc,GAGoB/Y,EAAUrT,KAAKJ,MAAQI,KAAKuN,OAA7CtH,QAHH0G,QAAA,IAAAyf,EAGa,GAHbA,IAIqD,GAJrDC,EAAA1f,EAIGmS,oBAJH,IAAAuN,EAIkB,EAJlBA,EAAAC,EAAA3f,EAIqBb,mBAJrB,IAAAwgB,EAImC,GAJnCA,EAKL,OACI/qB,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KACI5G,EAAAC,EAAAC,cAAA,OAAK4D,UAAS,4BAAAd,OAA8B8O,EAAU,cAAgB,eAClE9R,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,aAEP9D,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAM5B,SAAUP,KAAKO,UACjBgB,EAAAC,EAAAC,cAAC8qB,EAAA,EAAD,CACIC,OAAQ,CAAExF,GAAI,GAAKlI,EAAc2N,GAAI,GAAIC,GAAI,KAE5C1sB,KAAK+pB,4BAKdje,EAAYrE,OAAS,IAAM4L,EACvB9R,EAAAC,EAAAC,cAAA,OAAKW,MAAO,CACRY,UAAW,SACXD,UAAW,SAGXxB,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CACIwd,OAAK,EACLvd,KAAK,UACLsC,QAASxF,KAAKsf,cAHlB,cAQA,MAIXjM,EAA+F,KAArF9R,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CAAMrC,KAAK,OAAOmC,UAAU,sBAAsBG,QAASxF,KAAK4pB,kBAGnFroB,EAAAC,EAAAC,cAACkrB,GAAD,CACIvrB,QAASA,EACT2O,YAAaA,EACbsB,kBAAmBrR,KAAKqR,kBACxBgV,OAAQrmB,KAAK8pB,mBACb1Y,QAASpR,KAAK6pB,0BAtWNpkB,kBA6WbpC,OAAKC,QAALD,CAAcmmB,yBCvUdoD,sMArCO,IAAAlsB,EACyBV,KAAKJ,MAApC6M,EADM/L,EACN+L,aAAiBqI,EADXhV,OAAAiV,EAAA,EAAAjV,CAAAY,EAAA,kBAEd,OAAIuH,MAAMC,QAAQuE,IAAiBA,EAAahF,OAAS,EAC9CgF,EAAarE,IAAI,SAACnC,GAAY,IACzB/C,EAAsB+C,EAAtB/C,KAAM+O,EAAgBhM,EAAhBgM,YACRyG,EAAO,UAAAnU,OAAa0N,GAC1B,M5BdO,kB4BcH/O,EACQ3B,EAAAC,EAAAC,cAAC8gB,GAADziB,OAAAmJ,OAAA,CAAeE,IAAKuP,GAAa5D,EAAjC,CAA4C7O,QAASA,K5BdzD,mB4BeG/C,EACC3B,EAAAC,EAAAC,cAACghB,GAAD3iB,OAAAmJ,OAAA,CAAgBE,IAAKuP,GAAa5D,EAAlC,CAA6C7O,QAASA,K5Bf1D,mB4BgBG/C,EACC3B,EAAAC,EAAAC,cAACorB,GAAArrB,EAAD1B,OAAAmJ,OAAA,CAAgBE,IAAKuP,GAAa5D,EAAlC,CAA6C7O,QAASA,K5BhB5D,iB4BiBK/C,EACC3B,EAAAC,EAAAC,cAACkhB,GAAD7iB,OAAAmJ,OAAA,CAAcE,IAAKuP,GAAa5D,EAAhC,CAA2C7O,QAASA,KACrD/C,IAASK,EACRhC,EAAAC,EAAAC,cAAC+gB,GAAD1iB,OAAAmJ,OAAA,CAAiBE,IAAKuP,GAAa5D,EAAnC,CAA8C7O,QAASA,K5BlB5D,kB4BmBI/C,EACC3B,EAAAC,EAAAC,cAACihB,EAAD5iB,OAAAmJ,OAAA,CAAeE,IAAKuP,GAAa5D,EAAjC,CAA4C7O,QAASA,KAE1D,OAIX1E,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,cAAf,+EAIJ,OACI9D,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KAEQnI,KAAK8sB,0BA/BKrnB,kBCafsnB,uLAjBFvsB,EAAG4D,GACd5D,EAAEod,aAAaoP,QAAQ,aAAatP,KAAKuP,UAAU7oB,qCAE3C,IAAAvE,EAAAG,KAAAU,EACaV,KAAKJ,MAAlBstB,EADAxsB,EACAwsB,GAAI9oB,EADJ1D,EACI0D,KACZ,OACC7C,EAAAC,EAAAC,cAAA,QACC0rB,UAAU,OACV9nB,UAAU,YACV+nB,YAAa,SAAC5sB,GAAQX,EAAKutB,YAAY5sB,EAAG4D,KAEzC8oB,UAZkBznB,iBCiER4nB,GAnEI,CAClB9L,UAAW,CACV5gB,KAAM,CACL,CAAEusB,GAAI,QAAS9oB,KAAM,CAAElB,KAAM,QAASwM,MAAO,QAAS1K,KAAM,KAK5D,CAAEkoB,GAAI,SAAU9oB,KAAM,CAAElB,KAAM,WAC9B,CAAEgqB,GAAI,aAAc9oB,KAAM,CAAElB,KAAM,eAClC,CAAEgqB,GAAI,cAAe9oB,KAAM,CAAElB,KAAM,gBACnC,CAAEgqB,GAAI,QAAS9oB,KAAM,CAAElB,KAAM,QAAS+f,SAAU,CAC9C,CAAE3b,MAAO,EAAGuI,MAAO,KAAMH,MAAO,KAChC,CAAEpI,MAAO,EAAGuI,MAAO,KAAMH,MAAO,MAEjCiM,UAAW,YAEZ,CAAEuR,GAAI,WAAY9oB,KAAM,CAAElB,KAAM,WAAYwM,MAAO,WAAY1K,KAAM,KACrE,CAAEkoB,GAAI,WAAY9oB,KAAM,CAAElB,KAAM,WAAY2gB,YAAa,CACvD,CAAEvc,MAAO,EAAGuI,MAAO,KAAMH,MAAO,KAChC,CAAEpI,MAAO,EAAGuI,MAAO,KAAMH,MAAO,SAInC4d,OAAQ,CACP,CAAEJ,GAAI,eAAM9oB,KAAM,CAAEuU,UAAW,QAASzV,KAAM,SAAUwX,SAAU,UAAWE,cAAc,EAAMrB,QAAS,eAAMpW,SAAU,WAC1H,CAAE+pB,GAAI,eAAM9oB,KAAM,CAAEuU,UAAW,QAASzV,KAAM,SAAUwX,SAAU,SAAUE,cAAc,EAAMrB,QAAS,eAAMpW,SAAU,UACzH,CAAE+pB,GAAI,4BAAS9oB,KAAM,CAAEuU,UAAW,SAAUzV,KAAM,SAAU0X,cAAc,EAAMrB,QAAS,4BAASpW,SAAU,WAC5G,CAAE+pB,GAAI,eAAM9oB,KAAM,CAAEuU,UAAW,SAAUzV,KAAM,SAAUqW,QAAS,eAAMpW,SAAU,WAClF,CAAE+pB,GAAI,eAAM9oB,KAAM,CAAEuU,UAAW,SAAUzV,KAAM,SAAUqW,QAAS,eAAMpW,SAAU,WAClF,CAAE+pB,GAAI,eAAM9oB,KAAM,CAAEuU,UAAW,MAAOzV,KAAM,SAAUqW,QAAS,eAAMpW,SAAU,WAC/E,CAAE+pB,GAAI,eAAM9oB,KAAM,CAAEuU,UAAW,OAAQzV,KAAM,SAAUqW,QAAS,eAAMpW,SAAU,WAChF,CAAE+pB,GAAI,eAAM9oB,KAAM,CAAEuU,UAAW,OAAQzV,KAAM,SAAUqW,QAAS,eAAMpW,SAAU,WAChF,CAAE+pB,GAAI,eAAM9oB,KAAM,CAAEuU,UAAW,OAAQzV,KAAM,SAAUqW,QAAS,eAAMpW,SAAU,WAChF,CAAE+pB,GAAI,eAAM9oB,KAAM,CAAEuU,UAAW,OAAQzV,KAAM,SAAUqW,QAAS,eAAMpW,SAAU,YAEjFoqB,OAAQ,CACP,CAAEL,GAAI,aAAc9oB,KAAM,CAAElB,KAAM,aAAc2f,cAAe,CAC7D,CAACvb,MAAO,EAAGoI,MAAO,QAASG,MAAO,IAClC,CAACvI,MAAO,EAAGoI,MAAO,QAASG,MAAO,OAGpC,CAAEqd,GAAI,OAAQ9oB,KAAM,CAAElB,KAAM,OAAQ6E,KAAM,SAC1C,CAAEmlB,GAAI,OAAQ9oB,KAAM,CAAElB,KAAM,OAAQsgB,QAAS,CAC3C,CAAE9T,MAAO,OAAQG,MAAO,OAAQvI,MAAO,QAK3CkmB,OAAQ,CACP,CAAEN,GAAI,OAAQ9oB,KAAM,CAAElB,KAAM,kBAC5B,CAAEgqB,GAAI,QAAS9oB,KAAM,CAAElB,KAAM,iBAAkBoD,QCtDjC,CAAC,CACbpE,MAAO,UACP0F,UAAW,aACXN,MAAO,GACR,CACCpF,MAAO,UACP0F,UAAW,aACXN,MAAO,GACR,CACCpF,MAAO,UACP0F,UAAW,aACXN,MAAO,GACR,CACCpF,MAAO,UACP0F,UAAW,aACXN,MAAO,GACR,CACCpF,MAAO,UACP0F,UAAW,aACXN,MAAO,MDoCT,CAAE4lB,GAAI,MAAO9oB,KAAM,CAAElB,KAAM,eAAgB4b,aAAc,EAAGhS,SAAU,CACnE,CAAEmF,YAAa,MAIlB,CAAEib,GAAI,SAAU9oB,KAAM,CAAElB,KAAM,kBAAmB4b,aAAc,EAAGE,c9BjDtD,I8BiD4ElS,SAAU,CAC/F,CAAEmF,YAAa,MAIlB,CAAEib,GAAI,OAAQ9oB,KAAM,CAAElB,KAAM,oBE3BfuqB,+LAhCMC,GAA0B,IAAXxqB,EAAWsE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GACzC,OACCjG,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,CAAUgB,IAAG,GAAA5E,OAAKrB,IAEhBA,EAAQ3B,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,CAAS6D,IAAG,GAAA5E,OAAKrB,IAASA,GAAmB,KAGrDwqB,EAActlB,IAAI,SAACkU,EAAQhV,GAC1B,OACC/F,EAAAC,EAAAC,cAACksB,GAAD7tB,OAAAmJ,OAAA,GAAcqT,EAAd,CAAsBnT,IAAG,QAAA5E,OAAU+X,EAAO4Q,GAAjB,KAAA3oB,OAAuB+C,0CAO7C,IAAAzH,EAAAG,KAAA4tB,EAC0B5tB,KAAKJ,MAA/BiuB,QACFH,EAAgBL,QAFd,IAAAO,EACU,YADVA,IAEqC,GAC7C,OAAI3lB,MAAMC,QAAQwlB,GACV1tB,KAAK8tB,oBAAoBJ,GAEzB5tB,OAAO0G,KAAKknB,GAAetlB,IAAI,SAAC1B,GACtC,OAAGuB,MAAMC,QAAQwlB,EAAchnB,IACvB7G,EAAKiuB,oBAAoBJ,EAAchnB,GAAIA,GAE5C,cA3BkBjB,iBCAvB0b,YAAUC,IAAKD,SA2DN4M,+LAtDN5P,SAASjB,iBAAiB,WAAY,SAAUK,GAE5CA,EAAM9c,mBACP,GAGH0d,SAASjB,iBAAiB,OAAQ,SAAUK,MAE1C,GAEHY,SAASjB,iBAAiB,YAAa,SAAUK,GAE3CA,EAAMC,OAAOpb,MAAM4rB,QAAU,KAChC,GAEH7P,SAASjB,iBAAiB,UAAW,SAAUK,GAE3CA,EAAMC,OAAOpb,MAAM4rB,QAAU,GAC7B7P,SAASC,iBAAiB,cAAc3X,QAAQ,SAACwnB,GAC9CA,EAAE7rB,MAAMic,WAAa,WAEzB,GAEHF,SAASjB,iBAAiB,YAAa,SAAUK,GAEf,cAA3BA,EAAMC,OAAOnY,YACdkY,EAAMC,OAAOpb,MAAMic,WAAa,aAEnC,GAEHF,SAASjB,iBAAiB,YAAa,SAAUK,GAEf,cAA3BA,EAAMC,OAAOnY,YACdkY,EAAMC,OAAOpb,MAAMic,WAAa,MAEnC,oCAGT,OACC9c,EAAAC,EAAAC,cAACgiB,EAAA,EAAD,CAAMjJ,iBAAiB,IAAInV,UAAU,cACjC9D,EAAAC,EAAAC,cAACysB,GAAD,CAASxK,IAAI,eAAKva,IAAI,UACT5H,EAAAC,EAAAC,cAAC0sB,GAAD,CAAgBN,QAAQ,YAErCtsB,EAAAC,EAAAC,cAACysB,GAAD,CAASxK,IAAI,eAAKva,IAAI,aACT5H,EAAAC,EAAAC,cAAC0sB,GAAD,OAEJ5sB,EAAAC,EAAAC,cAACysB,GAAD,CAASxK,IAAI,eAAKva,IAAI,YAClB5H,EAAAC,EAAAC,cAAC0sB,GAAD,CAAgBN,QAAQ,sBAlDrBzqB,aCAfgrB,YAAmBC,IAAnBD,OAAOE,GAAYD,IAAZC,QAsDAC,eAnDX,SAAAA,EAAY3uB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuuB,IACf1uB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyuB,GAAApuB,KAAAH,KAAMJ,KACD2N,MAAQ,CACTd,aAAc,IAElB5M,EAAKU,SAAWV,EAAKU,SAASF,KAAdP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAChBA,EAAKsF,qBAAuBtF,EAAKsF,qBAAqB9E,KAA1BP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KANbA,0EAQR,IAAAa,EACqBV,KAAKJ,MAAzBoC,EADDtB,EACCsB,KAAMwsB,EADP9tB,EACO8tB,UACN/hB,EAAiBzM,KAAKuN,MAAtBd,aACRzK,EAAKlC,OAAAoS,EAAA,EAAApS,CAAA,GACE0uB,EADH,CAEA/hB,+DAGaA,GACjBzM,KAAK+N,SAAS,CACVtB,kDAGC,IAAAtL,EACsCnB,KAAKJ,MAAxCwB,EADHD,EACGC,QAASa,EADZd,EACYc,SAAU8N,EADtB5O,EACsB4O,YAC3B,OACIxO,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACIQ,MAAM,2BACNN,MAAO,KACPR,QAASA,EACTU,cAAc,EACdE,KAAMhC,KAAKO,SACX0B,SAAUA,GAEVV,EAAAC,EAAAC,cAAC+rB,EAAA,EAAD,KACQjsB,EAAAC,EAAAC,cAAC2sB,GAAD,CAAOxsB,MAAM,OACTL,EAAAC,EAAAC,cAACgtB,GAAD,OAEJltB,EAAAC,EAAAC,cAAC+rB,EAAA,EAAD,KACIjsB,EAAAC,EAAAC,cAAC6sB,GAAD,KACI/sB,EAAAC,EAAAC,cAACitB,GAAD,CACIvpB,qBAAsBnF,KAAKmF,qBAC3B4K,YAAaA,EACb4e,SAAO,eA1CdlpB,iBCLvBmpB,GAAkB,CACpB,CACIlf,MAAO,uCACPvG,IAAK,cACLjG,KAAM,SACNyM,aAAc,SACd/M,YAAa,uCACbkhB,QAAS,CAAC,CACNjU,MAAO,SACPH,MAAO,UACR,CACCG,MAAO,OACPH,MAAO,QACR,CACCG,MAAO,SACPH,MAAO,UACR,CACCG,MAAO,WACPH,MAAO,aAEXnN,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,WACpC,CACCiN,MAAO,2BACPvG,IAAK,gBACLjG,KAAM,SACNyM,aAAc,MACd/M,YAAa,2BACbkhB,QAAS,CAAC,CACNjU,MAAO,MACPH,MAAO,OACR,CACCG,MAAO,OACPH,MAAO,QACR,CACCG,MAAO,MACPH,MAAO,OACR,CACCG,MAAO,SACPH,MAAO,WAEXnN,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,aACpC,CACCiN,MAAO,2BACPvG,IAAK,aACLjG,KAAM,QACNN,YAAa,2BACbL,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,+BACpC,CACCiN,MAAO,2BACPvG,IAAK,gBACLjG,KAAM,WACNN,YAAa,wFACd,CACC8M,MAAO,WACPvG,IAAK,WACLjG,KAAM,QACNN,YAAa,8DACbL,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,gBACpC,CACCiN,MAAO,8BACPvG,IAAK,oBACLjG,KAAM,SACNN,YAAa,8BACbL,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,uBACnCkN,aAAc,IACdmU,QAAS,CAAC,CACNjU,MAAO,IACPH,MAAO,UACR,CACCG,MAAO,IACPH,MAAO,YAEZ,CACCA,MAAO,2BACPvG,IAAK,mBACLjG,KAAM,SACNyM,aAAc,qBACdqV,gBAAiB,CACbhgB,KAAM,oBACN6K,MAAO,KAEXiU,QAAS,CAAC,CACNjU,MAAO,qBACPH,MAAO,sBACR,CACCG,MAAO,qBACPH,MAAO,yBAKbmf,GAAoB,CAAC,CACvBnf,MAAO,eACPvG,IAAK,OACLjG,KAAM,QACNN,YAAa,2BACbL,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,mBACpC,CACCiN,MAAO,QACPvG,IAAK,QACLjG,KAAM,SACP,CACCwM,MAAO,QACPvG,IAAK,QACLjG,KAAM,QACNN,YAAa,QACbL,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,aCrGjCwK,YAAQC,IAASD,OAEjB6hB,eACF,SAAAA,EAAYlvB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8uB,IACfjvB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgvB,GAAA3uB,KAAAH,KAAMJ,KACD2N,MAAQ,CACTwC,YAAa,CACrBqV,SAAU,GACVS,OAAQ,GACRkJ,UAAW,IAEHP,UAAW,KACXQ,eAAe,GAEnBnvB,EAAKovB,cAAgB,EAC3BpvB,EAAKqvB,YAAc,EACbrvB,EAAKuR,QAAUvR,EAAKuR,QAAQ/Q,KAAbP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACfA,EAAKsvB,SAAWtvB,EAAKsvB,SAAS9uB,KAAdP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACtBA,EAAKuvB,WAAavvB,EAAKuvB,WAAW/uB,KAAhBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAClBA,EAAKwvB,YAAcxvB,EAAKwvB,YAAYhvB,KAAjBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACnBA,EAAKyvB,cAAgBzvB,EAAKyvB,cAAcjvB,KAAnBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACfA,EAAK0vB,cAAgB1vB,EAAK0vB,cAAclvB,KAAnBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACrBA,EAAK2vB,gBAAkB3vB,EAAK2vB,gBAAgBnvB,KAArBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACvBA,EAAK4vB,iBAAmB5vB,EAAK4vB,iBAAiBpvB,KAAtBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACxBA,EAAK6vB,gBAAkB7vB,EAAK6vB,gBAAgBrvB,KAArBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACvBA,EAAK8vB,uBAAyB9vB,EAAK8vB,uBAAuBtvB,KAA5BP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAtBfA,oFAyBXG,KAAKJ,MAAMwB,UAAYpB,KAAK4vB,YAC5B5vB,KAAK4vB,WAAY,EACjB5vB,KAAK+N,SAAS,CACVgC,YAAa/P,KAAKJ,MAAMmQ,uDAIpB1I,GAClBrH,KAAK+N,SAAS,CACbihB,eAAe,EACfR,UAAWnnB,+CAIZrH,KAAK+N,SAAS,CACbihB,eAAe,EACfR,UAAW,+CAGMqB,GAAW,IACrBC,EAAcD,EAAdC,UACA/f,EAAgB/P,KAAKuN,MAArBwC,YACFggB,EAAiBjwB,OAAOmJ,OAAO,GAAI8G,GAHZigB,EAIHD,EAAlB3K,SACR,GAAI0K,IAActsB,EAAa,CAC9B,IAAMysB,QANsB,IAAAD,EAIV,GAJUA,GAMCpjB,OAAO,SAACC,EAAKxF,GAKzC,OAJIA,EAAKC,QAAUuoB,EAAUvoB,QAC5BD,EAAOvH,OAAOmJ,OAAO,GAAI5B,EAAMwoB,IAEhChjB,EAAIhF,KAAKR,GACFwF,GACL,IACHkjB,EAAe3K,SAAW6K,EAE3BjwB,KAAK+N,SAAS,CACbgC,YAAaggB,IAEd/vB,KAAKyvB,qDAEO,IAAA/uB,EACyBV,KAAKJ,MAA5BswB,EADFxvB,EACEwvB,aADFxvB,EACgBC,KACjBO,cACLlB,KAAK4vB,WAAY,EACjBM,0CAEU1vB,GAAG,IAAAoO,EAAA5O,KACbQ,EAAEC,iBADW,IAAAU,EAEyBnB,KAAKJ,MAAnCe,EAFKQ,EAELR,KAAMwvB,EAFDhvB,EAECgvB,oBACdxvB,EAAKE,eAAe,SAACC,EAAKC,GAC/B,IAAKD,EAAK,KACWiP,EAAgBnB,EAAKrB,MAArBwC,YACdggB,EAAiBjwB,OAAOmJ,OAAO,GAAI8G,GACzC,CAACvM,EAAaC,GAAWgD,QAAQ,SAACiS,GACjC,IACM0X,EAAanmB,GAAYlJ,EADV2X,IAAYlV,EAAcqrB,GAAoBD,IACd,GACrDmB,EAAc,GAAAxrB,OAAImU,EAAJ,QAAoB0X,IAEvBL,EAAe3K,SAAS3e,QAAQ,SAAC4pB,GAC7BtgB,EAAYqV,SAAS3e,QAAQ,SAACY,GACtBA,EAAKC,OAAS+oB,EAAQ/oB,QACtB+oB,EAAQ5jB,aAAepF,EAAKoF,aAC5B4jB,EAAQP,UAAYzoB,EAAKyoB,eAIrCK,EAAoBJ,GACpBnhB,EAAKwC,kDAKnBpR,KAAKswB,UAAU9sB,sCAGfxD,KAAKswB,UAAU7sB,qCAMNiV,GAAS,IACV3I,EAAgB/P,KAAKuN,MAArBwC,YAEFqgB,EADUrgB,EAAW,GAAAxL,OAAImU,EAAJ,QACAnU,OAAO,CAAC,CAClC+C,MAAOtH,KAAA,GAAAuE,OAAQmU,EAAR,aACPoX,UAAWpX,KAENqX,EAAiBjwB,OAAOmJ,OAAO,GAAI8G,GACzCggB,EAAc,GAAAxrB,OAAImU,EAAJ,QAAoB0X,EAClCpwB,KAAK+N,SAAS,CACbgC,YAAaggB,IAER/vB,KAAA,GAAAuE,OAAQmU,EAAR,cAA8B,uCAKxBA,EAAS6X,GAAa,IAC1BxgB,EAAgB/P,KAAKuN,MAArBwC,YAEFqgB,EADUrgB,EAAW,GAAAxL,OAAImU,EAAJ,QACA9L,OAAO,SAACC,EAAKxF,GAIvC,OAHIA,EAAKC,OAASipB,GACjB1jB,EAAIhF,KAAKR,GAEHwF,GACL,IACGkjB,EAAiBjwB,OAAOmJ,OAAO,GAAI8G,GACzCggB,EAAc,GAAAxrB,OAAImU,EAAJ,QAAoB0X,GAAc,GAChDpwB,KAAK+N,SAAS,CACbgC,YAAaggB,0CAGDQ,GACbvwB,KAAKwwB,aAAahtB,EAAa+sB,uCAEpBA,GACXvwB,KAAKwwB,aAAa/sB,EAAW8sB,kDAEJlpB,GAAM,IAAA0H,EAAA/O,KACvBgF,EAAgBqC,EAAhBrC,KAAMsC,EAAUD,EAAVC,MACR,OACI/F,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,gBACX9D,EAAAC,EAAAC,cAAA,QAAM4D,UAAU,SAASL,GAAI,SAAAT,OAAa+C,IACtD/F,EAAAC,EAAAC,cAAA,QACC4D,UAAU,aACVG,QAAS,SAAChF,GACTA,EAAEwR,kBACFjD,EAAKygB,gBAAgBnoB,KAJvB,gBASY9F,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CACIrC,KAAK,QACLmC,UAAU,aACVG,QAAS,WACLuJ,EAAKugB,cAAchoB,oDAMrBD,GAAM,IAAA2H,EAAAhP,KAClB+lB,EAAsB1e,EAAtB0e,WAAYze,EAAUD,EAAVC,MACd,OACI/F,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,gBACX9D,EAAAC,EAAAC,cAAA,QAAM4D,UAAU,SAAS0gB,GAAU,OAAAxhB,OAAW+C,IAC9C/F,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CACIrC,KAAK,QACLmC,UAAU,aACVG,QAAS,WACLwJ,EAAKqgB,YAAY/nB,wCAM5B,IAAA2H,EAAAjP,KAAAmR,EACqBnR,KAAKJ,MAAvBwB,EADH+P,EACG/P,QAAST,EADZwQ,EACYxQ,KADZgX,EAE6C3X,KAAKuN,MAA/CwC,EAFH4H,EAEG5H,YAAaif,EAFhBrX,EAEgBqX,cAAeR,EAF/B7W,EAE+B6W,UAF/BrJ,EAGkCpV,EAA/BqV,gBAHH,IAAAD,EAGc,GAHdA,EAAAS,EAGkC7V,EAAhB8V,cAHlB,IAAAD,EAG2B,GAH3BA,EAIC6K,EAAiBrL,EAASxY,OAAO,SAACC,EAADjC,GAAoB,IAAZtD,EAAYsD,EAAZtD,MAE3C,OADAuF,EAAIhF,KAAJ,SAAAtD,OAAkB+C,IACXuF,GACR,IACG6jB,EAAe7K,EAAOjZ,OAAO,SAACC,EAADsB,GAAoB,IAAZ7G,EAAY6G,EAAZ7G,MAEvC,OADAuF,EAAIhF,KAAJ,OAAAtD,OAAgB+C,IACTuF,GACR,IACH,OACItL,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KACI5G,EAAAC,EAAAC,cAAC8P,EAAA,EAAD,CACIrP,MAAM,kCACNyuB,UAAU,QACV9uB,UAAQ,EACRC,cAAc,EACdsP,QAASpR,KAAKoR,QACdhQ,QAASA,EACTQ,MAAM,OAENL,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAM5B,SAAUP,KAAKuvB,eACjBhuB,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,qBACA/D,EAAAC,EAAAC,cAAC0N,EAAA,EAAD,CAAUqL,iBAAkBiW,GAEpBrL,EAAShd,IAAI,SAACf,GAAS,IACXC,EAAUD,EAAVC,MACR,OACI/F,EAAAC,EAAAC,cAACmvB,GAAD,CACIphB,OAAQP,EAAK0gB,uBAAuBtoB,GACpC8B,IAAG,SAAA5E,OAAW+C,IAGVud,GAAiBlkB,EAAMkuB,GAAmBxnB,OAOlE9F,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,eACX9D,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CACIC,KAAK,SACL8N,KAAK,QACLxL,QAASxF,KAAKovB,YAHlB,6BAUJ7tB,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,qBACA/D,EAAAC,EAAAC,cAAC0N,EAAA,EAAD,CAAUqL,iBAAkBkW,GAEpB7K,EAAOzd,IAAI,SAACf,GAAS,IACTC,EAAUD,EAAVC,MACR,OACI/F,EAAAC,EAAAC,cAACmvB,GAAD,CACIphB,OAAQP,EAAK4hB,qBAAqBxpB,GAClC8B,IAAG,OAAA5E,OAAS+C,IAGRud,GAAiBlkB,EAAMiuB,GAAiBvnB,OAOhE9F,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,eACX9D,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CACIC,KAAK,SACL8N,KAAK,QACLxL,QAASxF,KAAKmvB,UAHlB,6BAQJ5tB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,CAAWF,MAAO,CAAEW,UAAW,OAAQC,UAAW,WAC9CzB,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CACIC,KAAK,UACLC,SAAS,UAFb,mBASZ5B,EAAAC,EAAAC,cAACqvB,GAAD,CACI/gB,YAAa/P,KAAKJ,MAAMmQ,YACxB3O,QAAS4tB,EACTR,UAAWA,EACXxsB,KAAMhC,KAAK0vB,gBACXztB,SAAUjC,KAAKyvB,2BAtRXrsB,aA6RTC,OAAKC,QAALD,CAAcyrB,IC1GdiC,wBAlLX,SAAAA,EAAYnxB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+wB,IACflxB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAixB,GAAA5wB,KAAAH,KAAMJ,KACD2N,MAAQ,CACTyjB,SAAS,GAEbnxB,EAAKoC,SAAWpC,EAAKoC,SAAS5B,KAAdP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAChBA,EAAKU,SAAWV,EAAKU,SAASF,KAAdP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAChBA,EAAKoxB,aAAepxB,EAAKoxB,aAAa5wB,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAKoqB,qBAAuBpqB,EAAKoqB,qBAAqB5pB,KAA1BP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAC5BA,EAAKqxB,UAAW,EATDrxB,oFAWE,IAAA+O,EAAA5O,KAAAU,EAC2DV,KAAKJ,MAAzE2L,EADS7K,EACT6K,KAAMnK,EADGV,EACHU,QAAS+vB,EADNzwB,EACMywB,WAAY1sB,EADlB/D,EACkB+D,IAAKsE,EADvBrI,EACuBqI,aAAcqoB,EADrC1wB,EACqC0wB,kBAElDhwB,GrCdM,SqCcKmK,IAAuBvL,KAAKkxB,WACnCzsB,GACAzE,KAAK+N,SAAS,CACVijB,SAAS,IAEbjoB,EAAatE,EAAK0sB,GAAYE,KAAK,SAACC,GAAQ,IAChCC,EAAeD,EAAfC,KAAMntB,EAASktB,EAATltB,KACD,MAATmtB,GACA3iB,EAAK4iB,WAAWptB,GAEpBwK,EAAKb,SAAS,CACVijB,SAAS,MAEdS,MAAM,WACL7iB,EAAKb,SAAS,CACVijB,SAAS,OAGVG,GACPnxB,KAAKwxB,WAAWJ,EAAmBD,GAEvCnxB,KAAKkxB,UAAW,sCAGbzkB,EAAcilB,GACrB,IAAMC,EAAUnlB,GAAcC,ErCnCpB,QqCoCV,GAAIklB,GAAW1pB,MAAMC,QAAQypB,EAAQ7lB,aAAc,CAC/C,IAAM1B,EAAWunB,EAAQ7lB,YAAYc,OAAO,SAACglB,EAAKvqB,GAAS,IAC/CnE,EAAgDmE,EAAhDnE,KAAM8B,EAA0CqC,EAA1CrC,KADyC6sB,EACCxqB,EAApC2C,cADmC,IAAA6nB,EAC1B,aAD0BA,EACZ7lB,EAAa3E,EAAb2E,SAC3C,GAAa,eAAT9I,EACA0uB,EAAI5sB,GAAQyX,KAAOiV,EAAS1sB,GAAOgF,QAChC,GAAa,gBAAT9G,GAA0B8I,EAAU,KAAA8lB,EAAAhyB,OAAAkH,EAAA,EAAAlH,CACZkM,EADY,GACnCE,EADmC4lB,EAAA,GACxB3lB,EADwB2lB,EAAA,GAEvCJ,EAASxlB,IAAcwlB,EAASvlB,KAChCylB,EAAI5sB,GAAQ,CAACyX,KAAOiV,EAASxlB,GAAYlC,GAASyS,KAAOiV,EAASvlB,GAAUnC,UAGhF4nB,EAAI5sB,GAAQ0sB,EAAS1sB,GAEzB,OAAO4sB,GACR,IACC5xB,KAAKW,MACLX,KAAKW,KAAKylB,eAAehc,GAE7BpK,KAAKoK,SAAWA,OAEhB3H,IAAQsb,KAAK,iFAKjB,IADoB/d,KAAKuN,MAAjByjB,QACR,CAFO,IAAA7vB,EAK8BnB,KAAKJ,MAAlC6I,EALDtH,EAKCsH,WACRspB,EANO5wB,EAKY4wB,eACLtpB,4CAEe,IAAAsG,EAAA/O,KAAnByM,EAAmBjF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GACjB+D,EAASvL,KAAKJ,MAAd2L,KACR,OAAOkB,EAAarE,IAAI,SAACf,EAAMiB,GAC3B,OACI/G,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,CAAUgB,IAAG,WAAA5E,OAAa+D,IACrB6M,GAAgB9N,EAAM,CACnBgM,SAAS,EACTnN,QAAS6I,EACTxD,OACA0e,qBAAsBlb,EAAKkb,6DAKpC,IAAAjb,EAAAhP,KAEP,IADoBA,KAAKuN,MAAjByjB,QACR,CAFO,IAAA7f,EAK4EnR,KAAKJ,MAAhFgB,EALDuQ,EAKCvQ,UAAW6H,EALZ0I,EAKY1I,UAAW8C,EALvB4F,EAKuB5F,KAAM6lB,EAL7BjgB,EAK6BigB,kBAAmBrhB,EALhDoB,EAKgDpB,YAAaohB,EAL7DhgB,EAK6DggB,WACjEnxB,KAAKW,KACJX,KAAKW,KAAKE,eAAe,SAACC,EAAKC,GAC3B,IAAKD,EACD,GAAImH,MAAMC,QAAQkpB,GAAoB,CAClC,IAAMO,EAAUnlB,GAAc4kB,ErC3FpC,QqC4FM,GAAIO,EAAS,CACT,IAAMltB,EAAM6G,GAAWC,EAAMomB,GAEvBK,EADajiB,EAAX8V,OACcze,KAAK,SAAAwD,GACvB,OAD2CA,EAAjBmb,aACJthB,IAE1B,GAAIutB,GAAUA,EAAOC,cACCD,EAAOC,cAAcnrB,MAAM,KACnCL,QAAQ,SAACyrB,GACXpyB,OAAOmL,eAAe9K,KAAKgxB,EAAYe,KAAcpyB,OAAOmL,eAAe9K,KAAKY,EAAQmxB,KACxFnxB,EAAOmxB,GAAYf,EAAWe,MAItCztB,GACAuK,EAAKjB,SAAS,CACVijB,SAAS,IAEbpwB,EAAU6H,EAAWhE,EAAKoH,GAAc8lB,EAAS5wB,IAASswB,KAAK,SAACC,GAAQ,IAE5DC,GADSD,EAATltB,MACiB,IAAjBmtB,KACRviB,EAAKjB,SAAS,CACVijB,SAAS,IrCjH5B,MqCmHmBO,IACA9uB,IAAQ0vB,QAAQ,4BAChBnjB,EAAK/M,cAEVwvB,MAAM,WACLziB,EAAKjB,SAAS,CACVijB,SAAS,OAIjBvuB,IAAQsb,KAAK,oDAGjBtb,IAAQsb,KAAK,2CAGjBtb,IAAQsb,KAAK,wCAKzBtb,IAAQsb,KAAK,oFAGApd,GACjBX,KAAKW,KAAOA,EACRX,KAAKoK,UACLpK,KAAKW,KAAKylB,eAAepmB,KAAKoK,iDAIlCpK,KAAKkxB,UAAW,EAChBlxB,KAAKoK,SAAW,KACZpK,KAAKW,MACLX,KAAKW,KAAKO,+CAIT,IAAAiZ,EAC+Cna,KAAKJ,MAAjDsC,EADHiY,EACGjY,MAAOd,EADV+Y,EACU/Y,QAASgwB,EADnBjX,EACmBiX,kBAAmB7lB,EADtC4O,EACsC5O,KACnCylB,EAAYhxB,KAAKuN,MAAjByjB,QACR,OACIzvB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACIQ,MrCnKE,SqCmKKqJ,EAAqB,eAAOrJ,EACnCd,QAASA,EACTa,SAAUjC,KAAKiC,SACfD,KAAMhC,KAAKO,SACXH,WAAYJ,KAAKixB,aACjBnvB,cAAc,GAEdP,EAAAC,EAAAC,cAAC2wB,EAAA,EAAD,CAAMC,SAAUrB,GACXhxB,KAAKwoB,cAAc4I,YA5Kb3rB,kBCErB6N,YAAagf,IAAMC,cAAc,CACnCxf,aAAc,GACdF,gBAAiB,MAGf2f,GAAkB,CACvBpN,SAAU,GACVS,OAAQ,GACRkJ,UAAW,IAkfG0D,IpChgBiBztB,EoCiBvB,apChBE,SAAC0tB,GACJ,OAAO,SAAC9yB,GACJ,IAAM+yB,EAAW7yB,OAAOmJ,OAAO,GAAIrJ,GACnC,GAAIE,OAAOmL,eAAe9K,KAAK+D,EAAec,GAAO,CACjD,IAAM4tB,EAAe1uB,EAAcc,GACP,oBAAjB4tB,IACPD,EAASE,QAAU,IAAID,GAG/B,OAAQrxB,EAAAC,EAAAC,cAACixB,EAAWC,mBoCS/B,SAAAF,EAAY7yB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyyB,IAClB5yB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2yB,GAAAtyB,KAAAH,KAAMJ,KACD2N,MAAQ,CACZd,aAAc7M,EAAMyT,QAAUzT,EAAM6M,aAAe,GACnDsD,YAAanQ,EAAMmQ,aAAeyiB,GAClCM,UAAW,EACXC,SAAU,GACVtJ,cAAc,EACdvW,QAAS,GACT8f,WAAW,EACXjgB,aAAc,GACdF,gBAAiB,GACjBogB,iBAAiB,GAElBpzB,EAAKqzB,UAAY,GAEjBrzB,EAAKyT,WAAaA,GAClBzT,EAAKid,OAASjd,EAAKid,OAAOzc,KAAZP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACRA,EAAKe,UAAYf,EAAKe,UAAUP,KAAfP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACvBA,EAAKkyB,cAAgBlyB,EAAKkyB,cAAc1xB,KAAnBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACrBA,EAAKszB,kBAAoBtzB,EAAKszB,kBAAkB9yB,KAAvBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACzBA,EAAKiS,kBAAoBjS,EAAKiS,kBAAkBzR,KAAvBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACzBA,EAAKkS,iBAAmBlS,EAAKkS,iBAAiB1R,KAAtBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACxBA,EAAKkJ,aAAelJ,EAAKkJ,aAAa1I,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAKuzB,cAAgBvzB,EAAKuzB,cAAc/yB,KAAnBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACrBA,EAAKswB,oBAAsBtwB,EAAKswB,oBAAoB9vB,KAAzBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAC3BA,EAAKwzB,cAAgBxzB,EAAKwzB,cAAchzB,KAAnBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACrBA,EAAKyzB,eAAiBzzB,EAAKyzB,eAAejzB,KAApBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACtBA,EAAKsF,qBAAuBtF,EAAKsF,qBAAqB9E,KAA1BP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAC5BA,EAAKoS,YAAc,EACnBpS,EAAK0zB,UAAYjB,IAAMkB,YA9BL3zB,oFAmDE0J,GAAY,IACxB0I,EAAoC1I,EAApC0I,YADwBwhB,EACYlqB,EAAvBnE,kBADW,IAAAquB,KAG1BC,EADmB1zB,KAAKuN,MAAtBd,aACwBlG,QAEhC,GAAInB,EAAY,CACf,IAAMmrB,EAAcmD,EAAWC,UAAU,SAACtsB,GACzC,OAAOA,EAAK4K,cAAgBA,IAE7ByhB,EAAWE,OAAOrD,EAAa,OACzB,CACN,IAAMsD,EAAcH,EAAWC,UAAU,SAACtsB,GACzC,OAAOA,EAAK4K,cAAgBA,IAE7ByhB,EAAWG,GAAetqB,EAEoB,oBAApCvJ,KAAKJ,MAAMuF,sBACrBnF,KAAKJ,MAAMuF,qBAAqBuuB,GAEjC1zB,KAAK+N,SAAS,CACbtB,aAAcinB,gDAGI,IAAA9M,EACQ5mB,KAAKJ,MAAxByT,eADW,IAAAuT,OAEH5mB,KAAKuzB,WAAavzB,KAAKuzB,UAAU5gB,SAChD3S,KAAKuzB,UAAU5gB,QAAQuK,iBAAiB,OAAQld,KAAK8c,QAAQ,kDAGxC,IAAAgX,EACK9zB,KAAKJ,MAAxByT,eADc,IAAAygB,OAEN9zB,KAAKuzB,WAAavzB,KAAKuzB,UAAU5gB,SAChD3S,KAAKuzB,UAAU5gB,QAAQyK,oBAAoB,OAAQpd,KAAK8c,uCAGnDS,GACNA,EAAM9c,iBACN8c,EAAMvL,kBACN,IAAM5N,EAAOsZ,KAAKC,MAAMJ,EAAMK,aAAaC,QAAQ,eAC3C3a,EAA4BkB,EAA5BlB,KAASgZ,EAJJpc,OAAAiV,EAAA,EAAAjV,CAIuBsE,EAJvB,UAKb,GAAKmZ,EAAMC,OAAOnY,YAAmE,IAAtDkY,EAAMC,OAAOnY,UAAUuB,QAAQ,kBAG9D,GAAI8V,GAAYxZ,GAAO,KAEhB6wB,EADmB/zB,KAAKuN,MAAtBd,aAC8BlG,QAChCytB,EAAYl0B,OAAOmJ,OAAPnJ,OAAAoS,EAAA,EAAApS,CAAA,CACjBoD,OACA+O,YAAajS,KAAKiS,aACfiK,IAEJ6X,EAAiBlsB,KAAKmsB,GACtBh0B,KAAK+N,SAAS,CACbtB,aAAcsnB,IAEf/zB,KAAKiS,aAAe,OAEpBxP,IAAQsb,KAAK,mFAGFtZ,EAAKwvB,EAAUtb,GAAW,IAAA/J,EAAA5O,KAGhCgyB,EAFkBhyB,KAAKuN,MAArBwC,YACA8V,OACcze,KAAK,SAAAwD,GAC1B,OAD8CA,EAAjBmb,aACPthB,IAEvB,GAAKutB,EAAL,CANsC,IAU9Bxf,EAAgFwf,EAAhFxf,SAAU0hB,EAAsElC,EAAtEkC,YAAaC,EAAyDnC,EAAzDmC,cAAeC,EAA0CpC,EAA1CoC,kBAVRC,EAUkDrC,EAAvBC,qBAV3B,IAAAoC,EAU2C,GAV3CA,EAWtC,GAAkB,SAAd1b,EAAsB,KAAAhB,EACiB3X,KAAKuN,MAAvCwF,EADiB4E,EACjB5E,aAAcF,EADG8E,EACH9E,gBACtB,GAA4B,IAAxBE,EAAatL,OAEhB,YADAhF,IAAQsb,KAAK,kCAGd,GAAKkU,EAEE,CACN,IAAMqC,EAAYrC,EAAcnrB,MAAM,KACtCmtB,EAAWlhB,EAAanG,OAAO,SAACC,EAAKxF,GACpC,IAAMktB,EAAO,GAKb,OAJAD,EAAU7tB,QAAQ,SAAC+tB,GAClBD,EAAKC,GAAMntB,EAAKmtB,KAEjB3nB,EAAIhF,KAAK0sB,GACF1nB,GACL,SAVHonB,EAAWphB,EAeb,GAFA7S,KAAKy0B,gBtC9JM,MsCgKPL,EAA4B,KAAAM,EAMF1C,EAArB2C,iBACmC7tB,MAAM,KAPlB8tB,EAAA90B,OAAAkH,EAAA,EAAAlH,CAAA40B,EAAA,GAOvBG,EAPuBD,EAAA,GAOfE,EAPeF,EAAA,GAAAG,EAQC/0B,KAAKuN,MAA7BwlB,EARuBgC,EAQvBhC,SAAUD,EARaiC,EAQbjC,UAClBmB,EAASY,GAAUZ,EAASe,eAAiBlC,EAAY,EACzDmB,EAASa,GAAS/B,EACbkB,EAASe,gBACgB,IAAzBh1B,KAAKuN,MAAMulB,WACd9yB,KAAK+N,SAAS,CACb+kB,UAAW,WAIPmB,EAASe,eAGjB,OADAh1B,KAAKkzB,UAAU1gB,GAAYyhB,EACpBj0B,KAAKJ,MAAMizB,QAAQoC,SAASf,EAAaC,EAAe1vB,EAAKwvB,GAAU5C,KAAK,WAAc,IAAbC,EAAa9pB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACjFpD,EAASktB,EAATltB,KACR,GAAmB,MAAfktB,EAAI4D,OAAgB,KAAA/mB,EACwB/J,GAAQ,GAA/CmtB,EADepjB,EACfojB,KAAe4D,EADAhnB,EACT1L,QAAoB2yB,EADXjnB,EACK/J,KAC5B,GtClLiB,MsCkLbmtB,EACH9uB,IAAQsB,MAAMoxB,GAAO,4CACf,KACEjiB,EAAYtE,EAAKrB,MAAjB2F,QACFmiB,EAAav1B,OAAOmJ,OAAO,GAAIiK,GAOrC,GANkB,SAAdyF,GACH/J,EAAKb,SAAS,CACb8E,gBAAiB,GACjBE,aAAc,KtCjMR,MsCoMJqhB,EAA4B,KACvBlgB,EAAgBkhB,EAAhBlhB,MAAO+E,EAASmc,EAATnc,KACfoc,EAAW7iB,GAAYyG,EACvBoc,EAAU,GAAA9wB,OAAIiO,EAAJ,UAAuB0B,OAEjCmhB,EAAW7iB,GAAY4iB,EAExBxmB,EAAKb,SAAS,CACbmF,QAASmiB,SAKL,KACWF,GAAQ/wB,GAAQ,IAAzB3B,QACRA,IAAQsB,MAAMoxB,GAAO,wCAGtB,OADAvmB,EAAK6lB,eAAc,GACZzwB,QAAQsxB,QAAQhE,KACrBG,MAAM,SAAC1tB,GAET,GADA6K,EAAK6lB,eAAc,GACf1wB,EAAMF,SAAU,KACXqxB,EAAWnxB,EAAMF,SAAjBqxB,OACO,MAAXA,GACHzyB,IAAQsB,MAAM,4EACd6K,EAAKhP,MAAMggB,oBACU,MAAXsV,EACVzyB,IAAQsB,MAAMA,EAAMF,SAASO,KAAK3B,SACb,MAAXyyB,GACVzyB,IAAQsB,MAAM,oCAGftB,IAAQsB,MAAM2Z,KAAKuP,UAAUlpB,IAE9B,OAAOC,QAAQC,OAAOF,KAhGtBtB,IAAQsb,KAAK,mFAmGoB,IAArB0L,IAAqBjiB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAClCxH,KAAK+N,SAAS,CACb0b,2DAGgBhX,EAAMhJ,EAAU+I,GAAU,IAAAzD,EAAA/O,KAC3CA,KAAK+N,SAAS,CACb+kB,UAAWrgB,GACT,WACF1D,EAAKimB,eAAexiB,8CAGLG,EAASlJ,EAAU+I,GAAU,IAAAxD,EAAAhP,KAC7CA,KAAK+N,SAAS,CACb+kB,UAAW,EACXC,SAAUtpB,GACR,WACFuF,EAAKgmB,eAAexiB,4CAOPA,GACd,IAAMwf,EAAShyB,KAAKu1B,aAAa/iB,GACjC,GAAIwf,EAAQ,CACX,IAAMiC,EAAWj0B,KAAKkzB,UAAU1gB,GACxBuT,EAAeiM,EAAfjM,WACR/lB,KAAK+I,aAAagd,EAAYjmB,OAAOmJ,OAAOgrB,EAAU,CAAEe,gBAAgB,UAExEvyB,IAAQsb,KAAK,qFAGFvL,GAGZ,OAFwBxS,KAAKuN,MAArBwC,YACA8V,OACMze,KAAK,SAACC,GACnB,OAAOA,EAAKmL,WAAaA,6CAMV,IAAAvD,EAAAjP,KAAAU,EACoDV,KAAKJ,MAAjEoB,EADQN,EACRM,SAAUC,EADFP,EACEO,WAAYu0B,EADd90B,EACc80B,oBAAqBC,EADnC/0B,EACmC+0B,aACnD,GAAKz0B,GAIL,IAAI6B,OAAOC,aAAgB7B,EAA3B,CANgB,IAAAy0B,EASgC11B,KAAKuN,MATrCooB,EAAAD,EASRjpB,oBATQ,IAAAkpB,EASO,GATPA,EAAAC,EAAAF,EASW3lB,mBATX,IAAA6lB,EASyB,GATzBA,EAUhB,GAA4B,IAAxBnpB,EAAahF,OAAjB,CAIM,IAAMouB,EAAa,CACxB70B,WACAC,aACAwL,eACAsD,eAKD,GAHA/P,KAAK+N,SAAS,CACbklB,iBAAiB,IAEdpwB,OAAOC,YAcV,OAbAD,OAAOC,YAAYgzB,KAAK,aAAcpY,KAAKuP,UAAU4I,SACrDhzB,OAAOC,YAAYizB,GAAG,kBAAmB,SAACxY,EAAOyY,GAAS,IAAAC,EAClCvY,KAAKC,MAAMqY,GAA1BzE,EADiD0E,EACjD1E,KAAM2E,EAD2CD,EAC3CC,KACF,GAAR3E,EACH9uB,IAAQ0vB,QAAQ+D,GAEhBzzB,IAAQsB,MAAMmyB,GAEfT,IACAxmB,EAAKlB,SAAS,CACbklB,iBAAiB,MAKpBjzB,KAAKJ,MAAMizB,QAAQsD,aAAaN,GACzBxE,KAAK,SAACxtB,GAAa,IACjBO,EAASP,EAATO,KACR,GtCxTkB,KsCwTdA,EAAKmtB,KAAsB,CAC9B9uB,IAAQ0vB,QAAQ/tB,EAAK8xB,MACrB,IAAME,EAAQjY,SAAS1c,cAAc,KACrC20B,EAAMltB,KAAN,GAAA3E,OtC5UmB,kCsC4UnB,iBAAAA,OAA8CvD,EAA9C,QACAo1B,EAAMh0B,MAAMi0B,QAAU,OACtBlY,SAASmY,KAAKC,YAAYH,GAC1BA,EAAMI,QACNrY,SAASmY,KAAKG,YAAYL,QAE1B3zB,IAAQsB,MAAMK,EAAK8xB,MAEpBjnB,EAAKlB,SAAS,CACbklB,iBAAiB,IAElBwC,MAEMhE,MAAM,WACZhvB,IAAQsB,MAAM,4BACdkL,EAAKlB,SAAS,CACbklB,iBAAiB,WAlDlBxwB,IAAQsb,KAAK,oDARbyX,4CAiEc,IACPpC,EAAkBpzB,KAAKJ,MAAvBwzB,cADOsD,EAEuB12B,KAAKuN,MAC3C6lB,EAHesD,EAEPjqB,aAFOiqB,EAEO3mB,qDAOtB/P,KAAK+N,SAAS,CACbilB,WAAYhzB,KAAKuN,MAAMylB,wDAILjjB,GACnB/P,KAAK+N,SAAS,CACbgC,0DAGgByC,EAAUmkB,gDAI3B,MAAO,CACN5tB,aAAc/I,KAAK+I,aACnB+I,kBAAmB9R,KAAK8R,kBACxBC,iBAAkB/R,KAAK+R,iBACvBohB,kBAAmBnzB,KAAKmzB,kBACxBhuB,qBAAsBnF,KAAKmF,0DAGjB3E,EAAGiI,EAAWhE,EAAKL,GAAM,IAAAwyB,EAC9BtZ,GAAQsZ,EAAA,GAAA92B,OAAA+K,EAAA,EAAA/K,CAAA82B,EAAA,OAAAryB,OACLkE,IAAc,GADT3I,OAAA+K,EAAA,EAAA/K,CAAA82B,EAAA,MAEbnyB,GAFa3E,OAAA+K,EAAA,EAAA/K,CAAA82B,EAAA,aAGDxyB,GAHCwyB,GAKd52B,KAAK+N,SAALjO,OAAAoS,EAAA,EAAApS,CAAA,GACIwd,0CAGS7U,GAAW,IAAAouB,EAClB72B,KAAK+N,UAAL8oB,EAAA,GAAA/2B,OAAA+K,EAAA,EAAA/K,CAAA+2B,EAAA,OAAAtyB,OACGkE,IAAc,GADjB3I,OAAA+K,EAAA,EAAA/K,CAAA+2B,EAAA,aAEO,MAFP/2B,OAAA+K,EAAA,EAAA/K,CAAA+2B,EAAA,MAGA,IAHAA,sCAMMpuB,EAAWhE,EAAK1D,GAC5B,OAAOf,KAAK+I,aAAatE,EAAK1D,yCAEjB,IAAAsZ,EAAAra,KAAA82B,EAC4B92B,KAAKuN,MAAtCwC,EADK+mB,EACL/mB,YAAaohB,EADR2F,EACQ3F,WAAY1sB,EADpBqyB,EACoBryB,IADpB0gB,EAEYpV,EAAjBqV,SACF,YAHO,IAAAD,EAEM,GAFNA,GAGS/c,IAAI,SAACf,GAAS,IACZoB,EAA0CpB,EAAhDrC,KAAiB9C,EAA+BmF,EAA/BnF,MAAON,EAAwByF,EAAxBzF,MAAO6K,EAAiBpF,EAAjBoF,aACjCsqB,EAAgB,OAAAxyB,OAAUkE,GACnCrH,EAAUiZ,EAAK9M,MAAMwpB,GACrBn3B,EAAQ,CACb6E,MACA7C,MAAOo1B,SAASp1B,GAChBM,QACAd,UACA+vB,aACAphB,cACAtH,YACAgE,aAAc4N,EAAK9M,MAAMd,aACzB2kB,kBAAmB3kB,EACnB1D,aAAcsR,EAAKtR,cAMX,OAJL3H,IAEHxB,EAAM2L,KAAO4lB,GAAc1sB,EtC/Zb,OACD,OsCiaDlD,EAAAC,EAAAC,cAACw1B,GAADn3B,OAAAmJ,OAAA,GACPrJ,EADO,CAEXuJ,IAAG,GAAA5E,OAAKrC,EAAL,KAAAqC,OAAckE,GACjBspB,cAAe1X,EAAK0X,cACpBnxB,UAAWyZ,EAAKzZ,gDAKX,IAAAO,EACuDnB,KAAKJ,MAD5Ds3B,EAAA/1B,EACAwtB,eADA,IAAAuI,KACiBtX,EADjBze,EACiBye,iBADjBuX,EAAAh2B,EACmCkS,eADnC,IAAA8jB,KAAAC,EAGwCp3B,KAAKuN,MAD7Cd,EAFA2qB,EAEA3qB,aAAcwmB,EAFdmE,EAEcnE,gBAAiBD,EAF/BoE,EAE+BpE,UAAWjjB,EAF1CqnB,EAE0CrnB,YACjD0Z,EAHO2N,EAGP3N,aAAcvW,EAHPkkB,EAGOlkB,QAAS4f,EAHhBsE,EAGgBtE,UAAWC,EAH3BqE,EAG2BrE,SAC/BsE,GAAS,EAMb,OALI1I,EACH0I,GAAS,EACChkB,IACVgkB,GAAS,GAGT91B,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KACC5G,EAAAC,EAAAC,cAAC2wB,EAAA,EAAD,CAAMC,SAAU5I,GACfloB,EAAAC,EAAAC,cAAA,OAAK4D,UAAS,6BAAAd,OAAgC8O,EAAU,eAAiB,IAAOiL,IAAKte,KAAKuzB,WACzFhyB,EAAAC,EAAAC,cAAC61B,GAAWC,SAAZ,CACC1nB,MAAO,CACNkD,aAAc/S,KAAKuN,MAAMwF,aACzBF,gBAAiB7S,KAAKuN,MAAMsF,kBAG7BtR,EAAAC,EAAAC,cAAC+1B,GAAD13B,OAAAmJ,OAAA,CACC2W,iBAAkBA,EAClBnT,aAAcA,EACdsD,YAAaA,EACboD,YAAa2f,EACbrpB,SAAUspB,EACV7f,QAASA,EACThN,QAASlG,KACTqT,QAASA,GACLrT,KAAKy3B,uBAIVJ,EACC91B,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CACCC,KAAK,UACLw0B,MAAM,QACNnyB,KAAK,OACLyL,KAAK,QACL3L,UAAU,aACVG,QAASxF,KAAKqzB,cACdnxB,MAAM,gDAEJ,KAELX,EAAAC,EAAAC,cAACk2B,GAAD,CACCv2B,QAAS4xB,EACT9C,aAAclwB,KAAKqzB,cACnBlD,oBAAqBnwB,KAAKmwB,oBAC1BpgB,YAAaA,MAKfsnB,EACC91B,EAAAC,EAAAC,cAAC0G,EAAA,SAAD,KACC5G,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CACC20B,GAAG,WACH10B,KAAK,UACLsC,QAASxF,KAAKszB,eACdtC,QAASiC,GAJV,4BAQA1xB,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CACCC,KAAK,UACLsC,QAASxF,KAAKozB,cACdhxB,MAAO,CAAE4X,WAAY,QAHtB,iBAQE,KAEJha,KAAK63B,kEAvcuB/pB,GAC/B,OAAIA,EAAU1M,QACN,CACN2O,YAAajC,EAAUiC,YACvBtD,aAAcqB,EAAUrB,cAGtB3M,OAAOmL,eAAe9K,KAAK2N,EAAW,eAClC,CACNiC,YAAajC,EAAUiC,aAIlB,YA9CmBtK,sBClBpB2oB,YAAmBC,IAAnBD,OAAOE,GAAYD,IAAZC,QAuCAwJ,oLApCF,IAAAp3B,EAC0DV,KAAKJ,MAA5Dm4B,EADHr3B,EACGq3B,UAAWtrB,EADd/L,EACc+L,aAAcpL,EAD5BX,EAC4BW,aAAc0O,EAD1CrP,EAC0CqP,YAC/C,OACIxO,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACIN,QAAS22B,EACTp2B,OAAQ,KACRC,MAAO,OACPC,UAAQ,EACRE,UAAQ,EACRi2B,cAAc,qBACd/1B,SAAUZ,EACVa,MAAM,2BACNJ,cAAY,GAEZP,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,qBACX9D,EAAAC,EAAAC,cAAC+rB,EAAA,EAAD,KACIjsB,EAAAC,EAAAC,cAACw2B,GAAD,CAAOr2B,MAAM,QAEbL,EAAAC,EAAAC,cAAC+rB,EAAA,EAAD,KACIjsB,EAAAC,EAAAC,cAACy2B,GAAD,KACI32B,EAAAC,EAAAC,cAACitB,GAAD,CACIttB,QAAS22B,EACTtrB,aAAcA,EACdsD,YAAaA,EACbsD,SAAO,EACPsb,SAAO,gBA1BZvrB,aC6IhB+0B,YAjJd90B,IAAKC,uBAEF,SAAA60B,EAAYv4B,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAm4B,IACft4B,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAq4B,GAAAh4B,KAAAH,KAAMJ,KACD2N,MAAQ,CACT6qB,gBAAgB,GAEpBv4B,EAAKU,SAAWV,EAAKU,SAASF,KAAdP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAChBA,EAAKw4B,aAAex4B,EAAKw4B,aAAah4B,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAKy4B,aAAez4B,EAAKy4B,aAAaj4B,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAK04B,cAAgB14B,EAAK04B,cAAcl4B,KAAnBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KARNA,wEAUVW,GAAG,IAAAoO,EAAA5O,KACRQ,EAAEC,iBACFT,KAAKJ,MAAMe,KAAKE,eAAe,SAACC,EAAKC,GAC5BD,GACD8N,EAAK2pB,cAAcx3B,EAAO8D,sDAIlB,IAAAkK,EAAA/O,KAChB6C,OAAOqa,iBAAiB,UAAW,SAAC1c,GAChC,GAAIA,EAAEg4B,SAAW90B,EAAgB,CAC7B,IAAMmB,EAAUkK,EAAKnP,MAAMe,KAAKuP,cAAc,UAC1CnL,EAAa,GACjB,GAAIF,GAAUA,EAAO+B,QAAQ,KAAO,GAAK/B,EAAO+B,QAAQ,eAAiB,EAAG,CACxE,IAAM6xB,EAAY5zB,EAAO0B,MAAM1B,EAAO+B,QAAQ,KAAO,GAAGE,MAAM,KAAKM,KAAK,SAACsxB,GACrE,OAAOA,EAAU9xB,QAAQ,gBAAkB,IAE3C6xB,IACA1zB,EAAa0zB,EAAU3xB,MAAM,KAAK,IAEtCnC,aAAag0B,QAAQ,eAAgBn4B,EAAE4D,MACvCO,aAAag0B,QAAQ,aAAc5zB,GACnCJ,aAAag0B,QAAQ,SAAU9zB,GAC/BpC,IAAQ0vB,QAAQ,4BAChBpjB,EAAKnP,MAAMg5B,wBAGpB,0CAGH,CAAC,eAAgB,aAAc,SAAU,SAAU,OAAQ,UAAUnyB,QAAQ,SAACC,GAC1E/B,aAAak0B,WAAWnyB,kDAIxB1G,KAAKJ,MAAMwB,UAAYpB,KAAK84B,YAC5B94B,KAAK84B,WAAY,EACjB94B,KAAK+4B,sDAICl0B,GAAQ,IAAAmK,EAAAhP,KACZg5B,EAAK7a,SAAS1c,cAAc,UAClCu3B,EAAG91B,KAAO,kBACV81B,EAAGC,OAAS,SAACz4B,GACT04B,QAAQC,IAAI34B,GAERqC,OAAOoD,UACPtB,aAAag0B,QAAQ,SAAU91B,OAAOoD,QAAQzB,KAAK40B,QACnDz0B,aAAag0B,QAAQ,OAAQ91B,OAAOoD,QAAQzB,KAAK60B,MACjD10B,aAAag0B,QAAQ,SAAU91B,OAAOoD,QAAQzB,KAAK80B,QACnD30B,aAAag0B,QAAQ,WAAY91B,OAAOoD,QAAQzB,KAAK+0B,SAASC,UAC9DxqB,EAAKjB,SAAS,CACVqqB,gBAAgB,GACjB,WACCppB,EAAKyqB,0BAIjB,IAAIC,EAAS70B,EACTA,EAAO+B,QAAQ,OACf8yB,EAAS70B,EAAO0B,MAAM,EAAG1B,EAAO+B,QAAQ,KAAO,IAEnDoyB,EAAGW,IAAH,GAAAp1B,OAAYm1B,EAAZ,kCAAAn1B,OAAmDq1B,KAAKC,OACxD1b,SAASmY,KAAKC,YAAYyC,iDAGR,IAAA/pB,EAAAjP,KACZ85B,EAAc3b,SAAS1c,cAAc,UAC3Cq4B,EAAYH,IAAM35B,KAAKs4B,eACvBwB,EAAYlC,GAAK,YACjBzZ,SAAS4b,cAAc,qBAAqBxD,YAAYuD,GACxDA,EAAYb,OAAS,WACjB,IAAM70B,EAAOtE,OAAOmJ,OAAO,CAAEpE,OAAQoK,EAAKrP,MAAMe,KAAKuP,cAAc,WAAarN,OAAOoD,SACvFkY,SAAS6b,eAAe,aAAaC,cAAcC,YAAY91B,EAAMV,2CAKzE1D,KAAKJ,MAAMe,KAAKO,cAChBlB,KAAK84B,WAAY,EACjB94B,KAAK+N,SAAS,CACVqqB,gBAAgB,2CAKpB,GAAIv1B,OAAOoD,QAAS,KACYk0B,EAAat3B,OAAOoD,QAAxCzB,KAAQ+0B,SAAYY,KAC5B,SAAA51B,OAAUb,EAAV,sBAAAa,OAA6C61B,mBAAmBD,IAEpE,SAAA51B,OAAUb,EAAV,8CAGK,IAAAhD,EACwCV,KAAKJ,MAA1CwB,EADHV,EACGU,QAAST,EADZD,EACYC,KAAMi4B,EADlBl4B,EACkBk4B,kBACft3B,EAAsBX,EAAtBW,kBACA82B,EAAmBp4B,KAAKuN,MAAxB6qB,eACR,OACI72B,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACIQ,MAAM,eACNd,QAASA,EACTQ,MAAM,QACNo2B,cAAc,cACd/1B,SAAU22B,EACVx4B,WAAYJ,KAAKq4B,aACjBv2B,cAAc,EACdH,OAAQ,MAERJ,EAAAC,EAAAC,cAAA,OAAK4D,UAAS,iBAAAd,OAAmB6zB,EAAiB,UAAY,KAC1D72B,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,iBACX9D,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAM5B,SAAUP,KAAKO,UACjBgB,EAAAC,EAAAC,cAACU,EAAA,EAAKG,KAAN,KACKhB,EAAkB,SAAU,CACzBiB,MAAO,CACH,CAAEC,UAAU,EAAMC,QAAS,qCAC3B,CAAES,KAAM,MAAOT,QAAS,uCAH/BnB,CAKEC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAOC,YAAY,wCAE1BrB,EAAAC,EAAAC,cAAA,KAAG4D,UAAU,WACT9D,EAAAC,EAAAC,cAACwB,EAAA,EAAD,CAAQC,KAAK,UAAUC,SAAS,UAAhC,mBAIZ5B,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,8BAxIVI,sBCIjB2oB,GAAmBC,IAAnBD,MAAOE,GAAYD,IAAZC,QA4HA+L,eAzHX,SAAAA,EAAYz6B,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAq6B,IACfx6B,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAu6B,GAAAl6B,KAAAH,KAAMJ,KACD2N,MAAQ,CACT+sB,gBAAgB,EAChBC,mBAAmB,EACnBC,kBAAkB,EAClBx5B,SAAU,GACVC,WAAY,IAEhBpB,EAAK46B,iBAAmB56B,EAAK46B,iBAAiBp6B,KAAtBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACxBA,EAAKuzB,cAAgBvzB,EAAKuzB,cAAc/yB,KAAnBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACrBA,EAAK41B,aAAe51B,EAAK41B,aAAap1B,KAAlBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACpBA,EAAK+f,iBAAmB/f,EAAK+f,iBAAiBvf,KAAtBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACxBA,EAAK+4B,kBAAoB/4B,EAAK+4B,kBAAkBv4B,KAAvBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KACzBA,EAAK66B,oBAAsB76B,EAAK66B,oBAAoBr6B,KAAzBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAC3BA,EAAK21B,oBAAsB31B,EAAK21B,oBAAoBn1B,KAAzBP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAC3BA,EAAK86B,qBAAuB96B,EAAK86B,qBAAqBt6B,KAA1BP,OAAAQ,EAAA,EAAAR,QAAAQ,EAAA,EAAAR,CAAAD,KAhBbA,mFAmBVuc,MACDpc,KAAK4f,+DAIT5f,KAAK+N,SAAS,CACVusB,gBAAgB,+CAIpBt6B,KAAK+N,SAAS,CACVusB,gBAAgB,kDAIpBt6B,KAAK+N,SAAS,CACVwsB,mBAAmB,2CAIvBv6B,KAAK+N,SAAS,CACV/M,SAAU,GACVC,WAAY,gDAGwB,IAA3BD,EAA2BwG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAhB,GAAIvG,EAAYuG,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACxC1H,KAAK+N,SAAS,CACVwsB,mBAAmB,EACnBv5B,WACAC,cACD,aACO4B,OAAOC,aAAe9B,GAAcA,GAAYC,IAClDkd,SAAS4b,cAAc,aAAavD,yDAK5Cx2B,KAAK+N,SAAS,CACVwsB,mBAAmB,kDAIvBv6B,KAAK+N,SAAS,CACVysB,kBAAkB,0CAGZ/tB,EAAcsD,GACxB/P,KAAK+N,SAAS,CACVysB,kBAAkB,IAEtBx6B,KAAKyM,aAAeA,EACpBzM,KAAK+P,YAAcA,mCAEd,IAAA4H,EAOD3X,KAAKuN,MALLvM,EAFC2W,EAED3W,SACAC,EAHC0W,EAGD1W,WACAq5B,EAJC3iB,EAID2iB,eACAE,EALC7iB,EAKD6iB,iBACAD,EANC5iB,EAMD4iB,kBAEJ,OACIh5B,EAAAC,EAAAC,cAAA,OAAK4D,UAAU,OACX9D,EAAAC,EAAAC,cAACm5B,EAAA,EAAD,CAAgBC,OAAQC,KACpBv5B,EAAAC,EAAAC,cAAC+rB,EAAA,EAAD,KACIjsB,EAAAC,EAAAC,cAACs5B,GAAD,CAAOn5B,MAAM,OACTL,EAAAC,EAAAC,cAACgtB,GAAD,OAEJltB,EAAAC,EAAAC,cAAC+rB,EAAA,EAAD,KACIjsB,EAAAC,EAAAC,cAACu5B,GAAD,KACIz5B,EAAAC,EAAAC,cAACitB,GAAD,CACI1tB,SAAUA,EACVC,WAAYA,EACZ2e,iBAAkB5f,KAAK4f,iBACvB4V,oBAAqBx1B,KAAKw1B,oBAC1BpC,cAAepzB,KAAKozB,cACpBqC,aAAcz1B,KAAKy1B,iBAI/Bl0B,EAAAC,EAAAC,cAACw5B,EAAD,CACIr6B,UAAWZ,KAAKy6B,iBAChBp5B,aAAcrB,KAAK26B,qBACnBv5B,QAASm5B,IAEbh5B,EAAAC,EAAAC,cAACy5B,GAAD,CACIzuB,aAAczM,KAAKyM,aACnBsD,YAAa/P,KAAK+P,YAClB1O,aAAcrB,KAAK06B,oBACnB3C,UAAWyC,IAEfj5B,EAAAC,EAAAC,cAAC05B,GAAD,CACI/5B,QAASk5B,EACT1B,kBAAmB54B,KAAK44B,8BAjHlCx1B,aCNlBg4B,IAAStzB,OAAOvG,EAAAC,EAAAC,cAAC45B,GAAD,MAASld,SAAS6b,eAAe","file":"static/js/main.faf23030.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Form, Input, Modal } from 'antd';\r\nimport './index.css';\r\n\r\nclass PageNameModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.afterClose = this.afterClose.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n    onSubmit(e) {\r\n        e && e.preventDefault();\r\n        const { form, onOkModal } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { pageName, projectDir } = values;\r\n                onOkModal(pageName, projectDir);\r\n            }\r\n        });\r\n    }\r\n    afterClose() {\r\n        this.props.form.resetFields();\r\n    }\r\n    render() {\r\n        const { visible, form, onCloseModal } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Modal\r\n                visible={visible}\r\n                footer={null}\r\n                width={450}\r\n                closable\r\n                maskClosable={false}\r\n                centered\r\n                afterClose={this.afterClose}\r\n                onOk={this.onSubmit}\r\n                onCancel={onCloseModal}\r\n                title=\"页面名称\"\r\n            >\r\n                <Form\r\n                    onSubmit={this.onSubmit}\r\n                    style={{ padding: '20px 40px' }}\r\n                >\r\n                    <Form.Item>\r\n                        {getFieldDecorator('pageName', {\r\n                            rules: [\r\n                                { required: true, message: '请输入页面名称!' },\r\n                                { pattern: /^[a-zA-Z]+$/, message: '名称只能包含字母！' }\r\n                            ],\r\n                        })(\r\n                            <Input placeholder=\"只能包含字母\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    {\r\n                        window.ipcRenderer ? (<Form.Item>\r\n                            {getFieldDecorator('projectDir', {\r\n                                rules: [\r\n                                    { required: true, message: '请输入项目文件夹!' },\r\n                                ],\r\n                            })(\r\n                                <Input placeholder=\"项目文件夹\" />\r\n                            )}\r\n                        </Form.Item>) : null\r\n                    }\r\n                    <Form.Item  style={{ marginTop: '15px', textAlign: 'center' }}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(PageNameModal);","const proxyServerUrl = 'https://pagetools.herokuapp.com';\r\n// const proxyServerUrl = 'http://127.0.0.1:9999';\r\nconst activeColor = '#dde7f1';\r\nconst FORM_CONTAINER = 'FormContainer';\r\nconst TABLE_CONTAINER = 'TableContainer';\r\nconst EMPTY_CONTAINER = 'EmptyContainer';\r\nconst BOX_CONTINAER = 'BoxContainer';\r\nconst HEADER_CONTINAER = 'HeaderContainer';\r\nconst LINE_CONTINAER = 'LineContainer';\r\nconst MODAL_CONTINAER = 'ModalContainer';\r\nconst TRUE = '1';\r\nconst FALSE = '0';\r\nconst MODE_EDIT = 'edit';\r\nconst MODE_ADD = 'add';\r\nconst FORM_QUERY = 'query';\r\nconst FORM_VIEW = 'view';\r\nconst FORM_SAVE = 'save';\r\nconst CODE_SUCCESS = '0';\r\nconst LAYER_MODAL = 'modal';\r\nconst LAYER_DRAWER = 'drawer';\r\nconst LAYER_API = 'api';\r\n\r\nexport {\r\n    activeColor,\r\n    FORM_CONTAINER,\r\n    TABLE_CONTAINER,\r\n    EMPTY_CONTAINER,\r\n    BOX_CONTINAER,\r\n    HEADER_CONTINAER,\r\n    LINE_CONTINAER,\r\n    MODAL_CONTINAER,\r\n    LAYER_MODAL,\r\n    LAYER_DRAWER,\r\n    LAYER_API,\r\n    TRUE,\r\n    FALSE,\r\n    MODE_ADD,\r\n    MODE_EDIT,\r\n    FORM_VIEW,\r\n    FORM_SAVE,\r\n    FORM_QUERY,\r\n    CODE_SUCCESS,\r\n    proxyServerUrl,\r\n};\r\nexport default proxyServerUrl;","import axios from 'axios';\r\nimport proxyServerUrl from '../utils/Constants';\r\n\r\naxios.interceptors.response.use((response) => {\r\n    return response;\r\n  }, (error) => {\r\n    return Promise.reject(error);\r\n  });\r\n\r\nclass AppService {\r\n    generatePage(data) {\r\n        return axios({\r\n            method: 'POST',\r\n            url: `${proxyServerUrl}/generatePage`,\r\n            data,\r\n        });\r\n    }\r\n    fetchApi(host, method, api, params) {\r\n        return axios({\r\n            method: 'post',\r\n            url: `${proxyServerUrl}/fetchApi`,\r\n            data: {\r\n                host: localStorage.getItem(host) || '',\r\n                method,\r\n                api,\r\n                params,\r\n                appUrl: localStorage.getItem('appUrl'),\r\n                access_token: localStorage.getItem('access_token'),\r\n                MerchantId: localStorage.getItem('MerchantId'),\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport default AppService;","import React from 'react';\r\nimport AppService from '../service/AppService';\r\n\r\nconst ServicesMatch = {\r\n    AppService,\r\n};\r\n\r\nexport default function Service(name) {\r\n    return (Target) => {\r\n        return (props) => {\r\n            const newProps = Object.assign({}, props);\r\n            if (Object.hasOwnProperty.call(ServicesMatch, name)) {\r\n                const ServiceClass = ServicesMatch[name];\r\n                if (typeof ServiceClass === 'function') {\r\n                    newProps.service = new ServiceClass();\r\n                }\r\n            }\r\n            return (<Target {...newProps} />);\r\n        };\r\n    };\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport { Divider, Icon } from 'antd';\r\nimport './index.css';\r\n\r\nclass LineContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onDelete = this.onDelete.bind(this);\r\n    }\r\n    onDelete() {\r\n        const { onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({ deleteFlag: true });\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"fulu-cell-box line-box\">\r\n                <Divider />\r\n                <Icon type=\"close\" className=\"delete-line\" onClick={this.onDelete} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LineContainer;","const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n};\r\n\r\nexport default formItemLayout;","import React, { Fragment } from 'react';\r\nimport { Divider, Dropdown, Icon } from 'antd';\r\nimport { TRUE } from './Constants';\r\n\r\nconst renderMoreOpList = (opList) => {\r\n    return (\r\n        <span style={{ background: '#fff', display: 'block' }}>\r\n            {\r\n                opList.map(({opText, index}) => {\r\n                return (\r\n                    <a href=\"&nbsp;\" key={`op-${index}`} style={{ display: 'block' }}>\r\n                        {opText}\r\n                    </a>\r\n                );\r\n                })\r\n            }\r\n        </span>\r\n    );\r\n}\r\n\r\nconst renderMultOperation = (operationArr) => {\r\n    const [ firstItem, ...restItemArr ] = operationArr;\r\n    return (\r\n        <Fragment>\r\n            <a href=\"&nbsp;\">\r\n                {firstItem.opText}\r\n            </a>\r\n            <Divider type=\"vertical\" />\r\n            <Dropdown overlay={renderMoreOpList(restItemArr)}>\r\n                <a className=\"ant-dropdown-link\" href=\"&nbsp;\">\r\n                    更多<Icon type=\"down\" />\r\n                </a>\r\n            </Dropdown>\r\n        </Fragment>\r\n    );\r\n}\r\nconst renderNormalOperation = (operationArr) => {\r\n    const resultArr = [];\r\n    operationArr.forEach(({ opText, index }, i) => {\r\n        resultArr.push((\r\n            <Fragment key={`fr-${index}`}>\r\n                <a href=\"&nbsp;\" key={`op-${index}`}>{opText}</a>\r\n                {\r\n                    i !== operationArr.length -1\r\n                        ? <Divider type=\"vertical\" /> : null\r\n                }\r\n            </Fragment>)\r\n        );\r\n    });\r\n    return resultArr;\r\n}\r\n\r\nconst handleOperation = (columns = [], operationArr = [], context) => {\r\n    let opCol = null;\r\n    if (columns.length > 0 && columns[columns.length -1].title === '操作') {\r\n        opCol = columns[columns.length -1];\r\n    } else {\r\n        opCol = {\r\n            title: '操作',\r\n            dataIndex: 'operation',\r\n        };\r\n        columns.push(opCol);\r\n    }\r\n    opCol.render = (text, record) => {\r\n        if (!Array.isArray(operationArr)) {\r\n            return null;\r\n        }\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    operationArr.map(({ opText, opType, modalName, api = '', skipUrl }, i) => {\r\n                        const clickProps = {};\r\n                        if (opType === 'edit' || opType === 'view') {\r\n                            clickProps.onClick = (e) => {\r\n                                context.onShowModal(e, modalName, api, record);\r\n                            };\r\n                        } else if (opType === 'skip') { // 跳转\r\n                            clickProps.onClick = (e) => {\r\n                                window.location = skipUrl;\r\n                            };\r\n                        } else { // 删除\r\n                            clickProps.onClick = (e) => {\r\n                                context.props.execFetchApi(api, record);\r\n                            };\r\n                        }\r\n                        return (\r\n                            <>\r\n                                <a href=\"javascript:;\" key={`op-${i}`} {...clickProps}>\r\n                                    {opText}\r\n                                </a>\r\n                                { i !== operationArr.length - 1 ? <Divider type=\"vertical\" /> : null }\r\n                            </>\r\n                        );\r\n                    })\r\n                }\r\n            </Fragment>\r\n        );\r\n        // if (operationArr.length > 2) {\r\n        //     return (\r\n        //         <span>\r\n        //             {\r\n        //                 renderMultOperation(operationArr)\r\n        //             }\r\n        //         </span>\r\n        //     );\r\n        // } else {\r\n        //     return (\r\n        //         <span>\r\n        //             {\r\n        //                 renderNormalOperation(operationArr)\r\n        //             }\r\n        //         </span>\r\n        //     );\r\n        // }\r\n    };\r\n    return columns;\r\n}\r\n\r\nconst handleColumns = (values, configs, context) => {\r\n    const { operationArr = [], columns } = configs;\r\n    const newColumns = columns.slice();\r\n    Object.keys(values).forEach((k) => {\r\n        const val = values[k];\r\n        // 常规数据列\r\n        if (k.indexOf('-') > 0) {\r\n            const [ columnName, columnIndex ] = k.split('-');\r\n            const columnTarget = newColumns.find((item) => {\r\n                return item.index === +columnIndex;\r\n            });\r\n            if (columnTarget) {\r\n                columnTarget[columnName] = val;\r\n                if (columnName === 'width' && !val) {\r\n                    delete columnTarget.width;\r\n                }\r\n                if (columnName === 'fixed') {\r\n                    columnTarget[columnName] = TRUE === val;\r\n                }\r\n                delete values[k];\r\n            }\r\n        }\r\n    });\r\n    if (values.hasOperation === TRUE) {\r\n        return handleOperation(newColumns, operationArr, context); \r\n    }\r\n    // 序号列渲染处理\r\n    if (newColumns.length > 0 && newColumns[0].sortIndex === TRUE) {\r\n        newColumns[0].render = (record, index) => {\r\n            return (\r\n                <span>{index + 1}</span>\r\n            );\r\n        };\r\n    }\r\n    return newColumns;\r\n};\r\n\r\nconst getTableConfig = (values, configs, context) => {\r\n    const columns = handleColumns(values, configs, context);\r\n    const newConfigs = {\r\n        columns,\r\n    };\r\n    Object.keys(values).forEach((k) => {\r\n        const val = values[k];\r\n        if (k === 'pagination') { // 分页\r\n            if (val === TRUE) {\r\n                newConfigs.pagination = {\r\n                    pageSize: values.pageSize,\r\n                    pageSizeOptions: values.pageSizeOptions.split(','),\r\n                };\r\n            } else {\r\n                newConfigs[k] = TRUE === val;\r\n            }\r\n        } else if (k === 'rowSelection') {\r\n            if (val === TRUE) {\r\n                newConfigs.rowSelection = {\r\n                    type: values.type,\r\n                };\r\n                if (values.type === 'radio') {\r\n                    newConfigs.rowSelection.columnTitle = values.columnTitle;\r\n                }\r\n            } else {\r\n                newConfigs[k] = null;\r\n            }\r\n        } else {\r\n            newConfigs[k] = val;\r\n        }\r\n    });\r\n    return newConfigs;\r\n};\r\n\r\nexport {\r\n    getTableConfig,\r\n}\r\n\r\nexport default getTableConfig;","import moment from 'moment';\r\n\r\n/**\r\n * @desc 将moment对象转换成字符串\r\n * @param {*} date \r\n * @param {*} formatStr \r\n */\r\nconst transferDateToStr = (date, formatStr = 'YYYY-MM-DD') => {\r\n    if (date && date.format) {\r\n        return date.format(formatStr);\r\n    }\r\n    return date;\r\n};\r\n\r\nconst transferDateToMoment = (dateStr, formatStr = 'YYYY-MM-DD') => {\r\n    if (dateStr) {\r\n        return moment(dateStr, formatStr);\r\n    }\r\n    return dateStr;\r\n};\r\n\r\nexport default transferDateToStr;\r\n\r\nexport {\r\n    transferDateToStr,\r\n    transferDateToMoment,\r\n};","import moment from 'moment';\r\nimport { transferDateToStr } from './DateUtil';\r\nimport { FORM_QUERY, MODE_ADD, FORM_CONTAINER, FORM_SAVE } from './Constants';\r\n\r\nconst getFormData = (values, renderArr, hasIndex) => {\r\n    const formData = hasIndex ? [] : {};\r\n    Object.keys(values).forEach((valKey) => {\r\n        let fk = valKey;\r\n        if (hasIndex) {\r\n            if (valKey.indexOf('-') > 0) {\r\n                const [ k, i ] = valKey.split('-');\r\n                fk = k;\r\n                if (isContain(fk, renderArr)) {\r\n                    const item = findItemByRule(({ index }) => index === i, formData);\r\n                    if (item) {\r\n                        item[fk] = values[valKey];\r\n                    } else {\r\n                        formData.push({\r\n                            [fk]: values[valKey],\r\n                            index: i,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        } else if (isContain(fk, renderArr)) {\r\n            formData[fk] = values[valKey];\r\n        }\r\n    });\r\n    return formData;\r\n};\r\n\r\nconst getFormDataByIndex = (values, renderArr, i) => {\r\n    const result ={};\r\n    renderArr.forEach((k) => {\r\n        const indexK = `${k}-${i}`;\r\n        if (Object.hasOwnProperty.call(values, indexK)) {\r\n            result[k] = values[indexK];\r\n            delete values[indexK];\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nconst isContain = (matchKey, matchArr) => {\r\n    return !!findItemByRule(matchKey, matchArr);\r\n};\r\n\r\nconst findItemByRule = (rule, matchArr) => {\r\n    const isFn = typeof rule === 'function';\r\n    return matchArr.find((item) => {\r\n        return isFn ? rule(item) : item.key === rule;\r\n    });\r\n};\r\n\r\nconst getFormApi = (mode, formConfig) => {\r\n    const { formType, queryApi, addApi, editApi } = formConfig;\r\n    return formType === FORM_QUERY ? queryApi : mode === MODE_ADD ? addApi : editApi;\r\n};\r\n\r\nconst initForm = (form, layoutConfig, initData) => {\r\n    const formObj = layoutConfig.find(({ type, formType }) => {\r\n        return type === FORM_CONTAINER && formType === FORM_SAVE;\r\n    });\r\n    if (formObj && Array.isArray(formObj.formItemArr)) {\r\n        const formData = formObj.formItemArr.reduce((obj, item) => {\r\n            const { type, name, format = 'YYYY-MM-DD', dateKeys } = item;\r\n            if (type === 'DatePicker') {\r\n                obj[name] = moment(initData[name], format);\r\n            } else if (type === 'RangePicker' && dateKeys) {\r\n                const [ startTime, endTime ] = dateKeys;\r\n                if (initData[startTime] && initData[endTime]) {\r\n                    obj[name] = [moment(initData[startTime], format), moment(initData[endTime], format)];\r\n                }\r\n            } else {\r\n                obj[name] = initData[name];\r\n            }\r\n            return obj;\r\n        }, {});\r\n        form.setFieldsValue(formData);\r\n    }\r\n};\r\n\r\nconst getSubmitData = ({ formItemArr }, values) => {\r\n    formItemArr.forEach(({ type, name, dateKeys, format }) => {\r\n        if (type === 'DatePicker') {\r\n            values[name] = transferDateToStr(values[name], format);\r\n        } else if (type === 'RangePicker' && Array.isArray(values[name]) && values[name].length > 0)  {\r\n            const [ startTime, endTime ] = values[name];\r\n            const [startKey, endKey] = dateKeys.split(',');\r\n            values[startKey] = transferDateToStr(startTime, format);\r\n            values[endKey] = transferDateToStr(endTime, format);\r\n            delete values[name];\r\n        }\r\n    });\r\n    return values;\r\n};\r\n\r\nconst getFormByType = (layoutConfig = [], type = 'query') => {\r\n    return getFormArr(layoutConfig).find(({ formType }) => {\r\n        return type === formType;\r\n    });\r\n};\r\n\r\nconst getFormArr = (layoutConfig) => {\r\n    const formArr = layoutConfig.reduce((arr, item) => {\r\n        const { type, cellsArr } = item;\r\n        if (Array.isArray(cellsArr) && cellsArr.length > 0) {\r\n            arr.push(...getFormByType({ layoutConfig: cellsArr }));\r\n        } else if (type === FORM_CONTAINER) {\r\n            arr.push(item);\r\n        }\r\n        return arr;\r\n    }, []);\r\n    return formArr;\r\n};\r\n\r\nexport {\r\n    initForm,\r\n    getFormApi,\r\n    getFormData,\r\n    getFormByType,\r\n    getSubmitData,\r\n    getFormDataByIndex,\r\n};\r\n\r\nexport default getFormData;","import React, { Component, Fragment } from 'react';\r\nimport { Button, Card, Drawer, Divider, Collapse, Form, Input, Icon, Select } from 'antd';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport getTableConfig from '../../../utils/TableUtil';\r\nimport { getFormDataByIndex } from '../../../utils/FormUtil';\r\nimport { renderApiSelect, renderModalSelect } from '../../../utils/RenderUtil';\r\nimport { TRUE, FALSE } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\nconst Option = Select.Option;\r\n\r\nconst fLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 10 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 14 },\r\n    },\r\n};\r\n\r\nclass TableEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            configs: props.configs,\r\n        };\r\n        this.setColumnMaxIndex(props);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAddColumn = this.onAddColumn.bind(this);\r\n        this.onDeleteColumn = this.onDeleteColumn.bind(this);\r\n        this.onAddOperation = this.onAddOperation.bind(this);\r\n        this.onDeleteOperation = this.onDeleteOperation.bind(this);\r\n        this.renderOperationBtn = this.renderOperationBtn.bind(this);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.visible !== this.props.visible && nextProps.visible) {\r\n            this.setState({\r\n                configs: nextProps.configs,\r\n            });\r\n            this.setColumnMaxIndex(nextProps);\r\n            this.setOperationMaxIndex(nextProps);\r\n        }\r\n    }\r\n    setColumnMaxIndex({ configs }) {\r\n        const { columns = [] } = configs;\r\n        this.columnMaxIndex = columns.length || 0;\r\n    }\r\n    setOperationMaxIndex({ configs }) {\r\n        const { operationArr = [] } = configs;\r\n        this.operationMaxIndex = operationArr.length || 0;\r\n    }\r\n    addColumnMaxIndex() {\r\n        this.columnMaxIndex += 1;\r\n    }\r\n    addOperationMaxIndex() {\r\n        this.operationMaxIndex += 1;\r\n    }\r\n    onAddOperation() {\r\n        const { configs } = this.state;\r\n        const { operationArr = [] } = configs;\r\n        const newOperationArr = operationArr.slice();\r\n        const opreationIndex = this.operationMaxIndex;\r\n        newOperationArr.push({\r\n            opText: \"操作\",\r\n            index: opreationIndex,\r\n        });\r\n        this.setState({\r\n            configs: this.getNewConfigs('operationArr', newOperationArr),\r\n        });\r\n        this.addOperationMaxIndex();\r\n    }\r\n    onAddColumn() {\r\n        const { configs } = this.state;\r\n        const { columns } = configs;\r\n        const newColumns = columns.slice();\r\n        const columnIndex = this.columnMaxIndex;\r\n        newColumns.push({\r\n            title: `column${columnIndex}`,\r\n            dataIndex: `dataIndex${columnIndex}`,\r\n            index: columnIndex,\r\n        });\r\n        this.setState({\r\n            configs: this.getNewConfigs('columns', newColumns),\r\n        });\r\n        this.addColumnMaxIndex();\r\n    }\r\n    onDeleteOperation(index) {\r\n        const { configs } = this.state;\r\n        const { operationArr } = configs;\r\n        const newOperationArr = operationArr.reduce((arr, item) => {\r\n            if (item.index !== index) {\r\n                arr.push(Object.assign({}, item));\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.operationArr = newOperationArr;\r\n        this.setState({\r\n            configs: this.getNewConfigs('operationArr', newOperationArr),\r\n        });\r\n    }\r\n    onDeleteColumn(columnIndex) {\r\n        const { configs } = this.state;\r\n        const { columns } = configs;\r\n        const newColumns = columns.reduce((arr, item) => {\r\n            if (item.index !== columnIndex) {\r\n                arr.push(Object.assign({}, item));\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.columns = newColumns;\r\n        this.setState({\r\n            configs: this.getNewConfigs('columns', newColumns),\r\n        });\r\n    }\r\n    getNewConfigs(k, v) {\r\n        const { configs } = this.state;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs[k] = v;\r\n        return newConfigs;\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const { context, form, onUpdateLayoutConfig } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { configs } = this.state;\r\n                const newOperationArr = [];\r\n                // 有操作列\r\n                if (values.hasOperation === TRUE) {\r\n                    const { operationArr = [] } = configs;\r\n                    const opArr = ['opText', 'opType', 'modalName', 'modalData', 'api', 'skipUrl'];\r\n                    for (let i = 0; i< operationArr.length; i++) {\r\n                        const { index } = operationArr[i];\r\n                        newOperationArr.push(Object.assign(operationArr[i], getFormDataByIndex(values, opArr, index)));\r\n                    }\r\n                }\r\n                const newConfigs = getTableConfig(values, configs, context);\r\n                newConfigs.operationArr = newOperationArr;\r\n                delete newConfigs.pageSize;\r\n                delete newConfigs.pageSizeOptions;\r\n                delete newConfigs.type;\r\n                delete newConfigs.columnTitle;\r\n                onUpdateLayoutConfig(newConfigs);\r\n            }\r\n        });\r\n    }\r\n    renderPanelHeader({ title, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{title}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteColumn(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderOperationHeader({ opText, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{opText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteOperation(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderCollapse() {\r\n        const { form } = this.props;\r\n        const { configs } = this.state;\r\n        const { columns = [] } = configs;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Collapse>\r\n                {\r\n                    columns.map((item, i) => {\r\n                        const { title, index, dataIndex, width, sortIndex, align = 'left', fixed = false } = item;\r\n                        if (title === '操作' && i === columns.length -1) {\r\n                            return null;\r\n                        }\r\n                        return (\r\n                            <Panel header={this.renderPanelHeader(item)} key={`${title}-${index}`}>\r\n                                <Form.Item label=\"title\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`title-${index}`, { \r\n                                        rules: [{ required: true, message: '请输入title!' }],\r\n                                        initialValue: title,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"dataIndex\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`dataIndex-${index}`, { \r\n                                        rules: [{ required: true, message: 'dataIndex!' }],\r\n                                        initialValue: dataIndex,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"width\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`width-${index}`, {\r\n                                        initialValue: width || '',\r\n                                    }, {\r\n                                        rules: [{ pattern: /^\\d+(%)?$/, message: '请输入数字或者百分比!' }]\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                {\r\n                                    i === 0 ? (\r\n                                        <Form.Item label=\"序号列\" {...formItemLayout}>\r\n                                            {getFieldDecorator(`sortIndex-${index}`, {\r\n                                                initialValue: sortIndex,\r\n                                            })(\r\n                                                <Select placeholder=\"是否显示序号\">\r\n                                                    <Option value=\"0\">false</Option>\r\n                                                    <Option value=\"1\">true</Option>\r\n                                                </Select>\r\n                                            )}\r\n                                        </Form.Item>\r\n                                    ): null\r\n                                }\r\n                                <Form.Item label=\"align\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`align-${index}`, { \r\n                                        initialValue: align,\r\n                                    })(\r\n                                        <Select>\r\n                                            <Option value={'left'}>left</Option>\r\n                                            <Option value={'right'}>right</Option>\r\n                                            <Option value={'center'}>center</Option>\r\n                                        </Select>\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"fixed\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`fixed-${index}`, { \r\n                                        initialValue: fixed ? \"1\" : \"0\",\r\n                                    })(\r\n                                        <Select>\r\n                                            <Option value=\"0\">false</Option>\r\n                                            <Option value=\"1\">true</Option>\r\n                                        </Select>\r\n                                    )}\r\n                                </Form.Item>\r\n                            </Panel>\r\n                        );\r\n                    })\r\n                }\r\n            </Collapse>\r\n        );\r\n    }\r\n    renderOperationBtn(btnConfig) {\r\n        const { form, layerConfig } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { index, opText, opType, modalName, modalData, api, skipUrl } = btnConfig;\r\n        const _opType = form.getFieldValue(`opType-${index}`);\r\n        return (\r\n            <Panel header={this.renderOperationHeader(btnConfig)} key={`op-${index}`}>\r\n                <Form.Item label=\"文字\" {...formItemLayout}>\r\n                    {getFieldDecorator(`opText-${index}`, { \r\n                        initialValue: opText,\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"类型\" {...formItemLayout}>\r\n                    {getFieldDecorator(`opType-${index}`, { \r\n                        initialValue: opType,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"edit\">编辑(弹窗)</Option>\r\n                            <Option value=\"view\">查看(弹窗)</Option>\r\n                            <Option value=\"delete\">删除</Option>\r\n                            <Option value=\"skip\">跳转</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    _opType === 'edit' || _opType === 'view' ? renderModalSelect(layerConfig, form, modalName, index) : null\r\n                }\r\n                {\r\n                    _opType === 'edit' || _opType === 'view' ? (\r\n                        <Form.Item label=\"数据来源\" {...formItemLayout}>\r\n                            {getFieldDecorator(`modalData-${index}`, {\r\n                                rules: [{ required: true, message: '选择数据来源' }],\r\n                                initialValue: modalData,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"table\">表格</Option>\r\n                                    <Option value=\"api\">接口调用</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                    ) : null\r\n                }\r\n                {\r\n                     _opType === 'skip' ? (\r\n                        <Form.Item label=\"路径地址\" {...formItemLayout}>\r\n                            {getFieldDecorator(`skipUrl-${index}`, {\r\n                                rules: [{ required: true, message: '输入路径地址' }],\r\n                                initialValue: skipUrl,\r\n                            })(\r\n                                <Input />\r\n                            )}\r\n                        </Form.Item>\r\n                    ) : null\r\n                }\r\n                {\r\n                    form.getFieldValue(`modalData-${index}`) === 'api' || _opType === 'delete' ?\r\n                        renderApiSelect(layerConfig, form, { initialValue: api, key: index }) : null\r\n                }\r\n            </Panel>\r\n        )\r\n    }\r\n    renderTableProps() {\r\n        const { form } = this.props;\r\n        const { configs } = this.state;\r\n        const { getFieldDecorator } = form;\r\n        const {  operationArr = [], pagination, rowSelection, hasOperation = FALSE, rowKey } = configs;\r\n        const { pageSize = 10, pageSizeOptions = '10,20,30' } = pagination || {};\r\n        const { type = 'checkbox', columnTitle = '选择' } = rowSelection || {};\r\n        const hasPagination = Object.keys(pagination || {}).length > 0 ? TRUE : FALSE;\r\n        const hasRowSelection = Object.keys(rowSelection || {}).length > 0 ? TRUE : FALSE;\r\n        return (\r\n            <Fragment>\r\n                <Form.Item label=\"操作列\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"hasOperation\", { \r\n                        initialValue: hasOperation,\r\n                    })(\r\n                        <Select>\r\n                            <Option value={FALSE}>无</Option>\r\n                            <Option value={TRUE}>有</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('hasOperation') === TRUE ? // 操作列\r\n                        [\r\n                            <Collapse key=\"op-collapse\">\r\n                                {\r\n                                    operationArr.map(this.renderOperationBtn)\r\n                                }\r\n                            </Collapse>,\r\n                            <Fragment key=\"op-collapse-btns\">\r\n                                {\r\n                                    form.getFieldValue('hasOperation') === TRUE ?\r\n                                        (<div className=\"btn-add-box\">\r\n                                            <Button\r\n                                                type=\"dashed\"\r\n                                                size=\"large\"\r\n                                                onClick={this.onAddOperation}\r\n                                            >\r\n                                                添加操作项\r\n                                            </Button>\r\n                                        </div>) : null\r\n                                }\r\n                            </Fragment>\r\n                        ] : null\r\n                }\r\n                <Form.Item label=\"pagination\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"pagination\", { \r\n                        initialValue: hasPagination,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">false</Option>\r\n                            <Option value=\"1\">true</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"rowKey\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"rowKey\", { \r\n                        initialValue: rowKey,\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('pagination') === '1' ?\r\n                    <Card title=\"pagination配置\">\r\n                        <Form.Item label=\"pageSize\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"pageSize\", { \r\n                                initialValue: pageSize,\r\n                            })(\r\n                                <Input />\r\n                            )}\r\n                        </Form.Item>\r\n                        <Form.Item label=\"pageSizeOptions\" {...fLayout}>\r\n                            {getFieldDecorator(\"pageSizeOptions\", { \r\n                                initialValue: Array.isArray(pageSizeOptions)\r\n                                    ? pageSizeOptions.join(',') : pageSizeOptions,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"10,20,30\">10,20,30</Option>\r\n                                    <Option value=\"10,20,30,40\">10,20,30,40</Option>\r\n                                    <Option value=\"20,30,40\">20,30,40</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                    </Card> : null\r\n                }\r\n                <Form.Item label=\"rowSelection\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"rowSelection\", { \r\n                        initialValue: hasRowSelection,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">false</Option>\r\n                            <Option value=\"1\">true</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('rowSelection') === '1' ?\r\n                    <Card title=\"rowSelection配置\">\r\n                        <Form.Item label=\"type\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"type\", { \r\n                                initialValue: type,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"checkbox\">checkbox</Option>\r\n                                    <Option value=\"radio\">radio</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                        {\r\n                            form.getFieldValue('type') === 'radio' ?\r\n                                <Form.Item label=\"columnTitle\" {...formItemLayout}>\r\n                                    {getFieldDecorator(\"columnTitle\", { \r\n                                        initialValue: columnTitle,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item> : null\r\n                        }\r\n                    </Card> : null\r\n                }\r\n                {/* <Form.Item label=\"模拟数据\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"mockData\", {\r\n                        initialValue: mockData,\r\n                    })(\r\n                        <Input placeholder=\"请输入数据条数\" />\r\n                    )}\r\n                </Form.Item> */}\r\n            </Fragment>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, onClose, onDeleteContainer, form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { configs } = this.state;\r\n        const {  dataSrouce } = configs;\r\n        return (\r\n            <Drawer\r\n                title=\"表格编辑\"\r\n                maskClosable={false}\r\n                width={420}\r\n                onClose={onClose}\r\n                visible={visible}\r\n            >\r\n                <Form onSubmit={this.onSubmit}>\r\n                    <Divider>表头</Divider>\r\n                    {this.renderCollapse()}\r\n                    <div className=\"btn-add-box\">\r\n                        <Button\r\n                            type=\"dashed\"\r\n                            size=\"large\"\r\n                            onClick={this.onAddColumn}\r\n                        >\r\n                            添加表头列\r\n                        </Button>\r\n                    </div>\r\n                    <Divider>表格属性</Divider>\r\n                    {this.renderTableProps()}\r\n                    <Divider>数据源</Divider>\r\n                    <Form.Item label=\"dataSrouce\" {...formItemLayout}>\r\n                        {getFieldDecorator(\"modelKey\", {\r\n                            initialValue: dataSrouce,\r\n                        })(\r\n                            <Input placeholder=\"model key\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item style={{ marginTop: '20px', textAlign: 'center' }}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(TableEdit);","import React, { Component } from 'react';\r\nimport { Icon } from 'antd';\r\nimport { Table } from 'fl-pro';\r\nimport { TABLE_CONTAINER } from '../../../utils/Constants';\r\nimport TableEdit from '../../EditDrawer/TableEdit';\r\n\r\nimport './index.css';\r\n\r\nclass TableContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n        };\r\n        this.onClose = this.onClose.bind(this);\r\n        this.onShowEditTable = this.onShowEditTable.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onPageIndexChange = this.onPageIndexChange.bind(this);\r\n        this.onShowSizeChange = this.onShowSizeChange.bind(this);\r\n    }\r\n    onShowEditTable() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onClose(e) {\r\n        e.stopPropagation();\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onUpdateConfigs(newConfigs) {\r\n        const { configs, onUpdateLayoutConfig } = this.props;\r\n        const { layoutIndex } = configs;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex,\r\n            type: TABLE_CONTAINER,\r\n            ...newConfigs\r\n        });\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { configs, onUpdateLayoutConfig } = this.props;\r\n        const { layoutIndex } = configs;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex,\r\n            deleteFlag: true,\r\n        });\r\n    }\r\n    getMockDataSource(columns, dataSize) {\r\n        const ds = [];\r\n        for (let i = 0; i < dataSize; i++) {\r\n            const dsItem = {};\r\n            columns.forEach((item) => {\r\n                Object.keys(item).forEach((k) => {\r\n                    dsItem[item.dataIndex] = `${item.dataIndex}-${i}`;\r\n                });\r\n            });\r\n            ds.push(dsItem);\r\n        }\r\n        return ds;\r\n    }\r\n    getModelKey() {\r\n        const { configs = {} } = this.props;\r\n        const { modelKey } = configs;\r\n        return modelKey;\r\n    }\r\n    onPageIndexChange(page, pageSize) {\r\n        this.props.onPageIndexChange(page, pageSize, this.getModelKey());\r\n    }\r\n    onShowSizeChange(current, size) {\r\n        this.props.onShowSizeChange(current, size, this.getModelKey());\r\n    }\r\n    getRowSelection(rowSelection, sRowKeys) {\r\n        const { context } = this.props;\r\n        if (rowSelection) {\r\n            rowSelection.selectedRowKeys = sRowKeys;\r\n            rowSelection.onChange = (selectedRowKeys, selectedRows) => {\r\n                context.setState({\r\n                    selectedRowKeys,\r\n                    selectedRows,\r\n                });\r\n            };\r\n        }\r\n        return rowSelection;\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { configs = {}, apiData = {}, currentPage, pageSize, context, layerConfig, preview = false } = this.props;\r\n        const { GuiContext } = context;\r\n        const { pagination = false, rowSelection = null, columns = [], modelKey, mockData, rowKey } = configs;\r\n        const copyColumns = columns.slice();\r\n        const mockDataNum = (/^\\d+$/).test(mockData) ? +mockData : 0;\r\n        // 是否存在api接口返回的数据项\r\n        const hasApiDataSource = modelKey && Object.hasOwnProperty.call(apiData, modelKey);\r\n        const dataSource = hasApiDataSource ? apiData[modelKey] : this.getMockDataSource(columns, mockDataNum);\r\n        // 有分页属性\r\n        if (pagination) {\r\n            pagination.showQuickJumper = true;\r\n            pagination.showSizeChanger = true;\r\n            pagination.current = currentPage;\r\n            pagination.pageSize = pageSize;\r\n            pagination.total = hasApiDataSource ? apiData[`${modelKey}Total`] : mockDataNum;\r\n            pagination.onChange = this.onPageIndexChange;\r\n            pagination.onShowSizeChange = this.onShowSizeChange;\r\n        }\r\n        return (\r\n            <div className={`table-container container ${preview ? 'preview-box' : ''}`}>\r\n                <GuiContext.Consumer>\r\n                    {\r\n                        ({ selectedRowKeys }) =>\r\n                            <Table\r\n                                columns={copyColumns}\r\n                                bordered\r\n                                dataSource={dataSource}\r\n                                pagination={pagination}\r\n                                rowSelection={this.getRowSelection(rowSelection, selectedRowKeys)}\r\n                                rowKey={rowKey}\r\n                            />\r\n                    }\r\n                </GuiContext.Consumer>\r\n                <TableEdit\r\n                    visible={visible}\r\n                    layerConfig={layerConfig}\r\n                    configs={configs}\r\n                    context={context}\r\n                    onClose={this.onClose}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                    onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                />\r\n                {\r\n                    !preview ? \r\n                        <Icon type=\"form\" className=\"edit-icon icon-form\" onClick={this.onShowEditTable} /> : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TableContainer;","import { PureComponent } from 'react';\r\n\r\nclass BaseContainer extends PureComponent {\r\n    onUpdateConfigs(newConfigs) {\r\n        const { onUpdateLayoutConfig } = this.props;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            onUpdateLayoutConfig({\r\n                layoutIndex: this.getContainerIndex(),\r\n                type: this.getContainerType(),\r\n                ...newConfigs,\r\n            });\r\n        });\r\n    }\r\n    onToggleEditDrawer() {\r\n        this.setState({\r\n            visible: !this.state.visible,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex: this.getContainerIndex(),\r\n            deleteFlag: true,\r\n        });\r\n        this.onToggleEditDrawer();\r\n    }\r\n    getContainerIndex() {\r\n        const { configs } = this.props;\r\n        return configs.layoutIndex;\r\n    }\r\n    getContainerType() {\r\n        const { configs } = this.props;\r\n        return configs.type;\r\n    }\r\n    _render() {\r\n        return null;\r\n    }\r\n    render() {\r\n        return this._render();\r\n    }\r\n}\r\n\r\nexport default BaseContainer;","import React, { Component } from 'react';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\n\r\nclass DropRender extends Component {\r\n\trender() {\r\n\t\tconst { configs = {}, ...restProps } =this.props;\r\n\t\tconst { cellStyles, textAlign = 'center', type } = configs;\r\n\t\tconst styleObj = type === 'Button' ? Object.assign({}, cellStyles, { textAlign }) : cellStyles;\r\n\t\treturn (\r\n\t\t\t<div style={styleObj}>\r\n                {\r\n                    renderComponent(configs, restProps)\r\n                }\r\n\t\t    </div>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default DropRender;","/**\r\n * 计算表单单元格跨列\r\n * @param {*} colIndex \r\n * @param {*} originSpan \r\n * @param {*} formItemArr \r\n * @param {*} colSpanArr \r\n */\r\nconst getCellColSpan = (colIndex, originSpan = 1, formItemArr = [], colSpanArr = []) => {\r\n    let finalColSpan = 0;\r\n    // 占据整行\r\n    if (originSpan === colSpanArr.length) {\r\n        finalColSpan = 24;\r\n    } else {\r\n        let locationIndex = 0;\r\n        let total = 0;\r\n        for (let i = 0; i < formItemArr.length; i++) {\r\n            if (formItemArr[i].colIndex >= colIndex) {\r\n                total = total % 24;\r\n                if (total === 0) {\r\n                    locationIndex = 0;\r\n                } else {\r\n                    for (let j = 0; j < colSpanArr.length; j++) {\r\n                        total -= colSpanArr[j];\r\n                        if (total <= 0) {\r\n                            locationIndex = j + 1;\r\n                            j = colSpanArr.length;\r\n                        }\r\n                    }\r\n                }\r\n                i = formItemArr.length;\r\n            } else {\r\n                total += formItemArr[i].colSpan;\r\n            }\r\n        }\r\n        let start = 0;\r\n        let end = 0;\r\n        // 不换行显示\r\n        if (originSpan <= colSpanArr.length - locationIndex) {\r\n            start = locationIndex;\r\n        }\r\n        end = start + originSpan - 1;\r\n        for(; start <= end; start++) {\r\n            finalColSpan += colSpanArr[start];\r\n        }\r\n    }\r\n    return finalColSpan;\r\n};\r\n\r\nconst strToObj = (str, separator = ';') => {\r\n    if (str) {\r\n        return str.split(separator).reduce((styleObj, styleStr) => {\r\n            const [ name, value ] = styleStr.split(':');\r\n            if (name && value) {\r\n                styleObj[name] = value.replace(/['\"\\s]/g, '');\r\n            }\r\n            return styleObj;\r\n        }, {});\r\n    }\r\n    return {};\r\n};\r\n\r\nconst objToStr = (objLike, separator = ';') => {\r\n    if (Object.prototype.toString.call(objLike) === '[object Object]') {\r\n        return Object.keys(objLike).reduce((arr, k) => {\r\n            arr.push(`${k}:${objLike[k]}`);\r\n            return arr;\r\n        }, []).join(separator);\r\n    } else if (Array.isArray(objLike)) {\r\n        return objLike.join(separator);\r\n    }\r\n    return objLike;\r\n};\r\n\r\nexport default getCellColSpan;\r\n\r\nexport {\r\n    strToObj,\r\n    objToStr,\r\n};","const ButtonSaveKeys = ['btnText', 'antdType', 'skipUrl', 'api', 'modalName'];\r\nexport {\r\n    ButtonSaveKeys,\r\n};","import React, { Component, Fragment } from 'react';\r\nimport { Button, Card, DatePicker, Select, Icon, Input, Form, Collapse } from 'antd';\r\nimport getCellColSpan, { strToObj } from '../../utils/CellUtil';\r\nimport formItemLayout from '../../configs/layout';\r\nimport { ButtonSaveKeys } from '../../configs/saveConfigs';\r\nimport { renderModalSelect, renderApiSelect } from '../../utils/RenderUtil';\r\nimport { TRUE } from '../../utils/Constants';\r\n\r\nconst { Option } = Select;\r\nconst Panel = Collapse.Panel;\r\nconst allowCallApi = ['import', 'export', 'edit', 'view', 'mult'];\r\nconst allowCallModal = ['add', 'edit', 'view'];\r\n\r\nclass BaseEdit extends Component {\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdeleteFormItem: false,\r\n            deleteComponent: false,\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.onAddListItem = this.onAddListItem.bind(this);\r\n        this.onDeleteButton = this.onDeleteButton.bind(this);\r\n        this.onDeleteListItem = this.onDeleteListItem.bind(this);\r\n        this.onDeleteComponent = this.onDeleteComponent.bind(this);\r\n        this.renderBtnPanelHeader = this.renderBtnPanelHeader.bind(this);\r\n    }\r\n    getItemSetType() {\r\n        return [];\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n\t\tconst { configs = {} } = nextProps;\r\n        const { type } = configs;\r\n\t\tif (~this.getItemSetType().indexOf(type) && !this[`init${type}`] && nextProps.visible) {\r\n\t\t\tconst lowerCaseType = type.toLowerCase();\r\n\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\tconst stateVal =  configs[stateKey] || [];\r\n\t\t\tthis.setState({\r\n\t\t\t\t[stateKey]: stateVal,\r\n            });\r\n\t\t\tthis[`${lowerCaseType}Index`] = stateVal.length;\r\n\t\t\tthis[`init${type}`] = true;\r\n\t\t}\r\n\t}\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tconst { deleteComponent, buttonArr, deleteFormItem = false } = this.state;\r\n        const { form, onUpdateConfigs, configs, colSpanArr, onDeleteContainer,\r\n\t\t\tformItemArr, inForm = false } = this.props;\r\n\t\tif (deleteFormItem) {\r\n\t\t\tthis.onCloseEdit();\r\n\t\t\tonDeleteContainer();\r\n\t\t\treturn;\r\n\t\t}\r\n        const itemSetType = this.getItemSetType();\r\n\t\tform.validateFields((err, values) => {\r\n\t        if (!err) {\r\n\t\t\t\tconst newConfigs = Object.assign({}, configs, values);\r\n\t\t\t\tnewConfigs.cellStyles = strToObj(values.cellStyles);\r\n\t\t\t\tif (deleteComponent) {\r\n\t\t\t\t\tnewConfigs.deleteFlag = true;\r\n\t\t\t\t}\r\n\t\t\t\tconst configType = newConfigs.type;\r\n\t\t\t\tif (~itemSetType.indexOf(configType) && configType !== 'Button') {\r\n\t\t\t\t\tconst lowerCaseType = configType.toLowerCase();\r\n\t\t\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\t\t\tconst newList = this.state[stateKey].slice();\r\n\t\t\t\t\tnewList.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst kLabel = `${lowerCaseType}Label-${index}`;\r\n\t\t\t\t\t\tconst kValue = `${lowerCaseType}Value-${index}`;\r\n\t\t\t\t\t\titem.label = values[kLabel];\r\n\t\t\t\t\t\titem.value= values[kValue];\r\n\t\t\t\t\t\tdelete newConfigs[kLabel];\r\n\t\t\t\t\t\tdelete newConfigs[kValue];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewConfigs[stateKey] = newList;\r\n\t\t\t\t} else if (configType === 'DatePicker' || configType === 'RangePicker') {\r\n\t\t\t\t\tconst { format } = values;\r\n\t\t\t\t\tnewConfigs.showTime = values.showTime === TRUE;\r\n\t\t\t\t\tif (configType === 'DatePicker') {\r\n\t\t\t\t\t\tnewConfigs.initialValue = values.initialValue && values.initialValue.format(format);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (configType === 'Button') {\r\n\t\t\t\t\tconst newButtonArr = buttonArr.slice();\r\n\t\t\t\t\tnewButtonArr.forEach((item) => {\r\n\t\t\t\t\t\tconst { btnIndex } = item;\r\n\t\t\t\t\t\tButtonSaveKeys.forEach((sKey) => {\r\n\t\t\t\t\t\t\tconst itemKey = `${sKey}-${btnIndex}`;\r\n\t\t\t\t\t\t\titem[sKey] = values[itemKey];\r\n\t\t\t\t\t\t\tdelete newConfigs[itemKey];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (item.logicType === 'expand') {\r\n\t\t\t\t\t\t\tconst expandCount = `expandCount-${btnIndex}`;\r\n\t\t\t\t\t\t\titem.expandCount = values[expandCount];\r\n\t\t\t\t\t\t\tdelete newConfigs[expandCount];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewConfigs.buttonArr = newButtonArr;\r\n\t\t\t\t}\r\n\t\t\t\tif (inForm) {\r\n\t\t\t\t\tconst { originSpan = 1 } = values;\r\n\t\t\t\t\tnewConfigs.originSpan = originSpan;\r\n\t\t\t\t\tnewConfigs.colSpan = getCellColSpan(newConfigs.colIndex, originSpan,\r\n\t\t\t\t\t\tformItemArr, colSpanArr);\r\n\t\t\t\t}\r\n\t\t\t\tthis.onCloseEdit();\r\n\t\t\t\tonUpdateConfigs(newConfigs);\r\n\t\t\t}\r\n\t\t});\r\n    }\r\n    onCloseEdit() {\r\n\t\tthis.getItemSetType().forEach((type) => {\r\n\t\t\tthis[`init${type}`] = false;\r\n        });\r\n\t\tthis.initBtn = false;\r\n        this.setState({\r\n\t\t\tdeleteComponent: false,\r\n\t\t\tdeleteFormItem: false,\r\n        });\r\n    }\r\n    onDeleteComponent() {\r\n        this.setState({\r\n\t\t\tdeleteComponent: true,\r\n        });\r\n    }\r\n    onDeleteButton(btnIndex) {\r\n\t\tconst { buttonArr = [] } = this.state;\r\n\t\tconst newButtonArr = buttonArr.reduce((arr, item) => {\r\n\t\t\tif (item.btnIndex !== btnIndex) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tbuttonArr: newButtonArr,\r\n\t\t});\r\n\t}\r\n    onDeleteListItem(index, key) {\r\n\t\tconst stateKey = `${key}Arr`;\r\n\t\tconst list = this.state[stateKey];\r\n\t\tconst newList = list.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\t[stateKey]: newList,\r\n\t\t});\r\n    }\r\n    onAddListItem(key) {\r\n\t\tconst stateKey = `${key}Arr`;\r\n\t\tconst list = this.state[stateKey];\r\n\t\tconst newList = list.slice();\r\n\t\tnewList.push({\r\n\t\t\tlabel: '',\r\n\t\t\tvalue: '',\r\n\t\t\tindex: this[`${key}Index`],\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\t[stateKey]: newList,\r\n\t\t});\r\n\t\tthis[`${key}Index`] += 1;\r\n    }\r\n    renderDefaultValueItem() {\r\n\t\tconst { configs = {}, form } = this.props;\r\n\t\tconst { type, initialValue, text } = configs;\r\n        const { getFieldDecorator } = form;\r\n        const itemSetType = this.getItemSetType();\r\n\t\tif (~itemSetType.indexOf(type)) {\r\n\t\t\tconst lowerCaseType = type.toLowerCase();\r\n\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\tconst list = this.state[stateKey] || [];\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\t\tinitialValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select allowClear>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlist.map((item) => {\r\n\t\t\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\t\t\tconst optionValue = form.getFieldValue(`${lowerCaseType}Value-${index}`);\r\n\t\t\t\t\t\t\t\tconst optionText = form.getFieldValue(`${lowerCaseType}Label-${index}`);\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Option value={optionValue} key={`op-${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t{`${optionValue}/${optionText}`}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t);\r\n\t\t} else if (type === 'DatePicker') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\tinitialValue,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<DatePicker style={{ width: '100%' }} />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'Input') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\t\tinitialValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'Text') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"text\">\r\n\t\t\t\t\t{getFieldDecorator('text', {\r\n\t\t\t\t\t\tinitialValue: text,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>);\r\n\t\t}  else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n    renderBtnPanelHeader({ btnText, btnIndex }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{btnText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteButton(btnIndex);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderTabs() {\r\n\t\treturn this.renderItemSettingCard({ title: 'tab设置', dataKey:'tabs' });\r\n\t}\r\n\trenderBreadcrumb() {\r\n\t\treturn this.renderItemSettingCard({\r\n\t\t\ttitle: 'breadcrumb设置',\r\n\t\t\tdataKey: 'breadcrumb',\r\n\t\t\tlabPlaceholder: '名称',\r\n\t\t\tvalPlaceholder: '路径',\r\n\t\t});\r\n\t}\r\n    renderSelect() {\r\n\t\treturn this.renderItemSettingCard({ title: 'select设置', dataKey:'select' });\r\n\t}\r\n\trenderRadio() {\r\n\t\treturn this.renderItemSettingCard({ title: 'radio设置', dataKey:'radio' });\r\n\t}\r\n\trenderCheckbox() {\r\n\t\treturn this.renderItemSettingCard({ title: 'checkbox设置', dataKey:'checkbox' });\r\n\t}\r\n    renderItemSettingCard({ title, dataKey, labPlaceholder = 'label', valPlaceholder = 'value' }) {\r\n\t\tconst { form } = this.props;\r\n\t\tconst stateKey = `${dataKey}Arr`;\r\n        const itemList = this.state[stateKey] || [];\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle={title}\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={() => {\r\n\t\t\t\t\tthis.onAddListItem(dataKey);\r\n\t\t\t\t}} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\titemList.map(({ label, value, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`${dataKey}-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`${dataKey}-label-${index}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`${dataKey}Label-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: label,\r\n\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: labPlaceholder }]\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder={labPlaceholder} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`${dataKey}-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`${dataKey}Value-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder={valPlaceholder} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteListItem(index, dataKey);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trenderBtnExpand(btnConfig) {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { btnIndex, expandCount } = btnConfig;\r\n\t\treturn (\r\n\t\t\t<Form.Item\r\n\t\t\t\tkey={`expandCount-${btnIndex}`}\r\n\t\t\t\tlabel=\"折叠可见数\"\r\n\t\t\t\t{...formItemLayout}\r\n\t\t\t>\r\n\t\t\t\t{form.getFieldDecorator(`expandCount-${btnIndex}`, {\r\n\t\t\t\t\trules: [{\r\n\t\t\t\t\t\trequired: 'true', message: '折叠可见数',\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tinitialValue: expandCount,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<Input placeholder=\"expandCount\" />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>\r\n\t\t);\r\n\t}\r\n\trenderApiItem({ btnIndex, api, logicType }) {\r\n\t\tconst { layerConfig = {}, form } = this.props;\r\n\t\t// 容许配置api调用属性\r\n\t\tif (allowCallApi.indexOf(logicType) >= 0) {\r\n\t\t\treturn renderApiSelect(layerConfig, form, { initialValue: api, key: btnIndex });\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderModalItem({ btnIndex, modalName, logicType }) {\r\n\t\tconst { layerConfig = {}, form } = this.props;\r\n\t\t// 容许配置modal\r\n\t\tif (allowCallModal.indexOf(logicType) >= 0) {\r\n\t\t\treturn renderModalSelect(layerConfig, form, modalName, btnIndex);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderBtnCard() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { buttonArr = [] } = this.state;\r\n\t\tconst activeKeyArr = buttonArr.reduce((arr, { btnIndex }) => {\r\n\t\t\tarr.push(`btn-${btnIndex}`);\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\treturn (\r\n\t\t\t<Card title=\"按钮区域\">\r\n\t\t\t\t<Collapse defaultActiveKey={activeKeyArr}>\r\n\t\t\t\t{\r\n\t\t\t\t\tbuttonArr.map((item) => {\r\n\t\t\t\t\t\tconst { btnIndex, btnText, antdType = '', htmlType = 'button', logicType, textDisabled, skipUrl } = item;\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Panel header={this.renderBtnPanelHeader(item)} key={`btn-${btnIndex}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`btnText-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\tlabel=\"按钮文字\"\r\n\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`btnText-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: btnText,\r\n\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: '按钮文字' }],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"按钮文字\" disabled={textDisabled} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlogicType !== 'expand' ? \r\n\t\t\t\t\t\t\t\t\t\t(<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`antdType-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"type\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`antdType-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\tinitialValue: antdType,\r\n\t\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select placeholder=\"按钮类型\" disabled={htmlType === 'submit' || htmlType === 'reset'}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"primary\">primary</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"dashed\">dashed</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"danger\">danger</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"\">none</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.renderApiItem(item)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.renderModalItem(item)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlogicType === 'expand' ? this.renderBtnExpand(item) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlogicType === 'skip' ?\r\n\t\t\t\t\t\t\t\t\t\t(<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`skipUrl-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"路径地址\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`skipUrl-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: '输入路径地址' }],\r\n\t\t\t\t\t\t\t\t\t\t\t\tinitialValue: skipUrl,\r\n\t\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t</Collapse>\r\n\t\t\t\t<Form.Item style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default BaseEdit;","import React, { Fragment } from 'react';\r\nimport { Button, Drawer, Select, Input, Form } from 'antd';\r\nimport BaseEdit from '../../Core/BaseEdit';\r\nimport { objToStr } from '../../../utils/CellUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\n\r\nclass CompEdit extends BaseEdit {\r\n\tgetItemSetType() {\r\n\t\treturn ['Tabs', 'Breadcrumb', 'Button', 'Radio'];\r\n\t}\r\n\trenderComp() {\r\n\t\tconst { form, configs } = this.props;\r\n\t\tconst { placeholder, type } = configs;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tif (this.state.deleteComponent) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (type === 'Button') {\r\n\t\t\treturn this.renderBtnCard();\r\n\t\t}\r\n\t\tif (type === 'Breadcrumb') {\r\n\t\t\treturn this.renderBreadcrumb();\r\n\t\t}\r\n\t\tif (type === 'Tabs') {\r\n\t\t\treturn this.renderTabs();\r\n\t\t}\r\n\t\tif (type === 'Radio') {\r\n\t\t\treturn this.renderRadio();\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t{this.renderDefaultValueItem()}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype !== 'Text' && type !== 'Breadcrumb' ?\r\n\t\t\t\t\t\t(<Form.Item {...formItemLayout} label=\"placeholder\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('placeholder', {\r\n\t\t\t\t\t\t\t\tinitialValue: placeholder,\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { visible, onClose, form, configs } = this.props;\r\n\t\tconst { deleteComponent } = this.state;\r\n\t\tconst initialCellStyles = objToStr(configs.cellStyles);\r\n\t\tconst { type, radioType, textAlign = 'center' } = configs;\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\ttitle=\"编辑组件\"\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tthis.onCloseEdit();\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!deleteComponent ? \r\n\t\t\t\t\t\t\t<Form.Item label=\"style设置\" {...formItemLayout}>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"cellStyles\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: initialCellStyles,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item> : null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype === 'Button' && !deleteComponent ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"对齐方式\" {...formItemLayout}>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"textAlign\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: textAlign,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t左\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t中\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t右\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype === 'Radio' && !deleteComponent ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"类型\" {...formItemLayout}>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"radioType\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: radioType,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t默认\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"tab\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"tab\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\ttab\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n                    {\r\n                        this.renderComp()\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!deleteComponent ? (\r\n\t\t\t\t\t\t\t<div className=\"btn-box\">\r\n\t\t\t\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n\t\t\t        <div className=\"btn-bottom-box\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t        </div>\r\n\t\t    \t</Form>\r\n\t    \t</Drawer>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Form.create()(CompEdit);","const initDropData = (dragData, context, isFormItem = false) => {\r\n    const { dropComponent } = context.state;\r\n    const { configs } = context.props;\r\n    const { type, ...defaultConfigs } = dragData;\r\n    let newConfigs = {\r\n        textAlign: 'left',\r\n    };\r\n    if (dropComponent) {\r\n        if (type === 'Button' && configs.type === 'Button') {\r\n            newConfigs = Object.assign({}, configs);\r\n            newConfigs.buttonArr.push({\r\n                btnIndex: context.btnIndex,\r\n                ...defaultConfigs,\r\n            });\r\n            context.btnIndex += 1;\r\n        } else {\r\n            return;\r\n        }\r\n    } else {\r\n        if (type === 'Button') {\r\n            newConfigs.buttonArr = [{\r\n                btnIndex: context.btnIndex,\r\n                ...defaultConfigs,\r\n            }];\r\n            context.btnIndex += 1;\r\n        } else {\r\n            newConfigs = { ...defaultConfigs };\r\n        }\r\n        newConfigs.type = type;\r\n    }\r\n    if (isFormItem && newConfigs.type !== 'Button') {\r\n        const { configs } = context.props;\r\n        const { originSpan, cellStyles, colIndex, colSpan } = configs;\r\n        newConfigs.originSpan = originSpan;\r\n        newConfigs.cellStyles = cellStyles;\r\n        newConfigs.colIndex = colIndex;\r\n        newConfigs.colSpan = colSpan;\r\n        newConfigs.label = type;\r\n        newConfigs.name = `name-${colIndex}`;\r\n    }\r\n    return newConfigs;\r\n};\r\n\r\nexport default initDropData;","import moment  from 'moment';\r\nimport { FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER } from './Constants';\r\n\r\nconst containerArr = [FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER];\r\n\r\nconst isContainer = (type) => {\r\n    return containerArr.indexOf(type) > -1;\r\n};\r\n\r\nconst isLogin = () => {\r\n    return !!localStorage.getItem('access_token') && !!localStorage.getItem('webapi');\r\n}\r\n\r\nconst isIndex = (i) => {\r\n    return (/\\d+/).test(i);\r\n};\r\n\r\nconst getInitialValue = (config = {}) => {\r\n    const { type = 'Input', initialValue, format = 'YYYY-MM-DD' } = config;\r\n    if (type === 'DatePicker') {\r\n        return initialValue && moment(initialValue, format);\r\n    }\r\n    if (type === 'Checkbox') {\r\n        return [initialValue];\r\n    }\r\n    return initialValue || '';\r\n}\r\n\r\nconst getStyle = (config) => {\r\n    const { type, cellStyles, textAlign } = config;\r\n    return type === 'Button' ? Object.assign({}, cellStyles, { textAlign }) : cellStyles || {};\r\n};\r\n\r\nexport {\r\n    isLogin,\r\n    isIndex,\r\n    getStyle,\r\n    getInitialValue,\r\n};\r\n\r\nexport default isContainer;","import React, { Component, Fragment } from 'react';\r\nimport { Icon, message } from 'antd';\r\nimport DropRender from './DropRender';\r\nimport CompEdit from '../../EditDrawer/CompEdit';\r\nimport { activeColor } from '../../../utils/Constants';\r\nimport initDropData from '../../../utils/DropUtil';\r\nimport isContainer from '../../../utils/common';\r\nimport './index.css';\r\n\r\nconst clsName = 'drop-container';\r\n\r\nclass DropContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            configs: props.configs,\r\n            showEdit: false,\r\n            dropComponent: !!props.configs.type,\r\n        };\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.onDragenter = this.onDragenter.bind(this);\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.btnIndex = 1;\r\n    }\r\n    componentDidMount() {\r\n        if (!this.DropDom || this.props.preview) {\r\n            return;\r\n        }\r\n        this.DropDom.addEventListener(\"drop\", this.onDrop, false);\r\n        this.DropDom.addEventListener(\"dragleave\", this.onDragLeave, false);\r\n        this.DropDom.addEventListener(\"dragenter\", this.onDragenter, false);\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.DropDom && !this.props.preview) {\r\n            this.DropDom.removeEventListener('drop', this.onDrop);\r\n            this.DropDom.removeEventListener('dragleave', this.onDragLeave);\r\n            this.DropDom.removeEventListener(\"dragenter\", this.onDragenter);\r\n        }\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            showEdit: !this.state.showEdit,\r\n        });\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...newConfigs }) {\r\n        const { onUpdateLayoutConfig, configs } = this.props;\r\n        const { layoutIndex } = configs;\r\n        const newState = {\r\n            configs: {\r\n                layoutIndex,\r\n            },\r\n        };\r\n        // 删除组件\r\n        if (deleteFlag) {\r\n            newState.dropComponent = false;\r\n            newState.configs.cellStyles = newConfigs.cellStyles;\r\n        } else {\r\n            newState.configs = Object.assign({}, this.state.configs, newConfigs);\r\n        }\r\n        this.setState({\r\n            ...newState,\r\n        });\r\n        onUpdateLayoutConfig({\r\n            ...newState.configs,\r\n            deleteFlag,\r\n            layoutIndex,\r\n        });\r\n        if (!isContainer(this.state.configs.type)) {\r\n            this.onToggleEdit();\r\n        }\r\n    }\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (event.target.className === clsName) {\r\n            this.resetBg();\r\n            const data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            const { onUpdateLayoutConfig, configs = {} } = this.props;\r\n            const initData = initDropData(data, this);\r\n            if (!initData) {\r\n                message.warn('已经放置组件');\r\n                return;\r\n            }\r\n            const { type, ...newConfigs } = initData;\r\n            const { notAllow = [] } = this.props;\r\n            if (notAllow.indexOf(type) >= 0) {\r\n                message.warn('不容许拖放此类型的组件');\r\n                return;\r\n            }\r\n            const { layoutIndex } = configs;\r\n            if (newConfigs) {\r\n                this.setState({\r\n                    configs: {\r\n                        type,\r\n                        layoutIndex,\r\n                        ...newConfigs,\r\n                    },\r\n                    dropComponent: true,\r\n                }, () => {\r\n                    onUpdateLayoutConfig(this.state.configs);\r\n                });\r\n            }\r\n        }\r\n    }\r\n    resetBg() {\r\n        const dropDomArr = document.querySelectorAll('.drop-container');\r\n        if (dropDomArr) {\r\n            dropDomArr.forEach((item) => {\r\n                item.style.background = '';\r\n            });\r\n        }\r\n    }\r\n    onDragenter(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = activeColor;\r\n        }\r\n    }\r\n    onDragLeave(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = '';\r\n        }\r\n    }\r\n    render() {\r\n        const { dropComponent, configs, showEdit } = this.state;\r\n        const { layerConfig, preview } = this.props;\r\n        const newConfigs = preview ? this.props.configs :\r\n            Object.assign({}, configs);\r\n        return (\r\n            <div\r\n                className=\"drop-container\"\r\n                ref={(DropDom) => { this.DropDom = DropDom; }}\r\n            >\r\n                {\r\n                  dropComponent || preview ? (\r\n                    <Fragment> \r\n                        <DropRender\r\n                            {...this.props}\r\n                            onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                            configs={newConfigs}\r\n                        />\r\n                        {\r\n                            !isContainer(configs.type) && !preview ? ( <Icon\r\n                                type=\"bars\"\r\n                                className=\"edit-icon icon-bars\"\r\n                                onClick={this.onToggleEdit}\r\n                            />) : null\r\n                        }\r\n                    </Fragment>\r\n                    ) : !preview ? <Icon type=\"drag\" /> : null\r\n                }\r\n                <CompEdit\r\n                    visible={showEdit}\r\n                    configs={configs}\r\n                    layerConfig={layerConfig}\r\n                    inForm={false}\r\n                    onClose={this.onToggleEdit}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DropContainer;","import React, { Component } from 'react';\r\nimport { Button, Form, Input, Select, Drawer } from 'antd';\r\nimport  { objToStr, strToObj } from '../../../utils/CellUtil';\r\nimport { HEADER_CONTINAER, FALSE } from '../../../utils/Constants';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst TextArea = Input.TextArea;\r\nconst Option = Select.Option;\r\n\r\nclass BoxEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onClose } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { boxStyles, ...rest } = values;\r\n                const configs = {\r\n                    boxStyles: strToObj(boxStyles),\r\n                    ...rest,\r\n                };\r\n                onClose(configs);\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { visible, form, onClose, configs = {}, onDeleteContainer } = this.props;\r\n        const { boxStyles = {}, layoutColumn = 3, positionFixed = FALSE, type } = configs;\r\n        const initialBoxStyles = objToStr(boxStyles);\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Drawer\r\n                visible={visible}\r\n                maskClosable={false}\r\n                width={420}\r\n                title=\"编辑列\"\r\n                onClose={() => {\r\n                    onClose(0);\r\n                }}\r\n            >\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"style设置\"\r\n                        {...formItemLayout}\r\n                    >\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"boxStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialBoxStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n                    {\r\n                        type === HEADER_CONTINAER ? (\r\n                            <Form.Item\r\n                            label=\"位置固定\"\r\n                            {...formItemLayout}\r\n                        >\r\n                            {getFieldDecorator('positionFixed', {\r\n                                initialValue: positionFixed,\r\n    \r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"1\">是</Option>\r\n                                    <Option value=\"0\">否</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                        ) : null\r\n                    }\r\n                    {\r\n                        type !== HEADER_CONTINAER ? (\r\n                            <Form.Item\r\n                                label=\"容器列\"\r\n                                {...formItemLayout}\r\n                            >\r\n                                {getFieldDecorator('layoutColumn', {\r\n                                    initialValue: layoutColumn,\r\n                                    rules: [\r\n                                        { required: true, message: '请选择列数!' },\r\n                                    ],\r\n                                })(\r\n                                    <Select>\r\n                                        <Option value=\"1\">1</Option>\r\n                                        <Option value=\"2\">2</Option>\r\n                                        <Option value=\"3\">3</Option>\r\n                                        <Option value=\"4\">4</Option>\r\n                                        <Option value=\"5\">5</Option>\r\n                                        <Option value=\"6\">6</Option>\r\n                                        <Option value=\"7\">7</Option>\r\n                                        <Option value=\"8\">8</Option>\r\n                                    </Select>\r\n                                )}\r\n                            </Form.Item>\r\n                        ) : null\r\n                    }\r\n                    <div className=\"btn-box\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </div>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(BoxEdit);","import React from 'react';\r\nimport { Icon, Button, Popconfirm } from 'antd';\r\nimport BaseContainer from '../../Core/BaseContainer';\r\nimport DropContainer from '../DropContainer';\r\nimport BoxEdit from '../../EditDrawer/BoxEdit';\r\nimport './index.css';\r\nimport { BOX_CONTINAER } from '../../../utils/Constants';\r\n\r\nclass BoxContainer extends BaseContainer {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            configs: {\r\n                cellsArr: [{\r\n                    layoutIndex: 0,\r\n                }],\r\n                layoutColumn: 1, // 默认有一列\r\n            },\r\n        };\r\n        this.boxItemIndex = 0;\r\n        this.onAddRowCell = this.onAddRowCell.bind(this);\r\n        this.onReceiveConfigs = this.onReceiveConfigs.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onToggleEditDrawer = this.onToggleEditDrawer.bind(this);\r\n        this.onDeleteBoxItemContainer = this.onDeleteBoxItemContainer.bind(this);\r\n    }\r\n    onReceiveConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const { layoutColumn } = this.props;\r\n        const newConfigs = Object.assign({ ...configs }, layoutColumn);\r\n        const newCellsArr = newConfigs.cellsArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.layoutIndex !== item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        layoutIndex: values.layoutIndex,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.layoutIndex === item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newConfigs.cellsArr = newCellsArr;\r\n        this.onUpdateConfigs(newConfigs);\r\n    }\r\n    onDeleteBoxItemContainer(layoutIndex) {\r\n        const { configs } = this.state;\r\n        const { cellsArr = [] } = configs;\r\n        const newCellsArr = cellsArr.reduce((arr, item) => {\r\n            if (item.layoutIndex !== layoutIndex) {\r\n                arr.push(item);\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs, { cellsArr: newCellsArr });\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    onAddRowCell() {\r\n        const { configs } = this.state;\r\n        const { cellsArr, layoutColumn } = configs;\r\n        this.boxItemIndex += 1;\r\n        const newCellsArr = cellsArr.concat([{\r\n            layoutIndex: this.boxItemIndex,\r\n        }]);\r\n        const newConfigs = {\r\n            layoutColumn,\r\n            cellsArr: newCellsArr,\r\n        };\r\n        const newState = {\r\n            configs: newConfigs,\r\n        };\r\n        this.setState({\r\n            ...newState,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    rendeCell(layoutColumn) {\r\n        if (!layoutColumn) {\r\n            return null;\r\n        }\r\n        const { preview, context = this, apiData, execFetchApi, onShowLoginModal, ...restProps } = this.props;\r\n        const componentArr = [];\r\n        const width = `${100 / layoutColumn}%`;\r\n        const { configs } = preview ? this.props : this.state;\r\n        const { cellsArr } = configs;\r\n        const cellNum = cellsArr.length;\r\n        const { layerConfig } = this.props;\r\n        for (let i = 0; i < cellNum; i++) {\r\n            const configs = cellsArr[i];\r\n            const { layoutIndex } = configs;\r\n            const hasDeleteIcon = !preview && cellNum > 1;\r\n            const cls = hasDeleteIcon ? \"cell border-box box-item item-delete-flag\" : \"cell border-box box-item\";\r\n            componentArr.push((\r\n               <div className={cls} key={`box-cell-${layoutIndex}`} style={{ width }}>\r\n                    <DropContainer\r\n                        layoutIndex={layoutIndex}\r\n                        apiData={apiData}\r\n                        execFetchApi={execFetchApi}\r\n                        layerConfig={layerConfig}\r\n                        {...restProps}\r\n                        configs={configs}\r\n                        preview={preview}\r\n                        onShowLoginModal={onShowLoginModal}\r\n                        context={context}\r\n                        onUpdateLayoutConfig={this.onReceiveConfigs}\r\n                    />\r\n                    {\r\n                        hasDeleteIcon ? (\r\n                            <Popconfirm\r\n                                title=\"确定删除?\"\r\n                                onConfirm={() => {\r\n                                    this.onDeleteBoxItemContainer(layoutIndex);\r\n                                }}\r\n                                okText=\"是\"\r\n                                cancelText=\"否\"\r\n                            >\r\n                                <Icon type=\"close\" className=\"box-item-delete\" />\r\n                            </Popconfirm>\r\n                        ) : null\r\n                    }\r\n               </div>\r\n            ));\r\n        }\r\n        return componentArr;\r\n    }\r\n    _render() {\r\n        const { visible } = this.state;\r\n        const { onUpdateLayoutConfig, configs = {}, preview } = this.props;\r\n        const { layoutColumn = 1, boxStyles } = configs;\r\n        return (\r\n            <div className={`box-container ${ preview ? 'preview-mode' : 'edit-mode'}`} style={boxStyles}>\r\n                <div className=\"clear-box\">\r\n                    {this.rendeCell(+layoutColumn)}\r\n                </div>\r\n                <BoxEdit\r\n                    visible={visible}\r\n                    configs={configs}\r\n                    onClose={(pConfigs) => {\r\n                        if (pConfigs) {\r\n                            const { layoutColumn } = pConfigs;\r\n                            const { cellsArr } = this.state.configs;\r\n                            const newConfigs = {\r\n                                cellsArr,\r\n                                layoutColumn: +layoutColumn,\r\n                                layoutIndex: configs.layoutIndex,\r\n                                type: BOX_CONTINAER,\r\n                                boxStyles: pConfigs.boxStyles,\r\n                            };\r\n                            this.setState({\r\n                                configs: newConfigs,\r\n                            });\r\n                            onUpdateLayoutConfig(newConfigs);\r\n                        }\r\n                        this.onToggleEditDrawer();\r\n                    }}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                />\r\n                {\r\n                    !preview ? (\r\n                        <>\r\n                        <Icon type=\"form\" className=\"edit-icon icon-form\" onClick={this.onToggleEditDrawer} />\r\n                        </>\r\n                    ) : null\r\n                }\r\n                {\r\n                    !preview ? (\r\n                        <div className=\"btn-add-box\">\r\n                            <Button\r\n                                ghost\r\n                                type=\"primary\"\r\n                                onClick={this.onAddRowCell}\r\n                            >\r\n                                + boxItem\r\n                            </Button>\r\n                        </div>\r\n                    ) : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BoxContainer;","import React, { Component } from 'react';\r\nimport { Icon } from 'antd';\r\nimport DropContainer from '../DropContainer';\r\nimport BoxEdit from '../../EditDrawer/BoxEdit';\r\nimport { TRUE, HEADER_CONTINAER } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nclass HeaderContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            configs: {\r\n                cellsArr: [{\r\n                    layoutIndex: 0,\r\n                }],\r\n                type: HEADER_CONTINAER,\r\n                layoutColumn: 1, // 默认有一列\r\n            },\r\n        };\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            visible: !this.state.visible,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n        this.onToggleEdit();\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...values }) {\r\n        const { onUpdateLayoutConfig, configs } = this.props;\r\n        const { layoutIndex } = configs;\r\n        const newConfigs = Object.assign({ layoutIndex }, this.state.configs);\r\n        const newCellsArr = newConfigs.cellsArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.layoutIndex !== item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        layoutIndex: values.layoutIndex,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.layoutIndex === item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newConfigs.cellsArr = newCellsArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            onUpdateLayoutConfig(newConfigs);\r\n        });\r\n    }\r\n    rendeCell(layoutColumn) {\r\n        if (!layoutColumn) {\r\n            return null;\r\n        }\r\n        const componentArr = [];\r\n        const width = `${100 / layoutColumn}%`;\r\n        const { preview } = this.props;\r\n        const { cellsArr = [] } = preview ? this.props.configs : this.state.configs;\r\n        const cellNum = cellsArr.length;\r\n        for (let i = 0; i < cellNum; i++) {\r\n            componentArr.push((\r\n               <div className=\"cell border-box\" key={`cell-${layoutColumn}-${i}`} style={{ width }}>\r\n                    < DropContainer\r\n                        layoutIndex={i}\r\n                        notAllow={['FormContainer', 'TableContainer', 'Button']}\r\n                        preview={preview}\r\n                        configs={Object.assign({ layoutIndex: i }, cellsArr[i])}\r\n                        onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                    />\r\n               </div>\r\n            ));\r\n        }\r\n        return componentArr;\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { onUpdateLayoutConfig, configs = {}, preview = false, type } = this.props;\r\n        const { layoutIndex, layoutColumn = 1, boxStyles, positionFixed } = configs;\r\n        const positionCls = positionFixed === TRUE ? 'position-fixed' : '';\r\n        const previewCls = preview ? 'preview-box' : '';\r\n        return (\r\n            <div className={`container header-box fulu-cell-box ${positionCls}  ${previewCls}`} style={boxStyles}>\r\n                {\r\n                    this.rendeCell(+layoutColumn)\r\n                }\r\n                <BoxEdit\r\n                    visible={visible}\r\n                    configs={configs}\r\n                    type={type}\r\n                    onClose={(configs) => {\r\n                        if (configs) {\r\n                            const { layoutColumn } = configs;\r\n                            const { cellsArr } = this.state.configs;\r\n                            const newCellsArr = cellsArr.slice(0, layoutColumn);\r\n                            for (let i = 0; i < layoutColumn; i++) {\r\n                                if (newCellsArr.length <= i) {\r\n                                    newCellsArr.push({\r\n                                        layoutIndex: i\r\n                                    });\r\n                                }\r\n                            }\r\n                            const newConfigs = {\r\n                                ...configs,\r\n                                layoutIndex,\r\n                                type: HEADER_CONTINAER,\r\n                                cellsArr: newCellsArr,\r\n                            };\r\n                            this.setState({\r\n                                configs: newConfigs,\r\n                            });\r\n                            onUpdateLayoutConfig(newConfigs);\r\n                        }\r\n                        this.onToggleEdit();\r\n                    }}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                />\r\n                {\r\n                    !preview ? \r\n                        <Icon type=\"form\" className=\"edit-icon icon-form\" onClick={this.onToggleEdit} /> : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HeaderContainer;","import React from 'react';\r\nimport { Button, Checkbox, Input, Icon, Tabs, Select, DatePicker, Breadcrumb, Radio, Form } from 'antd';\r\nimport FormContainer from '../component/Container/FormContainer';\r\nimport LineContainer from '../component/Container/LineContainer';\r\nimport TableContainer from '../component/Container/TableContainer';\r\nimport BoxContainer from '../component/Container/BoxContainer';\r\nimport HeaderContainer from '../component/Container/HeaderContainer';\r\nimport formItemLayout from '../configs/layout';\r\nimport { isIndex } from './common';\r\n\r\nconst CheckboxGroup = Checkbox.Group;\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nconst { TabPane } = Tabs;\r\nconst { TextArea } = Input;\r\n\r\nconst renderComponent = (renderConfig, props) => {\r\n    const { placeholder = '', type } = renderConfig;\r\n    let component = null;\r\n    switch(type) {\r\n        case 'Text':\r\n            component = renderText(renderConfig);\r\n            break;\r\n        case 'Breadcrumb':\r\n            component = renderBreadcrumb(renderConfig);\r\n            break;\r\n        case 'Select':\r\n            component = renderSelect(renderConfig);\r\n            break;\r\n        case 'RangePicker':\r\n            component = renderRangePicker(renderConfig);\r\n            break;\r\n        case 'DatePicker':\r\n            component = renderDatePicker(renderConfig);\r\n            break;\r\n        case 'Radio':\r\n            component = renderRadio(renderConfig);\r\n            break;\r\n        case 'Checkbox':\r\n            component = renderCheckbox(renderConfig);\r\n            break;\r\n        case 'Tabs':\r\n            component = renderTabs(renderConfig);\r\n            break;\r\n        case 'Button':\r\n            component = renderBtn(renderConfig, props);\r\n            break;\r\n        case 'FormContainer':\r\n            component = renderForm(renderConfig, props);\r\n            break;\r\n        case 'LineContainer':\r\n            component = renderLine(renderConfig, props);\r\n            break;\r\n        case 'TableContainer':\r\n            component = renderTable(renderConfig, props);\r\n            break;\r\n        case 'BoxContainer':\r\n            component = renderBox(renderConfig, props);\r\n            break;\r\n        case 'HeaderContainer':\r\n            component = renderHeader(renderConfig, props);\r\n            break;\r\n        case 'TextArea':\r\n            component = renderTextArea(renderConfig);\r\n            break;\r\n        case 'Input':\r\n            component = (<Input placeholder={placeholder} />);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    return component;\r\n};\r\n\r\nconst renderTextArea = (configs) => {\r\n    const { colIndex, dropIndex, originSpan, layoutIndex, cellStyles, hasLinkage,  ...rest } = configs;\r\n    return (<TextArea {...rest} />);\r\n};\r\n\r\nconst renderForm = (configs, props) => {\r\n    return (<FormContainer configs={configs} {...props} />);\r\n};\r\n\r\nconst renderHeader = (configs, props) => {\r\n    return (<HeaderContainer {...configs} {...props} />);\r\n};\r\n\r\nconst renderTable = (configs, props) => {\r\n    return (<TableContainer configs={configs} {...props} />);\r\n};\r\n\r\nconst renderLine = (configs, props) => {\r\n    return (<LineContainer configs={configs} {...props} />)\r\n};\r\n\r\nconst renderBox = (configs, props) => {\r\n    return (<BoxContainer configs={configs} {...props} />);\r\n};\r\n\r\nconst renderBreadcrumb = (configs) => {\r\n    const { breadcrumbArr = [], style } = configs;\r\n    return (\r\n        <Breadcrumb style={style}>\r\n            {\r\n                breadcrumbArr.map(({ label, value }, i) => {\r\n                    return (\r\n                        <Breadcrumb.Item key={`breadcrumb-${i}`}>\r\n                            { value ? \r\n                                <a href={value}>{label}</a> : <span>{label}</span>\r\n                            }\r\n                        </Breadcrumb.Item>\r\n                    );\r\n                })\r\n            }\r\n        </Breadcrumb>\r\n    )\r\n};\r\nconst renderText = (configs) => {\r\n    const { text, style } = configs;\r\n    return (\r\n        <span style={style}>{text}</span>\r\n    );\r\n};\r\nconst renderRadio = (configs) => {\r\n    const { style = {}, radioArr = [], radioType } = configs;\r\n    const RadioItem = radioType === 'tab' ? Radio.Button : Radio;\r\n    return (\r\n        <Radio.Group style={{ ...style }}>\r\n            {\r\n                Array.isArray(radioArr) ? radioArr.map(({ key, label, value }) => {\r\n                    return (\r\n                        <RadioItem\r\n                            key={key || value}\r\n                            value={value}\r\n                        >\r\n                            {label}\r\n                        </RadioItem>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Radio.Group>\r\n    );\r\n};\r\nconst renderTabs = (configs) => {\r\n    const { style = {}, tabsArr = [] } = configs;\r\n    return (\r\n        <Tabs style={style}>\r\n            {\r\n                Array.isArray(tabsArr) ? tabsArr.map(({ key, label, value }) => {\r\n                    return (\r\n                        <TabPane\r\n                            key={key || value}\r\n                            tab={label}\r\n                        >\r\n\r\n                        </TabPane>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Tabs>\r\n   );\r\n};\r\nconst renderCheckbox = (configs) => {\r\n    const { style = {}, checkboxArr = [] } = configs;\r\n    if (Array.isArray(checkboxArr)) {\r\n        return (\r\n            <CheckboxGroup options={checkboxArr} style={{ width: \"100%\", ...style }} />\r\n        );\r\n    }\r\n    return null;\r\n};\r\nconst renderSelect = (configs) => {\r\n    const { style = {}, options, selectArr, ...rest } = configs;\r\n    const finalOptions = Object.hasOwnProperty.call(configs, 'options') ? configs.options : configs.selectArr;\r\n    return (\r\n        <Select style={{ width: '100%', ...style }} {...rest}>\r\n            {\r\n                Array.isArray(finalOptions) ? finalOptions.map(({ key, label, value }) => {\r\n                    return (\r\n                        <Option\r\n                            key={key || value}\r\n                            value={value}\r\n                        >\r\n                            {label}\r\n                        </Option>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Select>\r\n    );\r\n};\r\nconst renderDatePicker = (configs) => {\r\n    const { showTime, format } = configs;\r\n        return (\r\n            <DatePicker\r\n                style={{ width: '100%' }}\r\n                showTime={showTime}\r\n                format={format}\r\n            />\r\n        );\r\n};\r\nconst renderRangePicker = (configs) => {\r\n    const { showTime, format } = configs;\r\n        return (\r\n            <RangePicker\r\n                showTime={showTime}\r\n                format={format}\r\n                style={{ width: '100%' }}\r\n            />\r\n        );\r\n}\r\n/**\r\n * @desc 获取按钮disabled属性\r\n */\r\nconst getMultBtnDisabled = (logicType, selectedRowKeys) => {\r\n    if (logicType === 'mult') {\r\n        const isEnabled = Array.isArray(selectedRowKeys) && selectedRowKeys.length > 0;\r\n        return !isEnabled;\r\n    }\r\n    return false;\r\n};\r\n\r\nconst renderBtn = (configs, { context, onResetForm }) => {\r\n    const { buttonArr = [] } = configs;\r\n    const { state, onCollapse } = context || {};\r\n    const { expand = true } = state;\r\n    const { GuiContext } = context;\r\n    return (\r\n        <GuiContext.Consumer>\r\n            {\r\n                ({ selectedRowKeys }) =>\r\n                    <span className=\"btn-group\">\r\n                        {\r\n                            buttonArr.map((btnConfig) => {\r\n                                const { logicType, btnText, expandCount, api, modalName, antdType, skipUrl,\r\n                                    style = {}, textDisabled, btnIndex, ...btnProps } = btnConfig;\r\n                                if (logicType === 'expand') {\r\n                                    const collapseBtnText = expand ? '收起' : '展开';\r\n                                    return (\r\n                                        <span\r\n                                            className=\"fulu-btn-collapse\"\r\n                                            onClick={onCollapse}\r\n                                            style={style}\r\n                                            key={`btn-${btnIndex}`}\r\n                                        >\r\n                                            {collapseBtnText}\r\n                                            <Icon type={expand ? 'up' : 'down'} />\r\n                                        </span>\r\n                                        );\r\n                                }\r\n                                if (btnConfig.htmlType !== 'submit') {\r\n                                    btnProps.onClick = (e) => {\r\n                                        if (context) {\r\n                                            if (btnConfig.htmlType === 'reset') {\r\n                                                onResetForm();\r\n                                            } else if (modalName) {\r\n                                                context.onShowModal(e, modalName, api);\r\n                                            } else if (logicType === 'mult') {\r\n                                                context.execFetchApi(api, {}, logicType);\r\n                                            } else if (logicType === 'skip') {\r\n                                                window.location = skipUrl;\r\n                                            }\r\n                                        }\r\n                                    };\r\n                                }\r\n                                \r\n                                return (\r\n                                    <Button\r\n                                        key={`btn-${btnIndex}`}\r\n                                        style={style}\r\n                                        type={antdType}\r\n                                        {...btnProps}\r\n                                        disabled={getMultBtnDisabled(logicType, selectedRowKeys)}\r\n                                    >\r\n                                        {btnText}\r\n                                    </Button>\r\n                                );\r\n                            })\r\n                        }\r\n                    </span>\r\n            }\r\n        </GuiContext.Consumer>\r\n    );\r\n}\r\n\r\nconst renderConfigForm = (form, renderConfig, initData = {}) => {\r\n    const { getFieldDecorator } = form;\r\n    const hasIndex = isIndex(initData.index);\r\n    if (Array.isArray(renderConfig)) {\r\n        return renderConfig.map((cf) => {\r\n            const { label, key, rules = [], initialValue, required, renderCondition } = cf;\r\n            if (renderCondition) { // 有渲染条件限制\r\n                const { name, value } = renderCondition;\r\n                const itemName = hasIndex ? `${name}-${initData.index}` : name;\r\n                if (form.getFieldValue(itemName) !== value) {\r\n                    return null;\r\n                }\r\n            }\r\n            if (required) {\r\n                rules.push({\r\n                    required: true, message: `请输入${label}`,\r\n                });\r\n            }\r\n            return (\r\n                <Form.Item label={label} key={`${key}-item`} {...formItemLayout}>\r\n                    {getFieldDecorator(hasIndex ? `${key}-${initData.index}` : key, {\r\n                            rules,\r\n                            initialValue: initData[key] || initialValue,\r\n                        })(renderComponent(cf))}\r\n                </Form.Item>\r\n            );\r\n        });\r\n    }\r\n    return null;\r\n};\r\n\r\nconst renderModalSelect = (layerConfig = {}, form, initialValue, key = '') => {\r\n    const keyStr = `${key}`;\r\n    const { modalArr = [] } = layerConfig;\r\n    if (modalArr.length === 0) {\r\n        return null;\r\n    }\r\n    const formItemKey = keyStr ? `modal-item-${keyStr}` : 'modal-item';\r\n    const formNameKey = keyStr ? `modalName-${keyStr}` : 'modalName';\r\n    return (\r\n        <Form.Item\r\n            key={formItemKey}\r\n            label=\"打开modal\"\r\n            {...formItemLayout}\r\n        >\r\n            {form.getFieldDecorator(formNameKey, {\r\n                rules: [{ required: true, 'message': 'modal' }],\r\n                initialValue,\r\n            })(\r\n                <Select placeholder=\"modal\">\r\n                    {\r\n                        modalArr.map(({ index, name }) => {\r\n                            return (\r\n                                <Option key={`modalName-${index}`} value={name}>{name}</Option>\r\n                            )\r\n                        })\r\n                    }\r\n                </Select>\r\n            )}\r\n        </Form.Item>\r\n    );\r\n};\r\n\r\nconst renderApiSelect = (layerConfig = {}, form, compData) => {\r\n    const { initialValue, key = '', label = '调用api', apiName } = compData;\r\n    const keyStr = `${key}`;\r\n    const { apiArr = [] } = layerConfig;\r\n    if (apiArr.length === 0) {\r\n        return null;\r\n    }\r\n    const formItemKey = apiName ? `api-item-${apiName}` : keyStr ? `api-item-${keyStr}` : 'modal-item';\r\n    const formNameKey = apiName ? apiName : keyStr ? `api-${keyStr}` : 'api';\r\n    return (\r\n        <Form.Item\r\n            key={formItemKey}\r\n            label={label}\r\n            {...formItemLayout}\r\n        >\r\n            {form.getFieldDecorator(formNameKey, {\r\n                rules: [{ required: true, 'message': 'api' }],\r\n                initialValue,\r\n            })(\r\n                <Select placeholder=\"api\">\r\n                    {\r\n                        apiArr.map(({ index, requestApi }) => {\r\n                            return (\r\n                                <Option key={`api-${index}`} value={requestApi}>{requestApi}</Option>\r\n                            )\r\n                        })\r\n                    }\r\n                </Select>\r\n            )}\r\n        </Form.Item>\r\n    );\r\n};\r\n\r\nexport default renderComponent;\r\n\r\nexport {\r\n    renderModalSelect,\r\n    renderApiSelect,\r\n    renderConfigForm,\r\n};","import React, { Component, Fragment } from 'react';\r\nimport { Button, Divider, message, Form, Input, Select, Drawer } from 'antd';\r\nimport { renderApiSelect } from '../../../utils/RenderUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\n\r\nclass FormEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n    handleChange(value) {\r\n        const colSpanValues = {};\r\n        const val = 24 / value;\r\n        for(let i = 0; i < value; i++) {\r\n            colSpanValues[`colSpan-${i}`] = val;\r\n        }\r\n        setTimeout(() => {\r\n            this.props.form.setFieldsValue(colSpanValues);\r\n        }, 0);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onSave } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const lcNum = +values.layoutColumn;\r\n                let colSpanTotal = 0;\r\n                const configs = {\r\n                    colSpanArr: [],\r\n                };\r\n                for (let i = 0; i < lcNum; i++) {\r\n                    const colSpan = +values[`colSpan-${i}`];\r\n                    delete values[`colSpan-${i}`];\r\n                    colSpanTotal += colSpan;\r\n                    configs.colSpanArr.push(colSpan);\r\n                }\r\n                if (colSpanTotal > 24) {\r\n                    message.error('跨列总数不能超过24!');\r\n                    return;\r\n                }\r\n                onSave(Object.assign(configs, values));\r\n            }\r\n        });\r\n    }\r\n    renderColSpanInputs() {\r\n        const { form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const layoutColumn = +form.getFieldValue('layoutColumn');\r\n        const componentArr = [];\r\n        for (let i = 0; i < layoutColumn; i++) {\r\n            componentArr.push(\r\n                <Form.Item\r\n                    key={`formitem-${i}`}\r\n                    label={`第${i+1}列`}\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator(`colSpan-${i}`, {\r\n                        initialValue: 24 / layoutColumn,\r\n                        rules: [\r\n                            { required: true, message: '请输入列宽!' },\r\n                            { pattern: /^[1-9](\\d)?$/, message: '只能包含数字！' }\r\n                        ],\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n            );\r\n        }\r\n        return componentArr;\r\n    }\r\n    renderApiFormItem() {\r\n        const { form, layerConfig } = this.props;\r\n        if (form.getFieldValue('formType') === 'query') {\r\n            return renderApiSelect(layerConfig, form, { label: '查询api', apiName: 'queryApi' });\r\n        }\r\n        return (\r\n            <Fragment>\r\n                {renderApiSelect(layerConfig, form, { label: '新增api', apiName: 'addApi' })}\r\n                {renderApiSelect(layerConfig, form, { label: '编辑api', apiName: 'editApi' })}\r\n            </Fragment>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, form, onClose, onDeleteContainer } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Drawer\r\n                visible={visible}\r\n                maskClosable={false}\r\n                width={420}\r\n                title=\"编辑列\"\r\n                onClose={onClose}\r\n            >\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"表单列\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('layoutColumn', {\r\n                            initialValue: 3,\r\n                            rules: [\r\n                                { required: true, message: '请选择列数!' },\r\n                            ],\r\n                        })(\r\n                            <Select onChange={this.handleChange}>\r\n                                <Option value=\"1\">1</Option>\r\n                                <Option value=\"2\">2</Option>\r\n                                <Option value=\"3\">3</Option>\r\n                                <Option value=\"4\">4</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    <Divider />\r\n                    {this.renderColSpanInputs()}\r\n                    <Divider />\r\n                    <Form.Item\r\n                        label=\"对齐方式\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('formItemAlign', {\r\n                            initialValue: 'lr',\r\n                        })(\r\n                            <Select>\r\n                                <Option value=\"lr\">左右对齐</Option>\r\n                                <Option value=\"r\">文字右对齐</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        label=\"表单类型\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('formType', {\r\n                            initialValue: 'query',\r\n                            rules: [\r\n                                { required: true, message: '请选择表单类型!' },\r\n                            ],\r\n                        })(\r\n                            <Select>\r\n                                <Option value=\"query\">查询</Option>\r\n                                <Option value=\"save\">新增/编辑</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    {\r\n                        this.renderApiFormItem()\r\n                    }\r\n                    <div className=\"btn-box\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </div>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(FormEdit);","import React, { Component, Fragment } from 'react';\r\nimport { Form, Col } from 'antd';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\nimport { getStyle, getInitialValue } from '../../../utils/common';\r\n\r\nclass FormItemRender extends Component {\r\n\trender() {\r\n        const { configs, form, context, preview = false,\r\n            colSpanArr = [], formItemAlign, onResetForm } =this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { type, colSpan, label, name, rules = [], required } = configs;\r\n        const md = colSpan || colSpanArr[0] || 8;\r\n        if (!name && type !== 'Button') {\r\n            return null;\r\n        }\r\n        if (required) {\r\n            rules.push({\r\n                required: true, message: `请输入${label}`,\r\n            });\r\n        }\r\n        const styleObj = getStyle(configs);\r\n        const formItemProps = {\r\n            label,\r\n            style: styleObj, \r\n        };\r\n        if (formItemAlign === 'r') {\r\n            formItemProps.labelCol = { span: 6 };\r\n            formItemProps.wrapperCol = { span: 14 };\r\n        }\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Col\r\n\t\t\t        span={md}\r\n                    md={md}\r\n                    sm={24}\r\n\t\t\t    >\r\n                    {\r\n                        type !== 'Button' ?\r\n                            (\r\n                                <Form.Item {...formItemProps}>\r\n                                    {getFieldDecorator(name, {\r\n                                        rules: rules || [],\r\n                                        initialValue: getInitialValue(configs),\r\n                                    })(\r\n                                        renderComponent(configs, { preview, context })\r\n                                    )}\r\n                                </Form.Item>\r\n                            ) : (\r\n                                <Form.Item style={styleObj}>\r\n                                    {\r\n                                        renderComponent(configs, { preview, context, onResetForm })\r\n                                    }\r\n                                </Form.Item>\r\n                            )\r\n                    }\r\n\t\t\t      \r\n\t\t\t    </Col>\r\n\t\t    </Fragment>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default FormItemRender;","import React, { Fragment } from 'react';\r\nimport { Button, Card, Drawer, Divider, Select, Input, Icon, Form } from 'antd';\r\nimport BaseEdit from '../../Core/BaseEdit';\r\nimport { objToStr } from '../../../utils/CellUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport { TRUE } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\n\r\nclass FormItemEdit extends BaseEdit {\r\n\tgetItemSetType() {\r\n\t\treturn ['Select', 'Button', 'Radio', 'Checkbox'];\r\n\t}\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tbuttonArr: [],\r\n\t\t\tselectArr: [],\r\n\t\t\tradioArr: [],\r\n\t\t\tcheckboxArr: [],\r\n\t\t};\r\n\t\tthis.onAddCellStyleItem = this.onAddCellStyleItem.bind(this);\r\n\t\tthis.onDeleteCellStyleItem = this.onDeleteCellStyleItem.bind(this);\r\n\t\tthis.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n\t}\r\n\tonAddCellStyleItem() {\r\n\t\tconst { cellStyles = [] } = this.state;\r\n\t\tconst newCellStyles = cellStyles.slice();\r\n\t\tnewCellStyles.push({\r\n\t\t\tvalue: '',\r\n\t\t\tname: '',\r\n\t\t\tindex: this.cellStyleIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tcellStyles: newCellStyles,\r\n\t\t});\r\n\t\tthis.cellStyleIndex += 1;\r\n\t}\r\n\tonDeleteCellStyleItem(index) {\r\n\t\tconst { cellStyles = [] } = this.state;\r\n\t\tconst newCellStyles = cellStyles.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tcellStyles: newCellStyles,\r\n\t\t});\r\n\t}\r\n\tonDeleteContainer() {\r\n\t\tthis.setState({\r\n\t\t\tdeleteFormItem: true,\r\n\t\t});\r\n\t}\r\n\trenderLinkage(configs, formItemArr) {\r\n\t\tconst { condition, linkName } = configs;\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"关联组件name\">\r\n\t\t\t\t\t{getFieldDecorator('linkName', {\r\n\t\t\t\t\t\tinitialValue: linkName,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tformItemArr.map(({ name, colIndex, label }) => {\r\n\t\t\t\t\t\t\t\t\tif (name && colIndex !== configs.colIndex) {\r\n\t\t\t\t\t\t\t\t\t\treturn (<Option value={`${name}`} key={`linkage-${name}`}>{`${name}/${label}`}</Option>);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"显示条件\">\r\n\t\t\t\t\t{getFieldDecorator('condition', {\r\n\t\t\t\t\t\tinitialValue: condition,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trenderDatePickerExtra(configs) {\r\n\t\tconst { type, showTime = false, format = 'YYYY-MM-DD', dateKeys } = configs;\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t\t<Form.Item {...formItemLayout} label=\"showTime\">\r\n\t\t\t\t\t\t{getFieldDecorator('showTime', {\r\n\t\t\t\t\t\t\tinitialValue: showTime === TRUE ? '1' : '0',\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item {...formItemLayout} label=\"format\">\r\n\t\t\t\t\t\t{getFieldDecorator('format', {\r\n\t\t\t\t\t\t\tinitialValue: format,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype === 'RangePicker' ? \r\n\t\t\t\t\t\t\t<Form.Item {...formItemLayout} label=\"接口对应字段\">\r\n\t\t\t\t\t\t\t\t{getFieldDecorator('dateKeys', {\r\n\t\t\t\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\t\t\trequired: true, message: '接口对应字段',\r\n\t\t\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\t\t\tinitialValue: dateKeys,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"两个字段，以逗号隔不开\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item> : null\r\n\t\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trenderComp() {\r\n\t\tconst { deleteComponent } = this.state;\r\n\t\tconst { form, dropComponent = false, configs = {}, formItemArr } = this.props;\r\n\t\tconst { type, label, name, placeholder, linkage, required } = configs;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tif (dropComponent && !deleteComponent) {\r\n\t\t\tif (type === 'Button') {\r\n\t\t\t\treturn this.renderBtnCard();\r\n\t\t\t}\r\n\t\t\treturn (<Fragment>\r\n\t\t\t\t<Divider>组件</ Divider>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"label\">\r\n\t\t\t\t\t{getFieldDecorator('label', {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true, message: 'label',\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: label,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"name\">\r\n\t\t\t\t\t{getFieldDecorator('name', {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true, message: 'name',\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"required\">\r\n\t\t\t\t\t{getFieldDecorator('required', {\r\n\t\t\t\t\t\tinitialValue: required,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select allowClear>\r\n\t\t\t\t\t\t\t<Option value={1}>是</Option>\r\n\t\t\t\t\t\t\t<Option value={0}>否</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'DatePicker' || type === 'RangePicker' ? \r\n\t\t\t\t\t\tthis.renderDatePickerExtra(configs) : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Radio' ? this.renderRadio() : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Checkbox' ? this.renderCheckbox() : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Select' ? this.renderSelect() : null\r\n\t\t\t\t}\r\n\t\t\t\t{this.renderDefaultValueItem()}\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"placeholder\">\r\n\t\t\t\t\t{getFieldDecorator('placeholder', {\r\n\t\t\t\t\t\tinitialValue: placeholder,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"联动关联\">\r\n\t\t\t\t\t{getFieldDecorator('hasLinkage', {\r\n\t\t\t\t\t\tinitialValue: linkage,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{\r\n\t\t\t\t\tform.getFieldValue('hasLinkage') === TRUE ?\r\n\t\t\t\t\t\tthis.renderLinkage(configs, formItemArr) : null\r\n\t\t\t\t}\r\n\t\t\t\t<Form.Item style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderCellStylesSetting() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { cellStyles } = this.state;\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle=\"style设置\"\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={this.onAddCellStyleItem} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tcellStyles.map(({ name, value, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`cell-styleitem-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`cell-styleitem-name-${index}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`styleName-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"style name\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`cell-styleitem-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`styleValue-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"style value\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteCellStyleItem(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trenderContent() {\r\n\t\tconst { deleteComponent, deleteFormItem } = this.state;\r\n\t\tconst { form, dropComponent, configs, colSpanArr } = this.props;\r\n\t\tconst { colSpan, type, textAlign = 'left', cellStyles } = configs;\r\n\t\tlet initialColSpan = 1;\r\n\t\tlet tempColSpan = colSpan;\r\n\t\tfor (let i = 0; i < colSpanArr.length; i++) {\r\n\t\t\ttempColSpan -= colSpanArr[i].colSpan;\r\n\t\t\tif (tempColSpan > 0) {\r\n\t\t\t\tinitialColSpan++;\r\n\t\t\t} else {\r\n\t\t\t\ti = colSpanArr.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (deleteFormItem) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Divider>FormItem</ Divider>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t\tlabel=\"style设置\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"cellStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: objToStr(cellStyles),\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tkey=\"cell-colSpan\"\r\n\t\t\t\t\t\tlabel=\"跨列设置\"\r\n\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"originSpan\", {\r\n\t\t\t\t\t\t\tinitialValue: initialColSpan,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcolSpanArr.map((c, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`${c}-${i}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={i+1}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{`${i+1}列`}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!deleteComponent && dropComponent && type === 'Button' ? (\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"对齐方式\"\r\n\t\t\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"textAlign\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: textAlign,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t左\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t中\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t右\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n\t\t\t\t<div className=\"btn-box\">\r\n\t\t\t\t\t<Button onClick={this.onDeleteContainer}>\r\n\t\t\t\t\t\t删除FormItem\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.renderComp()\r\n\t\t\t\t}\r\n\t\t\t</>\t\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { visible, onClose } = this.props;\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\ttitle=\"编辑表单项\"\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tthis.onCloseEdit();\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t{this.renderContent()}\r\n\t\t\t\t\t<div className=\"btn-bottom-box\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t    \t</Drawer>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Form.create()(FormItemEdit);","import React, { PureComponent } from 'react';\r\nimport { Icon, message } from 'antd';\r\nimport FormItemRender from './FormItemRender';\r\nimport FormItemEdit from '../../EditDrawer/FormItemEdit';\r\nimport { activeColor } from '../../../utils/Constants';\r\nimport initDropData from '../../../utils/DropUtil';\r\nimport './index.css';\r\n\r\nconst clsName = 'drop-container border-box';\r\nconst forbiddenDropType = ['Breadcrumb', 'Text', 'Tabs'];\r\n\r\nclass FormItemContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dropComponent: !!props.configs.type,\r\n        };\r\n        this.btnIndex = 1;\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onShowEditItem = this.onShowEditItem.bind(this);\r\n        this.onEditDropContainer = this.onEditDropContainer.bind(this);\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.onDeleteChildren = this.onDeleteChildren.bind(this);\r\n        this.onClose = this.onClose.bind(this);\r\n    }\r\n    onShowEditItem() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        if (event.target.className === clsName) {\r\n            this.resetBg();\r\n            const data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            const { type } = data;\r\n            if (~forbiddenDropType.indexOf(type)) {\r\n                message.warn('当前容器不支持拖拽的组件!');\r\n                return;\r\n            }\r\n            const { onUpdateFormItemConfigs, colIndex } = this.props;\r\n            const newConfigs = initDropData(data, this, true);\r\n            if (newConfigs) {\r\n                this.setState({\r\n                    dropComponent: true,\r\n                }, () => {\r\n                    onUpdateFormItemConfigs({ colIndex, ...newConfigs });\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @desc  删除单元格中的子组件\r\n     * @param {object} e \r\n     */\r\n    onDeleteChildren(e) {\r\n        e && e.stopPropagation();\r\n        const { onUpdateFormItemConfigs, colIndex } = this.props;\r\n        this.setState({\r\n            dropComponent: false,\r\n        });\r\n        onUpdateFormItemConfigs({ colIndex, deleteFlag: true });\r\n    }\r\n    resetBg() {\r\n        const dropDomArr = document.querySelectorAll('.form-container .drop-container');\r\n        if (dropDomArr) {\r\n            dropDomArr.forEach((item) => {\r\n                item.style.background = '';\r\n            });\r\n        }\r\n    }\r\n    onDragenter(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = activeColor;\r\n        }\r\n    }\r\n    onDragLeave(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = '';\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.targetDom) {\r\n            this.targetDom.removeEventListener('drop', this.onDrop);\r\n            this.targetDom.removeEventListener('dragleave', this.onDragLeave);\r\n            this.targetDom.removeEventListener(\"dragenter\", this.onDragenter);\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (!this.targetDom) {\r\n            return;\r\n        }\r\n        this.targetDom.addEventListener(\"drop\", this.onDrop, false);\r\n        this.targetDom.addEventListener(\"dragleave\", this.onDragLeave, false);\r\n        this.targetDom.addEventListener(\"dragenter\", this.onDragenter, false);\r\n    }\r\n    onUpdateConfigs(newConfigs) {\r\n        const { configs } = this.props;\r\n        const { colIndex } = configs;\r\n        this.setState({\r\n            dropComponent: !newConfigs.deleteFlag,\r\n        }, () => {\r\n            const { onUpdateFormItemConfigs } = this.props;\r\n            onUpdateFormItemConfigs(Object.assign(configs, newConfigs, { colIndex }));\r\n            this.onClose();\r\n        });\r\n    }\r\n    onEditDropContainer(e) {\r\n        if (e.target.className === clsName) {\r\n            e && e.stopPropagation();\r\n            this.setState({\r\n                visible: true,\r\n            });\r\n        }\r\n    }\r\n    onClose() {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    getContainerWidth(colSpan = 8) {\r\n        return `${100 * colSpan / 24 }%`;\r\n    }\r\n    render() {\r\n        const { layoutColumn, onDeleteFormItemContainer,  preview = false, colSpanArr = [], formItemArr = [], configs } = this.props;\r\n        const { dropComponent, visible } = this.state;\r\n        const { colIndex } = configs;\r\n        const colIndexNum = +colIndex;\r\n        const _colSpan = Object.hasOwnProperty.call(configs, 'colSpan') ? \r\n            configs.colSpan : (24 / layoutColumn);\r\n        return (\r\n            <div\r\n                className={preview ? `preview-box ${clsName}` : clsName}\r\n                style={{\r\n                    width: this.getContainerWidth(_colSpan),\r\n                }}\r\n                ref={(targetDom) => { this.targetDom = targetDom; }}\r\n            >\r\n                {\r\n                  dropComponent || preview ? (\r\n                        <FormItemRender\r\n                            {...this.props}\r\n                            configs={configs}\r\n                        />\r\n                    ) : <Icon type=\"drag\" />\r\n                }\r\n                {\r\n                    !preview ? \r\n                        <Icon\r\n                            type=\"bars\"\r\n                            className=\"edit-icon icon-bars\"\r\n                            onClick={this.onShowEditItem}\r\n                        /> : null\r\n                }\r\n                <FormItemEdit\r\n                    inForm\r\n                    visible={visible}\r\n                    onDelete={this.onDeleteChildren}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                    colSpanArr={colSpanArr}\r\n                    formItemArr={formItemArr}\r\n                    configs={configs}\r\n                    dropComponent={dropComponent}\r\n                    layoutColumn={layoutColumn}\r\n                    onDeleteContainer={() => {\r\n                        this.setState({\r\n                            visible: false,\r\n                        }, () => {\r\n                            onDeleteFormItemContainer(colIndexNum);\r\n                        });\r\n                    }}\r\n                    onClose={this.onClose}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FormItemContainer;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Form, Row, Button, message, Icon } from 'antd';\r\nimport FormEdit from '../../EditDrawer/FormEdit';\r\nimport getCellColSpan from '../../../utils/CellUtil';\r\nimport FormItemContainer from '../FormItemContainer';\r\nimport { getFormApi, getSubmitData } from '../../../utils/FormUtil';\r\nimport { FORM_CONTAINER, TRUE } from '../../../utils/Constants';\r\nimport { isLogin } from '../../../utils/common';\r\nimport './index.css';\r\n\r\nclass FormContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            fetchLoading: false,\r\n            expand: true, // 是否展开\r\n            configs: {\r\n                layoutColumn: 1, // 容器列数\r\n                colSpanArr: [],\r\n                formItemArr: [],\r\n            },\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAddRow = this.onAddRow.bind(this);\r\n        this.onCollapse = this.onCollapse.bind(this);\r\n        this.onDeleteRow = this.onDeleteRow.bind(this);\r\n        this.onResetForm = this.onResetForm.bind(this);\r\n        this.onAddRowCell = this.onAddRowCell.bind(this);\r\n        this.onShowEditForm = this.onShowEditForm.bind(this);\r\n        this.onCloseEditForm = this.onCloseEditForm.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onUpdateFormLayout = this.onUpdateFormLayout.bind(this);\r\n        this.renderFormItemContainer = this.renderFormItemContainer.bind(this);\r\n        this.onUpdateFormItemConfigs = this.onUpdateFormItemConfigs.bind(this);\r\n        this.onDeleteFormItemContainer = this.onDeleteFormItemContainer.bind(this);\r\n        this.colIndexStart = 0;\r\n    }\r\n    componentDidMount() {\r\n        const { onFormRenderCallBack, form } = this.props;\r\n        if (typeof onFormRenderCallBack === 'function') {\r\n            onFormRenderCallBack(form);\r\n        }\r\n    }\r\n    onResetForm() {\r\n        this.props.form.resetFields();\r\n    }\r\n    onShowEditForm() {\r\n        this.setState({\r\n            visible: true,\r\n            expand: false,\r\n        });\r\n    }\r\n    onCollapse() {\r\n        const { expand } = this.state;\r\n        this.setState({ expand: !expand });\r\n    }\r\n    addNewFormItem(formItemArr, layoutColumnNum, colSpanArr) {\r\n        if (formItemArr.length < layoutColumnNum) {\r\n            for(let i = formItemArr.length; i < layoutColumnNum; i++) {\r\n                formItemArr.push({\r\n                    colIndex: this.colIndexStart + i,\r\n                    colSpan: colSpanArr[i],\r\n                    originSpan: 1,\r\n                });\r\n            }\r\n        }\r\n        return formItemArr;\r\n    }\r\n    onCloseEditForm() {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onAddRowCell() {\r\n        const { configs } = this.state;\r\n        const { colSpanArr } = configs;\r\n        const formItemArr = configs.formItemArr.slice();\r\n        if (formItemArr.length === 0) {\r\n            message.warn('请设置容器列数');\r\n            return;\r\n        }\r\n        const rowSpanCount = formItemArr.reduce((total, item, i) => {\r\n            total += item.colSpan;\r\n            if (i === formItemArr.length -1) {\r\n                total %= 24;\r\n            }\r\n            return total;\r\n        }, 0);\r\n        let colSpanIndex = 0;\r\n        let total = 0;\r\n        for (let i = 0; i < colSpanArr.length; i++) {\r\n            total = total + (+colSpanArr[i]);\r\n            if (total > rowSpanCount) {\r\n                colSpanIndex = i;\r\n                i = colSpanArr.length;\r\n            }\r\n        }\r\n        formItemArr.push({ \r\n            colIndex: this.colIndexStart,\r\n            originSpan: 1,\r\n            colSpan: colSpanArr[colSpanIndex],\r\n        });\r\n        this.colIndexStart += 1;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.formItemArr = formItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    onUpdateConfigs(newConfigs) {\r\n        const { onUpdateLayoutConfig, configs } = this.props;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex: configs.layoutIndex,\r\n            type: FORM_CONTAINER,\r\n            ...newConfigs,\r\n        });\r\n    }\r\n    onAddRow() {\r\n        const { configs } = this.state;\r\n        const formItemArr = configs.formItemArr.slice();\r\n        if (formItemArr.length === 0) {\r\n            message.warn('请设置容器列数');\r\n            return;\r\n        }\r\n        const { layoutColumn } = configs;\r\n        for(let i = 0; i < layoutColumn; i++) {\r\n            formItemArr.push({ colIndex: this.colIndexStart + i });\r\n        }\r\n        this.colIndexStart += layoutColumn;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.formItemArr = formItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    onDeleteRow() {\r\n        const { configs } = this.state;\r\n        const { layoutColumn, formItemArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.slice();\r\n        if (newFormItemArr.length <= layoutColumn) {\r\n            message.warn('不能再删除了');\r\n            return;\r\n        }\r\n        newFormItemArr.length = Math.max(0, newFormItemArr.length- layoutColumn);\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    /**\r\n     * @desc 删除表单容器\r\n     */\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n    }\r\n    onDeleteFormItemContainer(colIndex) {\r\n        const { configs } = this.state;\r\n        const { formItemArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.filter((item) => {\r\n            return item.colIndex !== colIndex;\r\n        });\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    onUpdateFormItemConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const { formItemArr, colSpanArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.colIndex !== item.colIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        colIndex: values.colIndex,\r\n                        colSpan: values.colSpan,\r\n                        originSpan: values.originSpan,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.colIndex === item.colIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newFormItemArr.forEach((item) => {\r\n            // 更新跨列\r\n            if (item.colIndex > values.colIndex) {\r\n                item.colSpan = getCellColSpan(item.colIndex, item.originSpan,\r\n                    newFormItemArr, colSpanArr);\r\n            }\r\n        });\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    /**\r\n     * @desc 更新表单列数及表单类型\r\n     * @param {object} newConfigs \r\n     */\r\n    onUpdateFormLayout(newConfigs) {\r\n        const { configs } = this.state;\r\n        const { layoutColumn, colSpanArr } = newConfigs;\r\n        const newState = {};\r\n        const layoutColumnNum = +layoutColumn;\r\n        if (layoutColumnNum) {\r\n            const copyFormItemArr = configs.formItemArr.slice();\r\n            const formItemArr = this.addNewFormItem(copyFormItemArr, layoutColumnNum, colSpanArr);\r\n            formItemArr.forEach((item) => {\r\n                item.colSpan = getCellColSpan(item.colIndex, item.originSpan, formItemArr, colSpanArr);\r\n            });\r\n            this.colIndexStart += layoutColumnNum;\r\n            newConfigs.layoutColumn = layoutColumnNum;\r\n            newConfigs.formItemArr = formItemArr;\r\n            newState.configs = newConfigs;\r\n        }\r\n        this.setState({\r\n            ...newState\r\n        }, () => {\r\n            this.onCloseEditForm();\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    /**\r\n     * @desc 表单提交事件\r\n     * @param {*} e \r\n     */\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const { onShowLoginModal, form, execFetchApi, mode, configs } = this.props;\r\n        if (!isLogin()) {\r\n            onShowLoginModal();\r\n            return;\r\n        }\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const api = getFormApi(mode, configs);\r\n                if (api) {\r\n                    execFetchApi(api, getSubmitData(configs, values));\r\n                } else {\r\n                    message.warn('请配置form的api属性');\r\n                }\r\n            }\r\n        });\r\n    }\r\n    getExpandCount() {\r\n        const { preview } = this.props;\r\n        const { formItemArr = [] } = preview ? this.props.configs || {} : this.state.configs;\r\n        let expandCount = 0;\r\n        for (let a of formItemArr) {\r\n            if (a.type === 'Button' && Array.isArray(a.buttonArr)) {\r\n                for (let b of a.buttonArr) {\r\n                    if (b.logicType === 'expand') {\r\n                        expandCount = +(b.expandCount || 0);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return expandCount;\r\n    }\r\n    renderFormItemContainer() {\r\n        const { form, preview, context } = this.props;\r\n        const { formItemArr = [], layoutColumn, colSpanArr, formItemAlign } = preview ? this.props.configs || {} : this.state.configs;\r\n        this.GuiContext = context.GuiContext;\r\n        const { expand } = this.state;\r\n        const expandCount = this.getExpandCount();\r\n        return formItemArr.map((itemConfigs, i) => {\r\n            const { colIndex, type, hasLinkage } = itemConfigs;\r\n            // 隐藏组件\r\n            if (expandCount > 0 && !expand && (i+1) > expandCount && type !== 'Button') {\r\n                return null;\r\n            }\r\n            // 联动显示控制\r\n            if (hasLinkage === TRUE) {\r\n                const { linkName, condition } = itemConfigs;\r\n                if (form.getFieldValue(linkName) !== condition) {\r\n                    return null;\r\n                }\r\n            }\r\n            return (\r\n                <FormItemContainer\r\n                    key={`ed-${colIndex}`}\r\n                    colIndex={colIndex}\r\n                    configs={itemConfigs}\r\n                    expand={expand}\r\n                    context={context}\r\n                    onResetForm={this.onResetForm}\r\n                    form={form}\r\n                    preview={preview}\r\n                    formItemAlign={formItemAlign}\r\n                    formItemArr={formItemArr}\r\n                    colSpanArr={colSpanArr}\r\n                    layoutColumn={layoutColumn}\r\n                    onCollapse={this.onCollapse}\r\n                    onDeleteFormItemContainer={this.onDeleteFormItemContainer}\r\n                    onUpdateFormItemConfigs={this.onUpdateFormItemConfigs}\r\n                />\r\n            );\r\n        });\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { preview, layerConfig } = this.props;\r\n        const { configs = {} } = preview ? this.props : this.state;\r\n        const { layoutColumn = 1, formItemArr = [] } = configs || {};\r\n        return (\r\n            <Fragment>\r\n                <div className={`form-container container ${preview ? 'preview-box' : 'border-box'}`}>\r\n                    <div className=\"inner-box\">\r\n                        {\r\n                            <Form onSubmit={this.onSubmit}>\r\n                                <Row\r\n                                    gutter={{ md: 24 / layoutColumn, lg: 24, xl: 48 }}\r\n                                >\r\n                                    {this.renderFormItemContainer()}\r\n                                </Row>\r\n                            </Form>\r\n                        }\r\n                        {\r\n                            formItemArr.length > 0 && !preview ? (\r\n                                <div style={{\r\n                                    textAlign: 'center',\r\n                                    marginTop: '10px',\r\n                                    }}\r\n                                >\r\n                                    <Button\r\n                                        ghost\r\n                                        type=\"primary\"\r\n                                        onClick={this.onAddRowCell}\r\n                                    >\r\n                                        +FormItem\r\n                                    </Button>\r\n                                </div>\r\n                                ) : null\r\n                        }\r\n                    </div>\r\n                    {\r\n                        !preview ? <Icon type=\"form\" className=\"edit-icon icon-form\" onClick={this.onShowEditForm} /> : null\r\n                    }\r\n                </div>\r\n                <FormEdit\r\n                    visible={visible}\r\n                    layerConfig={layerConfig}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                    onSave={this.onUpdateFormLayout}\r\n                    onClose={this.onCloseEditForm}\r\n                />\r\n            </Fragment>  \r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(FormContainer);","import React, { PureComponent, Fragment } from 'react';\r\nimport { FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER } from '../../../utils/Constants';\r\nimport FormContainer from '../FormContainer';\r\nimport TableContainer from '../TableContainer';\r\nimport BoxContainer from '../BoxContainer';\r\nimport EmptyContainer from '../EmptyContainer';\r\nimport HeaderContainer from '../HeaderContainer';\r\nimport LineContainer from '../LineContainer';\r\nimport './index.css';\r\n\r\nclass LayoutContainer extends PureComponent {\r\n    renderContainer() {\r\n        const { layoutConfig, ...restProps } = this.props;\r\n        if (Array.isArray(layoutConfig) && layoutConfig.length > 0) {\r\n            return layoutConfig.map((configs) => {\r\n                const { type, layoutIndex } = configs;\r\n                const itemKey = `layout-${layoutIndex}`;\r\n                if (type === FORM_CONTAINER) {\r\n                    return (<FormContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === TABLE_CONTAINER) {\r\n                    return (<TableContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === EMPTY_CONTAINER) {\r\n                    return (<EmptyContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === BOX_CONTINAER) {\r\n                    return (<BoxContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === HEADER_CONTINAER) {\r\n                    return (<HeaderContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === LINE_CONTINAER) {\r\n                    return (<LineContainer key={itemKey} {...restProps} configs={configs} />);\r\n                }\r\n                return null;\r\n            });\r\n        }\r\n        return (\r\n            <div className=\"empty-tips\">请添加容器组件</div>\r\n        );\r\n    }\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    this.renderContainer()\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LayoutContainer;","/**\r\n * @desc 可拖拽组件抽象类\r\n */\r\nimport React, { PureComponent } from 'react';\r\n\r\nclass Dragable extends PureComponent {\r\n\tonDragStart(e, data) {\r\n\t\te.dataTransfer.setData('text/plain',JSON.stringify(data));\r\n\t}\r\n\trender() {\r\n\t\tconst { ch, data } = this.props;\r\n\t\treturn (\r\n\t\t\t<span\r\n\t\t\t\tdraggable=\"true\"\r\n\t\t\t\tclassName=\"drag-item\"\r\n\t\t\t\tonDragStart={(e) => { this.onDragStart(e, data); }}\r\n\t\t\t>\r\n\t\t\t\t{ch}\r\n\t\t\t</span>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Dragable;","import defaultColumns from './defaultColumns';\r\nimport { FALSE } from '../utils/Constants';\r\n\r\nconst dargConfig = {\r\n\tcomponent: {\r\n\t\tform: [\r\n\t\t\t{ ch: 'Input', data: { type: 'Input', label: 'input', name: '' } },\r\n\t\t\t// { ch: 'Button', data: { type: 'Button', btnArr: [\r\n\t\t\t// \t\t{ btnText: 'button', type: 'primary', index: 0 },\r\n\t\t\t// \t],\r\n\t\t\t// }},\r\n\t\t\t{ ch: 'Select', data: { type: 'Select' } },\r\n\t\t\t{ ch: 'DatePicker', data: { type: 'DatePicker' } },\r\n\t\t\t{ ch: 'RangePicker', data: { type: 'RangePicker' } },\r\n\t\t\t{ ch: 'Radio', data: { type: 'Radio', radioArr: [\r\n\t\t\t\t\t{ index: 0, value: 'a1', label: 'a' },\r\n\t\t\t\t\t{ index: 1, value: 'b1', label: 'b' },\r\n\t\t\t\t],\r\n\t\t\t\tradioType: 'default',\r\n\t\t\t}},\r\n\t\t\t{ ch: 'TextArea', data: { type: 'TextArea', label: 'TextArea', name: '' } },\r\n\t\t\t{ ch: 'Checkbox', data: { type: 'Checkbox', checkboxArr: [\r\n\t\t\t\t\t{ index: 0, value: 'a1', label: 'a' },\r\n\t\t\t\t\t{ index: 1, value: 'b1', label: 'b' },\r\n\t\t\t\t],\r\n\t\t\t}},\r\n\t\t],\r\n\t\tbutton: [\r\n\t\t\t{ ch: '查询', data: { logicType: 'query', type: 'Button', antdType: 'primary', textDisabled: true, btnText: '查询', htmlType: 'submit' } },\r\n\t\t\t{ ch: '重置', data: { logicType: 'reset', type: 'Button', antdType: 'button', textDisabled: true, btnText: '重置', htmlType: 'reset' } },\r\n\t\t\t{ ch: '展开/收起', data: { logicType: 'expand', type: 'Button', textDisabled: true, btnText: '展开/收起', htmlType: 'button' } },\r\n\t\t\t{ ch: '导入', data: { logicType: 'import', type: 'Button', btnText: '导入', htmlType: 'button' } },\r\n\t\t\t{ ch: '导出', data: { logicType: 'export', type: 'Button', btnText: '导出', htmlType: 'button' } },\r\n\t\t\t{ ch: '新增', data: { logicType: 'add', type: 'Button', btnText: '新增', htmlType: 'button' } },\r\n\t\t\t{ ch: '编辑', data: { logicType: 'edit', type: 'Button', btnText: '编辑', htmlType: 'button' } },\r\n\t\t\t{ ch: '查看', data: { logicType: 'view', type: 'Button', btnText: '查看', htmlType: 'button' } },\r\n\t\t\t{ ch: '批量', data: { logicType: 'mult', type: 'Button', btnText: '批量', htmlType: 'button' } },\r\n\t\t\t{ ch: '跳转', data: { logicType: 'skip', type: 'Button', btnText: '跳转', htmlType: 'button' } },\r\n\t\t],\r\n\t\tothers: [\r\n\t\t\t{ ch: 'Breadcrumb', data: { type: 'Breadcrumb', breadcrumbArr: [\r\n\t\t\t\t\t{index: 0, label: 'menu1', value: '' },\r\n\t\t\t\t\t{index: 1, label: 'menu2', value: '' },\r\n\t\t\t\t],\r\n\t\t\t}},\r\n\t\t\t{ ch: 'Text', data: { type: 'Text', text: 'Text' } },\r\n\t\t\t{ ch: 'Tabs', data: { type: 'Tabs', tabsArr: [\r\n\t\t\t\t\t{ label: 'tab1', value: 'tab1', index: 0 },\r\n\t\t\t\t],\r\n\t\t\t}},\r\n\t\t]\r\n\t},\r\n\tlayout: [\r\n\t\t{ ch: 'Form', data: { type: 'FormContainer' } },\r\n\t\t{ ch: 'Table', data: { type: 'TableContainer', columns: defaultColumns } },\r\n\t\t{ ch: 'Box', data: { type: 'BoxContainer', layoutColumn: 1, cellsArr: [\r\n\t\t\t\t\t{ layoutIndex: 0 },\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{ ch: 'Header', data: { type: 'HeaderContainer', layoutColumn: 1, positionFixed: FALSE, cellsArr: [\r\n\t\t\t\t\t{ layoutIndex: 0 },\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{ ch: 'Line', data: { type: 'LineContainer' } },\r\n\t\t// { ch: 'Modal', data: { type: 'ModalContainer' } },\r\n\t],\r\n};\r\n\r\nexport default dargConfig;","const columns = [{\r\n    title: 'column0',\r\n    dataIndex: 'dataIndex0',\r\n    index: 0,\r\n}, {\r\n    title: 'column1',\r\n    dataIndex: 'dataIndex1',\r\n    index: 1,\r\n}, {\r\n    title: 'column2',\r\n    dataIndex: 'dataIndex2',\r\n    index: 2,\r\n}, {\r\n    title: 'column3',\r\n    dataIndex: 'dataIndex3',\r\n    index: 3,\r\n}, {\r\n    title: 'column4',\r\n    dataIndex: 'dataIndex4',\r\n    index: 4,\r\n}];\r\n\r\nexport default columns;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Divider } from 'antd';\r\nimport Dragable from './Dragable';\r\nimport dargConfig from '../../configs/dragConfig';\r\n\r\nclass DragTabFactory extends PureComponent {\r\n\trenderContentByType(targetConfigs, type = '') {\r\n\t\treturn (\r\n\t\t\t<Fragment key={`${type}`}>\r\n\t\t\t\t{\r\n\t\t\t\t\ttype ? (<Divider key={`${type}`}>{type}</Divider>) : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttargetConfigs.map((config, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Dragable {...config} key={`drag-${config.ch}-${index}`} />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { tabType = 'component' } = this.props;\r\n\t\tconst targetConfigs = dargConfig[tabType] || [];\r\n\t\tif (Array.isArray(targetConfigs)) {\r\n\t\t\treturn this.renderContentByType(targetConfigs);\r\n\t\t} else {\r\n\t\t\treturn Object.keys(targetConfigs).map((k) => {\r\n\t\t\t\tif(Array.isArray(targetConfigs[k])) {\r\n\t\t\t\t\treturn this.renderContentByType(targetConfigs[k], k);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default DragTabFactory;","import React, { Component } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport DragTabFactory from '../Core/DragTabFactory';\r\nimport './index.css';\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass DragTabs extends Component {\r\n\tcomponentDidMount() {\r\n        /* 放置目标元素时触发事件 */\r\n         document.addEventListener(\"dragover\", function( event ) {\r\n             // 阻止默认动作以启用drop\r\n             event.preventDefault();\r\n         }, false);\r\n\r\n        /* 拖动目标元素时触发drag事件 */\r\n         document.addEventListener(\"drag\", function( event ) {\r\n\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragstart\", function( event ) {\r\n          // 使其半透明\r\n              event.target.style.opacity = .5;\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragend\", function( event ) {\r\n            // 重置透明度\r\n            event.target.style.opacity = \"\";\r\n            document.querySelectorAll('.drop-zone').forEach((t) => {\r\n              \tt.style.background = \"#fff\";\r\n            })\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragenter\", function( event ) {\r\n          // 当可拖动的元素进入可放置的目标时高亮目标节点\r\n          if ( event.target.className === \"drop-zone\" ) {\r\n              event.target.style.background = \"#96cdf9\";\r\n          }\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragleave\", function( event ) {\r\n          // 当拖动元素离开可放置目标节点，重置其背景\r\n          if ( event.target.className === \"drop-zone\" ) {\r\n              event.target.style.background = \"\";\r\n          }\r\n        }, false);\r\n    }\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Tabs defaultActiveKey=\"1\" className=\"aside-tabs\">\r\n\t\t\t    <TabPane tab=\"容器\" key=\"layout\">\r\n                    <DragTabFactory tabType=\"layout\" />\r\n\t\t\t    </TabPane>\r\n\t\t\t    <TabPane tab=\"组件\" key=\"component\">\r\n                    <DragTabFactory />\r\n\t\t\t    </TabPane>\r\n                <TabPane tab=\"模板\" key=\"template\">\r\n                    <DragTabFactory tabType=\"template\" />\r\n\t\t\t    </TabPane>\r\n\t\t  \t</Tabs>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DragTabs;\r\n","import React, { PureComponent } from 'react';\r\nimport { Modal, Layout } from 'antd';\r\nimport DragTabs from '../../DragTabs';\r\nimport MainContainer from '../MainContainer';\r\n\r\nimport './index.css';\r\n\r\nconst { Sider, Content } = Layout;\r\n\r\nclass ModalContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            layoutConfig: [],\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onUpdateLayoutConfig = this.onUpdateLayoutConfig.bind(this);\r\n    }\r\n    onSubmit() {\r\n        const { onOk, editModal } = this.props;\r\n        const { layoutConfig } = this.state;\r\n        onOk({\r\n            ...editModal,\r\n            layoutConfig,\r\n        });\r\n    }\r\n    onUpdateLayoutConfig(layoutConfig) {\r\n        this.setState({\r\n            layoutConfig,\r\n        })\r\n    }\r\n    render() {\r\n        const { visible, onCancel, layerConfig } = this.props;\r\n        return (\r\n            <Modal\r\n                title=\"弹框编辑\"\r\n                width={1024}\r\n                visible={visible}\r\n                maskClosable={false}\r\n                onOk={this.onSubmit}\r\n                onCancel={onCancel}\r\n            >\r\n                <Layout>\r\n                        <Sider width=\"300\">\r\n                            <DragTabs />\r\n                        </Sider>\r\n                        <Layout>\r\n                            <Content>\r\n                                <MainContainer\r\n                                    onUpdateLayoutConfig={this.onUpdateLayoutConfig}\r\n                                    layerConfig={layerConfig}\r\n                                    noLayer\r\n                                />\r\n                            </Content>\r\n                        </Layout>\r\n                </Layout>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ModalContainer;","// const common = localStorage.getItem('common');\r\n// const main = localStorage.getItem('main');\r\n// const webapi = localStorage.getItem('webapi');\r\n\r\nconst apiRenderConfig = [\r\n    {  \r\n        label: '接口地址前缀',\r\n        key: 'requestHost',\r\n        type: 'Select',\r\n        initialValue: 'webapi',\r\n        placeholder: '接口地址前缀',\r\n        options: [{\r\n            value: 'common',\r\n            label: 'common',\r\n        }, {\r\n            value: 'main',\r\n            label: 'main',\r\n        }, {\r\n            value: 'webapi',\r\n            label: 'webapi',\r\n        }, {\r\n            value: 'authCode',\r\n            label: 'authCode',\r\n        }],\r\n        rules: [{ required: true, message: 'host!' }],\r\n    }, {\r\n        label: '请求方法',\r\n        key: 'requestMethod',\r\n        type: 'Select',\r\n        initialValue: 'GET',\r\n        placeholder: '请求方法',\r\n        options: [{\r\n            value: 'GET',\r\n            label: 'GET',\r\n        }, {\r\n            value: 'POST',\r\n            label: 'POST',\r\n        }, {\r\n            value: 'PUT',\r\n            label: 'PUT',\r\n        }, {\r\n            value: 'DELETE',\r\n            label: 'DELETE',\r\n        }],\r\n        rules: [{ required: true, message: 'method!' }],\r\n    }, {\r\n        label: '接口地址',\r\n        key: 'requestApi',\r\n        type: 'Input',\r\n        placeholder: '接口地址',\r\n        rules: [{ required: true, message: '接口地址!' }],\r\n    }, {\r\n        label: '接口参数',\r\n        key: 'requestParams',\r\n        type: 'TextArea',\r\n        placeholder: '接口入参，多个参数以逗号分隔',\r\n    }, {\r\n        label: 'modelKey',\r\n        key: 'modelKey',\r\n        type: 'Input',\r\n        placeholder: '存放在model中的字段名称',\r\n        rules: [{ required: true, message: 'model key!' }],\r\n    }, {\r\n        label: 'API是否分页',\r\n        key: 'requestPagination',\r\n        type: 'Select',\r\n        placeholder: 'API是否分页',\r\n        rules: [{ required: true, message: 'requestPagination!' }],\r\n        initialValue: '0',\r\n        options: [{\r\n            value: '1',\r\n            label: '是',\r\n        }, {\r\n            value: '0',\r\n            label: '否',\r\n        }],\r\n    }, {\r\n        label: '分页字段',\r\n        key: 'paginationParams',\r\n        type: 'Select',\r\n        initialValue: 'PageIndex/PageSize',\r\n        renderCondition: {\r\n            name: 'requestPagination',\r\n            value: '1',\r\n        },\r\n        options: [{\r\n            value: 'pageIndex/pageSize',\r\n            label: 'pageIndex/pageSize',\r\n        }, {\r\n            value: 'PageIndex/PageSize',\r\n            label: 'PageIndex/PageSize',\r\n        }],\r\n    }\r\n];\r\n\r\nconst modalRenderConfig = [{\r\n    label: '名称',\r\n    key: 'name',\r\n    type: 'Input',\r\n    placeholder: '英文名称',\r\n    rules: [{ required: true, message: '名称!' }],\r\n}, {\r\n    label: 'width',\r\n    key: 'width',\r\n    type: 'Input',\r\n}, {\r\n    label: 'title',\r\n    key: 'title',\r\n    type: 'Input',\r\n    placeholder: 'title',\r\n    rules: [{ required: true, message: 'title!' }],\r\n}];\r\n\r\nconst btnRenderConfig = [{\r\n    label: '按钮文字',\r\n    key: 'btnText',\r\n    type: 'Input',\r\n    initialValue: 'button',\r\n    placeholder: 'button',\r\n    rules: [{ required: true, message: '按钮文字!' }],\r\n}, {\r\n    label: 'type',\r\n    key: 'type',\r\n    type: 'Select',\r\n    initialValue: 'primary',\r\n    placeholder: 'type',\r\n    rules: [{ required: true, message: 'type!' }],\r\n    options: [{\r\n        value: 'primary',\r\n        label: 'primary',\r\n    }, {\r\n        value: 'dashed',\r\n        label: 'dashed',\r\n    }, {\r\n        value: 'danger',\r\n        label: 'danger'\r\n    }, {\r\n        value: '',\r\n        label: 'none'\r\n    }],\r\n}, {\r\n    label: 'htmlType',\r\n    key: 'htmlType',\r\n    type: 'Select',\r\n    initialValue: 'button',\r\n    placeholder: 'htmlType',\r\n    rules: [{ required: true, message: 'htmlType!' }],\r\n    options: [{\r\n        value: 'submit',\r\n        label: 'submit',\r\n    }, {\r\n        value: 'reset',\r\n        label: 'reset',\r\n    }, {\r\n        value: 'button',\r\n        label: 'button'\r\n    }],\r\n}, {\r\n    label: 'onClick',\r\n    key: 'triggerFn',\r\n    type: 'Select',\r\n    placeholder: '点击事件',\r\n    options: 'clickEvents',\r\n}, {\r\n    label: '按钮样式',\r\n    key: 'btnStyle',\r\n    type: 'TextArea',\r\n    placeholder: '多个样式属性请用分号分隔',\r\n}];\r\n\r\nexport {\r\n    apiRenderConfig,\r\n    btnRenderConfig,\r\n    modalRenderConfig,\r\n}\r\n\r\nexport default apiRenderConfig;","import React, { Component, Fragment } from 'react';\r\nimport { Button, Drawer, Divider, Collapse, Form, Icon } from 'antd';\r\nimport { renderConfigForm } from '../../../utils/RenderUtil';\r\nimport { getFormData } from '../../../utils/FormUtil';\r\nimport { LAYER_MODAL, LAYER_API } from '../../../utils/Constants';\r\nimport ModalContainer from '../../Container/ModalContainer';\r\nimport { apiRenderConfig, modalRenderConfig } from '../../../configs/renderConfig';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\n\r\nclass LayerEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            layerConfig: {\r\n\t\t\t\tmodalArr: [],\r\n\t\t\t\tapiArr: [],\r\n\t\t\t\tdrawerArr: [],\r\n            },\r\n            editModal: null,\r\n            showEditModal: false,\r\n        };\r\n        this.modalAddIndex = 0;\r\n\t\tthis.apiAddIndex = 0;\r\n        this.onClose = this.onClose.bind(this);\r\n        this.onAddApi = this.onAddApi.bind(this);\r\n\t\tthis.onAddModal = this.onAddModal.bind(this);\r\n\t\tthis.onDeleteApi = this.onDeleteApi.bind(this);\r\n\t\tthis.onDeleteModal = this.onDeleteModal.bind(this);\r\n        this.onSubmitLayer = this.onSubmitLayer.bind(this);\r\n        this.onShowEditModal = this.onShowEditModal.bind(this);\r\n        this.onCloseEditModal = this.onCloseEditModal.bind(this);\r\n        this.onSaveEditModal = this.onSaveEditModal.bind(this);\r\n        this.renderModalPanelHeader = this.renderModalPanelHeader.bind(this);\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.props.visible && !this.initState) {\r\n            this.initState = true;\r\n            this.setState({\r\n                layerConfig: this.props.layerConfig,\r\n            });\r\n        }\r\n    }\r\n    onShowEditModal(item) {\r\n\t\tthis.setState({\r\n\t\t\tshowEditModal: true,\r\n\t\t\teditModal: item,\r\n\t\t});\r\n    }\r\n    onCloseEditModal() {\r\n\t\tthis.setState({\r\n\t\t\tshowEditModal: false,\r\n\t\t\teditModal: null,\r\n\t\t});\r\n    }\r\n    onSaveEditModal(layerItem) {\r\n\t\tconst { layerType } = layerItem;\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tconst { modalArr = [] } = newLayerConfig;\r\n\t\tif (layerType === LAYER_MODAL) {\r\n\t\t\tconst newModalArr = modalArr.reduce((arr, item) => {\r\n\t\t\t\tif (item.index === layerItem.index) {\r\n\t\t\t\t\titem = Object.assign({}, item, layerItem);\r\n\t\t\t\t}\r\n\t\t\t\tarr.push(item);\r\n\t\t\t\treturn arr;\r\n\t\t\t}, []);\r\n\t\t\tnewLayerConfig.modalArr = newModalArr;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n\t\tthis.onCloseEditModal();\r\n\t}\r\n    onClose() {\r\n        const { onCloseLayer, form } = this.props;\r\n        form.resetFields();\r\n        this.initState = false;\r\n        onCloseLayer();\r\n    }\r\n    onSubmitLayer(e) {\r\n        e.preventDefault();\r\n        const { form, onUpdateLayerConfig } = this.props;\r\n        form.validateFields((err, values) => {\r\n\t\t\tif (!err) {\r\n                const { layerConfig } = this.state;\r\n\t\t\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\t\t\t[LAYER_MODAL, LAYER_API].forEach((itemKey) => {\r\n\t\t\t\t\tconst renderConfig = itemKey === LAYER_MODAL ? modalRenderConfig : apiRenderConfig;\r\n\t\t\t\t\tconst newItemArr = getFormData(values, renderConfig, true);\r\n\t\t\t\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr;\r\n                });\r\n                newLayerConfig.modalArr.forEach((newItem) => {\r\n                    layerConfig.modalArr.forEach((item) => {\r\n                        if (item.index == newItem.index) {\r\n                            newItem.layoutConfig = item.layoutConfig;\r\n                            newItem.layerType = item.layerType;\r\n                        }\r\n                    });\r\n                });\r\n                onUpdateLayerConfig(newLayerConfig);\r\n                this.onClose();\r\n\t\t\t}\r\n\t\t});\r\n    }\r\n    onAddModal() {\r\n\t\tthis.onAddItem(LAYER_MODAL);\r\n\t}\r\n\tonAddApi() {\r\n\t\tthis.onAddItem(LAYER_API);\r\n\t}\r\n\t/**\r\n\t * @desc  新增弹框/抽屉/api\r\n\t * @param itemKey modal/drawer/api\r\n\t */\r\n\tonAddItem(itemKey) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst itemArr = layerConfig[`${itemKey}Arr`];\r\n\t\tconst newItemArr = itemArr.concat([{\r\n\t\t\tindex: this[`${itemKey}AddIndex`],\r\n\t\t\tlayerType: itemKey,\r\n\t\t}]);\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr;\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n        this[`${itemKey}AddIndex`] += 1;\r\n\t}\r\n\t/**\r\n\t * @desc 删除弹框/抽屉/api\r\n\t */\r\n\tonDeleteItem(itemKey, deleteIndex) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst itemArr = layerConfig[`${itemKey}Arr`];\r\n\t\tconst newItemArr = itemArr.reduce((arr, item) => {\r\n\t\t\tif (item.index != deleteIndex) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr || [];\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n\t}\r\n\tonDeleteModal(deleteIndex) {\r\n\t\tthis.onDeleteItem(LAYER_MODAL, deleteIndex);\r\n\t}\r\n\tonDeleteApi(deleteIndex) {\r\n\t\tthis.onDeleteItem(LAYER_API, deleteIndex);\r\n\t}\r\n    renderModalPanelHeader(item) {\r\n\t\tconst { name, index } = item;\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{name || `modal-${index}`}</span>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName=\"edit-modal\"\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tthis.onShowEditModal(item);;\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t编辑\r\n\t\t\t\t</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteModal(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n\t}\r\n\trenderApiPanelHeader(item) {\r\n\t\tconst { requestApi, index } = item;\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{requestApi || `api-${index}`}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteApi(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, form } = this.props;\r\n        const { layerConfig, showEditModal, editModal } = this.state;\r\n        const { modalArr = [], apiArr = [] } = layerConfig;\r\n        const modalActiveKey = modalArr.reduce((arr, { index }) => {\r\n            arr.push(`modal-${index}`);\r\n            return arr;\r\n        }, []);\r\n        const apiActiveKey = apiArr.reduce((arr, { index }) => {\r\n            arr.push(`api-${index}`);\r\n            return arr;\r\n        }, []);\r\n        return (\r\n            <Fragment>\r\n                <Drawer\r\n                    title=\"弹出层&接口\"\r\n                    placement=\"right\"\r\n                    closable\r\n                    maskClosable={false}\r\n                    onClose={this.onClose}\r\n                    visible={visible}\r\n                    width=\"400\"\r\n                >\r\n                    <Form onSubmit={this.onSubmitLayer}>\r\n                        <Divider>弹窗</Divider>\r\n                        <Collapse defaultActiveKey={modalActiveKey}>\r\n                            {\r\n                                modalArr.map((item) => {\r\n                                    const { index } = item;\r\n                                    return (\r\n                                        <Panel\r\n                                            header={this.renderModalPanelHeader(item)}\r\n                                            key={`modal-${index}`}\r\n                                        >\r\n                                            {\r\n                                                renderConfigForm(form, modalRenderConfig, item)\r\n                                            }\r\n                                        </Panel>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </Collapse>\r\n                        <div className=\"btn-add-box\">\r\n                            <Button\r\n                                type=\"dashed\"\r\n                                size=\"large\"\r\n                                onClick={this.onAddModal}\r\n                            >\r\n                                添加弹窗\r\n                            </Button>\r\n                        </div>\r\n                        {/* <Divider>抽屉</Divider> */}\r\n\r\n                        <Divider>接口</Divider>\r\n                        <Collapse defaultActiveKey={apiActiveKey}>\r\n                            {\r\n                                apiArr.map((item) => {\r\n                                    const { index } = item;\r\n                                    return (\r\n                                        <Panel\r\n                                            header={this.renderApiPanelHeader(item)}\r\n                                            key={`api-${index}`}\r\n                                        >\r\n                                            {\r\n                                                renderConfigForm(form, apiRenderConfig, item)\r\n                                            }\r\n                                        </Panel>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </Collapse>\r\n                        <div className=\"btn-add-box\">\r\n                            <Button\r\n                                type=\"dashed\"\r\n                                size=\"large\"\r\n                                onClick={this.onAddApi}\r\n                            >\r\n                                添加接口\r\n                            </Button>\r\n                        </div>\r\n                        <Form.Item style={{ marginTop: '20px', textAlign: 'center' }}>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                            >\r\n                                确定\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Drawer>\r\n                <ModalContainer\r\n                    layerConfig={this.props.layerConfig}\r\n                    visible={showEditModal}\r\n                    editModal={editModal}\r\n                    onOk={this.onSaveEditModal}\r\n                    onCancel={this.onCloseEditModal}\r\n                />\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(LayerEdit);","/**\r\n * @desc 点击事件弹窗视图\r\n */\r\nimport React, { PureComponent, Fragment } from 'react';\r\nimport { Modal, message, Spin } from 'antd';\r\nimport moment from 'moment';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\nimport { getFormApi, getFormByType, getSubmitData } from '../../../utils/FormUtil';\r\nimport { MODE_EDIT, FORM_SAVE, CODE_SUCCESS } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nclass PreviewModal extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        };\r\n        this.onCancel = this.onCancel.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAfterClose = this.onAfterClose.bind(this);\r\n        this.onFormRenderCallBack = this.onFormRenderCallBack.bind(this);\r\n        this.initEdit = false;\r\n    }\r\n    componentDidUpdate() {\r\n        const { mode, visible, recordData, api, execFetchApi, modalLayoutConfig } = this.props;\r\n        // 编辑模式\r\n        if (visible && mode === MODE_EDIT && !this.initEdit) {\r\n            if (api) { // 需要调用接口查询数据\r\n                this.setState({\r\n                    loading: true,\r\n                });\r\n                execFetchApi(api, recordData).then((res) => {\r\n                    const { code, data } = res;\r\n                    if (code === '0') {\r\n                        this.onInitForm(data);\r\n                    }\r\n                    this.setState({\r\n                        loading: false,\r\n                    });\r\n                }).catch(() => {\r\n                    this.setState({\r\n                        loading: false,\r\n                    });\r\n                });\r\n            } else if (recordData) { // 传递的编辑数据\r\n                this.onInitForm(modalLayoutConfig, recordData);\r\n            }\r\n            this.initEdit = true;\r\n        }\r\n    }\r\n    onInitForm(layoutConfig, editData) {\r\n        const formObj = getFormByType(layoutConfig, FORM_SAVE);\r\n        if (formObj && Array.isArray(formObj.formItemArr)) {\r\n            const formData = formObj.formItemArr.reduce((obj, item) => {\r\n                const { type, name, format = 'YYYY-MM-DD', dateKeys } = item;\r\n                if (type === 'DatePicker') {\r\n                    obj[name] = moment(editData[name], format);\r\n                } else if (type === 'RangePicker' && dateKeys) {\r\n                    const [ startTime, endTime ] = dateKeys;\r\n                    if (editData[startTime] && editData[endTime]) {\r\n                        obj[name] = [moment(editData[startTime], format), moment(editData[endTime], format)];\r\n                    }\r\n                } else {\r\n                    obj[name] = editData[name];\r\n                }\r\n                return obj;\r\n            }, {});\r\n            if (this.form) {\r\n                this.form.setFieldsValue(formData);\r\n            }\r\n            this.formData = formData;\r\n        } else {\r\n            message.warn('请配置编辑弹窗');\r\n        }\r\n    }\r\n    onCancel() {\r\n        const { loading } = this.state;\r\n        if (loading) {\r\n            return;\r\n        }\r\n        const { modalName, onCancelModal } = this.props;\r\n        onCancelModal(modalName);\r\n    }\r\n    renderContent(layoutConfig = []) {\r\n        const { mode } = this.props;\r\n        return layoutConfig.map((item, i) => {\r\n            return (\r\n                <Fragment key={`preview-${i}`}>\r\n                    {renderComponent(item, {\r\n                        preview: true,\r\n                        context: this,\r\n                        mode,\r\n                        onFormRenderCallBack: this.onFormRenderCallBack })}\r\n                </Fragment>\r\n            );\r\n        });\r\n    }\r\n    onSubmit() {\r\n        const { loading } = this.state;\r\n        if (loading) {\r\n            return;\r\n        }\r\n        const { onOkModal, modalName, mode, modalLayoutConfig, layerConfig, recordData } = this.props;\r\n        if(this.form) {\r\n            this.form.validateFields((err, values) => {\r\n                if (!err) {\r\n                    if (Array.isArray(modalLayoutConfig)) {\r\n                        const formObj = getFormByType(modalLayoutConfig, FORM_SAVE);\r\n                        if (formObj) {\r\n                            const api = getFormApi(mode, formObj); // 根据模式获取对应接口地址\r\n                            const { apiArr } = layerConfig;\r\n                            const apiObj = apiArr.find(({ requestApi }) => {\r\n                                return requestApi === api;\r\n                            });\r\n                            if (apiObj && apiObj.requestParams) { // 接口入参\r\n                                const paramsArr = apiObj.requestParams.split(',');\r\n                                paramsArr.forEach((paramKey) => {\r\n                                    if (Object.hasOwnProperty.call(recordData, paramKey) && !Object.hasOwnProperty.call(values, paramKey)) {\r\n                                        values[paramKey] = recordData[paramKey];\r\n                                    }\r\n                                });\r\n                            }\r\n                            if (api) {\r\n                                this.setState({\r\n                                    loading: true,\r\n                                });\r\n                                onOkModal(modalName, api, getSubmitData(formObj, values)).then((res) => {\r\n                                    const { data } = res;\r\n                                    const { code } = data || {};\r\n                                    this.setState({\r\n                                        loading: false,\r\n                                    });\r\n                                    if (code === CODE_SUCCESS) {\r\n                                        message.success('保存成功');\r\n                                        this.onCancel();\r\n                                    }\r\n                                }).catch(() => {\r\n                                    this.setState({\r\n                                        loading: false,\r\n                                    });\r\n                                });\r\n                            } else {\r\n                                message.warn('请配置form的api属性');\r\n                            }\r\n                        } else {\r\n                            message.warn('请配置form组件');\r\n                        }\r\n                    } else {\r\n                        message.warn('请配置form组件');\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            message.warn('请配置form组件');\r\n        }\r\n    }\r\n    onFormRenderCallBack(form) {\r\n        this.form = form;\r\n        if (this.formData) {\r\n            this.form.setFieldsValue(this.formData);\r\n        }\r\n    }\r\n    onAfterClose() {\r\n        this.initEdit = false;\r\n        this.formData = null;\r\n        if (this.form) {\r\n            this.form.resetFields();\r\n        }\r\n\r\n    }\r\n    render() {\r\n        const { title, visible, modalLayoutConfig, mode } = this.props;\r\n        const { loading } = this.state;\r\n        return (\r\n            <Modal\r\n                title={mode === MODE_EDIT ? '编辑' : title}\r\n                visible={visible}\r\n                onCancel={this.onCancel}\r\n                onOk={this.onSubmit}\r\n                afterClose={this.onAfterClose}\r\n                maskClosable={false}\r\n            >\r\n                <Spin spinning={loading}>\r\n                    {this.renderContent(modalLayoutConfig)}\r\n                </Spin>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PreviewModal;","/**\r\n * @desc 页面右侧容器主视图，拖拽组件的容器\r\n */\r\nimport React, { PureComponent, Fragment } from 'react';\r\nimport { message, Button, Spin } from 'antd';\r\nimport { Service } from '../../../annotation';\r\nimport LayoutContainer from '../LayoutContainer';\r\nimport isContainer from '../../../utils/common';\r\nimport LayerEdit from '../../EditDrawer/LayerEdit';\r\nimport PreviewModal from '../../Modal/PreviewModal';\r\nimport { CODE_SUCCESS, TRUE, MODE_EDIT, MODE_ADD, proxyServerUrl } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst GuiContext = React.createContext({\r\n    selectedRows: [],\r\n    selectedRowKeys: [],\r\n});\r\n\r\nconst initLayerConfig = {\r\n\tmodalArr: [],\r\n\tapiArr: [],\r\n\tdrawerArr: [],\r\n};\r\n\r\n@Service('AppService')\r\nclass MainContainer extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlayoutConfig: props.preview ? props.layoutConfig : [],\r\n\t\t\tlayerConfig: props.layerConfig || initLayerConfig,\r\n\t\t\tPageIndex: 1,\r\n\t\t\tPageSize: 10,\r\n\t\t\tfetchLoading: false,\r\n\t\t\tapiData: {}, // 接口数据对象\r\n\t\t\tshowLayer: false,\r\n\t\t\tselectedRows: [],\r\n\t\t\tselectedRowKeys: [],\r\n\t\t\tgenerateLoading: false, // 页面是否在生成\r\n\t\t};\r\n\t\tthis.paramData = {};\r\n\t\t// this.apiConfig = {};\r\n\t\tthis.GuiContext = GuiContext;\r\n\t\tthis.onDrop = this.onDrop.bind(this);\r\n        this.onOkModal = this.onOkModal.bind(this);\r\n\t\tthis.onCancelModal = this.onCancelModal.bind(this);\r\n\t\tthis.onUpdateApiConfig = this.onUpdateApiConfig.bind(this);\r\n\t\tthis.onPageIndexChange = this.onPageIndexChange.bind(this);\r\n\t\tthis.onShowSizeChange = this.onShowSizeChange.bind(this);\r\n\t\tthis.execFetchApi = this.execFetchApi.bind(this);\r\n\t\tthis.onPreviewPage = this.onPreviewPage.bind(this);\r\n\t\tthis.onUpdateLayerConfig = this.onUpdateLayerConfig.bind(this);\r\n\t\tthis.onToggleLayer = this.onToggleLayer.bind(this);\r\n\t\tthis.onGeneratePage = this.onGeneratePage.bind(this);\r\n\t\tthis.onUpdateLayoutConfig = this.onUpdateLayoutConfig.bind(this);\r\n\t\tthis.layoutIndex = 0;\r\n\t\tthis.container = React.createRef();\r\n\t}\r\n\tstatic getDerivedStateFromProps(nextProps) {\r\n\t\tif (nextProps.visible) {\r\n\t\t\treturn {\r\n\t\t\t\tlayerConfig: nextProps.layerConfig,\r\n\t\t\t\tlayoutConfig: nextProps.layoutConfig,\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (Object.hasOwnProperty.call(nextProps, 'layerConfig')) {\r\n\t\t\treturn {\r\n\t\t\t\tlayerConfig: nextProps.layerConfig,\r\n\t\t\t};\r\n\t\t}\r\n\t\t// 否则，对于state不进行任何操作\r\n\t\treturn null;\r\n\t}\r\n\t/**\r\n\t * @desc 更新页面配置对象，所有拖拽组件更新都将调用该方法同步配置信息\r\n\t * @param {object} param0 \r\n\t */\r\n\tonUpdateLayoutConfig(newConfigs) {\r\n\t\tconst { layoutIndex, deleteFlag = false } = newConfigs;\r\n\t\tconst { layoutConfig } = this.state;\r\n\t\tconst copyConfig = layoutConfig.slice();\r\n\t\t// 删除配置文件\r\n\t\tif (deleteFlag) {\r\n\t\t\tconst deleteIndex = copyConfig.findIndex((item) => {\r\n\t\t\t\treturn item.layoutIndex === layoutIndex;\r\n\t\t\t});\r\n\t\t\tcopyConfig.splice(deleteIndex, 1);\r\n\t\t} else {\r\n\t\t\tconst updateIndex = copyConfig.findIndex((item) => {\r\n\t\t\t\treturn item.layoutIndex === layoutIndex;\r\n\t\t\t});\r\n\t\t\tcopyConfig[updateIndex] = newConfigs;\r\n\t\t}\r\n\t\tif (typeof this.props.onUpdateLayoutConfig === 'function') {\r\n\t\t\tthis.props.onUpdateLayoutConfig(copyConfig);\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tlayoutConfig: copyConfig,\r\n\t\t});\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconst { preview =false } = this.props;\r\n\t\tif (!preview && this.container && this.container.current) {\r\n\t\t\tthis.container.current.addEventListener(\"drop\", this.onDrop, false);\r\n\t\t}\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tconst { preview =false } = this.props;\r\n\t\tif (!preview && this.container && this.container.current) {\r\n\t\t\tthis.container.current.removeEventListener(\"drop\", this.onDrop);\r\n\t\t}\r\n\t}\r\n\tonDrop(event) {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\tconst data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n\t\tconst { type, ...defaultConfigs } = data;\r\n\t\tif (!event.target.className || event.target.className.indexOf('main-container') === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (isContainer(type)) {\r\n\t\t\tconst { layoutConfig } = this.state;\r\n\t\t\tconst copyLayoytConfig = layoutConfig.slice();\r\n\t\t\tconst configObj = Object.assign({\r\n\t\t\t\ttype,\r\n\t\t\t\tlayoutIndex: this.layoutIndex,\r\n\t\t\t\t...defaultConfigs,\r\n\t\t\t});\r\n\t\t\tcopyLayoytConfig.push(configObj);\r\n\t\t\tthis.setState({\r\n\t\t\t\tlayoutConfig: copyLayoytConfig,\r\n\t\t\t});\r\n\t\t\tthis.layoutIndex += 1;\r\n\t\t} else {\r\n\t\t\tmessage.warn('请拖拽容器组件');\r\n\t\t}\r\n\t}\r\n\texecFetchApi(api, reqPrams, logicType) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst { apiArr } = layerConfig;\r\n\t\tconst apiObj = apiArr.find(({ requestApi }) => {\r\n\t\t\treturn requestApi === api;\r\n\t\t});\r\n\t\tif (!apiObj) {\r\n\t\t\tmessage.warn('api配置参数有误');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { modelKey, requestHost, requestMethod, requestPagination, requestParams = '' } = apiObj;\r\n\t\tif (logicType === 'mult') { // 批量按钮\r\n\t\t\tconst { selectedRows, selectedRowKeys } = this.state;\r\n\t\t\tif (selectedRows.length === 0) {\r\n\t\t\t\tmessage.warn('请选择数据');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!requestParams) { // 接口没有配置请求参数\r\n\t\t\t\treqPrams = selectedRowKeys;\r\n\t\t\t} else {\r\n\t\t\t\tconst paramKeys = requestParams.split(',');\r\n\t\t\t\treqPrams = selectedRows.reduce((arr, item) => {\r\n\t\t\t\t\tconst _obj = {};\r\n\t\t\t\t\tparamKeys.forEach((pk) => {\r\n\t\t\t\t\t\t_obj[pk] = item[pk];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tarr.push(_obj);\r\n\t\t\t\t\treturn arr;\r\n\t\t\t\t}, []);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.toggleLoading();\r\n\t\t// 分页查询接口\r\n\t\tif (requestPagination === TRUE) {\r\n\t\t\t// if (this.state.PageIndex !== 1) {\r\n\t\t\t// \tthis.setState({\r\n\t\t\t// \t\tPageIndex: 1,\r\n\t\t\t// \t});\r\n\t\t\t// }\r\n\t\t\tconst { paginationParams } = apiObj;\r\n\t\t\tconst [ pIndex, pSize ] = paginationParams.split('/');\r\n\t\t\tconst { PageSize, PageIndex } = this.state;\r\n\t\t\treqPrams[pIndex] = reqPrams.execTableQuery ? PageIndex : 1;\r\n\t\t\treqPrams[pSize] = PageSize;\r\n\t\t\tif (!reqPrams.execTableQuery) {\r\n\t\t\t\tif (this.state.PageIndex !== 1) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tPageIndex: 1,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdelete reqPrams.execTableQuery;\r\n\t\t}\r\n\t\tthis.paramData[modelKey] = reqPrams; // 保存查询参数\r\n\t\treturn this.props.service.fetchApi(requestHost, requestMethod, api, reqPrams).then((res = {}) => {\r\n\t\t\tconst { data } = res;\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconst { code, message: msg, data: realData } = data || {};\r\n\t\t\t\tif (code !== CODE_SUCCESS) {\r\n\t\t\t\t\tmessage.error(msg || '调用接口异常');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst { apiData } = this.state;\r\n\t\t\t\t\tconst newApiData = Object.assign({}, apiData);\r\n\t\t\t\t\tif (logicType === 'mult') {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tselectedRowKeys: [],\r\n\t\t\t\t\t\t\tselectedRows: [],\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (requestPagination === TRUE) {\r\n\t\t\t\t\t\tconst { total, list } = realData;\r\n\t\t\t\t\t\tnewApiData[modelKey] = list;\r\n\t\t\t\t\t\tnewApiData[`${modelKey}Total`] = total;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewApiData[modelKey] = realData;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tapiData: newApiData,\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// const searchBtn = document.querySelector('form button[type=\"submit\"]');\r\n\t\t\t\t\t// searchBtn && searchBtn.click();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst { message: msg } = data || {};\r\n\t\t\t\tmessage.error(msg || '调用接口异常');\r\n\t\t\t}\r\n\t\t\tthis.toggleLoading(false);\r\n\t\t\treturn Promise.resolve(res);\r\n\t\t}).catch((error) => {\r\n\t\t\tthis.toggleLoading(false);\r\n\t\t\tif (error.response) {\r\n\t\t\t\tconst { status } = error.response;\r\n\t\t\t\tif (status === 401) {\r\n\t\t\t\t\tmessage.error('登录信息过期，请重新登录');\r\n\t\t\t\t\tthis.props.onShowLoginModal();\r\n\t\t\t\t} else if (status === 403) {\r\n\t\t\t\t\tmessage.error(error.response.data.message);\r\n\t\t\t\t} else if (status === 404) {\r\n\t\t\t\t\tmessage.error('接口地址404');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error(JSON.stringify(error));\r\n\t\t\t}\r\n\t\t\treturn Promise.reject(error);\r\n\t\t});\r\n\t}\r\n\ttoggleLoading(fetchLoading = true) {\r\n\t\tthis.setState({\r\n\t\t\tfetchLoading,\r\n\t\t});\r\n\t}\r\n\tonPageIndexChange(page, pageSize, modelKey) {\r\n\t\tthis.setState({\r\n\t\t\tPageIndex: page,\r\n\t\t}, () => {\r\n\t\t\tthis.execTableQuery(modelKey);\r\n\t\t});\r\n\t}\r\n\tonShowSizeChange(current, pageSize, modelKey) {\r\n\t\tthis.setState({\r\n\t\t\tPageIndex: 1,\r\n\t\t\tPageSize: pageSize,\r\n\t\t}, () => {\r\n\t\t\tthis.execTableQuery(modelKey);\r\n\t\t});\r\n\t}\r\n\t/**\r\n\t * @desc 执行表格接口查询\r\n\t * @param {*} modelKey \r\n\t */\r\n\texecTableQuery(modelKey) {\r\n\t\tconst apiObj = this.getApiConfig(modelKey);\r\n\t\tif (apiObj) {\r\n\t\t\tconst reqPrams = this.paramData[modelKey];\r\n\t\t\tconst { requestApi } = apiObj;\r\n\t\t\tthis.execFetchApi(requestApi, Object.assign(reqPrams, { execTableQuery: true }));\r\n\t\t} else {\r\n\t\t\tmessage.warn('请配置正确的modelKey');\r\n\t\t}\r\n\t}\r\n\tgetApiConfig(modelKey) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst { apiArr } = layerConfig;\r\n\t\treturn apiArr.find((item) => {\r\n\t\t\treturn item.modelKey === modelKey;\r\n\t\t});\r\n\t}\r\n\t/**\r\n\t * @desc 生成页面源代码\r\n\t */\r\n\tonGeneratePage() {\r\n\t\tconst { pageName, projectDir, onShowPageNameModal, onResetProps } = this.props;\r\n\t\tif (!pageName) {\r\n\t\t\tonShowPageNameModal(); // 设置页面名称\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (window.ipcRenderer && !projectDir) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { layoutConfig = [], layerConfig = {} } = this.state;\r\n\t\tif (layoutConfig.length === 0) {\r\n\t\t\tmessage.warn('请配置页面信息');\r\n\t\t\treturn;\r\n\t\t}\r\n        const pageConfig = {\r\n\t\t\tpageName,\r\n\t\t\tprojectDir,\r\n\t\t\tlayoutConfig,\r\n\t\t\tlayerConfig,\r\n\t\t};\r\n\t\tthis.setState({\r\n\t\t\tgenerateLoading: true,\r\n\t\t});\r\n\t\tif (window.ipcRenderer) {\r\n\t\t\twindow.ipcRenderer.send('createCode', JSON.stringify(pageConfig));\r\n\t\t\twindow.ipcRenderer.on('createCodeReply', (event, args) => {\r\n\t\t\t\tconst { code, info } = JSON.parse(args);\r\n\t\t\t\tif (code == 0) {\r\n\t\t\t\t\tmessage.success(info);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.error(info);\r\n\t\t\t\t}\r\n\t\t\t\tonResetProps();\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgenerateLoading: false,\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.service.generatePage(pageConfig)\r\n        .then((response) => {\r\n\t\t\tconst { data } = response;\r\n\t\t\tif (data.code == CODE_SUCCESS) {\r\n\t\t\t\tmessage.success(data.info);\r\n\t\t\t\tconst aLink = document.createElement('a');\r\n\t\t\t\taLink.href = `${proxyServerUrl}/sourceCache/${pageName}.tar`;\r\n\t\t\t\taLink.style.display = 'none';\r\n\t\t\t\tdocument.body.appendChild(aLink);\r\n\t\t\t\taLink.click();\r\n\t\t\t\tdocument.body.removeChild(aLink);\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error(data.info);\r\n\t\t\t}\r\n\t\t\tthis.setState({\r\n\t\t\t\tgenerateLoading: false,\r\n\t\t\t});\r\n\t\t\tonResetProps();\r\n        })\r\n        .catch(() => {\r\n\t\t\tmessage.error('请求失败');\r\n\t\t\tthis.setState({\r\n\t\t\t\tgenerateLoading: false,\r\n\t\t\t});\r\n        });\r\n\t}\r\n\t/**\r\n\t * @desc 预览页面\r\n\t */\r\n\tonPreviewPage() {\r\n\t\tconst { onPreviewPage } = this.props;\r\n\t\tconst { layoutConfig, layerConfig } = this.state;\r\n\t\tonPreviewPage(layoutConfig, layerConfig);\r\n\t}\r\n\t/**\r\n\t * @desc 管理弹出层组件，包括Modal和Drawer\r\n\t */\r\n\tonToggleLayer() {\r\n\t\tthis.setState({\r\n\t\t\tshowLayer: !this.state.showLayer,\r\n\t\t});\r\n\t}\r\n\t\r\n\tonUpdateLayerConfig(layerConfig) {\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig,\r\n\t\t});\r\n\t}\r\n\tonUpdateApiConfig(modelKey, apiConfig) {\r\n\t\t// this.apiConfig[modelKey] = apiConfig;\r\n\t}\r\n\tgetChildFuncProps() {\r\n\t\treturn {\r\n\t\t\texecFetchApi: this.execFetchApi,\r\n\t\t\tonPageIndexChange: this.onPageIndexChange,\r\n\t\t\tonShowSizeChange: this.onShowSizeChange,\r\n\t\t\tonUpdateApiConfig: this.onUpdateApiConfig,\r\n\t\t\tonUpdateLayoutConfig: this.onUpdateLayoutConfig,\r\n\t\t};\r\n\t}\r\n\tonShowModal(e, modalName, api, data) {\r\n\t\tconst newState = {\r\n\t\t\t[`show${modalName}`]: true,\r\n\t\t\tapi,\r\n\t\t\trecordData: data,\r\n\t\t};\r\n\t\tthis.setState({\r\n\t\t\t...newState\r\n\t\t});\r\n\t}\r\n\tonCancelModal(modalName) {\r\n        this.setState({\r\n\t\t\t[`show${modalName}`]: false,\r\n\t\t\trecordData: null,\r\n\t\t\tapi: '',\r\n        })\r\n    }\r\n    onOkModal(modalName, api, values) {\r\n\t\treturn this.execFetchApi(api, values);\r\n    }\r\n\trenderModal() {\r\n\t\tconst { layerConfig, recordData, api } = this.state;\r\n\t\tconst { modalArr = []} = layerConfig;\r\n        return modalArr.map((item) => {\r\n            const { name: modalName, title, width, layoutConfig } = item;\r\n            const visibleStateName = `show${modalName}`;\r\n\t\t\tconst visible = this.state[visibleStateName];\r\n\t\t\tconst props = {\r\n\t\t\t\tapi,\r\n\t\t\t\twidth: parseInt(width),\r\n\t\t\t\ttitle,\r\n\t\t\t\tvisible,\r\n\t\t\t\trecordData,\r\n\t\t\t\tlayerConfig,\r\n\t\t\t\tmodalName,\r\n\t\t\t\tlayoutConfig: this.state.layoutConfig,\r\n\t\t\t\tmodalLayoutConfig: layoutConfig,\r\n\t\t\t\texecFetchApi: this.execFetchApi,\r\n\t\t\t};\r\n\t\t\tif (visible) {\r\n\t\t\t\t// 判断是否是编辑模式\r\n\t\t\t\tprops.mode = recordData || api ? MODE_EDIT : MODE_ADD;\r\n\t\t\t}\r\n            return (\r\n                <PreviewModal\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tkey={`${title}-${modalName}`}\r\n\t\t\t\t\tonCancelModal={this.onCancelModal}\r\n\t\t\t\t\tonOkModal={this.onOkModal}\r\n                />\r\n            );\r\n        });\r\n\t}\r\n\trender() {\r\n\t\tconst { noLayer = false, onShowLoginModal, preview = false } = this.props;\r\n\t\tconst { layoutConfig, generateLoading, showLayer, layerConfig,\r\n\t\t\tfetchLoading, apiData, PageIndex, PageSize } = this.state;\r\n\t\tlet isEdit = true;\r\n\t\tif (noLayer) {\r\n\t\t\tisEdit = false;\r\n\t\t} else if (preview) {\r\n\t\t\tisEdit = false;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Spin spinning={fetchLoading}>\r\n\t\t\t\t\t<div className={`main-container border-box ${ preview ? 'preview-mode' : '' }`} ref={this.container}>\r\n\t\t\t\t\t\t<GuiContext.Provider\r\n\t\t\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\t\t\tselectedRows: this.state.selectedRows,\r\n\t\t\t\t\t\t\t\tselectedRowKeys: this.state.selectedRowKeys,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LayoutContainer\r\n\t\t\t\t\t\t\t\tonShowLoginModal={onShowLoginModal}\r\n\t\t\t\t\t\t\t\tlayoutConfig={layoutConfig}\r\n\t\t\t\t\t\t\t\tlayerConfig={layerConfig}\r\n\t\t\t\t\t\t\t\tcurrentPage={PageIndex}\r\n\t\t\t\t\t\t\t\tpageSize={PageSize}\r\n\t\t\t\t\t\t\t\tapiData={apiData}\r\n\t\t\t\t\t\t\t\tcontext={this}\r\n\t\t\t\t\t\t\t\tpreview={preview}\r\n\t\t\t\t\t\t\t\t{...this.getChildFuncProps()}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</GuiContext.Provider>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tisEdit ? (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\tshape=\"round\"\r\n\t\t\t\t\t\t\t\t\ticon=\"plus\"\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn-manage\"\r\n\t\t\t\t\t\t\t\t\tonClick={this.onToggleLayer}\r\n\t\t\t\t\t\t\t\t\ttitle=\"弹出层&接口编辑\"\r\n\t\t\t\t\t\t\t\t></Button>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<LayerEdit\r\n\t\t\t\t\t\t\tvisible={showLayer}\r\n\t\t\t\t\t\t\tonCloseLayer={this.onToggleLayer}\r\n\t\t\t\t\t\t\tonUpdateLayerConfig={this.onUpdateLayerConfig}\r\n\t\t\t\t\t\t\tlayerConfig={layerConfig}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Spin>\r\n\t\t\t\t{\r\n\t\t\t\t\tisEdit ? (\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tid=\"btn-code\"\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={this.onGeneratePage}\r\n\t\t\t\t\t\t\t\tloading={generateLoading}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t生成页面\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={this.onPreviewPage}\r\n\t\t\t\t\t\t\t\tstyle={{ marginLeft: '5px' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t预览\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t) : null\r\n\t\t\t\t}\r\n\t\t\t\t{this.renderModal()}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MainContainer;","/**\r\n * @desc 页面预览窗口\r\n */\r\nimport React, { Component } from 'react';\r\nimport MainContainer from '../../Container/MainContainer';\r\nimport { Modal, Layout } from 'antd';\r\nimport './index.css';\r\nconst { Sider, Content } = Layout;\r\n\r\nclass PreviewPageModal extends Component {\r\n    render() {\r\n        const { showModal, layoutConfig, onCloseModal, layerConfig } = this.props;\r\n        return (\r\n            <Modal\r\n                visible={showModal}\r\n                footer={null}\r\n                width={'100%'}\r\n                closable\r\n                centered\r\n                wrapClassName=\"preview-page-modal\"\r\n                onCancel={onCloseModal}\r\n                title=\"页面预览\"\r\n                maskClosable\r\n            >\r\n                <div className=\"preview-container\">\r\n                    <Layout>\r\n                        <Sider width=\"210\">\r\n                        </Sider>\r\n                        <Layout>\r\n                            <Content>\r\n                                <MainContainer\r\n                                    visible={showModal}\r\n                                    layoutConfig={layoutConfig}\r\n                                    layerConfig={layerConfig}\r\n                                    preview\r\n                                    noLayer\r\n                                />\r\n                            </Content>\r\n                        </Layout>\r\n                    </Layout>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PreviewPageModal;","import React, { PureComponent } from 'react';\r\nimport { Modal, Form, Input, Button, message } from 'antd';\r\nimport proxyServerUrl from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\n@Form.create()\r\nclass LoginModal extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showLoginFrame: false,\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onResetModal = this.onResetModal.bind(this);\r\n        this.getIframeUrl = this.getIframeUrl.bind(this);\r\n        this.asyncAppendJs = this.asyncAppendJs.bind(this);\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                this.asyncAppendJs(values.appUrl);\r\n            }\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        window.addEventListener('message', (e) => {\r\n            if (e.origin === proxyServerUrl) {\r\n                const appUrl =  this.props.form.getFieldValue('appUrl');\r\n                let MerchantId = '';\r\n                if (appUrl && appUrl.indexOf('?') > 0 && appUrl.indexOf('MerchantId=') > 0) {\r\n                    const targetStr = appUrl.slice(appUrl.indexOf('?') + 1).split('&').find((searchStr) => {\r\n                        return searchStr.indexOf('MerchantId=') >= 0;\r\n                    })\r\n                    if (targetStr) {\r\n                        MerchantId = targetStr.split('=')[1];\r\n                    }\r\n                    localStorage.setItem('access_token', e.data);\r\n                    localStorage.setItem('MerchantId', MerchantId);\r\n                    localStorage.setItem('appUrl', appUrl);\r\n                    message.success('登录成功');\r\n                    this.props.onCloseLoginModal();\r\n                }\r\n            }\r\n        }, false);\r\n    }\r\n    clearStorage() {\r\n        ['access_token', 'MerchantId', 'appUrl', 'common', 'main', 'webapi'].forEach((k) => {\r\n            localStorage.removeItem(k);\r\n        });\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.props.visible && !this.clearInit) {\r\n            this.clearInit = true;\r\n            this.clearStorage();\r\n        }\r\n    }\r\n\r\n    asyncAppendJs(appUrl) {\r\n        const js = document.createElement('script');\r\n        js.type = 'text/javascript';\r\n        js.onload = (e) => {\r\n            console.log(e);\r\n            // 配置文件加载成功\r\n            if (window.configs) {\r\n                localStorage.setItem('common', window.configs.host.common);\r\n                localStorage.setItem('main', window.configs.host.main);\r\n                localStorage.setItem('webapi', window.configs.host.webapi);\r\n                localStorage.setItem('authCode', window.configs.host.passport.authCode);\r\n                this.setState({\r\n                    showLoginFrame: true,\r\n                }, () => {\r\n                    this.sendMessageToIframe();\r\n                });\r\n            }\r\n        };\r\n        let jsHost = appUrl;\r\n        if (appUrl.indexOf('?')) {\r\n            jsHost = appUrl.slice(0, appUrl.indexOf('?') - 1);\r\n        }\r\n        js.src = `${jsHost}/resources/js/configs.js?time=${Date.now()}`;\r\n        document.body.appendChild(js);\r\n    }\r\n\r\n    sendMessageToIframe() {\r\n        const iframeLogin = document.createElement('iframe');\r\n        iframeLogin.src = this.getIframeUrl();\r\n        iframeLogin.id = 'login-app';\r\n        document.querySelector('.iframe-container').appendChild(iframeLogin);\r\n        iframeLogin.onload = () => {\r\n            const data = Object.assign({ appUrl: this.props.form.getFieldValue('appUrl') }, window.configs);\r\n            document.getElementById('login-app').contentWindow.postMessage(data, proxyServerUrl);\r\n        };\r\n    }\r\n\r\n    onResetModal() {\r\n        this.props.form.resetFields();\r\n        this.clearInit = false;\r\n        this.setState({\r\n            showLoginFrame: false,\r\n        });\r\n    }\r\n\r\n    getIframeUrl() {\r\n        if (window.configs) {\r\n            const { host: { passport: { auth } } } = window.configs;\r\n            return `${proxyServerUrl}/appLogin?authUrl=${encodeURIComponent(auth)}`;\r\n        }\r\n        return `${proxyServerUrl}/appLogin`;\r\n    }\r\n\r\n    render() {\r\n        const { visible, form, onCloseLoginModal } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { showLoginFrame } = this.state;\r\n        return (\r\n            <Modal\r\n                title=\"登录\"\r\n                visible={visible}\r\n                width=\"500px\"\r\n                wrapClassName=\"login-modal\"\r\n                onCancel={onCloseLoginModal}\r\n                afterClose={this.onResetModal}\r\n                maskClosable={false}\r\n                footer={null}\r\n            >\r\n                <div className={`login-wrapper ${showLoginFrame ? 'slide-l' : ''}`}>\r\n                    <div className=\"url-container\">\r\n                        <Form onSubmit={this.onSubmit}>\r\n                            <Form.Item>\r\n                                {getFieldDecorator('appUrl', {\r\n                                    rules: [\r\n                                        { required: true, message: '请输入应用url' },\r\n                                        { type: 'url', message: 'url格式不合法' }\r\n                                    ],\r\n                                })(<Input placeholder=\"请输入应用url\" />)}\r\n                            </Form.Item>\r\n                            <p className=\"btn-box\">\r\n                                <Button type=\"primary\" htmlType=\"submit\">确定</Button>\r\n                            </p>\r\n                        </Form>\r\n                    </div>\r\n                    <div className=\"iframe-container\">\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LoginModal;","import React, { Component } from 'react';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport { Layout, LocaleProvider } from 'antd';\nimport PageNameModal from './component/Modal/PageNameModal';\nimport PreviewPageModal from './component/Modal/PreviewPageModal';\nimport DragTabs from './component/DragTabs';\nimport { isLogin } from './utils/common';\nimport MainContainer from './component//Container/MainContainer';\nimport LoginModal from './component/Modal/LoginModal';\n\nconst { Sider, Content } = Layout;\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showLoginModal: false,\n            showEditNameModal: false, // 显示编辑页面名称弹窗\n            showPreviewModal: false, // 显示预览窗口\n            pageName: '', // 页面名称\n            projectDir: '',\n        };\n        this.onSubmitPageName = this.onSubmitPageName.bind(this);\n        this.onPreviewPage = this.onPreviewPage.bind(this);\n        this.onResetProps = this.onResetProps.bind(this);\n        this.onShowLoginModal = this.onShowLoginModal.bind(this);\n        this.onCloseLoginModal = this.onCloseLoginModal.bind(this);\n        this.onClosePreviewModal = this.onClosePreviewModal.bind(this);\n        this.onShowPageNameModal = this.onShowPageNameModal.bind(this);\n        this.onClosePageNameModal = this.onClosePageNameModal.bind(this);\n    }\n    componentDidMount() {\n        if (!isLogin()) {\n            this.onShowLoginModal();\n        }\n    }\n    onCloseLoginModal() {\n        this.setState({\n            showLoginModal: false,\n        });\n    }\n    onShowLoginModal() {\n        this.setState({\n            showLoginModal: true,\n        });\n    }\n    onShowPageNameModal() {\n        this.setState({\n            showEditNameModal: true,\n        });\n    }\n    onResetProps() {\n        this.setState({\n            pageName: '',\n            projectDir: '',\n        });\n    }\n    onSubmitPageName(pageName = '', projectDir) {\n        this.setState({\n            showEditNameModal: false,\n            pageName,\n            projectDir,\n        }, () => {\n            if ((!window.ipcRenderer && pageName) || (pageName && projectDir)) {\n                document.querySelector('#btn-code').click();\n            }\n        });\n    }\n    onClosePageNameModal() {\n        this.setState({\n            showEditNameModal: false,\n        });\n    }\n    onClosePreviewModal() {\n        this.setState({\n            showPreviewModal: false,\n        });\n    }\n    onPreviewPage(layoutConfig, layerConfig) {\n        this.setState({\n            showPreviewModal: true,\n        });\n        this.layoutConfig = layoutConfig;\n        this.layerConfig = layerConfig;\n\t}\n    render() {\n        const {\n            pageName,\n            projectDir,\n            showLoginModal,\n            showPreviewModal,\n            showEditNameModal,\n        } = this.state;\n        return (\n            <div className=\"App\">\n                <LocaleProvider locale={zhCN}>\n                    <Layout>\n                        <Sider width=\"300\">\n                            <DragTabs />\n                        </Sider>\n                        <Layout>\n                            <Content>\n                                <MainContainer\n                                    pageName={pageName}\n                                    projectDir={projectDir}\n                                    onShowLoginModal={this.onShowLoginModal}\n                                    onShowPageNameModal={this.onShowPageNameModal}\n                                    onPreviewPage={this.onPreviewPage}\n                                    onResetProps={this.onResetProps}\n                                />\n                            </Content>\n                        </Layout>\n                        <PageNameModal\n                            onOkModal={this.onSubmitPageName}\n                            onCloseModal={this.onClosePageNameModal}\n                            visible={showEditNameModal}\n                        />\n                        <PreviewPageModal\n                            layoutConfig={this.layoutConfig}\n                            layerConfig={this.layerConfig}\n                            onCloseModal={this.onClosePreviewModal}\n                            showModal={showPreviewModal}\n                        />\n                        <LoginModal\n                            visible={showLoginModal}\n                            onCloseLoginModal={this.onCloseLoginModal}\n                        />\n                    </Layout>\n                </LocaleProvider>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './assets/css/app.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}