{"version":3,"sources":["component/Modal/PageNameModal/index.js","utils/Constants.js","service/AppService.js","annotation/Service.js","component/Container/LineContainer/index.js","configs/layout.js","utils/TableUtil.js","utils/DateUtil.js","utils/FormUtil.js","component/EditDrawer/TableEdit/index.js","component/Container/TableContainer/index.js","component/Core/BaseContainer.js","component/Container/DropContainer/DropRender.js","utils/CellUtil.js","configs/saveConfigs.js","component/Core/BaseEdit.js","component/EditDrawer/CompEdit/index.js","utils/DropUtil.js","utils/common.js","component/Container/DropContainer/index.js","component/EditDrawer/BoxEdit/index.js","component/Container/BoxContainer/index.js","component/Container/HeaderContainer/index.js","utils/RenderUtil.js","component/EditDrawer/FormEdit/index.js","component/Container/FormItemContainer/FormItemRender.js","component/EditDrawer/FormItemEdit/index.js","component/Container/FormItemContainer/index.js","component/Container/FormContainer/index.js","component/Container/LayoutContainer/index.js","component/Core/Dragable.js","configs/dragConfig.js","configs/defaultColumns.js","component/Core/DragTabFactory.js","component/DragTabs/index.js","component/Container/ModalContainer/index.js","configs/renderConfig.js","component/EditDrawer/LayerEdit/index.js","component/Modal/PreviewModal/index.js","component/Container/MainContainer/index.js","component/Modal/PreviewPageModal/index.js","component/Modal/LoginModal/index.js","App.js","index.js"],"names":["PageNameModal","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","afterClose","bind","assertThisInitialized","onSubmit","e","preventDefault","_this$props","form","onOkModal","validateFields","err","values","pageName","projectDir","resetFields","_this$props2","visible","onCloseModal","getFieldDecorator","react_default","a","createElement","modal","footer","width","closable","centered","onOk","onCancel","title","maskClosable","es_form","style","padding","Item","rules","required","message","pattern","input","placeholder","window","ipcRenderer","marginTop","textAlign","es_button","type","htmlType","Component","Form","create","HEADER_CONTINAER","LAYER_MODAL","LAYER_API","proxyServerUrl","axios","interceptors","response","use","error","Promise","reject","ServicesMatch","AppService","data","method","url","concat","host","api","params","appUrl","localStorage","getItem","access_token","MerchantId","name","LineContainer","onDelete","onUpdateLayoutConfig","deleteFlag","className","divider","icon","onClick","PureComponent","formItemLayout","labelCol","xs","span","sm","wrapperCol","handleColumns","configs","context","_configs$operationArr","operationArr","newColumns","columns","slice","keys","forEach","k","val","indexOf","_k$split","split","_k$split2","slicedToArray","columnName","columnIndex","columnTarget","find","item","index","hasOperation","arguments","length","undefined","opCol","dataIndex","push","render","text","record","Array","isArray","react","map","_ref3","i","opText","opType","modalName","_ref3$api","skipUrl","clickProps","onShowModal","location","execFetchApi","Fragment","assign","href","key","handleOperation","sortIndex","getTableConfig","newConfigs","pagination","pageSize","pageSizeOptions","rowSelection","onChange","selectedRowKeys","selectedRows","setState","columnTitle","transferDateToStr","date","formatStr","format","getFormData","renderArr","hasIndex","formData","valKey","fk","_valKey$split","_valKey$split2","isContain","_formData$push","findItemByRule","_ref","defineProperty","getFormDataByIndex","result","indexK","hasOwnProperty","matchKey","matchArr","rule","isFn","getFormApi","mode","formConfig","formType","queryApi","addApi","editApi","getSubmitData","formItemArr","_ref4","dateKeys","_values$name","startTime","endTime","_dateKeys$split","_dateKeys$split2","startKey","endKey","getFormByType","layoutConfig","getFormArr","_ref5","reduce","arr","cellsArr","apply","toConsumableArray","Panel","Collapse","Option","Select","fLayout","TableEdit","state","setColumnMaxIndex","onAddColumn","onDeleteColumn","onAddOperation","onDeleteOperation","renderOperationBtn","nextProps","setOperationMaxIndex","_configs$columns","columnMaxIndex","_ref2","operationMaxIndex","_configs$operationArr2","newOperationArr","opreationIndex","getNewConfigs","addOperationMaxIndex","addColumnMaxIndex","v","_this2","_configs$operationArr3","opArr","_this3","_this4","_this5","_configs$columns2","collapse","_item$align","align","_item$fixed","fixed","header","renderPanelHeader","label","initialValue","es_select","value","btnConfig","layerConfig","modalData","_opType","getFieldValue","renderOperationHeader","renderModalSelect","renderApiSelect","_configs$operationArr4","_configs$hasOperation","rowKey","_ref5$pageSize","_ref5$pageSizeOptions","_ref6","_ref6$type","_ref6$columnTitle","hasPagination","hasRowSelection","size","card","join","_this$props3","onClose","onDeleteContainer","dataSrouce","drawer","renderCollapse","renderTableProps","marginRight","TableContainer","onShowEditTable","onUpdateConfigs","onPageIndexChange","onShowSizeChange","stopPropagation","layoutIndex","objectSpread","dataSize","ds","_loop","dsItem","_this$props$configs","modelKey","page","getModelKey","current","_this$props3$preview","preview","_this$props4","_this$props4$configs","_this$props4$apiData","apiData","currentPage","_this$props4$preview","GuiContext","_configs$pagination","_configs$rowSelection","mockData","copyColumns","mockDataNum","test","hasApiDataSource","dataSource","getMockDataSource","showQuickJumper","showSizeChanger","total","Consumer","lib","bordered","getRowSelection","component_EditDrawer_TableEdit","BaseContainer","getContainerIndex","getContainerType","onToggleEditDrawer","_render","DropRender","restProps","objectWithoutProperties","cellStyles","_configs$textAlign","styleObj","renderComponent","strToObj","str","separator","styleStr","_styleStr$split","_styleStr$split2","replace","objToStr","objLike","prototype","toString","getCellColSpan","colIndex","originSpan","colSpanArr","finalColSpan","locationIndex","j","colSpan","end","start","ButtonSaveKeys","allowCallApi","allowCallModal","BaseEdit","deleteComponent","handleSubmit","onAddListItem","onDeleteButton","onDeleteListItem","onDeleteComponent","renderBtnPanelHeader","_nextProps$configs","getItemSetType","lowerCaseType","toLowerCase","stateKey","stateVal","_this$state","buttonArr","_this$props$inForm","inForm","itemSetType","configType","newList","kLabel","kValue","showTime","newButtonArr","btnIndex","sKey","itemKey","logicType","expandCount","_values$originSpan","onCloseEdit","initBtn","_this$state$buttonArr","_this$props2$configs","list","allowClear","optionValue","optionText","BaseEdit_Option","date_picker","btnText","renderItemSettingCard","dataKey","labPlaceholder","valPlaceholder","_ref2$labPlaceholder","_ref2$valPlaceholder","itemList","extra","marginLeft","lineHeight","_this$props3$layerCon","_this$props4$layerCon","_this6","_this$state$buttonArr2","activeKeyArr","defaultActiveKey","_item$antdType","antdType","_item$htmlType","textDisabled","BaseEdit_Panel","disabled","renderApiItem","renderModalItem","renderBtnExpand","TextArea","Input","CompEdit","renderBtnCard","renderBreadcrumb","renderTabs","renderRadio","renderDefaultValueItem","initialCellStyles","radioType","CompEdit_Option","renderContent","initDropData","dragData","isFormItem","dropComponent","defaultConfigs","containerArr","isLogin","getInitialValue","config","_config$type","_config$format","moment","isContainer","clsName","DropContainer","showEdit","onDrop","onDragenter","onToggleEdit","DropDom","addEventListener","onDragLeave","removeEventListener","_ref$deleteFlag","newState","event","target","resetBg","JSON","parse","dataTransfer","getData","_initDropData","dropDomArr","document","querySelectorAll","background","ref","DropContainer_DropRender","component_EditDrawer_CompEdit","BoxEdit","boxStyles","rest","_configs$boxStyles","_configs$layoutColumn","layoutColumn","_configs$positionFixe","positionFixed","initialBoxStyles","BoxEdit_TextArea","BoxEdit_Option","BoxContainer","onAddRowCell","onReceiveConfigs","newCellsArr","_this$props2$context","onShowLoginModal","componentArr","cellNum","previewProps","limitIndex","Math","max","component_Container_DropContainer","_this$props3$configs","rendeCell","component_EditDrawer_BoxEdit","pConfigs","ghost","HeaderContainer","_ref2$cellsArr","positionCls","previewCls","CheckboxGroup","Checkbox","Group","RangePicker","DatePicker","TabPane","Tabs","renderConfig","_renderConfig$placeho","component","renderText","renderSelect","renderRangePicker","renderDatePicker","renderCheckbox","renderBtn","renderForm","renderLine","renderTable","renderBox","renderHeader","renderTextArea","dropIndex","hasLinkage","RenderUtil_TextArea","component_Container_FormContainer","component_Container_HeaderContainer","component_Container_TableContainer","component_Container_LineContainer","component_Container_BoxContainer","_configs$breadcrumbAr","breadcrumbArr","breadcrumb","_configs$style","_configs$radioArr","radioArr","RadioItem","Radio","Button","es_radio","_configs$style2","_configs$tabsArr","tabsArr","tabs","tab","_configs$style3","_configs$checkboxArr","checkboxArr","options","_configs$style4","selectArr","finalOptions","RenderUtil_Option","getMultBtnDisabled","onResetForm","_configs$buttonArr","onCollapse","_state$expand","expand","_ref7","_btnConfig$style","btnProps","collapseBtnText","renderConfigForm","initData","cf","_cf$rules","keyStr","_layerConfig$modalArr","modalArr","formItemKey","formNameKey","_ref8","compData","_compData$key","_compData$label","apiName","_layerConfig$apiArr","apiArr","_ref9","requestApi","FormEdit","handleChange","colSpanValues","setTimeout","setFieldsValue","onSave","lcNum","colSpanTotal","FormEdit_Option","renderColSpanInputs","renderApiFormItem","FormItemRender","_this$props$preview","_this$props$colSpanAr","formItemAlign","_configs$rules","md","getStyle","formItemProps","col","FormItemEdit","onAddCellStyleItem","onDeleteCellStyleItem","_this$state$cellStyle","newCellStyles","cellStyleIndex","_this$state$cellStyle2","condition","linkName","FormItemEdit_Option","_configs$showTime","_configs$format","_this$props$dropCompo","linkage","renderDatePickerExtra","renderLinkage","onDeleteFormItemContainer","initialColSpan","tempColSpan","FormItemEdit_TextArea","c","forbiddenDropType","FormItemContainer","onShowEditItem","onEditDropContainer","onDeleteChildren","warn","onUpdateFormItemConfigs","targetDom","_this$props3$colSpanA","_this$props3$formItem","colIndexNum","_colSpan","getContainerWidth","FormItemContainer_FormItemRender","component_EditDrawer_FormItemEdit","FormContainer","fetchLoading","onAddRow","onDeleteRow","onShowEditForm","onCloseEditForm","onUpdateFormLayout","renderFormItemContainer","colIndexStart","onFormRenderCallBack","layoutColumnNum","rowSpanCount","colSpanIndex","newFormItemArr","filter","_this7","copyFormItemArr","addNewFormItem","_ref2$formItemArr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","b","return","_this8","_this$props5","_ref3$formItemArr","getExpandCount","itemConfigs","component_Container_FormItemContainer","_this$props6","_ref4$configs","_ref5$layoutColumn","_ref5$formItemArr","row","gutter","lg","xl","component_EditDrawer_FormEdit","LayoutContainer","EmptyContainer_default","renderContainer","Dragable","setData","stringify","ch","draggable","onDragStart","dargConfig","button","others","layout","DragTabFactory","targetConfigs","Core_Dragable","_this$props$tabType","tabType","renderContentByType","DragTabs","opacity","t","DragTabs_TabPane","Core_DragTabFactory","Sider","Layout","Content","ModalContainer","editModal","src_component_DragTabs","component_Container_MainContainer","noLayer","apiRenderConfig","modalRenderConfig","LayerEdit","drawerArr","showEditModal","modalAddIndex","apiAddIndex","onAddApi","onAddModal","onDeleteApi","onDeleteModal","onSubmitLayer","onShowEditModal","onCloseEditModal","onSaveEditModal","renderModalPanelHeader","initState","layerItem","layerType","newLayerConfig","_newLayerConfig$modal","newModalArr","onCloseLayer","onUpdateLayerConfig","newItemArr","newItem","onAddItem","deleteIndex","onDeleteItem","modalActiveKey","apiActiveKey","placement","LayerEdit_Panel","renderApiPanelHeader","component_Container_ModalContainer","PreviewModal","loading","onAfterClose","initEdit","recordData","modalLayoutConfig","then","res","code","onInitForm","catch","editData","formObj","obj","_item$format","_dateKeys","onCancelModal","apiObj","requestParams","paramKey","success","spin","spinning","React","createContext","initLayerConfig","MainContainer","Target","newProps","ServiceClass","service","PageIndex","PageSize","showLayer","generateLoading","paramData","apiConfig","onUpdateApiConfig","onPreviewPage","onToggleLayer","onGeneratePage","container","createRef","_newConfigs$deleteFla","copyConfig","findIndex","splice","updateIndex","_this$props$preview2","copyLayoytConfig","configObj","reqPrams","requestHost","requestMethod","requestPagination","_apiObj$requestParams","paramKeys","_obj","pk","toggleLoading","fetchApi","status","msg","realData","newApiData","resolve","execTableQuery","_this$state2","onShowPageNameModal","_this$state3","_this$state3$layoutCo","_this$state3$layerCon","pageConfig","send","on","args","_JSON$parse","info","generatePage","aLink","display","body","appendChild","click","removeChild","_this$state4","_newState","_this$setState","_this$state5","visibleStateName","parseInt","component_Modal_PreviewModal","_this$props2$noLayer","_this$props2$preview","_this$state6","isEdit","MainContainer_GuiContext","Provider","component_Container_LayoutContainer","getChildFuncProps","shape","component_EditDrawer_LayerEdit","id","renderModal","PreviewPageModal","showModal","wrapClassName","PreviewPageModal_Sider","PreviewPageModal_Content","LoginModal","showLoginFrame","onResetModal","getIframeUrl","asyncAppendJs","origin","targetStr","searchStr","setItem","onCloseLoginModal","removeItem","clearInit","clearStorage","js","onload","console","log","common","main","webapi","sendMessageToIframe","jsHost","src","Date","now","iframeLogin","querySelector","getElementById","contentWindow","postMessage","auth","passport","encodeURIComponent","App","showLoginModal","showEditNameModal","showPreviewModal","onSubmitPageName","onClosePreviewModal","onClosePageNameModal","locale_provider","locale","zhCN","App_Sider","App_Content","component_Modal_PageNameModal","component_Modal_PreviewPageModal","component_Modal_LoginModal","ReactDOM","src_App"],"mappings":"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","file":"static/js/main.bed941bf.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Form, Input, Modal } from 'antd';\r\nimport './index.css';\r\n\r\nclass PageNameModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.afterClose = this.afterClose.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n    onSubmit(e) {\r\n        e && e.preventDefault();\r\n        const { form, onOkModal } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { pageName, projectDir } = values;\r\n                onOkModal(pageName, projectDir);\r\n            }\r\n        });\r\n    }\r\n    afterClose() {\r\n        this.props.form.resetFields();\r\n    }\r\n    render() {\r\n        const { visible, form, onCloseModal } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Modal\r\n                visible={visible}\r\n                footer={null}\r\n                width={450}\r\n                closable\r\n                centered\r\n                afterClose={this.afterClose}\r\n                onOk={this.onSubmit}\r\n                onCancel={onCloseModal}\r\n                title=\"页面名称\"\r\n                maskClosable\r\n            >\r\n                <Form\r\n                    onSubmit={this.onSubmit}\r\n                    style={{ padding: '20px 40px' }}\r\n                >\r\n                    <Form.Item>\r\n                        {getFieldDecorator('pageName', {\r\n                            rules: [\r\n                                { required: true, message: '请输入页面名称!' },\r\n                                { pattern: /^[a-zA-Z]+$/, message: '名称只能包含字母！' }\r\n                            ],\r\n                        })(\r\n                            <Input placeholder=\"只能包含字母\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    {\r\n                        window.ipcRenderer ? (<Form.Item>\r\n                            {getFieldDecorator('projectDir', {\r\n                                rules: [\r\n                                    { required: true, message: '请输入项目文件夹!' },\r\n                                ],\r\n                            })(\r\n                                <Input placeholder=\"项目文件夹\" />\r\n                            )}\r\n                        </Form.Item>) : null\r\n                    }\r\n                    <Form.Item  style={{ marginTop: '15px', textAlign: 'center' }}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(PageNameModal);","const proxyServerUrl = 'https://pagetools.herokuapp.com';\r\n// const proxyServerUrl = 'http://127.0.0.1:9999';\r\nconst activeColor = '#dde7f1';\r\nconst FORM_CONTAINER = 'FormContainer';\r\nconst TABLE_CONTAINER = 'TableContainer';\r\nconst EMPTY_CONTAINER = 'EmptyContainer';\r\nconst BOX_CONTINAER = 'BoxContainer';\r\nconst HEADER_CONTINAER = 'HeaderContainer';\r\nconst LINE_CONTINAER = 'LineContainer';\r\nconst MODAL_CONTINAER = 'ModalContainer';\r\nconst TRUE = '1';\r\nconst FALSE = '0';\r\nconst MODE_EDIT = 'edit';\r\nconst MODE_ADD = 'add';\r\nconst FORM_QUERY = 'query';\r\nconst FORM_VIEW = 'view';\r\nconst FORM_SAVE = 'save';\r\nconst CODE_SUCCESS = '0';\r\nconst LAYER_MODAL = 'modal';\r\nconst LAYER_DRAWER = 'drawer';\r\nconst LAYER_API = 'api';\r\n\r\nexport {\r\n    activeColor,\r\n    FORM_CONTAINER,\r\n    TABLE_CONTAINER,\r\n    EMPTY_CONTAINER,\r\n    BOX_CONTINAER,\r\n    HEADER_CONTINAER,\r\n    LINE_CONTINAER,\r\n    MODAL_CONTINAER,\r\n    LAYER_MODAL,\r\n    LAYER_DRAWER,\r\n    LAYER_API,\r\n    TRUE,\r\n    FALSE,\r\n    MODE_ADD,\r\n    MODE_EDIT,\r\n    FORM_VIEW,\r\n    FORM_SAVE,\r\n    FORM_QUERY,\r\n    CODE_SUCCESS,\r\n    proxyServerUrl,\r\n};\r\nexport default proxyServerUrl;","import axios from 'axios';\r\nimport proxyServerUrl from '../utils/Constants';\r\n\r\naxios.interceptors.response.use((response) => {\r\n    return response;\r\n  }, (error) => {\r\n    return Promise.reject(error);\r\n  });\r\n\r\nclass AppService {\r\n    generatePage(data) {\r\n        return axios({\r\n            method: 'POST',\r\n            url: `${proxyServerUrl}/generatePage`,\r\n            data,\r\n        });\r\n    }\r\n    fetchApi(host, method, api, params) {\r\n        return axios({\r\n            method: 'post',\r\n            url: `${proxyServerUrl}/fetchApi`,\r\n            data: {\r\n                host, \r\n                method,\r\n                api,\r\n                params,\r\n                appUrl: localStorage.getItem('appUrl'),\r\n                access_token: localStorage.getItem('access_token'),\r\n                MerchantId: localStorage.getItem('MerchantId'),\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport default AppService;","import React from 'react';\r\nimport AppService from '../service/AppService';\r\n\r\nconst ServicesMatch = {\r\n    AppService,\r\n};\r\n\r\nexport default function Service(name) {\r\n    return (Target) => {\r\n        return (props) => {\r\n            const newProps = Object.assign({}, props);\r\n            if (Object.hasOwnProperty.call(ServicesMatch, name)) {\r\n                const ServiceClass = ServicesMatch[name];\r\n                if (typeof ServiceClass === 'function') {\r\n                    newProps.service = new ServiceClass();\r\n                }\r\n            }\r\n            return (<Target {...newProps} />);\r\n        };\r\n    };\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport { Divider, Icon } from 'antd';\r\nimport './index.css';\r\n\r\nclass LineContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onDelete = this.onDelete.bind(this);\r\n    }\r\n    onDelete() {\r\n        const { onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({ deleteFlag: true });\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"fulu-cell-box line-box\">\r\n                <Divider />\r\n                <Icon type=\"close\" className=\"delete-line\" onClick={this.onDelete} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LineContainer;","const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n};\r\n\r\nexport default formItemLayout;","import React, { Fragment } from 'react';\r\nimport { Divider, Dropdown, Icon } from 'antd';\r\nimport { TRUE } from './Constants';\r\n\r\nconst renderMoreOpList = (opList) => {\r\n    return (\r\n        <span style={{ background: '#fff', display: 'block' }}>\r\n            {\r\n                opList.map(({opText, index}) => {\r\n                return (\r\n                    <a href=\"&nbsp;\" key={`op-${index}`} style={{ display: 'block' }}>\r\n                        {opText}\r\n                    </a>\r\n                );\r\n                })\r\n            }\r\n        </span>\r\n    );\r\n}\r\n\r\nconst renderMultOperation = (operationArr) => {\r\n    const [ firstItem, ...restItemArr ] = operationArr;\r\n    return (\r\n        <Fragment>\r\n            <a href=\"&nbsp;\">\r\n                {firstItem.opText}\r\n            </a>\r\n            <Divider type=\"vertical\" />\r\n            <Dropdown overlay={renderMoreOpList(restItemArr)}>\r\n                <a className=\"ant-dropdown-link\" href=\"&nbsp;\">\r\n                    更多<Icon type=\"down\" />\r\n                </a>\r\n            </Dropdown>\r\n        </Fragment>\r\n    );\r\n}\r\nconst renderNormalOperation = (operationArr) => {\r\n    const resultArr = [];\r\n    operationArr.forEach(({ opText, index }, i) => {\r\n        resultArr.push((\r\n            <Fragment key={`fr-${index}`}>\r\n                <a href=\"&nbsp;\" key={`op-${index}`}>{opText}</a>\r\n                {\r\n                    i !== operationArr.length -1\r\n                        ? <Divider type=\"vertical\" /> : null\r\n                }\r\n            </Fragment>)\r\n        );\r\n    });\r\n    return resultArr;\r\n}\r\n\r\nconst handleOperation = (columns = [], operationArr = [], context) => {\r\n    let opCol = null;\r\n    if (columns.length > 0 && columns[columns.length -1].title === '操作') {\r\n        opCol = columns[columns.length -1];\r\n    } else {\r\n        opCol = {\r\n            title: '操作',\r\n            dataIndex: 'operation',\r\n        };\r\n        columns.push(opCol);\r\n    }\r\n    opCol.render = (text, record) => {\r\n        if (!Array.isArray(operationArr)) {\r\n            return null;\r\n        }\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    operationArr.map(({ opText, opType, modalName, api = '', skipUrl }, i) => {\r\n                        const clickProps = {};\r\n                        if (opType === 'edit' || opType === 'view') {\r\n                            clickProps.onClick = (e) => {\r\n                                context.onShowModal(e, modalName, api, record);\r\n                            };\r\n                        } else if (opType === 'skip') { // 跳转\r\n                            clickProps.onClick = (e) => {\r\n                                window.location = skipUrl;\r\n                            };\r\n                        } else { // 删除\r\n                            clickProps.onClick = (e) => {\r\n                                context.props.execFetchApi(api, record);\r\n                            };\r\n                        }\r\n                        return (\r\n                            <>\r\n                                <a href=\"javascript:;\" key={`op-${i}`} {...clickProps}>\r\n                                    {opText}\r\n                                </a>\r\n                                { i !== operationArr.length - 1 ? <Divider type=\"vertical\" /> : null }\r\n                            </>\r\n                        );\r\n                    })\r\n                }\r\n            </Fragment>\r\n        );\r\n        // if (operationArr.length > 2) {\r\n        //     return (\r\n        //         <span>\r\n        //             {\r\n        //                 renderMultOperation(operationArr)\r\n        //             }\r\n        //         </span>\r\n        //     );\r\n        // } else {\r\n        //     return (\r\n        //         <span>\r\n        //             {\r\n        //                 renderNormalOperation(operationArr)\r\n        //             }\r\n        //         </span>\r\n        //     );\r\n        // }\r\n    };\r\n    return columns;\r\n}\r\n\r\nconst handleColumns = (values, configs, context) => {\r\n    const { operationArr = [], columns } = configs;\r\n    const newColumns = columns.slice();\r\n    Object.keys(values).forEach((k) => {\r\n        const val = values[k];\r\n        // 常规数据列\r\n        if (k.indexOf('-') > 0) {\r\n            const [ columnName, columnIndex ] = k.split('-');\r\n            const columnTarget = newColumns.find((item) => {\r\n                return item.index === +columnIndex;\r\n            });\r\n            if (columnTarget) {\r\n                columnTarget[columnName] = val;\r\n                if (columnName === 'width' && !val) {\r\n                    delete columnTarget.width;\r\n                }\r\n                if (columnName === 'fixed') {\r\n                    columnTarget[columnName] = TRUE === val;\r\n                }\r\n                delete values[k];\r\n            }\r\n        }\r\n    });\r\n    if (values.hasOperation === TRUE) {\r\n        return handleOperation(newColumns, operationArr, context); \r\n    }\r\n    // 序号列渲染处理\r\n    if (newColumns.length > 0 && newColumns[0].sortIndex === TRUE) {\r\n        newColumns[0].render = (record, index) => {\r\n            return (\r\n                <span>{index + 1}</span>\r\n            );\r\n        };\r\n    }\r\n    return newColumns;\r\n};\r\n\r\nconst getTableConfig = (values, configs, context) => {\r\n    const columns = handleColumns(values, configs, context);\r\n    const newConfigs = {\r\n        columns,\r\n    };\r\n    Object.keys(values).forEach((k) => {\r\n        const val = values[k];\r\n        if (k === 'pagination') { // 分页\r\n            if (val === TRUE) {\r\n                newConfigs.pagination = {\r\n                    pageSize: values.pageSize,\r\n                    pageSizeOptions: values.pageSizeOptions.split(','),\r\n                };\r\n            } else {\r\n                newConfigs[k] = TRUE === val;\r\n            }\r\n        } else if (k === 'rowSelection') {\r\n            if (val === TRUE) {\r\n                newConfigs.rowSelection = {\r\n                    type: values.type,\r\n                    onChange: (selectedRowKeys, selectedRows) => {\r\n                        context.setState({\r\n                            selectedRowKeys,\r\n                            selectedRows,\r\n                        });\r\n                    },\r\n                };\r\n                if (values.type === 'radio') {\r\n                    newConfigs.rowSelection.columnTitle = values.columnTitle;\r\n                }\r\n            } else {\r\n                newConfigs[k] = null;\r\n            }\r\n        } else {\r\n            newConfigs[k] = val;\r\n        }\r\n    });\r\n    return newConfigs;\r\n};\r\n\r\nexport {\r\n    getTableConfig,\r\n}\r\n\r\nexport default getTableConfig;","import moment from 'moment';\r\n\r\n/**\r\n * @desc 将moment对象转换成字符串\r\n * @param {*} date \r\n * @param {*} formatStr \r\n */\r\nconst transferDateToStr = (date, formatStr = 'YYYY-MM-DD') => {\r\n    if (date && date.format) {\r\n        return date.format(formatStr);\r\n    }\r\n    return date;\r\n};\r\n\r\nconst transferDateToMoment = (dateStr, formatStr = 'YYYY-MM-DD') => {\r\n    if (dateStr) {\r\n        return moment(dateStr, formatStr);\r\n    }\r\n    return dateStr;\r\n};\r\n\r\nexport default transferDateToStr;\r\n\r\nexport {\r\n    transferDateToStr,\r\n    transferDateToMoment,\r\n};","import moment from 'moment';\r\nimport { transferDateToStr } from './DateUtil';\r\nimport { FORM_QUERY, MODE_ADD, FORM_CONTAINER, FORM_SAVE } from './Constants';\r\n\r\nconst getFormData = (values, renderArr, hasIndex) => {\r\n    const formData = hasIndex ? [] : {};\r\n    Object.keys(values).forEach((valKey) => {\r\n        let fk = valKey;\r\n        if (hasIndex) {\r\n            if (valKey.indexOf('-') > 0) {\r\n                const [ k, i ] = valKey.split('-');\r\n                fk = k;\r\n                if (isContain(fk, renderArr)) {\r\n                    const item = findItemByRule(({ index }) => index === i, formData);\r\n                    if (item) {\r\n                        item[fk] = values[valKey];\r\n                    } else {\r\n                        formData.push({\r\n                            [fk]: values[valKey],\r\n                            index: i,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        } else if (isContain(fk, renderArr)) {\r\n            formData[fk] = values[valKey];\r\n        }\r\n    });\r\n    return formData;\r\n};\r\n\r\nconst getFormDataByIndex = (values, renderArr, i) => {\r\n    const result ={};\r\n    renderArr.forEach((k) => {\r\n        const indexK = `${k}-${i}`;\r\n        if (Object.hasOwnProperty.call(values, indexK)) {\r\n            result[k] = values[indexK];\r\n            delete values[indexK];\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nconst isContain = (matchKey, matchArr) => {\r\n    return !!findItemByRule(matchKey, matchArr);\r\n};\r\n\r\nconst findItemByRule = (rule, matchArr) => {\r\n    const isFn = typeof rule === 'function';\r\n    return matchArr.find((item) => {\r\n        return isFn ? rule(item) : item.key === rule;\r\n    });\r\n};\r\n\r\nconst getFormApi = (mode, formConfig) => {\r\n    const { formType, queryApi, addApi, editApi } = formConfig;\r\n    return formType === FORM_QUERY ? queryApi : mode === MODE_ADD ? addApi : editApi;\r\n};\r\n\r\nconst initForm = (form, layoutConfig, initData) => {\r\n    const formObj = layoutConfig.find(({ type, formType }) => {\r\n        return type === FORM_CONTAINER && formType === FORM_SAVE;\r\n    });\r\n    if (formObj && Array.isArray(formObj.formItemArr)) {\r\n        const formData = formObj.formItemArr.reduce((obj, item) => {\r\n            const { type, name, format = 'YYYY-MM-DD', dateKeys } = item;\r\n            if (type === 'DatePicker') {\r\n                obj[name] = moment(initData[name], format);\r\n            } else if (type === 'RangePicker' && dateKeys) {\r\n                const [ startTime, endTime ] = dateKeys;\r\n                if (initData[startTime] && initData[endTime]) {\r\n                    obj[name] = [moment(initData[startTime], format), moment(initData[endTime], format)];\r\n                }\r\n            } else {\r\n                obj[name] = initData[name];\r\n            }\r\n            return obj;\r\n        }, {});\r\n        form.setFieldsValue(formData);\r\n    }\r\n};\r\n\r\nconst getSubmitData = ({ formItemArr }, values) => {\r\n    formItemArr.forEach(({ type, name, dateKeys, format }) => {\r\n        if (type === 'DatePicker') {\r\n            values[name] = transferDateToStr(values[name], format);\r\n        } else if (type === 'RangePicker' && Array.isArray(values[name]) && values[name].length > 0)  {\r\n            const [ startTime, endTime ] = values[name];\r\n            const [startKey, endKey] = dateKeys.split(',');\r\n            values[startKey] = transferDateToStr(startTime, format);\r\n            values[endKey] = transferDateToStr(endTime, format);\r\n            delete values[name];\r\n        }\r\n    });\r\n    return values;\r\n};\r\n\r\nconst getFormByType = (layoutConfig = [], type = 'query') => {\r\n    return getFormArr(layoutConfig).find(({ formType }) => {\r\n        return type === formType;\r\n    });\r\n};\r\n\r\nconst getFormArr = (layoutConfig) => {\r\n    const formArr = layoutConfig.reduce((arr, item) => {\r\n        const { type, cellsArr } = item;\r\n        if (Array.isArray(cellsArr) && cellsArr.length > 0) {\r\n            arr.push(...getFormByType({ layoutConfig: cellsArr }));\r\n        } else if (type === FORM_CONTAINER) {\r\n            arr.push(item);\r\n        }\r\n        return arr;\r\n    }, []);\r\n    return formArr;\r\n};\r\n\r\nexport {\r\n    initForm,\r\n    getFormApi,\r\n    getFormData,\r\n    getFormByType,\r\n    getSubmitData,\r\n    getFormDataByIndex,\r\n};\r\n\r\nexport default getFormData;","import React, { Component, Fragment } from 'react';\r\nimport { Button, Card, Drawer, Divider, Collapse, Form, Input, Icon, Select } from 'antd';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport getTableConfig from '../../../utils/TableUtil';\r\nimport { getFormDataByIndex } from '../../../utils/FormUtil';\r\nimport { renderApiSelect, renderModalSelect } from '../../../utils/RenderUtil';\r\nimport { TRUE, FALSE } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\nconst Option = Select.Option;\r\n\r\nconst fLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 10 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 14 },\r\n    },\r\n};\r\n\r\nclass TableEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            configs: props.configs,\r\n        };\r\n        this.setColumnMaxIndex(props);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAddColumn = this.onAddColumn.bind(this);\r\n        this.onDeleteColumn = this.onDeleteColumn.bind(this);\r\n        this.onAddOperation = this.onAddOperation.bind(this);\r\n        this.onDeleteOperation = this.onDeleteOperation.bind(this);\r\n        this.renderOperationBtn = this.renderOperationBtn.bind(this);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.visible !== this.props.visible && nextProps.visible) {\r\n            this.setState({\r\n                configs: nextProps.configs,\r\n            });\r\n            this.setColumnMaxIndex(nextProps);\r\n            this.setOperationMaxIndex(nextProps);\r\n        }\r\n    }\r\n    setColumnMaxIndex({ configs }) {\r\n        const { columns = [] } = configs;\r\n        this.columnMaxIndex = columns.length || 0;\r\n    }\r\n    setOperationMaxIndex({ configs }) {\r\n        const { operationArr = [] } = configs;\r\n        this.operationMaxIndex = operationArr.length || 0;\r\n    }\r\n    addColumnMaxIndex() {\r\n        this.columnMaxIndex += 1;\r\n    }\r\n    addOperationMaxIndex() {\r\n        this.operationMaxIndex += 1;\r\n    }\r\n    onAddOperation() {\r\n        const { configs } = this.state;\r\n        const { operationArr = [] } = configs;\r\n        const newOperationArr = operationArr.slice();\r\n        const opreationIndex = this.operationMaxIndex;\r\n        newOperationArr.push({\r\n            opText: \"操作\",\r\n            index: opreationIndex,\r\n        });\r\n        this.setState({\r\n            configs: this.getNewConfigs('operationArr', newOperationArr),\r\n        });\r\n        this.addOperationMaxIndex();\r\n    }\r\n    onAddColumn() {\r\n        const { configs } = this.state;\r\n        const { columns } = configs;\r\n        const newColumns = columns.slice();\r\n        const columnIndex = this.columnMaxIndex;\r\n        newColumns.push({\r\n            title: `column${columnIndex}`,\r\n            dataIndex: `dataIndex${columnIndex}`,\r\n            index: columnIndex,\r\n        });\r\n        this.setState({\r\n            configs: this.getNewConfigs('columns', newColumns),\r\n        });\r\n        this.addColumnMaxIndex();\r\n    }\r\n    onDeleteOperation(index) {\r\n        const { configs } = this.state;\r\n        const { operationArr } = configs;\r\n        const newOperationArr = operationArr.reduce((arr, item) => {\r\n            if (item.index !== index) {\r\n                arr.push(Object.assign({}, item));\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.operationArr = newOperationArr;\r\n        this.setState({\r\n            configs: this.getNewConfigs('operationArr', newOperationArr),\r\n        });\r\n    }\r\n    onDeleteColumn(columnIndex) {\r\n        const { configs } = this.state;\r\n        const { columns } = configs;\r\n        const newColumns = columns.reduce((arr, item) => {\r\n            if (item.index !== columnIndex) {\r\n                arr.push(Object.assign({}, item));\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.columns = newColumns;\r\n        this.setState({\r\n            configs: this.getNewConfigs('columns', newColumns),\r\n        });\r\n    }\r\n    getNewConfigs(k, v) {\r\n        const { configs } = this.state;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs[k] = v;\r\n        return newConfigs;\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const { context, form, onUpdateLayoutConfig } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { configs } = this.state;\r\n                const newOperationArr = [];\r\n                // 有操作列\r\n                if (values.hasOperation === TRUE) {\r\n                    const { operationArr = [] } = configs;\r\n                    const opArr = ['opText', 'opType', 'modalName', 'modalData', 'api', 'skipUrl'];\r\n                    for (let i = 0; i< operationArr.length; i++) {\r\n                        const { index } = operationArr[i];\r\n                        newOperationArr.push(Object.assign(operationArr[i], getFormDataByIndex(values, opArr, index)));\r\n                    }\r\n                }\r\n                const newConfigs = getTableConfig(values, configs, context);\r\n                newConfigs.operationArr = newOperationArr;\r\n                delete newConfigs.pageSize;\r\n                delete newConfigs.pageSizeOptions;\r\n                delete newConfigs.type;\r\n                delete newConfigs.columnTitle;\r\n                onUpdateLayoutConfig(newConfigs);\r\n            }\r\n        });\r\n    }\r\n    renderPanelHeader({ title, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{title}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteColumn(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderOperationHeader({ opText, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{opText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteOperation(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderCollapse() {\r\n        const { form } = this.props;\r\n        const { configs } = this.state;\r\n        const { columns = [] } = configs;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Collapse>\r\n                {\r\n                    columns.map((item, i) => {\r\n                        const { title, index, dataIndex, width, sortIndex, align = 'left', fixed = false } = item;\r\n                        if (title === '操作' && i === columns.length -1) {\r\n                            return null;\r\n                        }\r\n                        return (\r\n                            <Panel header={this.renderPanelHeader(item)} key={`${title}-${index}`}>\r\n                                <Form.Item label=\"title\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`title-${index}`, { \r\n                                        rules: [{ required: true, message: '请输入title!' }],\r\n                                        initialValue: title,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"dataIndex\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`dataIndex-${index}`, { \r\n                                        rules: [{ required: true, message: 'dataIndex!' }],\r\n                                        initialValue: dataIndex,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"width\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`width-${index}`, {\r\n                                        initialValue: width || '',\r\n                                    }, {\r\n                                        rules: [{ pattern: /^\\d+(%)?$/, message: '请输入数字或者百分比!' }]\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                {\r\n                                    i === 0 ? (\r\n                                        <Form.Item label=\"序号列\" {...formItemLayout}>\r\n                                            {getFieldDecorator(`sortIndex-${index}`, {\r\n                                                initialValue: sortIndex,\r\n                                            })(\r\n                                                <Select placeholder=\"是否显示序号\">\r\n                                                    <Option value=\"0\">false</Option>\r\n                                                    <Option value=\"1\">true</Option>\r\n                                                </Select>\r\n                                            )}\r\n                                        </Form.Item>\r\n                                    ): null\r\n                                }\r\n                                <Form.Item label=\"align\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`align-${index}`, { \r\n                                        initialValue: align,\r\n                                    })(\r\n                                        <Select>\r\n                                            <Option value={'left'}>left</Option>\r\n                                            <Option value={'right'}>right</Option>\r\n                                            <Option value={'center'}>center</Option>\r\n                                        </Select>\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"fixed\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`fixed-${index}`, { \r\n                                        initialValue: fixed ? \"1\" : \"0\",\r\n                                    })(\r\n                                        <Select>\r\n                                            <Option value=\"0\">false</Option>\r\n                                            <Option value=\"1\">true</Option>\r\n                                        </Select>\r\n                                    )}\r\n                                </Form.Item>\r\n                            </Panel>\r\n                        );\r\n                    })\r\n                }\r\n            </Collapse>\r\n        );\r\n    }\r\n    renderOperationBtn(btnConfig) {\r\n        const { form, layerConfig } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { index, opText, opType, modalName, modalData, api, skipUrl } = btnConfig;\r\n        const _opType = form.getFieldValue(`opType-${index}`);\r\n        return (\r\n            <Panel header={this.renderOperationHeader(btnConfig)} key={`op-${index}`}>\r\n                <Form.Item label=\"文字\" {...formItemLayout}>\r\n                    {getFieldDecorator(`opText-${index}`, { \r\n                        initialValue: opText,\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"类型\" {...formItemLayout}>\r\n                    {getFieldDecorator(`opType-${index}`, { \r\n                        initialValue: opType,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"edit\">编辑(弹窗)</Option>\r\n                            <Option value=\"view\">查看(弹窗)</Option>\r\n                            <Option value=\"delete\">删除</Option>\r\n                            <Option value=\"skip\">跳转</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    _opType === 'edit' || _opType === 'view' ? renderModalSelect(layerConfig, form, modalName, index) : null\r\n                }\r\n                {\r\n                    _opType === 'edit' || _opType === 'view' ? (\r\n                        <Form.Item label=\"数据来源\" {...formItemLayout}>\r\n                            {getFieldDecorator(`modalData-${index}`, {\r\n                                rules: [{ required: true, message: '选择数据来源' }],\r\n                                initialValue: modalData,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"table\">表格</Option>\r\n                                    <Option value=\"api\">接口调用</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                    ) : null\r\n                }\r\n                {\r\n                     _opType === 'skip' ? (\r\n                        <Form.Item label=\"路径地址\" {...formItemLayout}>\r\n                            {getFieldDecorator(`skipUrl-${index}`, {\r\n                                rules: [{ required: true, message: '输入路径地址' }],\r\n                                initialValue: skipUrl,\r\n                            })(\r\n                                <Input />\r\n                            )}\r\n                        </Form.Item>\r\n                    ) : null\r\n                }\r\n                {\r\n                    form.getFieldValue(`modalData-${index}`) === 'api' || _opType === 'delete' ?\r\n                        renderApiSelect(layerConfig, form, { initialValue: api, key: index }) : null\r\n                }\r\n            </Panel>\r\n        )\r\n    }\r\n    renderTableProps() {\r\n        const { form } = this.props;\r\n        const { configs } = this.state;\r\n        const { getFieldDecorator } = form;\r\n        const {  operationArr = [], pagination, rowSelection, hasOperation = FALSE, rowKey } = configs;\r\n        const { pageSize = 10, pageSizeOptions = '10,20,30' } = pagination || {};\r\n        const { type = 'checkbox', columnTitle = '选择' } = rowSelection || {};\r\n        const hasPagination = Object.keys(pagination || {}).length > 0 ? TRUE : FALSE;\r\n        const hasRowSelection = Object.keys(rowSelection || {}).length > 0 ? TRUE : FALSE;\r\n        return (\r\n            <Fragment>\r\n                <Form.Item label=\"操作列\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"hasOperation\", { \r\n                        initialValue: hasOperation,\r\n                    })(\r\n                        <Select>\r\n                            <Option value={FALSE}>无</Option>\r\n                            <Option value={TRUE}>有</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('hasOperation') === TRUE ? // 操作列\r\n                        [\r\n                            <Collapse key=\"op-collapse\">\r\n                                {\r\n                                    operationArr.map(this.renderOperationBtn)\r\n                                }\r\n                            </Collapse>,\r\n                            <Fragment key=\"op-collapse-btns\">\r\n                                {\r\n                                    form.getFieldValue('hasOperation') === TRUE ?\r\n                                        (<div className=\"btn-add-box\">\r\n                                            <Button\r\n                                                type=\"dashed\"\r\n                                                size=\"large\"\r\n                                                onClick={this.onAddOperation}\r\n                                            >\r\n                                                添加操作项\r\n                                            </Button>\r\n                                        </div>) : null\r\n                                }\r\n                            </Fragment>\r\n                        ] : null\r\n                }\r\n                <Form.Item label=\"pagination\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"pagination\", { \r\n                        initialValue: hasPagination,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">false</Option>\r\n                            <Option value=\"1\">true</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"rowKey\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"rowKey\", { \r\n                        initialValue: rowKey,\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('pagination') === '1' ?\r\n                    <Card title=\"pagination配置\">\r\n                        <Form.Item label=\"pageSize\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"pageSize\", { \r\n                                initialValue: pageSize,\r\n                            })(\r\n                                <Input />\r\n                            )}\r\n                        </Form.Item>\r\n                        <Form.Item label=\"pageSizeOptions\" {...fLayout}>\r\n                            {getFieldDecorator(\"pageSizeOptions\", { \r\n                                initialValue: Array.isArray(pageSizeOptions)\r\n                                    ? pageSizeOptions.join(',') : pageSizeOptions,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"10,20,30\">10,20,30</Option>\r\n                                    <Option value=\"10,20,30,40\">10,20,30,40</Option>\r\n                                    <Option value=\"20,30,40\">20,30,40</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                    </Card> : null\r\n                }\r\n                <Form.Item label=\"rowSelection\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"rowSelection\", { \r\n                        initialValue: hasRowSelection,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">false</Option>\r\n                            <Option value=\"1\">true</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('rowSelection') === '1' ?\r\n                    <Card title=\"rowSelection配置\">\r\n                        <Form.Item label=\"type\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"type\", { \r\n                                initialValue: type,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"checkbox\">checkbox</Option>\r\n                                    <Option value=\"radio\">radio</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                        {\r\n                            form.getFieldValue('type') === 'radio' ?\r\n                                <Form.Item label=\"columnTitle\" {...formItemLayout}>\r\n                                    {getFieldDecorator(\"columnTitle\", { \r\n                                        initialValue: columnTitle,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item> : null\r\n                        }\r\n                    </Card> : null\r\n                }\r\n                {/* <Form.Item label=\"模拟数据\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"mockData\", {\r\n                        initialValue: mockData,\r\n                    })(\r\n                        <Input placeholder=\"请输入数据条数\" />\r\n                    )}\r\n                </Form.Item> */}\r\n            </Fragment>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, onClose, onDeleteContainer, form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { configs } = this.state;\r\n        const {  dataSrouce } = configs;\r\n        return (\r\n            <Drawer\r\n                title=\"表格编辑\"\r\n                maskClosable={false}\r\n                width={420}\r\n                onClose={onClose}\r\n                visible={visible}\r\n            >\r\n                <Form onSubmit={this.onSubmit}>\r\n                    <Divider>表头</Divider>\r\n                    {this.renderCollapse()}\r\n                    <div className=\"btn-add-box\">\r\n                        <Button\r\n                            type=\"dashed\"\r\n                            size=\"large\"\r\n                            onClick={this.onAddColumn}\r\n                        >\r\n                            添加表头列\r\n                        </Button>\r\n                    </div>\r\n                    <Divider>表格属性</Divider>\r\n                    {this.renderTableProps()}\r\n                    <Divider>数据源</Divider>\r\n                    <Form.Item label=\"dataSrouce\" {...formItemLayout}>\r\n                        {getFieldDecorator(\"modelKey\", {\r\n                            initialValue: dataSrouce,\r\n                        })(\r\n                            <Input placeholder=\"model key\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item style={{ marginTop: '20px', textAlign: 'center' }}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(TableEdit);","import React, { Component } from 'react';\r\nimport { Icon } from 'antd';\r\nimport { Table } from 'fl-pro';\r\nimport { TABLE_CONTAINER } from '../../../utils/Constants';\r\nimport TableEdit from '../../EditDrawer/TableEdit';\r\n\r\nimport './index.css';\r\n\r\nclass TableContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n        };\r\n        this.onClose = this.onClose.bind(this);\r\n        this.onShowEditTable = this.onShowEditTable.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onPageIndexChange = this.onPageIndexChange.bind(this);\r\n        this.onShowSizeChange = this.onShowSizeChange.bind(this);\r\n    }\r\n    onShowEditTable() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onClose(e) {\r\n        e.stopPropagation();\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onUpdateConfigs(newConfigs) {\r\n        const { configs, onUpdateLayoutConfig } = this.props;\r\n        const { layoutIndex } = configs;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex,\r\n            type: TABLE_CONTAINER,\r\n            ...newConfigs\r\n        });\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { configs, onUpdateLayoutConfig } = this.props;\r\n        const { layoutIndex } = configs;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex,\r\n            deleteFlag: true,\r\n        });\r\n    }\r\n    getMockDataSource(columns, dataSize) {\r\n        const ds = [];\r\n        for (let i = 0; i < dataSize; i++) {\r\n            const dsItem = {};\r\n            columns.forEach((item) => {\r\n                Object.keys(item).forEach((k) => {\r\n                    dsItem[item.dataIndex] = `${item.dataIndex}-${i}`;\r\n                });\r\n            });\r\n            ds.push(dsItem);\r\n        }\r\n        return ds;\r\n    }\r\n    getModelKey() {\r\n        const { configs = {} } = this.props;\r\n        const { modelKey } = configs;\r\n        return modelKey;\r\n    }\r\n    onPageIndexChange(page, pageSize) {\r\n        this.props.onPageIndexChange(page, pageSize, this.getModelKey());\r\n    }\r\n    onShowSizeChange(current, size) {\r\n        this.props.onShowSizeChange(current, size, this.getModelKey());\r\n    }\r\n    getRowSelection(rowSelection, selectedRowKeys) {\r\n        const { preview = false, context } = this.props;\r\n        if (rowSelection) {\r\n            rowSelection.selectedRowKeys = selectedRowKeys;\r\n            if (preview) {\r\n                rowSelection.onChange = (selectedRowKeys, selectedRows) => {\r\n                    context.setState({\r\n                        selectedRowKeys,\r\n                        selectedRows,\r\n                    });\r\n                };\r\n            }\r\n        }\r\n        return rowSelection;\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { configs = {}, apiData = {}, currentPage, pageSize, context, layerConfig, preview = false } = this.props;\r\n        const { GuiContext } = context;\r\n        const { pagination = false, rowSelection = null, columns = [], modelKey, mockData, rowKey } = configs;\r\n        const copyColumns = columns.slice();\r\n        const mockDataNum = (/^\\d+$/).test(mockData) ? +mockData : 0;\r\n        // 是否存在api接口返回的数据项\r\n        const hasApiDataSource = modelKey && Object.hasOwnProperty.call(apiData, modelKey);\r\n        const dataSource = hasApiDataSource ? apiData[modelKey] : this.getMockDataSource(columns, mockDataNum);\r\n        // 有分页属性\r\n        if (pagination) {\r\n            pagination.showQuickJumper = true;\r\n            pagination.showSizeChanger = true;\r\n            pagination.current = currentPage;\r\n            pagination.pageSize = pageSize;\r\n            pagination.total = hasApiDataSource ? apiData[`${modelKey}Total`] : mockDataNum;\r\n            pagination.onChange = this.onPageIndexChange;\r\n            pagination.onShowSizeChange = this.onShowSizeChange;\r\n        }\r\n        return (\r\n            <div className={`table-container container ${preview ? 'preview-box' : ''}`}>\r\n                <GuiContext.Consumer>\r\n                    {\r\n                        ({ selectedRowKeys }) =>\r\n                            <Table\r\n                                columns={copyColumns}\r\n                                bordered\r\n                                dataSource={dataSource}\r\n                                pagination={pagination}\r\n                                rowSelection={this.getRowSelection(rowSelection, selectedRowKeys)}\r\n                                rowKey={rowKey}\r\n                            />\r\n                    }\r\n                </GuiContext.Consumer>\r\n                <TableEdit\r\n                    visible={visible}\r\n                    layerConfig={layerConfig}\r\n                    configs={configs}\r\n                    context={context}\r\n                    onClose={this.onClose}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                    onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                />\r\n                {\r\n                    !preview ? \r\n                        <Icon type=\"form\" className=\"icon-operation\" onClick={this.onShowEditTable} /> : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TableContainer;","import { PureComponent } from 'react';\r\n\r\nclass BaseContainer extends PureComponent {\r\n    onUpdateConfigs(newConfigs) {\r\n        const { onUpdateLayoutConfig } = this.props;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            onUpdateLayoutConfig({\r\n                layoutIndex: this.getContainerIndex(),\r\n                type: this.getContainerType(),\r\n                ...newConfigs,\r\n            });\r\n        });\r\n    }\r\n    onToggleEditDrawer() {\r\n        this.setState({\r\n            visible: !this.state.visible,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex: this.getContainerIndex(),\r\n            deleteFlag: true,\r\n        });\r\n        this.onToggleEditDrawer();\r\n    }\r\n    getContainerIndex() {\r\n        const { configs } = this.props;\r\n        return configs.layoutIndex;\r\n    }\r\n    getContainerType() {\r\n        const { configs } = this.props;\r\n        return configs.type;\r\n    }\r\n    _render() {\r\n        return null;\r\n    }\r\n    render() {\r\n        return this._render();\r\n    }\r\n}\r\n\r\nexport default BaseContainer;","import React, { Component } from 'react';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\n\r\nclass DropRender extends Component {\r\n\trender() {\r\n\t\tconst { configs = {}, ...restProps } =this.props;\r\n\t\tconst { cellStyles, textAlign = 'center', type } = configs;\r\n\t\tconst styleObj = type === 'Button' ? Object.assign({}, cellStyles, { textAlign }) : cellStyles;\r\n\t\treturn (\r\n\t\t\t<div style={styleObj}>\r\n                {\r\n                    renderComponent(configs, restProps)\r\n                }\r\n\t\t    </div>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default DropRender;","/**\r\n * 计算表单单元格跨列\r\n * @param {*} colIndex \r\n * @param {*} originSpan \r\n * @param {*} formItemArr \r\n * @param {*} colSpanArr \r\n */\r\nconst getCellColSpan = (colIndex, originSpan = 1, formItemArr = [], colSpanArr = []) => {\r\n    let finalColSpan = 0;\r\n    // 占据整行\r\n    if (originSpan === colSpanArr.length) {\r\n        finalColSpan = 24;\r\n    } else {\r\n        let locationIndex = 0;\r\n        let total = 0;\r\n        for (let i = 0; i < formItemArr.length; i++) {\r\n            if (formItemArr[i].colIndex >= colIndex) {\r\n                total = total % 24;\r\n                if (total === 0) {\r\n                    locationIndex = 0;\r\n                } else {\r\n                    for (let j = 0; j < colSpanArr.length; j++) {\r\n                        total -= colSpanArr[j];\r\n                        if (total <= 0) {\r\n                            locationIndex = j + 1;\r\n                            j = colSpanArr.length;\r\n                        }\r\n                    }\r\n                }\r\n                i = formItemArr.length;\r\n            } else {\r\n                total += formItemArr[i].colSpan;\r\n            }\r\n        }\r\n        let start = 0;\r\n        let end = 0;\r\n        // 不换行显示\r\n        if (originSpan <= colSpanArr.length - locationIndex) {\r\n            start = locationIndex;\r\n        }\r\n        end = start + originSpan - 1;\r\n        for(; start <= end; start++) {\r\n            finalColSpan += colSpanArr[start];\r\n        }\r\n    }\r\n    return finalColSpan;\r\n};\r\n\r\nconst strToObj = (str, separator = ';') => {\r\n    if (str) {\r\n        return str.split(separator).reduce((styleObj, styleStr) => {\r\n            const [ name, value ] = styleStr.split(':');\r\n            if (name && value) {\r\n                styleObj[name] = value.replace(/['\"\\s]/g, '');\r\n            }\r\n            return styleObj;\r\n        }, {});\r\n    }\r\n    return {};\r\n};\r\n\r\nconst objToStr = (objLike, separator = ';') => {\r\n    if (Object.prototype.toString.call(objLike) === '[object Object]') {\r\n        return Object.keys(objLike).reduce((arr, k) => {\r\n            arr.push(`${k}:${objLike[k]}`);\r\n            return arr;\r\n        }, []).join(separator);\r\n    } else if (Array.isArray(objLike)) {\r\n        return objLike.join(separator);\r\n    }\r\n    return objLike;\r\n};\r\n\r\nexport default getCellColSpan;\r\n\r\nexport {\r\n    strToObj,\r\n    objToStr,\r\n};","const ButtonSaveKeys = ['btnText', 'antdType', 'skipUrl', 'api', 'modalName'];\r\nexport {\r\n    ButtonSaveKeys,\r\n};","import React, { Component, Fragment } from 'react';\r\nimport { Card, DatePicker, Select, Icon, Input, Form, Collapse } from 'antd';\r\nimport getCellColSpan, { strToObj } from '../../utils/CellUtil';\r\nimport formItemLayout from '../../configs/layout';\r\nimport { ButtonSaveKeys } from '../../configs/saveConfigs';\r\nimport { renderModalSelect, renderApiSelect } from '../../utils/RenderUtil';\r\nimport { TRUE } from '../../utils/Constants';\r\n\r\nconst { Option } = Select;\r\nconst Panel = Collapse.Panel;\r\nconst allowCallApi = ['import', 'export', 'edit', 'view', 'mult'];\r\nconst allowCallModal = ['add', 'edit', 'view'];\r\n\r\nclass BaseEdit extends Component {\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n            deleteComponent: false,\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.onAddListItem = this.onAddListItem.bind(this);\r\n        this.onDeleteButton = this.onDeleteButton.bind(this);\r\n        this.onDeleteListItem = this.onDeleteListItem.bind(this);\r\n        this.onDeleteComponent = this.onDeleteComponent.bind(this);\r\n        this.renderBtnPanelHeader = this.renderBtnPanelHeader.bind(this);\r\n    }\r\n    getItemSetType() {\r\n        return [];\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n\t\tconst { configs = {} } = nextProps;\r\n        const { type } = configs;\r\n\t\tif (~this.getItemSetType().indexOf(type) && !this[`init${type}`] && nextProps.visible) {\r\n\t\t\tconst lowerCaseType = type.toLowerCase();\r\n\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\tconst stateVal =  configs[stateKey] || [];\r\n\t\t\tthis.setState({\r\n\t\t\t\t[stateKey]: stateVal,\r\n            });\r\n\t\t\tthis[`${lowerCaseType}Index`] = stateVal.length;\r\n\t\t\tthis[`init${type}`] = true;\r\n\t\t}\r\n\t}\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tconst { deleteComponent, buttonArr } = this.state;\r\n        const { form, onUpdateConfigs, configs, colSpanArr,\r\n            formItemArr, inForm = false } = this.props;\r\n        const itemSetType = this.getItemSetType();\r\n\t\tform.validateFields((err, values) => {\r\n\t        if (!err) {\r\n\t\t\t\tconst newConfigs = Object.assign({}, configs, values);\r\n\t\t\t\tnewConfigs.cellStyles = strToObj(values.cellStyles);\r\n\t\t\t\tif (deleteComponent) {\r\n\t\t\t\t\tnewConfigs.deleteFlag = true;\r\n\t\t\t\t}\r\n\t\t\t\tconst configType = newConfigs.type;\r\n\t\t\t\tif (~itemSetType.indexOf(configType) && configType !== 'Button') {\r\n\t\t\t\t\tconst lowerCaseType = configType.toLowerCase();\r\n\t\t\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\t\t\tconst newList = this.state[stateKey].slice();\r\n\t\t\t\t\tnewList.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst kLabel = `${lowerCaseType}Label-${index}`;\r\n\t\t\t\t\t\tconst kValue = `${lowerCaseType}Value-${index}`;\r\n\t\t\t\t\t\titem.label = values[kLabel];\r\n\t\t\t\t\t\titem.value= values[kValue];\r\n\t\t\t\t\t\tdelete newConfigs[kLabel];\r\n\t\t\t\t\t\tdelete newConfigs[kValue];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewConfigs[stateKey] = newList;\r\n\t\t\t\t} else if (configType === 'DatePicker' || configType === 'RangePicker') {\r\n\t\t\t\t\tconst { format } = values;\r\n\t\t\t\t\tnewConfigs.showTime = values.showTime === TRUE;\r\n\t\t\t\t\tif (configType === 'DatePicker') {\r\n\t\t\t\t\t\tnewConfigs.initialValue = values.initialValue && values.initialValue.format(format);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (configType === 'Button') {\r\n\t\t\t\t\tconst newButtonArr = buttonArr.slice();\r\n\t\t\t\t\tnewButtonArr.forEach((item) => {\r\n\t\t\t\t\t\tconst { btnIndex } = item;\r\n\t\t\t\t\t\tButtonSaveKeys.forEach((sKey) => {\r\n\t\t\t\t\t\t\tconst itemKey = `${sKey}-${btnIndex}`;\r\n\t\t\t\t\t\t\titem[sKey] = values[itemKey];\r\n\t\t\t\t\t\t\tdelete newConfigs[itemKey];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (item.logicType === 'expand') {\r\n\t\t\t\t\t\t\tconst expandCount = `expandCount-${btnIndex}`;\r\n\t\t\t\t\t\t\titem.expandCount = values[expandCount];\r\n\t\t\t\t\t\t\tdelete newConfigs[expandCount];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewConfigs.buttonArr = newButtonArr;\r\n\t\t\t\t}\r\n\t\t\t\tif (inForm) {\r\n\t\t\t\t\tconst { originSpan = 1 } = values;\r\n\t\t\t\t\tnewConfigs.originSpan = originSpan;\r\n\t\t\t\t\tnewConfigs.colSpan = getCellColSpan(newConfigs.colIndex, originSpan,\r\n\t\t\t\t\t\tformItemArr, colSpanArr);\r\n\t\t\t\t}\r\n\t\t\t\tthis.onCloseEdit();\r\n\t\t\t\tonUpdateConfigs(newConfigs);\r\n\t\t\t}\r\n\t\t});\r\n    }\r\n    onCloseEdit() {\r\n\t\tthis.getItemSetType().forEach((type) => {\r\n\t\t\tthis[`init${type}`] = false;\r\n        });\r\n\t\tthis.initBtn = false;\r\n        this.setState({\r\n\t\t\tdeleteComponent: false,\r\n        });\r\n    }\r\n    onDeleteComponent() {\r\n        this.setState({\r\n\t\t\tdeleteComponent: true,\r\n        });\r\n    }\r\n    onDeleteButton(btnIndex) {\r\n\t\tconst { buttonArr = [] } = this.state;\r\n\t\tconst newButtonArr = buttonArr.reduce((arr, item) => {\r\n\t\t\tif (item.btnIndex !== btnIndex) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tbuttonArr: newButtonArr,\r\n\t\t});\r\n\t}\r\n    onDeleteListItem(index, key) {\r\n\t\tconst stateKey = `${key}Arr`;\r\n\t\tconst list = this.state[stateKey];\r\n\t\tconst newList = list.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\t[stateKey]: newList,\r\n\t\t});\r\n    }\r\n    onAddListItem(key) {\r\n\t\tconst stateKey = `${key}Arr`;\r\n\t\tconst list = this.state[stateKey];\r\n\t\tconst newList = list.slice();\r\n\t\tnewList.push({\r\n\t\t\tlabel: '',\r\n\t\t\tvalue: '',\r\n\t\t\tindex: this[`${key}Index`],\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\t[stateKey]: newList,\r\n\t\t});\r\n\t\tthis[`${key}Index`] += 1;\r\n    }\r\n    renderDefaultValueItem() {\r\n\t\tconst { configs = {}, form } = this.props;\r\n\t\tconst { type, initialValue, text } = configs;\r\n        const { getFieldDecorator } = form;\r\n        const itemSetType = this.getItemSetType();\r\n\t\tif (~itemSetType.indexOf(type)) {\r\n\t\t\tconst lowerCaseType = type.toLowerCase();\r\n\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\tconst list = this.state[stateKey] || [];\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\t\tinitialValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select allowClear>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlist.map((item) => {\r\n\t\t\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\t\t\tconst optionValue = form.getFieldValue(`${lowerCaseType}Value-${index}`);\r\n\t\t\t\t\t\t\t\tconst optionText = form.getFieldValue(`${lowerCaseType}Label-${index}`);\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Option value={optionValue} key={`op-${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t{`${optionValue}/${optionText}`}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t);\r\n\t\t} else if (type === 'DatePicker') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\tinitialValue,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<DatePicker style={{ width: '100%' }} />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'Input') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\t\tinitialValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'Text') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"text\">\r\n\t\t\t\t\t{getFieldDecorator('text', {\r\n\t\t\t\t\t\tinitialValue: text,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>);\r\n\t\t}  else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n    renderBtnPanelHeader({ btnText, btnIndex }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{btnText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteButton(btnIndex);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderTabs() {\r\n\t\treturn this.renderItemSettingCard({ title: 'tab设置', dataKey:'tabs' });\r\n\t}\r\n\trenderBreadcrumb() {\r\n\t\treturn this.renderItemSettingCard({\r\n\t\t\ttitle: 'breadcrumb设置',\r\n\t\t\tdataKey: 'breadcrumb',\r\n\t\t\tlabPlaceholder: '名称',\r\n\t\t\tvalPlaceholder: '路径',\r\n\t\t});\r\n\t}\r\n    renderSelect() {\r\n\t\treturn this.renderItemSettingCard({ title: 'select设置', dataKey:'select' });\r\n\t}\r\n\trenderRadio() {\r\n\t\treturn this.renderItemSettingCard({ title: 'radio设置', dataKey:'radio' });\r\n\t}\r\n\trenderCheckbox() {\r\n\t\treturn this.renderItemSettingCard({ title: 'checkbox设置', dataKey:'checkbox' });\r\n\t}\r\n    renderItemSettingCard({ title, dataKey, labPlaceholder = 'label', valPlaceholder = 'value' }) {\r\n\t\tconst { form } = this.props;\r\n\t\tconst stateKey = `${dataKey}Arr`;\r\n        const itemList = this.state[stateKey] || [];\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle={title}\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={() => {\r\n\t\t\t\t\tthis.onAddListItem(dataKey);\r\n\t\t\t\t}} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\titemList.map(({ label, value, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`${dataKey}-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`${dataKey}-label-${index}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`${dataKey}Label-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: label,\r\n\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: labPlaceholder }]\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder={labPlaceholder} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`${dataKey}-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`${dataKey}Value-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder={valPlaceholder} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteListItem(index, dataKey);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trenderBtnExpand(btnConfig) {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { btnIndex, expandCount } = btnConfig;\r\n\t\treturn (\r\n\t\t\t<Form.Item\r\n\t\t\t\tkey={`expandCount-${btnIndex}`}\r\n\t\t\t\tlabel=\"折叠可见数\"\r\n\t\t\t\t{...formItemLayout}\r\n\t\t\t>\r\n\t\t\t\t{form.getFieldDecorator(`expandCount-${btnIndex}`, {\r\n\t\t\t\t\trules: [{\r\n\t\t\t\t\t\trequired: 'true', message: '折叠可见数',\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tinitialValue: expandCount,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<Input placeholder=\"expandCount\" />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>\r\n\t\t);\r\n\t}\r\n\trenderApiItem({ btnIndex, api, logicType }) {\r\n\t\tconst { layerConfig = {}, form } = this.props;\r\n\t\t// 容许配置api调用属性\r\n\t\tif (allowCallApi.indexOf(logicType) >= 0) {\r\n\t\t\treturn renderApiSelect(layerConfig, form, { initialValue: api, key: btnIndex });\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderModalItem({ btnIndex, modalName, logicType }) {\r\n\t\tconst { layerConfig = {}, form } = this.props;\r\n\t\t// 容许配置modal\r\n\t\tif (allowCallModal.indexOf(logicType) >= 0) {\r\n\t\t\treturn renderModalSelect(layerConfig, form, modalName, btnIndex);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderBtnCard() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { buttonArr = [] } = this.state;\r\n\t\tconst activeKeyArr = buttonArr.reduce((arr, { btnIndex }) => {\r\n\t\t\tarr.push(`btn-${btnIndex}`);\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\treturn (\r\n\t\t\t<Card title=\"按钮区域\">\r\n\t\t\t\t<Collapse defaultActiveKey={activeKeyArr}>\r\n\t\t\t\t{\r\n\t\t\t\t\tbuttonArr.map((item) => {\r\n\t\t\t\t\t\tconst { btnIndex, btnText, antdType = '', htmlType = 'button', logicType, textDisabled, skipUrl } = item;\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Panel header={this.renderBtnPanelHeader(item)} key={`btn-${btnIndex}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`btnText-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\tlabel=\"按钮文字\"\r\n\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`btnText-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: btnText,\r\n\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: '按钮文字' }],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"按钮文字\" disabled={textDisabled} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlogicType !== 'expand' ? \r\n\t\t\t\t\t\t\t\t\t\t(<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`antdType-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"type\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`antdType-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\tinitialValue: antdType,\r\n\t\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select placeholder=\"按钮类型\" disabled={htmlType === 'submit' || htmlType === 'reset'}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"primary\">primary</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"dashed\">dashed</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"danger\">danger</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"\">none</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.renderApiItem(item)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.renderModalItem(item)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlogicType === 'expand' ? this.renderBtnExpand(item) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlogicType === 'skip' ?\r\n\t\t\t\t\t\t\t\t\t\t(<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`skipUrl-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"路径地址\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`skipUrl-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: '输入路径地址' }],\r\n\t\t\t\t\t\t\t\t\t\t\t\tinitialValue: skipUrl,\r\n\t\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t</Collapse>\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default BaseEdit;","import React, { Fragment } from 'react';\r\nimport { Button, Drawer, Select, Input, Form } from 'antd';\r\nimport BaseEdit from '../../Core/BaseEdit';\r\nimport { objToStr } from '../../../utils/CellUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\n\r\nclass CompEdit extends BaseEdit {\r\n\tgetItemSetType() {\r\n\t\treturn ['Tabs', 'Breadcrumb', 'Button', 'Radio'];\r\n\t}\r\n\trenderContent() {\r\n\t\tconst { form, configs } = this.props;\r\n\t\tconst { placeholder, type } = configs;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tif (this.state.deleteComponent) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (type === 'Button') {\r\n\t\t\treturn this.renderBtnCard();\r\n\t\t}\r\n\t\tif (type === 'Breadcrumb') {\r\n\t\t\treturn this.renderBreadcrumb();\r\n\t\t}\r\n\t\tif (type === 'Tabs') {\r\n\t\t\treturn this.renderTabs();\r\n\t\t}\r\n\t\tif (type === 'Radio') {\r\n\t\t\treturn this.renderRadio();\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t{this.renderDefaultValueItem()}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype !== 'Text' && type !== 'Breadcrumb' ?\r\n\t\t\t\t\t\t(<Form.Item {...formItemLayout} label=\"placeholder\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('placeholder', {\r\n\t\t\t\t\t\t\t\tinitialValue: placeholder,\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { visible, onClose, form, configs } = this.props;\r\n\t\tconst initialCellStyles = objToStr(configs.cellStyles);\r\n\t\tconst { type, radioType, textAlign = 'center' } = configs;\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\ttitle=\"编辑组件\"\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tthis.onCloseEdit();\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<Form.Item label=\"style设置\" {...formItemLayout}>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"cellStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialCellStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype === 'Button' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"对齐方式\" {...formItemLayout}>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"textAlign\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: textAlign,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t左\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t中\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t右\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype === 'Radio' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"类型\" {...formItemLayout}>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"radioType\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: radioType,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t默认\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"tab\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"tab\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\ttab\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n                    {\r\n                        this.renderContent()\r\n                    }\r\n                    <div className=\"btn-box\">\r\n\t\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t        <div className=\"btn-bottom-box\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t        </div>\r\n\t\t    \t</Form>\r\n\t    \t</Drawer>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Form.create()(CompEdit);","const initDropData = (dragData, context, isFormItem = false) => {\r\n    const { dropComponent } = context.state;\r\n    const { configs } = context.props;\r\n    const { type, ...defaultConfigs } = dragData;\r\n    let newConfigs = {\r\n        textAlign: 'left',\r\n    };\r\n    if (dropComponent) {\r\n        if (type === 'Button' && configs.type === 'Button') {\r\n            newConfigs = Object.assign({}, configs);\r\n            newConfigs.buttonArr.push({\r\n                btnIndex: context.btnIndex,\r\n                ...defaultConfigs,\r\n            });\r\n            context.btnIndex += 1;\r\n        } else {\r\n            return;\r\n        }\r\n    } else {\r\n        if (type === 'Button') {\r\n            newConfigs.buttonArr = [{\r\n                btnIndex: context.btnIndex,\r\n                ...defaultConfigs,\r\n            }];\r\n            context.btnIndex += 1;\r\n        } else {\r\n            newConfigs = { ...defaultConfigs };\r\n        }\r\n        newConfigs.type = type;\r\n    }\r\n    if (isFormItem && newConfigs.type !== 'Button') {\r\n        const { configs } = context.props;\r\n        const { originSpan, cellStyles, colIndex, colSpan } = configs;\r\n        newConfigs.originSpan = originSpan;\r\n        newConfigs.cellStyles = cellStyles;\r\n        newConfigs.colIndex = colIndex;\r\n        newConfigs.colSpan = colSpan;\r\n        newConfigs.label = type;\r\n        newConfigs.name = `name-${colIndex}`;\r\n    }\r\n    return newConfigs;\r\n};\r\n\r\nexport default initDropData;","import moment  from 'moment';\r\nimport { FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER } from './Constants';\r\n\r\nconst containerArr = [FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER];\r\n\r\nconst isContainer = (type) => {\r\n    return containerArr.indexOf(type) > -1;\r\n};\r\n\r\nconst isLogin = () => {\r\n    return !!localStorage.getItem('access_token') && !!localStorage.getItem('webapi');\r\n}\r\n\r\nconst isIndex = (i) => {\r\n    return (/\\d+/).test(i);\r\n};\r\n\r\nconst getInitialValue = (config = {}) => {\r\n    const { type = 'Input', initialValue, format = 'YYYY-MM-DD' } = config;\r\n    if (type === 'DatePicker') {\r\n        return initialValue && moment(initialValue, format);\r\n    }\r\n    if (type === 'Checkbox') {\r\n        return [initialValue];\r\n    }\r\n    return initialValue || '';\r\n}\r\n\r\nconst getStyle = (config) => {\r\n    const { type, cellStyles, textAlign } = config;\r\n    return type === 'Button' ? Object.assign({}, cellStyles, { textAlign }) : cellStyles || {};\r\n};\r\n\r\nexport {\r\n    isLogin,\r\n    isIndex,\r\n    getStyle,\r\n    getInitialValue,\r\n};\r\n\r\nexport default isContainer;","import React, { Component, Fragment } from 'react';\r\nimport { Icon } from 'antd';\r\nimport DropRender from './DropRender';\r\nimport CompEdit from '../../EditDrawer/CompEdit';\r\nimport { activeColor } from '../../../utils/Constants';\r\nimport initDropData from '../../../utils/DropUtil';\r\nimport isContainer from '../../../utils/common';\r\nimport './index.css';\r\n\r\nconst clsName = 'drop-container';\r\n\r\nclass DropContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            configs: props.configs,\r\n            showEdit: false,\r\n            dropComponent: !!props.configs.type,\r\n        };\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.onDragenter = this.onDragenter.bind(this);\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.btnIndex = 1;\r\n    }\r\n    componentDidMount() {\r\n        if (!this.DropDom || this.props.preview) {\r\n            return;\r\n        }\r\n        this.DropDom.addEventListener(\"drop\", this.onDrop, false);\r\n        this.DropDom.addEventListener(\"dragleave\", this.onDragLeave, false);\r\n        this.DropDom.addEventListener(\"dragenter\", this.onDragenter, false);\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.DropDom && !this.props.preview) {\r\n            this.DropDom.removeEventListener('drop', this.onDrop);\r\n            this.DropDom.removeEventListener('dragleave', this.onDragLeave);\r\n            this.DropDom.removeEventListener(\"dragenter\", this.onDragenter);\r\n        }\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            showEdit: !this.state.showEdit,\r\n        });\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...newConfigs }) {\r\n        const { onUpdateLayoutConfig, configs } = this.props;\r\n        const { layoutIndex } = configs;\r\n        const newState = {\r\n            configs: {\r\n                layoutIndex,\r\n            },\r\n        };\r\n        // 删除组件\r\n        if (deleteFlag) {\r\n            newState.dropComponent = false;\r\n            newState.configs.cellStyles = newConfigs.cellStyles;\r\n        } else {\r\n            newState.configs = Object.assign({}, this.state.configs, newConfigs);\r\n        }\r\n        this.setState({\r\n            ...newState,\r\n        });\r\n        onUpdateLayoutConfig({\r\n            ...newState.configs,\r\n            deleteFlag,\r\n            layoutIndex,\r\n        });\r\n        if (!isContainer(this.state.configs.type)) {\r\n            this.onToggleEdit();\r\n        }\r\n    }\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (event.target.className === clsName) {\r\n            this.resetBg();\r\n            const data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            const { onUpdateLayoutConfig, configs = {} } = this.props;\r\n            const { type, ...newConfigs } = initDropData(data, this);\r\n            const { layoutIndex } = configs;\r\n            if (newConfigs) {\r\n                this.setState({\r\n                    configs: {\r\n                        type,\r\n                        layoutIndex,\r\n                        ...newConfigs,\r\n                    },\r\n                    dropComponent: true,\r\n                }, () => {\r\n                    onUpdateLayoutConfig(this.state.configs);\r\n                });\r\n            }\r\n        }\r\n    }\r\n    resetBg() {\r\n        const dropDomArr = document.querySelectorAll('.drop-container');\r\n        if (dropDomArr) {\r\n            dropDomArr.forEach((item) => {\r\n                item.style.background = '';\r\n            });\r\n        }\r\n    }\r\n    onDragenter(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = activeColor;\r\n        }\r\n    }\r\n    onDragLeave(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = '';\r\n        }\r\n    }\r\n    render() {\r\n        const { dropComponent, configs, showEdit } = this.state;\r\n        const { layerConfig, preview } = this.props;\r\n        const newConfigs = preview ? this.props.configs :\r\n            Object.assign({}, configs);\r\n        return (\r\n            <div\r\n                className=\"drop-container\"\r\n                ref={(DropDom) => { this.DropDom = DropDom; }}\r\n            >\r\n                {\r\n                  dropComponent || preview ? (\r\n                    <Fragment> \r\n                        <DropRender\r\n                            {...this.props}\r\n                            onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                            configs={newConfigs}\r\n                        />\r\n                        {\r\n                            !isContainer(configs.type) && !preview ? ( <Icon\r\n                                type=\"bars\"\r\n                                className=\"icon-operation\"\r\n                                onClick={this.onToggleEdit}\r\n                            />) : null\r\n                        }\r\n                    </Fragment>\r\n                    ) : !preview ? <Icon type=\"drag\" /> : null\r\n                }\r\n                <CompEdit\r\n                    visible={showEdit}\r\n                    configs={configs}\r\n                    layerConfig={layerConfig}\r\n                    inForm={false}\r\n                    onClose={this.onToggleEdit}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DropContainer;","import React, { Component } from 'react';\r\nimport { Button, Form, Input, Select, Drawer } from 'antd';\r\nimport  { objToStr, strToObj } from '../../../utils/CellUtil';\r\nimport { HEADER_CONTINAER, FALSE } from '../../../utils/Constants';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst TextArea = Input.TextArea;\r\nconst Option = Select.Option;\r\n\r\nclass BoxEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onClose } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { boxStyles, ...rest } = values;\r\n                const configs = {\r\n                    boxStyles: strToObj(boxStyles),\r\n                    ...rest,\r\n                };\r\n                onClose(configs);\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { visible, form, onClose, configs = {}, onDeleteContainer } = this.props;\r\n        const { boxStyles = {}, layoutColumn = 3, positionFixed = FALSE, type } = configs;\r\n        const initialBoxStyles = objToStr(boxStyles);\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Drawer\r\n                visible={visible}\r\n                maskClosable={false}\r\n                width={420}\r\n                title=\"编辑列\"\r\n                onClose={() => {\r\n                    onClose(0);\r\n                }}\r\n            >\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"style设置\"\r\n                        {...formItemLayout}\r\n                    >\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"boxStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialBoxStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n                    {\r\n                        type === HEADER_CONTINAER ? (\r\n                            <Form.Item\r\n                            label=\"位置固定\"\r\n                            {...formItemLayout}\r\n                        >\r\n                            {getFieldDecorator('positionFixed', {\r\n                                initialValue: positionFixed,\r\n    \r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"1\">是</Option>\r\n                                    <Option value=\"0\">否</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                        ) : null\r\n                    }\r\n                    {\r\n                        type !== HEADER_CONTINAER ? (\r\n                            <Form.Item\r\n                                label=\"容器列\"\r\n                                {...formItemLayout}\r\n                            >\r\n                                {getFieldDecorator('layoutColumn', {\r\n                                    initialValue: layoutColumn,\r\n                                    rules: [\r\n                                        { required: true, message: '请选择列数!' },\r\n                                    ],\r\n                                })(\r\n                                    <Select>\r\n                                        <Option value=\"1\">1</Option>\r\n                                        <Option value=\"2\">2</Option>\r\n                                        <Option value=\"3\">3</Option>\r\n                                        <Option value=\"4\">4</Option>\r\n                                        <Option value=\"5\">5</Option>\r\n                                        <Option value=\"6\">6</Option>\r\n                                        <Option value=\"7\">7</Option>\r\n                                        <Option value=\"8\">8</Option>\r\n                                    </Select>\r\n                                )}\r\n                            </Form.Item>\r\n                        ) : null\r\n                    }\r\n                    <div className=\"btn-box\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </div>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(BoxEdit);","import React from 'react';\r\nimport { Icon, Button } from 'antd';\r\nimport BaseContainer from '../../Core/BaseContainer';\r\nimport DropContainer from '../DropContainer';\r\nimport BoxEdit from '../../EditDrawer/BoxEdit';\r\nimport './index.css';\r\nimport { BOX_CONTINAER } from '../../../utils/Constants';\r\n\r\nclass BoxContainer extends BaseContainer {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            configs: {\r\n                cellsArr: [{\r\n                    layoutIndex: 0,\r\n                }],\r\n                layoutColumn: 1, // 默认有一列\r\n            },\r\n        };\r\n        this.onAddRowCell = this.onAddRowCell.bind(this);\r\n        this.onReceiveConfigs = this.onReceiveConfigs.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onToggleEditDrawer = this.onToggleEditDrawer.bind(this);\r\n    }\r\n    onReceiveConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const { layoutColumn } = this.props;\r\n        const newConfigs = Object.assign({ ...configs }, layoutColumn);\r\n        const newCellsArr = newConfigs.cellsArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.layoutIndex !== item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        layoutIndex: values.layoutIndex,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.layoutIndex === item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newConfigs.cellsArr = newCellsArr;\r\n        this.onUpdateConfigs(newConfigs);\r\n    }\r\n    onAddRowCell() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        const { configs } = this.state;\r\n        const { cellsArr, layoutColumn } = configs;\r\n        const newCellsArr = cellsArr.concat([{\r\n            layoutIndex: cellsArr.length,\r\n        }]);\r\n        const newConfigs = {\r\n            layoutColumn,\r\n            cellsArr: newCellsArr,\r\n        };\r\n        const newState = {\r\n            configs: newConfigs,\r\n        };\r\n        this.setState({\r\n            ...newState,\r\n        }, () => {\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    rendeCell(layoutColumn) {\r\n        if (!layoutColumn) {\r\n            return null;\r\n        }\r\n        const { preview, context = this, apiData, execFetchApi, onShowLoginModal, ...restProps } = this.props;\r\n        const componentArr = [];\r\n        const width = `${100 / layoutColumn}%`;\r\n        const { configs } = preview ? this.props : this.state;\r\n        const { cellsArr } = configs;\r\n        const cellNum = cellsArr.length;\r\n        const { layerConfig } = this.props;\r\n        const previewProps = {\r\n            preview,\r\n        };\r\n        const limitIndex = Math.max(cellNum, layoutColumn);\r\n        for (let i = 0; i < limitIndex; i++) {\r\n            const layoutIndex = i;\r\n            previewProps.configs = Object.assign(cellsArr.length - 1 >= i ? cellsArr[i] : {}, { layoutIndex });\r\n            componentArr.push((\r\n               <div className=\"cell border-box\" key={`cell-${layoutColumn}-${i}`} style={{ width }}>\r\n                    <DropContainer\r\n                        layoutIndex={layoutIndex}\r\n                        apiData={apiData}\r\n                        execFetchApi={execFetchApi}\r\n                        layerConfig={layerConfig}\r\n                        {...restProps}\r\n                        {...previewProps}\r\n                        onShowLoginModal={onShowLoginModal}\r\n                        context={context}\r\n                        onUpdateLayoutConfig={this.onReceiveConfigs}\r\n                    />\r\n               </div>\r\n            ));\r\n        }\r\n        return componentArr;\r\n    }\r\n    _render() {\r\n        const { visible } = this.state;\r\n        const { onUpdateLayoutConfig, configs = {}, preview } = this.props;\r\n        const { layoutColumn = 1, boxStyles } = configs;\r\n        return (\r\n            <div className={`fulu-cell-box ${ preview ? 'preview-mode' : 'edit-mode'}`} style={boxStyles}>\r\n                <div className=\"clear-box\">\r\n                    {this.rendeCell(+layoutColumn)}\r\n                </div>\r\n                <BoxEdit\r\n                    visible={visible}\r\n                    configs={configs}\r\n                    onClose={(pConfigs) => {\r\n                        if (configs) {\r\n                            const { layoutColumn } = pConfigs;\r\n                            const { cellsArr } = this.state.configs;\r\n                            const newConfigs = {\r\n                                cellsArr,\r\n                                layoutColumn: +layoutColumn,\r\n                                layoutIndex: configs.layoutIndex,\r\n                                type: BOX_CONTINAER,\r\n                                boxStyles: pConfigs.boxStyles,\r\n                            };\r\n                            this.setState({\r\n                                configs: newConfigs,\r\n                            });\r\n                            onUpdateLayoutConfig(newConfigs);\r\n                        }\r\n                        this.onToggleEditDrawer();\r\n                    }}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                />\r\n                {\r\n                    !preview ? (\r\n                        <Icon type=\"form\" className=\"icon-operation\" onClick={this.onToggleEditDrawer} />\r\n                    ) : null\r\n                }\r\n                {\r\n                    !preview ? (\r\n                        <div className=\"btn-add-box\">\r\n                            <Button\r\n                                ghost\r\n                                type=\"primary\"\r\n                                onClick={this.onAddRowCell}\r\n                            >\r\n                                + boxItem\r\n                            </Button>\r\n                        </div>\r\n                    ) : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BoxContainer;","import React, { Component } from 'react';\r\nimport { Icon } from 'antd';\r\nimport DropContainer from '../DropContainer';\r\nimport BoxEdit from '../../EditDrawer/BoxEdit';\r\nimport { TRUE, HEADER_CONTINAER } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nclass HeaderContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            configs: {\r\n                cellsArr: [{\r\n                    layoutIndex: 0,\r\n                }],\r\n                type: HEADER_CONTINAER,\r\n                layoutColumn: 1, // 默认有一列\r\n            },\r\n        };\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            visible: !this.state.visible,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n        this.onToggleEdit();\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...values }) {\r\n        const { onUpdateLayoutConfig, configs } = this.props;\r\n        const { layoutIndex } = configs;\r\n        const newConfigs = Object.assign({ layoutIndex }, this.state.configs);\r\n        const newCellsArr = newConfigs.cellsArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.layoutIndex !== item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        layoutIndex: values.layoutIndex,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.layoutIndex === item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newConfigs.cellsArr = newCellsArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            onUpdateLayoutConfig(newConfigs);\r\n        });\r\n    }\r\n    rendeCell(layoutColumn) {\r\n        if (!layoutColumn) {\r\n            return null;\r\n        }\r\n        const componentArr = [];\r\n        const width = `${100 / layoutColumn}%`;\r\n        const { preview } = this.props;\r\n        const { cellsArr = [] } = preview ? this.props.configs : this.state.configs;\r\n        const cellNum = cellsArr.length;\r\n        for (let i = 0; i < cellNum; i++) {\r\n            componentArr.push((\r\n               <div className=\"cell border-box\" key={`cell-${layoutColumn}-${i}`} style={{ width }}>\r\n                    < DropContainer\r\n                        layoutIndex={i}\r\n                        preview={preview}\r\n                        configs={Object.assign({ layoutIndex: i }, cellsArr[i])}\r\n                        onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                    />\r\n               </div>\r\n            ));\r\n        }\r\n        return componentArr;\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { onUpdateLayoutConfig, configs = {}, preview = false, type } = this.props;\r\n        const { layoutIndex, layoutColumn = 1, boxStyles, positionFixed } = configs;\r\n        const positionCls = positionFixed === TRUE ? 'position-fixed' : '';\r\n        const previewCls = preview ? 'preview-box' : '';\r\n        return (\r\n            <div className={`header-box fulu-cell-box ${positionCls}  ${previewCls}`} style={boxStyles}>\r\n                {\r\n                    this.rendeCell(+layoutColumn)\r\n                }\r\n                <BoxEdit\r\n                    visible={visible}\r\n                    configs={configs}\r\n                    type={type}\r\n                    onClose={(configs) => {\r\n                        if (configs) {\r\n                            const { layoutColumn } = configs;\r\n                            const { cellsArr } = this.state.configs;\r\n                            const newCellsArr = cellsArr.slice(0, layoutColumn);\r\n                            for (let i = 0; i < layoutColumn; i++) {\r\n                                if (newCellsArr.length <= i) {\r\n                                    newCellsArr.push({\r\n                                        layoutIndex: i\r\n                                    });\r\n                                }\r\n                            }\r\n                            const newConfigs = {\r\n                                ...configs,\r\n                                layoutIndex,\r\n                                type: HEADER_CONTINAER,\r\n                                cellsArr: newCellsArr,\r\n                            };\r\n                            this.setState({\r\n                                configs: newConfigs,\r\n                            });\r\n                            onUpdateLayoutConfig(newConfigs);\r\n                        }\r\n                        this.onToggleEdit();\r\n                    }}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                />\r\n                {\r\n                    !preview ? \r\n                        <Icon type=\"form\" className=\"icon-operation\" onClick={this.onToggleEdit} /> : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HeaderContainer;","import React from 'react';\r\nimport { Button, Checkbox, Input, Icon, Tabs, Select, DatePicker, Breadcrumb, Radio, Form } from 'antd';\r\nimport FormContainer from '../component/Container/FormContainer';\r\nimport LineContainer from '../component/Container/LineContainer';\r\nimport TableContainer from '../component/Container/TableContainer';\r\nimport BoxContainer from '../component/Container/BoxContainer';\r\nimport HeaderContainer from '../component/Container/HeaderContainer';\r\nimport formItemLayout from '../configs/layout';\r\nimport { isIndex } from './common';\r\n\r\nconst CheckboxGroup = Checkbox.Group;\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nconst { TabPane } = Tabs;\r\nconst { TextArea } = Input;\r\n\r\nconst renderComponent = (renderConfig, props) => {\r\n    const { placeholder = '', type } = renderConfig;\r\n    let component = null;\r\n    switch(type) {\r\n        case 'Text':\r\n            component = renderText(renderConfig);\r\n            break;\r\n        case 'Breadcrumb':\r\n            component = renderBreadcrumb(renderConfig);\r\n            break;\r\n        case 'Select':\r\n            component = renderSelect(renderConfig);\r\n            break;\r\n        case 'RangePicker':\r\n            component = renderRangePicker(renderConfig);\r\n            break;\r\n        case 'DatePicker':\r\n            component = renderDatePicker(renderConfig);\r\n            break;\r\n        case 'Radio':\r\n            component = renderRadio(renderConfig);\r\n            break;\r\n        case 'Checkbox':\r\n            component = renderCheckbox(renderConfig);\r\n            break;\r\n        case 'Tabs':\r\n            component = renderTabs(renderConfig);\r\n            break;\r\n        case 'Button':\r\n            component = renderBtn(renderConfig, props);\r\n            break;\r\n        case 'FormContainer':\r\n            component = renderForm(renderConfig, props);\r\n            break;\r\n        case 'LineContainer':\r\n            component = renderLine(renderConfig, props);\r\n            break;\r\n        case 'TableContainer':\r\n            component = renderTable(renderConfig, props);\r\n            break;\r\n        case 'BoxContainer':\r\n            component = renderBox(renderConfig, props);\r\n            break;\r\n        case 'HeaderContainer':\r\n            component = renderHeader(renderConfig, props);\r\n            break;\r\n        case 'TextArea':\r\n            component = renderTextArea(renderConfig);\r\n            break;\r\n        case 'Input':\r\n            component = (<Input placeholder={placeholder} />);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    return component;\r\n};\r\n\r\nconst renderTextArea = (configs) => {\r\n    const { colIndex, dropIndex, originSpan, cellStyles, hasLinkage,  ...rest } = configs;\r\n    return (<TextArea {...rest} />);\r\n};\r\n\r\nconst renderForm = (configs, props) => {\r\n    return (<FormContainer configs={configs} {...props} />);\r\n};\r\n\r\nconst renderHeader = (configs) => {\r\n    return (<HeaderContainer {...configs} />);\r\n};\r\n\r\nconst renderTable = (configs, props) => {\r\n    return (<TableContainer configs={configs} {...props} />);\r\n};\r\n\r\nconst renderLine = (configs) => {\r\n    return (<LineContainer configs={configs} />)\r\n};\r\n\r\nconst renderBox = (configs, props) => {\r\n    return (<BoxContainer configs={configs} {...props} />);\r\n};\r\n\r\nconst renderBreadcrumb = (configs) => {\r\n    const { breadcrumbArr = [], style } = configs;\r\n    return (\r\n        <Breadcrumb style={style}>\r\n            {\r\n                breadcrumbArr.map(({ label, value }, i) => {\r\n                    return (\r\n                        <Breadcrumb.Item key={`breadcrumb-${i}`}>\r\n                            { value ? \r\n                                <a href={value}>{label}</a> : <span>{label}</span>\r\n                            }\r\n                        </Breadcrumb.Item>\r\n                    );\r\n                })\r\n            }\r\n        </Breadcrumb>\r\n    )\r\n};\r\nconst renderText = (configs) => {\r\n    const { text, style } = configs;\r\n    return (\r\n        <span style={style}>{text}</span>\r\n    );\r\n};\r\nconst renderRadio = (configs) => {\r\n    const { style = {}, radioArr = [], radioType } = configs;\r\n    const RadioItem = radioType === 'tab' ? Radio.Button : Radio;\r\n    return (\r\n        <Radio.Group style={{ ...style }}>\r\n            {\r\n                Array.isArray(radioArr) ? radioArr.map(({ key, label, value }) => {\r\n                    return (\r\n                        <RadioItem\r\n                            key={key || value}\r\n                            value={value}\r\n                        >\r\n                            {label}\r\n                        </RadioItem>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Radio.Group>\r\n    );\r\n};\r\nconst renderTabs = (configs) => {\r\n    const { style = {}, tabsArr = [] } = configs;\r\n    return (\r\n        <Tabs style={style}>\r\n            {\r\n                Array.isArray(tabsArr) ? tabsArr.map(({ key, label, value }) => {\r\n                    return (\r\n                        <TabPane\r\n                            key={key || value}\r\n                            tab={label}\r\n                        >\r\n\r\n                        </TabPane>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Tabs>\r\n   );\r\n};\r\nconst renderCheckbox = (configs) => {\r\n    const { style = {}, checkboxArr = [] } = configs;\r\n    if (Array.isArray(checkboxArr)) {\r\n        return (\r\n            <CheckboxGroup options={checkboxArr} style={{ width: \"100%\", ...style }} />\r\n        );\r\n    }\r\n    return null;\r\n};\r\nconst renderSelect = (configs) => {\r\n    const { style = {}, options, selectArr, ...rest } = configs;\r\n    const finalOptions = Object.hasOwnProperty.call(configs, 'options') ? configs.options : configs.selectArr;\r\n    return (\r\n        <Select style={{ width: '100%', ...style }} {...rest}>\r\n            {\r\n                Array.isArray(finalOptions) ? finalOptions.map(({ key, label, value }) => {\r\n                    return (\r\n                        <Option\r\n                            key={key || value}\r\n                            value={value}\r\n                        >\r\n                            {label}\r\n                        </Option>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Select>\r\n    );\r\n};\r\nconst renderDatePicker = (configs) => {\r\n    const { showTime, format } = configs;\r\n        return (\r\n            <DatePicker\r\n                style={{ width: '100%' }}\r\n                showTime={showTime}\r\n                format={format}\r\n            />\r\n        );\r\n};\r\nconst renderRangePicker = (configs) => {\r\n    const { showTime, format } = configs;\r\n        return (\r\n            <RangePicker\r\n                showTime={showTime}\r\n                format={format}\r\n                style={{ width: '100%' }}\r\n            />\r\n        );\r\n}\r\n/**\r\n * @desc 获取按钮disabled属性\r\n */\r\nconst getMultBtnDisabled = (logicType, selectedRowKeys) => {\r\n    if (logicType === 'mult') {\r\n        const isEnabled = Array.isArray(selectedRowKeys) && selectedRowKeys.length > 0;\r\n        return !isEnabled;\r\n    }\r\n    return false;\r\n};\r\n\r\nconst renderBtn = (configs, { context, onResetForm }) => {\r\n    const { buttonArr = [] } = configs;\r\n    const { state, onCollapse } = context || {};\r\n    const { expand = true } = state;\r\n    const { GuiContext } = context;\r\n    return (\r\n        <GuiContext.Consumer>\r\n            {\r\n                ({ selectedRowKeys }) =>\r\n                    <span className=\"btn-group\">\r\n                        {\r\n                            buttonArr.map((btnConfig) => {\r\n                                const { logicType, btnText, expandCount, api, modalName, antdType, skipUrl,\r\n                                    style = {}, textDisabled, btnIndex, ...btnProps } = btnConfig;\r\n                                if (logicType === 'expand') {\r\n                                    const collapseBtnText = expand ? '收起' : '展开';\r\n                                    return (\r\n                                        <span\r\n                                            className=\"fulu-btn-collapse\"\r\n                                            onClick={onCollapse}\r\n                                            style={style}\r\n                                            key={`btn-${btnIndex}`}\r\n                                        >\r\n                                            {collapseBtnText}\r\n                                            <Icon type={expand ? 'up' : 'down'} />\r\n                                        </span>\r\n                                        );\r\n                                }\r\n                                if (btnConfig.htmlType !== 'submit') {\r\n                                    btnProps.onClick = (e) => {\r\n                                        if (context) {\r\n                                            if (btnConfig.htmlType === 'reset') {\r\n                                                onResetForm();\r\n                                            } else if (modalName) {\r\n                                                context.onShowModal(e, modalName, api);\r\n                                            } else if (logicType === 'mult') {\r\n                                                context.execFetchApi(api, {}, logicType);\r\n                                            } else if (logicType === 'skip') {\r\n                                                window.location = skipUrl;\r\n                                            }\r\n                                        }\r\n                                    };\r\n                                }\r\n                                \r\n                                return (\r\n                                    <Button\r\n                                        key={`btn-${btnIndex}`}\r\n                                        style={style}\r\n                                        type={antdType}\r\n                                        {...btnProps}\r\n                                        disabled={getMultBtnDisabled(logicType, selectedRowKeys)}\r\n                                    >\r\n                                        {btnText}\r\n                                    </Button>\r\n                                );\r\n                            })\r\n                        }\r\n                    </span>\r\n            }\r\n        </GuiContext.Consumer>\r\n    );\r\n}\r\n\r\nconst renderConfigForm = (form, renderConfig, initData = {}) => {\r\n    const { getFieldDecorator } = form;\r\n    const hasIndex = isIndex(initData.index);\r\n    if (Array.isArray(renderConfig)) {\r\n        return renderConfig.map((cf) => {\r\n            const { label, key, rules = [], initialValue, required } = cf;\r\n            if (required) {\r\n                rules.push({\r\n                    required: true, message: `请输入${label}`,\r\n                });\r\n            }\r\n            return (\r\n                <Form.Item label={label} key={`${key}-item`} {...formItemLayout}>\r\n                    {getFieldDecorator(hasIndex ? `${key}-${initData.index}` : key, {\r\n                            rules,\r\n                            initialValue: initData[key] || initialValue,\r\n                        })(renderComponent(cf))}\r\n                </Form.Item>\r\n            );\r\n        });\r\n    }\r\n    return null;\r\n};\r\n\r\nconst renderModalSelect = (layerConfig = {}, form, initialValue, key = '') => {\r\n    const keyStr = `${key}`;\r\n    const { modalArr = [] } = layerConfig;\r\n    if (modalArr.length === 0) {\r\n        return null;\r\n    }\r\n    const formItemKey = keyStr ? `modal-item-${keyStr}` : 'modal-item';\r\n    const formNameKey = keyStr ? `modalName-${keyStr}` : 'modalName';\r\n    return (\r\n        <Form.Item\r\n            key={formItemKey}\r\n            label=\"打开modal\"\r\n            {...formItemLayout}\r\n        >\r\n            {form.getFieldDecorator(formNameKey, {\r\n                rules: [{ required: true, 'message': 'modal' }],\r\n                initialValue,\r\n            })(\r\n                <Select placeholder=\"modal\">\r\n                    {\r\n                        modalArr.map(({ index, name }) => {\r\n                            return (\r\n                                <Option key={`modalName-${index}`} value={name}>{name}</Option>\r\n                            )\r\n                        })\r\n                    }\r\n                </Select>\r\n            )}\r\n        </Form.Item>\r\n    );\r\n};\r\n\r\nconst renderApiSelect = (layerConfig = {}, form, compData) => {\r\n    const { initialValue, key = '', label = '调用api', apiName } = compData;\r\n    const keyStr = `${key}`;\r\n    const { apiArr = [] } = layerConfig;\r\n    if (apiArr.length === 0) {\r\n        return null;\r\n    }\r\n    const formItemKey = apiName ? `api-item-${apiName}` : keyStr ? `api-item-${keyStr}` : 'modal-item';\r\n    const formNameKey = apiName ? apiName : keyStr ? `api-${keyStr}` : 'api';\r\n    return (\r\n        <Form.Item\r\n            key={formItemKey}\r\n            label={label}\r\n            {...formItemLayout}\r\n        >\r\n            {form.getFieldDecorator(formNameKey, {\r\n                rules: [{ required: true, 'message': 'api' }],\r\n                initialValue,\r\n            })(\r\n                <Select placeholder=\"api\">\r\n                    {\r\n                        apiArr.map(({ index, requestApi }) => {\r\n                            return (\r\n                                <Option key={`api-${index}`} value={requestApi}>{requestApi}</Option>\r\n                            )\r\n                        })\r\n                    }\r\n                </Select>\r\n            )}\r\n        </Form.Item>\r\n    );\r\n};\r\n\r\nexport default renderComponent;\r\n\r\nexport {\r\n    renderModalSelect,\r\n    renderApiSelect,\r\n    renderConfigForm,\r\n};","import React, { Component, Fragment } from 'react';\r\nimport { Button, Divider, message, Form, Input, Select, Drawer } from 'antd';\r\nimport { renderApiSelect } from '../../../utils/RenderUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\n\r\nclass FormEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n    handleChange(value) {\r\n        const colSpanValues = {};\r\n        const val = 24 / value;\r\n        for(let i = 0; i < value; i++) {\r\n            colSpanValues[`colSpan-${i}`] = val;\r\n        }\r\n        setTimeout(() => {\r\n            this.props.form.setFieldsValue(colSpanValues);\r\n        }, 0);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onSave } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const lcNum = +values.layoutColumn;\r\n                let colSpanTotal = 0;\r\n                const configs = {\r\n                    colSpanArr: [],\r\n                };\r\n                for (let i = 0; i < lcNum; i++) {\r\n                    const colSpan = +values[`colSpan-${i}`];\r\n                    delete values[`colSpan-${i}`];\r\n                    colSpanTotal += colSpan;\r\n                    configs.colSpanArr.push(colSpan);\r\n                }\r\n                if (colSpanTotal > 24) {\r\n                    message.error('跨列总数不能超过24!');\r\n                    return;\r\n                }\r\n                onSave(Object.assign(configs, values));\r\n            }\r\n        });\r\n    }\r\n    renderColSpanInputs() {\r\n        const { form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const layoutColumn = +form.getFieldValue('layoutColumn');\r\n        const componentArr = [];\r\n        for (let i = 0; i < layoutColumn; i++) {\r\n            componentArr.push(\r\n                <Form.Item\r\n                    key={`formitem-${i}`}\r\n                    label={`第${i+1}列`}\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator(`colSpan-${i}`, {\r\n                        initialValue: 24 / layoutColumn,\r\n                        rules: [\r\n                            { required: true, message: '请输入列宽!' },\r\n                            { pattern: /^[1-9](\\d)?$/, message: '只能包含数字！' }\r\n                        ],\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n            );\r\n        }\r\n        return componentArr;\r\n    }\r\n    renderApiFormItem() {\r\n        const { form, layerConfig } = this.props;\r\n        if (form.getFieldValue('formType') === 'query') {\r\n            return renderApiSelect(layerConfig, form, { label: '查询api', apiName: 'queryApi' });\r\n        }\r\n        return (\r\n            <Fragment>\r\n                {renderApiSelect(layerConfig, form, { label: '新增api', apiName: 'addApi' })}\r\n                {renderApiSelect(layerConfig, form, { label: '编辑api', apiName: 'editApi' })}\r\n            </Fragment>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, form, onClose, onDeleteContainer } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Drawer\r\n                visible={visible}\r\n                maskClosable={false}\r\n                width={420}\r\n                title=\"编辑列\"\r\n                onClose={onClose}\r\n            >\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"表单列\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('layoutColumn', {\r\n                            initialValue: 3,\r\n                            rules: [\r\n                                { required: true, message: '请选择列数!' },\r\n                            ],\r\n                        })(\r\n                            <Select onChange={this.handleChange}>\r\n                                <Option value=\"1\">1</Option>\r\n                                <Option value=\"2\">2</Option>\r\n                                <Option value=\"3\">3</Option>\r\n                                <Option value=\"4\">4</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    <Divider />\r\n                    {this.renderColSpanInputs()}\r\n                    <Divider />\r\n                    <Form.Item\r\n                        label=\"对齐方式\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('formItemAlign', {\r\n                            initialValue: 'lr',\r\n                        })(\r\n                            <Select>\r\n                                <Option value=\"lr\">左右对齐</Option>\r\n                                <Option value=\"r\">文字右对齐</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        label=\"表单类型\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('formType', {\r\n                            initialValue: 'query',\r\n                            rules: [\r\n                                { required: true, message: '请选择表单类型!' },\r\n                            ],\r\n                        })(\r\n                            <Select>\r\n                                <Option value=\"query\">查询</Option>\r\n                                <Option value=\"save\">新增/编辑</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    {\r\n                        this.renderApiFormItem()\r\n                    }\r\n                    <div className=\"btn-box\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </div>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(FormEdit);","import React, { Component, Fragment } from 'react';\r\nimport { Form, Col } from 'antd';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\nimport { getStyle, getInitialValue } from '../../../utils/common';\r\n\r\nclass FormItemRender extends Component {\r\n\trender() {\r\n        const { configs, form, context, preview = false,\r\n            colSpanArr = [], formItemAlign, onResetForm } =this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { type, colSpan, label, name, rules = [], required } = configs;\r\n        const md = colSpan || colSpanArr[0] || 8;\r\n        if (!name && type !== 'Button') {\r\n            return null;\r\n        }\r\n        if (required) {\r\n            rules.push({\r\n                required: true, message: `请输入${label}`,\r\n            });\r\n        }\r\n        const styleObj = getStyle(configs);\r\n        const formItemProps = {\r\n            label,\r\n            style: styleObj, \r\n        };\r\n        if (formItemAlign === 'r') {\r\n            formItemProps.labelCol = { span: 6 };\r\n            formItemProps.wrapperCol = { span: 14 };\r\n        }\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Col\r\n\t\t\t        span={md}\r\n                    md={md}\r\n                    sm={24}\r\n\t\t\t    >\r\n                    {\r\n                        type !== 'Button' ?\r\n                            (\r\n                                <Form.Item {...formItemProps}>\r\n                                    {getFieldDecorator(name, {\r\n                                        rules: rules || [],\r\n                                        initialValue: getInitialValue(configs),\r\n                                    })(\r\n                                        renderComponent(configs, { preview, context })\r\n                                    )}\r\n                                </Form.Item>\r\n                            ) : (\r\n                                <Form.Item style={styleObj}>\r\n                                    {\r\n                                        renderComponent(configs, { preview, context, onResetForm })\r\n                                    }\r\n                                </Form.Item>\r\n                            )\r\n                    }\r\n\t\t\t      \r\n\t\t\t    </Col>\r\n\t\t    </Fragment>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default FormItemRender;","import React, { Fragment } from 'react';\r\nimport { Button, Card, Drawer, Divider, Select, Input, Icon, Form } from 'antd';\r\nimport BaseEdit from '../../Core/BaseEdit';\r\nimport { objToStr } from '../../../utils/CellUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport { TRUE } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\n\r\nclass FormItemEdit extends BaseEdit {\r\n\tgetItemSetType() {\r\n\t\treturn ['Select', 'Button', 'Radio', 'Checkbox'];\r\n\t}\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tbuttonArr: [],\r\n\t\t\tselectArr: [],\r\n\t\t\tradioArr: [],\r\n\t\t\tcheckboxArr: [],\r\n\t\t};\r\n\t\tthis.onAddCellStyleItem = this.onAddCellStyleItem.bind(this);\r\n\t\tthis.onDeleteCellStyleItem = this.onDeleteCellStyleItem.bind(this);\r\n\t}\r\n\tonAddCellStyleItem() {\r\n\t\tconst { cellStyles = [] } = this.state;\r\n\t\tconst newCellStyles = cellStyles.slice();\r\n\t\tnewCellStyles.push({\r\n\t\t\tvalue: '',\r\n\t\t\tname: '',\r\n\t\t\tindex: this.cellStyleIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tcellStyles: newCellStyles,\r\n\t\t});\r\n\t\tthis.cellStyleIndex += 1;\r\n\t}\r\n\tonDeleteCellStyleItem(index) {\r\n\t\tconst { cellStyles = [] } = this.state;\r\n\t\tconst newCellStyles = cellStyles.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tcellStyles: newCellStyles,\r\n\t\t});\r\n\t}\r\n\trenderLinkage(configs, formItemArr) {\r\n\t\tconst { condition, linkName } = configs;\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"关联组件name\">\r\n\t\t\t\t\t{getFieldDecorator('linkName', {\r\n\t\t\t\t\t\tinitialValue: linkName,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tformItemArr.map(({ name, colIndex, label }) => {\r\n\t\t\t\t\t\t\t\t\tif (name && colIndex !== configs.colIndex) {\r\n\t\t\t\t\t\t\t\t\t\treturn (<Option value={`${name}`} key={`linkage-${name}`}>{`${name}/${label}`}</Option>);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"显示条件\">\r\n\t\t\t\t\t{getFieldDecorator('condition', {\r\n\t\t\t\t\t\tinitialValue: condition,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trenderDatePickerExtra(configs) {\r\n\t\tconst { type, showTime = false, format = 'YYYY-MM-DD', dateKeys } = configs;\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t\t<Form.Item {...formItemLayout} label=\"showTime\">\r\n\t\t\t\t\t\t{getFieldDecorator('showTime', {\r\n\t\t\t\t\t\t\tinitialValue: showTime === TRUE ? '1' : '0',\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item {...formItemLayout} label=\"format\">\r\n\t\t\t\t\t\t{getFieldDecorator('format', {\r\n\t\t\t\t\t\t\tinitialValue: format,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype === 'RangePicker' ? \r\n\t\t\t\t\t\t\t<Form.Item {...formItemLayout} label=\"接口对应字段\">\r\n\t\t\t\t\t\t\t\t{getFieldDecorator('dateKeys', {\r\n\t\t\t\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\t\t\trequired: true, message: '接口对应字段',\r\n\t\t\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\t\t\tinitialValue: dateKeys,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"两个字段，以逗号隔不开\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item> : null\r\n\t\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trenderContent() {\r\n\t\tconst { deleteComponent } = this.state;\r\n\t\tconst { form, dropComponent = false, configs = {}, formItemArr } = this.props;\r\n\t\tconst { type, label, name, placeholder, linkage, required } = configs;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tif (dropComponent && !deleteComponent) {\r\n\t\t\tif (type === 'Button') {\r\n\t\t\t\treturn this.renderBtnCard();\r\n\t\t\t}\r\n\t\t\treturn (<Fragment>\r\n\t\t\t\t<Divider>组件</ Divider>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"label\">\r\n\t\t\t\t\t{getFieldDecorator('label', {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true, message: 'label',\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: label,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"name\">\r\n\t\t\t\t\t{getFieldDecorator('name', {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true, message: 'name',\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"required\">\r\n\t\t\t\t\t{getFieldDecorator('required', {\r\n\t\t\t\t\t\tinitialValue: required,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select allowClear>\r\n\t\t\t\t\t\t\t<Option value={1}>是</Option>\r\n\t\t\t\t\t\t\t<Option value={0}>否</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'DatePicker' || type === 'RangePicker' ? \r\n\t\t\t\t\t\tthis.renderDatePickerExtra(configs) : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Radio' ? this.renderRadio() : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Checkbox' ? this.renderCheckbox() : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Select' ? this.renderSelect() : null\r\n\t\t\t\t}\r\n\t\t\t\t{this.renderDefaultValueItem()}\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"placeholder\">\r\n\t\t\t\t\t{getFieldDecorator('placeholder', {\r\n\t\t\t\t\t\tinitialValue: placeholder,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"联动关联\">\r\n\t\t\t\t\t{getFieldDecorator('hasLinkage', {\r\n\t\t\t\t\t\tinitialValue: linkage,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{\r\n\t\t\t\t\tform.getFieldValue('hasLinkage') === TRUE ?\r\n\t\t\t\t\t\tthis.renderLinkage(configs, formItemArr) : null\r\n\t\t\t\t}\r\n\t\t\t\t<Form.Item style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderCellStylesSetting() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { cellStyles } = this.state;\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle=\"style设置\"\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={this.onAddCellStyleItem} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tcellStyles.map(({ name, value, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`cell-styleitem-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`cell-styleitem-name-${index}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`styleName-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"style name\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`cell-styleitem-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`styleValue-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"style value\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteCellStyleItem(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { deleteComponent } = this.state;\r\n\t\tconst { visible, onClose, form, onDeleteFormItemContainer, dropComponent, configs, colSpanArr } = this.props;\r\n\t\tconst { colSpan, type, textAlign = 'left', cellStyles } = configs;\r\n\t\tlet initialColSpan = 1;\r\n\t\tlet tempColSpan = colSpan;\r\n\t\tfor (let i = 0; i < colSpanArr.length; i++) {\r\n\t\t\ttempColSpan -= colSpanArr[i].colSpan;\r\n\t\t\tif (tempColSpan > 0) {\r\n\t\t\t\tinitialColSpan++;\r\n\t\t\t} else {\r\n\t\t\t\ti = colSpanArr.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\ttitle=\"编辑表单项\"\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tthis.onCloseEdit();\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t\t\t<Divider>单元格</ Divider>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t\tlabel=\"style设置\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"cellStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: objToStr(cellStyles),\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tkey=\"cell-colSpan\"\r\n\t\t\t\t\t\tlabel=\"跨列设置\"\r\n\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"originSpan\", {\r\n\t\t\t\t\t\t\tinitialValue: initialColSpan,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcolSpanArr.map((c, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`${c}-${i}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={i+1}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{`${i+1}列`}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!deleteComponent && dropComponent && type === 'Button' ? (\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"对齐方式\"\r\n\t\t\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"textAlign\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: textAlign,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t左\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t中\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t右\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<div className=\"btn-box\">\r\n\t\t\t\t\t\t<Button onClick={onDeleteFormItemContainer}>\r\n\t\t\t\t\t\t\t删除单元格\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n                    {\r\n                        this.renderContent()\r\n                    }\r\n\t\t\t        <div className=\"btn-bottom-box\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t        </div>\r\n\t\t    \t</Form>\r\n\t    \t</Drawer>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Form.create()(FormItemEdit);","import React, { PureComponent } from 'react';\r\nimport { Icon, message } from 'antd';\r\nimport FormItemRender from './FormItemRender';\r\nimport FormItemEdit from '../../EditDrawer/FormItemEdit';\r\nimport { activeColor } from '../../../utils/Constants';\r\nimport initDropData from '../../../utils/DropUtil';\r\nimport './index.css';\r\n\r\nconst clsName = 'drop-container border-box';\r\nconst forbiddenDropType = ['Breadcrumb', 'Text', 'Tabs'];\r\n\r\nclass FormItemContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dropComponent: !!props.configs.type,\r\n        };\r\n        this.btnIndex = 1;\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onShowEditItem = this.onShowEditItem.bind(this);\r\n        this.onEditDropContainer = this.onEditDropContainer.bind(this);\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.onDeleteChildren = this.onDeleteChildren.bind(this);\r\n        this.onClose = this.onClose.bind(this);\r\n    }\r\n    onShowEditItem() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        if (event.target.className === clsName) {\r\n            this.resetBg();\r\n            const data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            const { type } = data;\r\n            if (~forbiddenDropType.indexOf(type)) {\r\n                message.warn('当前容器不支持拖拽的组件!');\r\n                return;\r\n            }\r\n            const { onUpdateFormItemConfigs, colIndex } = this.props;\r\n            const newConfigs = initDropData(data, this, true);\r\n            if (newConfigs) {\r\n                this.setState({\r\n                    dropComponent: true,\r\n                }, () => {\r\n                    onUpdateFormItemConfigs({ colIndex, ...newConfigs });\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @desc  删除单元格中的子组件\r\n     * @param {object} e \r\n     */\r\n    onDeleteChildren(e) {\r\n        e && e.stopPropagation();\r\n        const { onUpdateFormItemConfigs, colIndex } = this.props;\r\n        this.setState({\r\n            dropComponent: false,\r\n        });\r\n        onUpdateFormItemConfigs({ colIndex, deleteFlag: true });\r\n    }\r\n    resetBg() {\r\n        const dropDomArr = document.querySelectorAll('.form-container .drop-container');\r\n        if (dropDomArr) {\r\n            dropDomArr.forEach((item) => {\r\n                item.style.background = '';\r\n            });\r\n        }\r\n    }\r\n    onDragenter(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = activeColor;\r\n        }\r\n    }\r\n    onDragLeave(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = '';\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.targetDom) {\r\n            this.targetDom.removeEventListener('drop', this.onDrop);\r\n            this.targetDom.removeEventListener('dragleave', this.onDragLeave);\r\n            this.targetDom.removeEventListener(\"dragenter\", this.onDragenter);\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (!this.targetDom) {\r\n            return;\r\n        }\r\n        this.targetDom.addEventListener(\"drop\", this.onDrop, false);\r\n        this.targetDom.addEventListener(\"dragleave\", this.onDragLeave, false);\r\n        this.targetDom.addEventListener(\"dragenter\", this.onDragenter, false);\r\n    }\r\n    onUpdateConfigs(newConfigs) {\r\n        const { configs } = this.props;\r\n        const { colIndex } = configs;\r\n        this.setState({\r\n            dropComponent: !newConfigs.deleteFlag,\r\n        }, () => {\r\n            const { onUpdateFormItemConfigs } = this.props;\r\n            onUpdateFormItemConfigs(Object.assign(configs, newConfigs, { colIndex }));\r\n            this.onClose();\r\n        });\r\n    }\r\n    onEditDropContainer(e) {\r\n        if (e.target.className === clsName) {\r\n            e && e.stopPropagation();\r\n            this.setState({\r\n                visible: true,\r\n            });\r\n        }\r\n    }\r\n    onClose() {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    getContainerWidth(colSpan = 8) {\r\n        return `${100 * colSpan / 24 }%`;\r\n    }\r\n    render() {\r\n        const { layoutColumn, onDeleteFormItemContainer,  preview = false, colSpanArr = [], formItemArr = [], configs } = this.props;\r\n        const { dropComponent, visible } = this.state;\r\n        const { colIndex } = configs;\r\n        const colIndexNum = +colIndex;\r\n        const _colSpan = Object.hasOwnProperty.call(configs, 'colSpan') ? \r\n            configs.colSpan : (24 / layoutColumn);\r\n        return (\r\n            <div\r\n                className={preview ? `preview-box ${clsName}` : clsName}\r\n                style={{\r\n                    width: this.getContainerWidth(_colSpan),\r\n                }}\r\n                ref={(targetDom) => { this.targetDom = targetDom; }}\r\n            >\r\n                {\r\n                  dropComponent || preview ? (\r\n                        <FormItemRender\r\n                            {...this.props}\r\n                            configs={configs}\r\n                        />\r\n                    ) : <Icon type=\"drag\" />\r\n                }\r\n                {\r\n                    !preview ? \r\n                        <Icon\r\n                            type=\"bars\"\r\n                            className=\"icon-operation\"\r\n                            onClick={this.onShowEditItem}\r\n                        /> : null\r\n                }\r\n                <FormItemEdit\r\n                    inForm\r\n                    visible={visible}\r\n                    onDelete={this.onDeleteChildren}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                    colSpanArr={colSpanArr}\r\n                    formItemArr={formItemArr}\r\n                    configs={configs}\r\n                    dropComponent={dropComponent}\r\n                    layoutColumn={layoutColumn}\r\n                    onDeleteFormItemContainer={() => {\r\n                        this.setState({\r\n                            visible: false,\r\n                        }, () => {\r\n                            onDeleteFormItemContainer(colIndexNum);\r\n                        });\r\n                    }}\r\n                    onClose={this.onClose}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FormItemContainer;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Form, Row, Button, message, Icon } from 'antd';\r\nimport FormEdit from '../../EditDrawer/FormEdit';\r\nimport getCellColSpan from '../../../utils/CellUtil';\r\nimport FormItemContainer from '../FormItemContainer';\r\nimport { getFormApi, getSubmitData } from '../../../utils/FormUtil';\r\nimport { FORM_CONTAINER, TRUE } from '../../../utils/Constants';\r\nimport { isLogin } from '../../../utils/common';\r\nimport './index.css';\r\n\r\nclass FormContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            fetchLoading: false,\r\n            expand: true, // 是否展开\r\n            configs: {\r\n                layoutColumn: 1, // 容器列数\r\n                colSpanArr: [],\r\n                formItemArr: [],\r\n            },\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAddRow = this.onAddRow.bind(this);\r\n        this.onCollapse = this.onCollapse.bind(this);\r\n        this.onDeleteRow = this.onDeleteRow.bind(this);\r\n        this.onResetForm = this.onResetForm.bind(this);\r\n        this.onAddRowCell = this.onAddRowCell.bind(this);\r\n        this.onShowEditForm = this.onShowEditForm.bind(this);\r\n        this.onCloseEditForm = this.onCloseEditForm.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onUpdateFormLayout = this.onUpdateFormLayout.bind(this);\r\n        this.renderFormItemContainer = this.renderFormItemContainer.bind(this);\r\n        this.onUpdateFormItemConfigs = this.onUpdateFormItemConfigs.bind(this);\r\n        this.onDeleteFormItemContainer = this.onDeleteFormItemContainer.bind(this);\r\n        this.colIndexStart = 0;\r\n    }\r\n    componentDidMount() {\r\n        const { onFormRenderCallBack, form } = this.props;\r\n        if (typeof onFormRenderCallBack === 'function') {\r\n            onFormRenderCallBack(form);\r\n        }\r\n    }\r\n    onResetForm() {\r\n        this.props.form.resetFields();\r\n    }\r\n    onShowEditForm() {\r\n        this.setState({\r\n            visible: true,\r\n            expand: false,\r\n        });\r\n    }\r\n    onCollapse() {\r\n        const { expand } = this.state;\r\n        this.setState({ expand: !expand });\r\n    }\r\n    addNewFormItem(formItemArr, layoutColumnNum, colSpanArr) {\r\n        if (formItemArr.length < layoutColumnNum) {\r\n            for(let i = formItemArr.length; i < layoutColumnNum; i++) {\r\n                formItemArr.push({\r\n                    colIndex: this.colIndexStart + i,\r\n                    colSpan: colSpanArr[i],\r\n                    originSpan: 1,\r\n                });\r\n            }\r\n        }\r\n        return formItemArr;\r\n    }\r\n    onCloseEditForm() {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onAddRowCell() {\r\n        const { configs } = this.state;\r\n        const { colSpanArr } = configs;\r\n        const formItemArr = configs.formItemArr.slice();\r\n        if (formItemArr.length === 0) {\r\n            message.warn('请设置容器列数');\r\n            return;\r\n        }\r\n        const rowSpanCount = formItemArr.reduce((total, item, i) => {\r\n            total += item.colSpan;\r\n            if (i === formItemArr.length -1) {\r\n                total %= 24;\r\n            }\r\n            return total;\r\n        }, 0);\r\n        let colSpanIndex = 0;\r\n        let total = 0;\r\n        for (let i = 0; i < colSpanArr.length; i++) {\r\n            total = total + (+colSpanArr[i]);\r\n            if (total > rowSpanCount) {\r\n                colSpanIndex = i;\r\n                i = colSpanArr.length;\r\n            }\r\n        }\r\n        formItemArr.push({ \r\n            colIndex: this.colIndexStart,\r\n            originSpan: 1,\r\n            colSpan: colSpanArr[colSpanIndex],\r\n        });\r\n        this.colIndexStart += 1;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.formItemArr = formItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    onUpdateConfigs(newConfigs) {\r\n        const { onUpdateLayoutConfig, configs } = this.props;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex: configs.layoutIndex,\r\n            type: FORM_CONTAINER,\r\n            ...newConfigs,\r\n        });\r\n    }\r\n    onAddRow() {\r\n        const { configs } = this.state;\r\n        const formItemArr = configs.formItemArr.slice();\r\n        if (formItemArr.length === 0) {\r\n            message.warn('请设置容器列数');\r\n            return;\r\n        }\r\n        const { layoutColumn } = configs;\r\n        for(let i = 0; i < layoutColumn; i++) {\r\n            formItemArr.push({ colIndex: this.colIndexStart + i });\r\n        }\r\n        this.colIndexStart += layoutColumn;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.formItemArr = formItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    onDeleteRow() {\r\n        const { configs } = this.state;\r\n        const { layoutColumn, formItemArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.slice();\r\n        if (newFormItemArr.length <= layoutColumn) {\r\n            message.warn('不能再删除了');\r\n            return;\r\n        }\r\n        newFormItemArr.length = Math.max(0, newFormItemArr.length- layoutColumn);\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    /**\r\n     * @desc 删除表单容器\r\n     */\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n    }\r\n    onDeleteFormItemContainer(colIndex) {\r\n        const { configs } = this.state;\r\n        const { formItemArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.filter((item) => {\r\n            return item.colIndex !== colIndex;\r\n        });\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    onUpdateFormItemConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const { formItemArr, colSpanArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.colIndex !== item.colIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        colIndex: values.colIndex,\r\n                        colSpan: values.colSpan,\r\n                        originSpan: values.originSpan,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.colIndex === item.colIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newFormItemArr.forEach((item) => {\r\n            // 更新跨列\r\n            if (item.colIndex > values.colIndex) {\r\n                item.colSpan = getCellColSpan(item.colIndex, item.originSpan,\r\n                    newFormItemArr, colSpanArr);\r\n            }\r\n        });\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    /**\r\n     * @desc 更新表单列数及表单类型\r\n     * @param {object} newConfigs \r\n     */\r\n    onUpdateFormLayout(newConfigs) {\r\n        const { configs } = this.state;\r\n        const { layoutColumn, colSpanArr } = newConfigs;\r\n        const newState = {};\r\n        const layoutColumnNum = +layoutColumn;\r\n        if (layoutColumnNum) {\r\n            const copyFormItemArr = configs.formItemArr.slice();\r\n            const formItemArr = this.addNewFormItem(copyFormItemArr, layoutColumnNum, colSpanArr);\r\n            formItemArr.forEach((item) => {\r\n                item.colSpan = getCellColSpan(item.colIndex, item.originSpan, formItemArr, colSpanArr);\r\n            });\r\n            this.colIndexStart += layoutColumnNum;\r\n            newConfigs.layoutColumn = layoutColumnNum;\r\n            newConfigs.formItemArr = formItemArr;\r\n            newState.configs = newConfigs;\r\n        }\r\n        this.setState({\r\n            ...newState\r\n        }, () => {\r\n            this.onCloseEditForm();\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    /**\r\n     * @desc 表单提交事件\r\n     * @param {*} e \r\n     */\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const { onShowLoginModal, form, execFetchApi, mode, configs } = this.props;\r\n        if (!isLogin()) {\r\n            onShowLoginModal();\r\n            return;\r\n        }\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const api = getFormApi(mode, configs);\r\n                if (api) {\r\n                    execFetchApi(api, getSubmitData(configs, values));\r\n                } else {\r\n                    message.warn('请配置form的api属性');\r\n                }\r\n            }\r\n        });\r\n    }\r\n    getExpandCount() {\r\n        const { preview } = this.props;\r\n        const { formItemArr = [] } = preview ? this.props.configs || {} : this.state.configs;\r\n        let expandCount = 0;\r\n        for (let a of formItemArr) {\r\n            if (a.type === 'Button' && Array.isArray(a.buttonArr)) {\r\n                for (let b of a.buttonArr) {\r\n                    if (b.logicType === 'expand') {\r\n                        expandCount = +(b.expandCount || 0);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return expandCount;\r\n    }\r\n    renderFormItemContainer() {\r\n        const { form, preview, context } = this.props;\r\n        const { formItemArr = [], layoutColumn, colSpanArr, formItemAlign } = preview ? this.props.configs || {} : this.state.configs;\r\n        this.GuiContext = context.GuiContext;\r\n        const { expand } = this.state;\r\n        const expandCount = this.getExpandCount();\r\n        return formItemArr.map((itemConfigs, i) => {\r\n            const { colIndex, type, hasLinkage } = itemConfigs;\r\n            // 隐藏组件\r\n            if (expandCount > 0 && !expand && (i+1) > expandCount && type !== 'Button') {\r\n                return null;\r\n            }\r\n            // 联动显示控制\r\n            if (hasLinkage === TRUE) {\r\n                const { linkName, condition } = itemConfigs;\r\n                if (form.getFieldValue(linkName) !== condition) {\r\n                    return null;\r\n                }\r\n            }\r\n            return (\r\n                <FormItemContainer\r\n                    key={`ed-${colIndex}`}\r\n                    colIndex={colIndex}\r\n                    configs={itemConfigs}\r\n                    expand={expand}\r\n                    context={context}\r\n                    onResetForm={this.onResetForm}\r\n                    form={form}\r\n                    preview={preview}\r\n                    formItemAlign={formItemAlign}\r\n                    formItemArr={formItemArr}\r\n                    colSpanArr={colSpanArr}\r\n                    layoutColumn={layoutColumn}\r\n                    onCollapse={this.onCollapse}\r\n                    onDeleteFormItemContainer={this.onDeleteFormItemContainer}\r\n                    onUpdateFormItemConfigs={this.onUpdateFormItemConfigs}\r\n                />\r\n            );\r\n        });\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { preview, layerConfig } = this.props;\r\n        const { configs = {} } = preview ? this.props : this.state;\r\n        const { layoutColumn = 1, formItemArr = [] } = configs || {};\r\n        return (\r\n            <Fragment>\r\n                <div className={`form-container container ${preview ? 'preview-box' : 'border-box'}`}>\r\n                    <div className=\"inner-box\">\r\n                        {\r\n                            <Form onSubmit={this.onSubmit}>\r\n                                <Row\r\n                                    gutter={{ md: 24 / layoutColumn, lg: 24, xl: 48 }}\r\n                                >\r\n                                    {this.renderFormItemContainer()}\r\n                                </Row>\r\n                            </Form>\r\n                        }\r\n                        {\r\n                            formItemArr.length > 0 && !preview ? (\r\n                                <div style={{\r\n                                    textAlign: 'center',\r\n                                    marginTop: '10px',\r\n                                    }}\r\n                                >\r\n                                    <Button\r\n                                        ghost\r\n                                        type=\"primary\"\r\n                                        onClick={this.onAddRowCell}\r\n                                    >\r\n                                        +FormItem\r\n                                    </Button>\r\n                                </div>\r\n                                ) : null\r\n                        }\r\n                    </div>\r\n                    {\r\n                        !preview ? <Icon type=\"form\" className=\"icon-operation\" onClick={this.onShowEditForm} /> : null\r\n                    }\r\n                </div>\r\n                <FormEdit\r\n                    visible={visible}\r\n                    layerConfig={layerConfig}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                    onSave={this.onUpdateFormLayout}\r\n                    onClose={this.onCloseEditForm}\r\n                />\r\n            </Fragment>  \r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(FormContainer);","import React, { PureComponent, Fragment } from 'react';\r\nimport { FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER } from '../../../utils/Constants';\r\nimport FormContainer from '../FormContainer';\r\nimport TableContainer from '../TableContainer';\r\nimport BoxContainer from '../BoxContainer';\r\nimport EmptyContainer from '../EmptyContainer';\r\nimport HeaderContainer from '../HeaderContainer';\r\nimport LineContainer from '../LineContainer';\r\nimport './index.css';\r\n\r\nclass LayoutContainer extends PureComponent {\r\n    renderContainer() {\r\n        const { layoutConfig, ...restProps } = this.props;\r\n        if (Array.isArray(layoutConfig) && layoutConfig.length > 0) {\r\n            return layoutConfig.map((configs) => {\r\n                const { type, layoutIndex } = configs;\r\n                const itemKey = `layout-${layoutIndex}`;\r\n                if (type === FORM_CONTAINER) {\r\n                    return (<FormContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === TABLE_CONTAINER) {\r\n                    return (<TableContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === EMPTY_CONTAINER) {\r\n                    return (<EmptyContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === BOX_CONTINAER) {\r\n                    return (<BoxContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === HEADER_CONTINAER) {\r\n                    return (<HeaderContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === LINE_CONTINAER) {\r\n                    return (<LineContainer key={itemKey} {...restProps} configs={configs} />);\r\n                }\r\n                return null;\r\n            });\r\n        }\r\n        return (\r\n            <div className=\"empty-tips\">请添加容器组件</div>\r\n        );\r\n    }\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    this.renderContainer()\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LayoutContainer;","/**\r\n * @desc 可拖拽组件抽象类\r\n */\r\nimport React, { PureComponent } from 'react';\r\n\r\nclass Dragable extends PureComponent {\r\n\tonDragStart(e, data) {\r\n\t\te.dataTransfer.setData('text/plain',JSON.stringify(data));\r\n\t}\r\n\trender() {\r\n\t\tconst { ch, data } = this.props;\r\n\t\treturn (\r\n\t\t\t<span\r\n\t\t\t\tdraggable=\"true\"\r\n\t\t\t\tclassName=\"drag-item\"\r\n\t\t\t\tonDragStart={(e) => { this.onDragStart(e, data); }}\r\n\t\t\t>\r\n\t\t\t\t{ch}\r\n\t\t\t</span>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Dragable;","import defaultColumns from './defaultColumns';\r\nimport { FALSE } from '../utils/Constants';\r\n\r\nconst dargConfig = {\r\n\tcomponent: {\r\n\t\tform: [\r\n\t\t\t{ ch: 'Input', data: { type: 'Input', label: '', name: '' } },\r\n\t\t\t// { ch: 'Button', data: { type: 'Button', btnArr: [\r\n\t\t\t// \t\t{ btnText: 'button', type: 'primary', index: 0 },\r\n\t\t\t// \t],\r\n\t\t\t// }},\r\n\t\t\t{ ch: 'Select', data: { type: 'Select' } },\r\n\t\t\t{ ch: 'DatePicker', data: { type: 'DatePicker' } },\r\n\t\t\t{ ch: 'RangePicker', data: { type: 'RangePicker' } },\r\n\t\t\t{ ch: 'Radio', data: { type: 'Radio', radioArr: [\r\n\t\t\t\t\t{ index: 0, value: 'a1', label: 'a' },\r\n\t\t\t\t\t{ index: 1, value: 'b1', label: 'b' },\r\n\t\t\t\t],\r\n\t\t\t\tradioType: 'default',\r\n\t\t\t}},\r\n\t\t\t{ ch: 'TextArea', data: { type: 'TextArea', label: '', name: '' } },\r\n\t\t\t{ ch: 'Checkbox', data: { type: 'Checkbox', checkboxArr: [\r\n\t\t\t\t\t{ index: 0, value: 'a1', label: 'a' },\r\n\t\t\t\t\t{ index: 1, value: 'b1', label: 'b' },\r\n\t\t\t\t],\r\n\t\t\t}},\r\n\t\t],\r\n\t\tbutton: [\r\n\t\t\t{ ch: '查询', data: { logicType: 'query', type: 'Button', antdType: 'primary', textDisabled: true, btnText: '查询', htmlType: 'submit' } },\r\n\t\t\t{ ch: '重置', data: { logicType: 'reset', type: 'Button', antdType: 'button', textDisabled: true, btnText: '重置', htmlType: 'reset' } },\r\n\t\t\t{ ch: '展开/收起', data: { logicType: 'expand', type: 'Button', textDisabled: true, btnText: '展开/收起', htmlType: 'button' } },\r\n\t\t\t{ ch: '导入', data: { logicType: 'import', type: 'Button', btnText: '导入', htmlType: 'button' } },\r\n\t\t\t{ ch: '导出', data: { logicType: 'export', type: 'Button', btnText: '导出', htmlType: 'button' } },\r\n\t\t\t{ ch: '新增', data: { logicType: 'add', type: 'Button', btnText: '新增', htmlType: 'button' } },\r\n\t\t\t{ ch: '编辑', data: { logicType: 'edit', type: 'Button', btnText: '编辑', htmlType: 'button' } },\r\n\t\t\t{ ch: '查看', data: { logicType: 'view', type: 'Button', btnText: '查看', htmlType: 'button' } },\r\n\t\t\t{ ch: '批量', data: { logicType: 'mult', type: 'Button', btnText: '批量', htmlType: 'button' } },\r\n\t\t\t{ ch: '跳转', data: { logicType: 'skip', type: 'Button', btnText: '跳转', htmlType: 'button' } },\r\n\t\t],\r\n\t\tothers: [\r\n\t\t\t{ ch: 'Breadcrumb', data: { type: 'Breadcrumb', breadcrumbArr: [\r\n\t\t\t\t\t{index: 0, label: 'menu1', value: '' },\r\n\t\t\t\t\t{index: 1, label: 'menu2', value: '' },\r\n\t\t\t\t],\r\n\t\t\t}},\r\n\t\t\t{ ch: 'Text', data: { type: 'Text', text: 'Text' } },\r\n\t\t\t{ ch: 'Tabs', data: { type: 'Tabs', tabsArr: [\r\n\t\t\t\t\t{ label: 'tab1', value: 'tab1', index: 0 },\r\n\t\t\t\t],\r\n\t\t\t}},\r\n\t\t]\r\n\t},\r\n\tlayout: [\r\n\t\t{ ch: 'Form', data: { type: 'FormContainer' } },\r\n\t\t{ ch: 'Table', data: { type: 'TableContainer', columns: defaultColumns } },\r\n\t\t{ ch: 'Box', data: { type: 'BoxContainer', layoutColumn: 1, cellsArr: [\r\n\t\t\t\t\t{ layoutIndex: 0 },\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{ ch: 'Header', data: { type: 'HeaderContainer', layoutColumn: 1, positionFixed: FALSE, cellsArr: [\r\n\t\t\t\t\t{ layoutIndex: 0 },\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{ ch: 'Line', data: { type: 'LineContainer' } },\r\n\t\t// { ch: 'Modal', data: { type: 'ModalContainer' } },\r\n\t],\r\n};\r\n\r\nexport default dargConfig;","const columns = [{\r\n    title: 'column0',\r\n    dataIndex: 'dataIndex0',\r\n    index: 0,\r\n}, {\r\n    title: 'column1',\r\n    dataIndex: 'dataIndex1',\r\n    index: 1,\r\n}, {\r\n    title: 'column2',\r\n    dataIndex: 'dataIndex2',\r\n    index: 2,\r\n}, {\r\n    title: 'column3',\r\n    dataIndex: 'dataIndex3',\r\n    index: 3,\r\n}, {\r\n    title: 'column4',\r\n    dataIndex: 'dataIndex4',\r\n    index: 4,\r\n}];\r\n\r\nexport default columns;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Divider } from 'antd';\r\nimport Dragable from './Dragable';\r\nimport dargConfig from '../../configs/dragConfig';\r\n\r\nclass DragTabFactory extends PureComponent {\r\n\trenderContentByType(targetConfigs, type = '') {\r\n\t\treturn (\r\n\t\t\t<Fragment key={`${type}`}>\r\n\t\t\t\t{\r\n\t\t\t\t\ttype ? (<Divider key={`${type}`}>{type}</Divider>) : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttargetConfigs.map((config, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Dragable {...config} key={`drag-${config.ch}-${index}`} />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { tabType = 'component' } = this.props;\r\n\t\tconst targetConfigs = dargConfig[tabType] || [];\r\n\t\tif (Array.isArray(targetConfigs)) {\r\n\t\t\treturn this.renderContentByType(targetConfigs);\r\n\t\t} else {\r\n\t\t\treturn Object.keys(targetConfigs).map((k) => {\r\n\t\t\t\tif(Array.isArray(targetConfigs[k])) {\r\n\t\t\t\t\treturn this.renderContentByType(targetConfigs[k], k);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default DragTabFactory;","import React, { Component } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport DragTabFactory from '../Core/DragTabFactory';\r\nimport './index.css';\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass DragTabs extends Component {\r\n\tcomponentDidMount() {\r\n        /* 放置目标元素时触发事件 */\r\n         document.addEventListener(\"dragover\", function( event ) {\r\n             // 阻止默认动作以启用drop\r\n             event.preventDefault();\r\n         }, false);\r\n\r\n        /* 拖动目标元素时触发drag事件 */\r\n         document.addEventListener(\"drag\", function( event ) {\r\n\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragstart\", function( event ) {\r\n          // 使其半透明\r\n              event.target.style.opacity = .5;\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragend\", function( event ) {\r\n            // 重置透明度\r\n            event.target.style.opacity = \"\";\r\n            document.querySelectorAll('.drop-zone').forEach((t) => {\r\n              \tt.style.background = \"#fff\";\r\n            })\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragenter\", function( event ) {\r\n          // 当可拖动的元素进入可放置的目标时高亮目标节点\r\n          if ( event.target.className === \"drop-zone\" ) {\r\n              event.target.style.background = \"#96cdf9\";\r\n          }\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragleave\", function( event ) {\r\n          // 当拖动元素离开可放置目标节点，重置其背景\r\n          if ( event.target.className === \"drop-zone\" ) {\r\n              event.target.style.background = \"\";\r\n          }\r\n        }, false);\r\n    }\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Tabs defaultActiveKey=\"1\" className=\"aside-tabs\">\r\n\t\t\t    <TabPane tab=\"容器\" key=\"layout\">\r\n                    <DragTabFactory tabType=\"layout\" />\r\n\t\t\t    </TabPane>\r\n\t\t\t    <TabPane tab=\"组件\" key=\"component\">\r\n                    <DragTabFactory />\r\n\t\t\t    </TabPane>\r\n                <TabPane tab=\"模板\" key=\"template\">\r\n                    <DragTabFactory tabType=\"template\" />\r\n\t\t\t    </TabPane>\r\n\t\t  \t</Tabs>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DragTabs;\r\n","import React, { PureComponent } from 'react';\r\nimport { Modal, Layout } from 'antd';\r\nimport DragTabs from '../../DragTabs';\r\nimport MainContainer from '../MainContainer';\r\n\r\nimport './index.css';\r\n\r\nconst { Sider, Content } = Layout;\r\n\r\nclass ModalContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            layoutConfig: [],\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onUpdateLayoutConfig = this.onUpdateLayoutConfig.bind(this);\r\n    }\r\n    onSubmit() {\r\n        const { onOk, editModal } = this.props;\r\n        const { layoutConfig } = this.state;\r\n        onOk({\r\n            ...editModal,\r\n            layoutConfig,\r\n        });\r\n    }\r\n    onUpdateLayoutConfig(layoutConfig) {\r\n        this.setState({\r\n            layoutConfig,\r\n        })\r\n    }\r\n    render() {\r\n        const { visible, onCancel, layerConfig } = this.props;\r\n        return (\r\n            <Modal\r\n                title=\"弹框编辑\"\r\n                width={1024}\r\n                visible={visible}\r\n                maskClosable={false}\r\n                onOk={this.onSubmit}\r\n                onCancel={onCancel}\r\n            >\r\n                <Layout>\r\n                        <Sider width=\"300\">\r\n                            <DragTabs />\r\n                        </Sider>\r\n                        <Layout>\r\n                            <Content>\r\n                                <MainContainer\r\n                                    onUpdateLayoutConfig={this.onUpdateLayoutConfig}\r\n                                    layerConfig={layerConfig}\r\n                                    noLayer\r\n                                />\r\n                            </Content>\r\n                        </Layout>\r\n                </Layout>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ModalContainer;","const common = localStorage.getItem('common');\r\nconst main = localStorage.getItem('main');\r\nconst webapi = localStorage.getItem('webapi');\r\n\r\nconst apiRenderConfig = [\r\n    {  \r\n        label: '接口地址前缀',\r\n        key: 'requestHost',\r\n        type: 'Select',\r\n        initialValue: '',\r\n        placeholder: '接口地址前缀',\r\n        options: [{\r\n            value: common,\r\n            label: 'common',\r\n        }, {\r\n            value: main,\r\n            label: 'main',\r\n        }, {\r\n            value: webapi,\r\n            label: 'webapi',\r\n        }],\r\n        rules: [{ required: true, message: 'host!' }],\r\n    }, {\r\n        label: '请求方法',\r\n        key: 'requestMethod',\r\n        type: 'Select',\r\n        initialValue: 'GET',\r\n        placeholder: '请求方法',\r\n        options: [{\r\n            value: 'GET',\r\n            label: 'GET',\r\n        }, {\r\n            value: 'POST',\r\n            label: 'POST',\r\n        }, {\r\n            value: 'PUT',\r\n            label: 'PUT',\r\n        }, {\r\n            value: 'DELETE',\r\n            label: 'DELETE',\r\n        }],\r\n        rules: [{ required: true, message: 'method!' }],\r\n    }, {\r\n        label: '接口地址',\r\n        key: 'requestApi',\r\n        type: 'Input',\r\n        placeholder: '接口地址',\r\n        rules: [{ required: true, message: '接口地址!' }],\r\n    }, {\r\n        label: '接口参数',\r\n        key: 'requestParams',\r\n        type: 'TextArea',\r\n        placeholder: '接口入参，多个参数以逗号分隔',\r\n    }, {\r\n        label: 'modelKey',\r\n        key: 'modelKey',\r\n        type: 'Input',\r\n        placeholder: '存放在model中的字段名称',\r\n        rules: [{ required: true, message: 'model key!' }],\r\n    }, {\r\n        label: 'API是否分页',\r\n        key: 'requestPagination',\r\n        type: 'Select',\r\n        placeholder: 'API是否分页',\r\n        rules: [{ required: true, message: 'requestPagination!' }],\r\n        initialValue: '0',\r\n        options: [{\r\n            value: '1',\r\n            label: '是',\r\n        }, {\r\n            value: '0',\r\n            label: '否',\r\n        }],\r\n    }\r\n];\r\n\r\nconst modalRenderConfig = [{\r\n    label: '名称',\r\n    key: 'name',\r\n    type: 'Input',\r\n    placeholder: '英文名称',\r\n    rules: [{ required: true, message: '名称!' }],\r\n}, {\r\n    label: 'width',\r\n    key: 'width',\r\n    type: 'Input',\r\n}, {\r\n    label: 'title',\r\n    key: 'title',\r\n    type: 'Input',\r\n    placeholder: 'title',\r\n    rules: [{ required: true, message: 'title!' }],\r\n}];\r\n\r\nconst btnRenderConfig = [{\r\n    label: '按钮文字',\r\n    key: 'btnText',\r\n    type: 'Input',\r\n    initialValue: 'button',\r\n    placeholder: 'button',\r\n    rules: [{ required: true, message: '按钮文字!' }],\r\n}, {\r\n    label: 'type',\r\n    key: 'type',\r\n    type: 'Select',\r\n    initialValue: 'primary',\r\n    placeholder: 'type',\r\n    rules: [{ required: true, message: 'type!' }],\r\n    options: [{\r\n        value: 'primary',\r\n        label: 'primary',\r\n    }, {\r\n        value: 'dashed',\r\n        label: 'dashed',\r\n    }, {\r\n        value: 'danger',\r\n        label: 'danger'\r\n    }, {\r\n        value: '',\r\n        label: 'none'\r\n    }],\r\n}, {\r\n    label: 'htmlType',\r\n    key: 'htmlType',\r\n    type: 'Select',\r\n    initialValue: 'button',\r\n    placeholder: 'htmlType',\r\n    rules: [{ required: true, message: 'htmlType!' }],\r\n    options: [{\r\n        value: 'submit',\r\n        label: 'submit',\r\n    }, {\r\n        value: 'reset',\r\n        label: 'reset',\r\n    }, {\r\n        value: 'button',\r\n        label: 'button'\r\n    }],\r\n}, {\r\n    label: 'onClick',\r\n    key: 'triggerFn',\r\n    type: 'Select',\r\n    placeholder: '点击事件',\r\n    options: 'clickEvents',\r\n}, {\r\n    label: '按钮样式',\r\n    key: 'btnStyle',\r\n    type: 'TextArea',\r\n    placeholder: '多个样式属性请用分号分隔',\r\n}];\r\n\r\nexport {\r\n    apiRenderConfig,\r\n    btnRenderConfig,\r\n    modalRenderConfig,\r\n}\r\n\r\nexport default apiRenderConfig;","import React, { Component, Fragment } from 'react';\r\nimport { Button, Drawer, Divider, Collapse, Form, Icon } from 'antd';\r\nimport { renderConfigForm } from '../../../utils/RenderUtil';\r\nimport { getFormData } from '../../../utils/FormUtil';\r\nimport { LAYER_MODAL, LAYER_API } from '../../../utils/Constants';\r\nimport ModalContainer from '../../Container/ModalContainer';\r\nimport { apiRenderConfig, modalRenderConfig } from '../../../configs/renderConfig';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\n\r\nclass LayerEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            layerConfig: {\r\n\t\t\t\tmodalArr: [],\r\n\t\t\t\tapiArr: [],\r\n\t\t\t\tdrawerArr: [],\r\n            },\r\n            editModal: null,\r\n            showEditModal: false,\r\n        };\r\n        this.modalAddIndex = 0;\r\n\t\tthis.apiAddIndex = 0;\r\n        this.onClose = this.onClose.bind(this);\r\n        this.onAddApi = this.onAddApi.bind(this);\r\n\t\tthis.onAddModal = this.onAddModal.bind(this);\r\n\t\tthis.onDeleteApi = this.onDeleteApi.bind(this);\r\n\t\tthis.onDeleteModal = this.onDeleteModal.bind(this);\r\n        this.onSubmitLayer = this.onSubmitLayer.bind(this);\r\n        this.onShowEditModal = this.onShowEditModal.bind(this);\r\n        this.onCloseEditModal = this.onCloseEditModal.bind(this);\r\n        this.onSaveEditModal = this.onSaveEditModal.bind(this);\r\n        this.renderModalPanelHeader = this.renderModalPanelHeader.bind(this);\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.props.visible && !this.initState) {\r\n            this.initState = true;\r\n            this.setState({\r\n                layerConfig: this.props.layerConfig,\r\n            });\r\n        }\r\n    }\r\n    onShowEditModal(item) {\r\n\t\tthis.setState({\r\n\t\t\tshowEditModal: true,\r\n\t\t\teditModal: item,\r\n\t\t});\r\n    }\r\n    onCloseEditModal() {\r\n\t\tthis.setState({\r\n\t\t\tshowEditModal: false,\r\n\t\t\teditModal: null,\r\n\t\t});\r\n    }\r\n    onSaveEditModal(layerItem) {\r\n\t\tconst { layerType } = layerItem;\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tconst { modalArr = [] } = newLayerConfig;\r\n\t\tif (layerType === LAYER_MODAL) {\r\n\t\t\tconst newModalArr = modalArr.reduce((arr, item) => {\r\n\t\t\t\tif (item.index === layerItem.index) {\r\n\t\t\t\t\titem = Object.assign({}, item, layerItem);\r\n\t\t\t\t}\r\n\t\t\t\tarr.push(item);\r\n\t\t\t\treturn arr;\r\n\t\t\t}, []);\r\n\t\t\tnewLayerConfig.modalArr = newModalArr;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n\t\tthis.onCloseEditModal();\r\n\t}\r\n    onClose() {\r\n        const { onCloseLayer, form } = this.props;\r\n        form.resetFields();\r\n        this.initState = false;\r\n        onCloseLayer();\r\n    }\r\n    onSubmitLayer(e) {\r\n        e.preventDefault();\r\n        const { form, onUpdateLayerConfig } = this.props;\r\n        form.validateFields((err, values) => {\r\n\t\t\tif (!err) {\r\n                const { layerConfig } = this.state;\r\n\t\t\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\t\t\t[LAYER_MODAL, LAYER_API].forEach((itemKey) => {\r\n\t\t\t\t\tconst renderConfig = itemKey === LAYER_MODAL ? modalRenderConfig : apiRenderConfig;\r\n\t\t\t\t\tconst newItemArr = getFormData(values, renderConfig, true);\r\n\t\t\t\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr;\r\n                });\r\n                newLayerConfig.modalArr.forEach((newItem) => {\r\n                    layerConfig.modalArr.forEach((item) => {\r\n                        if (item.index == newItem.index) {\r\n                            newItem.layoutConfig = item.layoutConfig;\r\n                            newItem.layerType = item.layerType;\r\n                        }\r\n                    });\r\n                });\r\n                onUpdateLayerConfig(newLayerConfig);\r\n                this.onClose();\r\n\t\t\t}\r\n\t\t});\r\n    }\r\n    onAddModal() {\r\n\t\tthis.onAddItem(LAYER_MODAL);\r\n\t}\r\n\tonAddApi() {\r\n\t\tthis.onAddItem(LAYER_API);\r\n\t}\r\n\t/**\r\n\t * @desc  新增弹框/抽屉/api\r\n\t * @param itemKey modal/drawer/api\r\n\t */\r\n\tonAddItem(itemKey) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst itemArr = layerConfig[`${itemKey}Arr`];\r\n\t\tconst newItemArr = itemArr.concat([{\r\n\t\t\tindex: this[`${itemKey}AddIndex`],\r\n\t\t\tlayerType: itemKey,\r\n\t\t}]);\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr;\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n        this[`${itemKey}AddIndex`] += 1;\r\n\t}\r\n\t/**\r\n\t * @desc 删除弹框/抽屉/api\r\n\t */\r\n\tonDeleteItem(itemKey, deleteIndex) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst itemArr = layerConfig[`${itemKey}Arr`];\r\n\t\tconst newItemArr = itemArr.reduce((arr, item) => {\r\n\t\t\tif (item.index != deleteIndex) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr || [];\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n\t}\r\n\tonDeleteModal(deleteIndex) {\r\n\t\tthis.onDeleteItem(LAYER_MODAL, deleteIndex);\r\n\t}\r\n\tonDeleteApi(deleteIndex) {\r\n\t\tthis.onDeleteItem(LAYER_API, deleteIndex);\r\n\t}\r\n    renderModalPanelHeader(item) {\r\n\t\tconst { name, index } = item;\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{name || `modal-${index}`}</span>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName=\"edit-modal\"\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tthis.onShowEditModal(item);;\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t编辑\r\n\t\t\t\t</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteModal(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n\t}\r\n\trenderApiPanelHeader(item) {\r\n\t\tconst { requestApi, index } = item;\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{requestApi || `api-${index}`}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteApi(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, form } = this.props;\r\n        const { layerConfig, showEditModal, editModal } = this.state;\r\n        const { modalArr = [], apiArr = [] } = layerConfig;\r\n        // 实时同步接口地址\r\n        if (!apiRenderConfig[0].initialValue) {\r\n            apiRenderConfig[0].initialValue = localStorage.getItem('webapi');\r\n            apiRenderConfig[0].options = [{\r\n                value: localStorage.getItem('common'),\r\n                label: 'common',\r\n            }, {\r\n                value: localStorage.getItem('main'),\r\n                label: 'main',\r\n            }, {\r\n                value: localStorage.getItem('webapi'),\r\n                label: 'webapi',\r\n            }];\r\n        }\r\n        const modalActiveKey = modalArr.reduce((arr, { index }) => {\r\n            arr.push(`modal-${index}`);\r\n            return arr;\r\n        }, []);\r\n        const apiActiveKey = apiArr.reduce((arr, { index }) => {\r\n            arr.push(`api-${index}`);\r\n            return arr;\r\n        }, []);\r\n        return (\r\n            <Fragment>\r\n                <Drawer\r\n                    title=\"弹出层&接口\"\r\n                    placement=\"right\"\r\n                    closable\r\n                    maskClosable={false}\r\n                    onClose={this.onClose}\r\n                    visible={visible}\r\n                    width=\"400\"\r\n                >\r\n                    <Form onSubmit={this.onSubmitLayer}>\r\n                        <Divider>弹窗</Divider>\r\n                        <Collapse defaultActiveKey={modalActiveKey}>\r\n                            {\r\n                                modalArr.map((item) => {\r\n                                    const { index } = item;\r\n                                    return (\r\n                                        <Panel\r\n                                            header={this.renderModalPanelHeader(item)}\r\n                                            key={`modal-${index}`}\r\n                                        >\r\n                                            {\r\n                                                renderConfigForm(form, modalRenderConfig, item)\r\n                                            }\r\n                                        </Panel>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </Collapse>\r\n                        <div className=\"btn-add-box\">\r\n                            <Button\r\n                                type=\"dashed\"\r\n                                size=\"large\"\r\n                                onClick={this.onAddModal}\r\n                            >\r\n                                添加弹窗\r\n                            </Button>\r\n                        </div>\r\n                        {/* <Divider>抽屉</Divider> */}\r\n\r\n                        <Divider>接口</Divider>\r\n                        <Collapse defaultActiveKey={apiActiveKey}>\r\n                            {\r\n                                apiArr.map((item) => {\r\n                                    const { index } = item;\r\n                                    return (\r\n                                        <Panel\r\n                                            header={this.renderApiPanelHeader(item)}\r\n                                            key={`api-${index}`}\r\n                                        >\r\n                                            {\r\n                                                renderConfigForm(form, apiRenderConfig, item)\r\n                                            }\r\n                                        </Panel>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </Collapse>\r\n                        <div className=\"btn-add-box\">\r\n                            <Button\r\n                                type=\"dashed\"\r\n                                size=\"large\"\r\n                                onClick={this.onAddApi}\r\n                            >\r\n                                添加接口\r\n                            </Button>\r\n                        </div>\r\n                        <Form.Item style={{ marginTop: '20px', textAlign: 'center' }}>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                            >\r\n                                确定\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Drawer>\r\n                <ModalContainer\r\n                    layerConfig={this.props.layerConfig}\r\n                    visible={showEditModal}\r\n                    editModal={editModal}\r\n                    onOk={this.onSaveEditModal}\r\n                    onCancel={this.onCloseEditModal}\r\n                />\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(LayerEdit);","/**\r\n * @desc 点击事件弹窗视图\r\n */\r\nimport React, { PureComponent, Fragment } from 'react';\r\nimport { Modal, message, Spin } from 'antd';\r\nimport moment from 'moment';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\nimport { getFormApi, getFormByType, getSubmitData } from '../../../utils/FormUtil';\r\nimport { MODE_EDIT, FORM_SAVE, CODE_SUCCESS } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nclass PreviewModal extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        };\r\n        this.onCancel = this.onCancel.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAfterClose = this.onAfterClose.bind(this);\r\n        this.onFormRenderCallBack = this.onFormRenderCallBack.bind(this);\r\n        this.initEdit = false;\r\n    }\r\n    componentDidUpdate() {\r\n        const { mode, visible, recordData, api, execFetchApi, modalLayoutConfig } = this.props;\r\n        // 编辑模式\r\n        if (visible && mode === MODE_EDIT && !this.initEdit) {\r\n            if (api) { // 需要调用接口查询数据\r\n                this.setState({\r\n                    loading: true,\r\n                });\r\n                execFetchApi(api, recordData).then((res) => {\r\n                    const { code, data } = res;\r\n                    if (code === '0') {\r\n                        this.onInitForm(data);\r\n                    }\r\n                    this.setState({\r\n                        loading: false,\r\n                    });\r\n                }).catch(() => {\r\n                    this.setState({\r\n                        loading: false,\r\n                    });\r\n                });\r\n            } else if (recordData) { // 传递的编辑数据\r\n                this.onInitForm(modalLayoutConfig, recordData);\r\n            }\r\n            this.initEdit = true;\r\n        }\r\n    }\r\n    onInitForm(layoutConfig, editData) {\r\n        const formObj = getFormByType(layoutConfig, FORM_SAVE);\r\n        if (formObj && Array.isArray(formObj.formItemArr)) {\r\n            const formData = formObj.formItemArr.reduce((obj, item) => {\r\n                const { type, name, format = 'YYYY-MM-DD', dateKeys } = item;\r\n                if (type === 'DatePicker') {\r\n                    obj[name] = moment(editData[name], format);\r\n                } else if (type === 'RangePicker' && dateKeys) {\r\n                    const [ startTime, endTime ] = dateKeys;\r\n                    if (editData[startTime] && editData[endTime]) {\r\n                        obj[name] = [moment(editData[startTime], format), moment(editData[endTime], format)];\r\n                    }\r\n                } else {\r\n                    obj[name] = editData[name];\r\n                }\r\n                return obj;\r\n            }, {});\r\n            if (this.form) {\r\n                this.form.setFieldsValue(formData);\r\n            }\r\n            this.formData = formData;\r\n        } else {\r\n            message.warn('请配置编辑弹窗');\r\n        }\r\n    }\r\n    onCancel() {\r\n        const { loading } = this.state;\r\n        if (loading) {\r\n            return;\r\n        }\r\n        const { modalName, onCancelModal } = this.props;\r\n        onCancelModal(modalName);\r\n    }\r\n    renderContent(layoutConfig = []) {\r\n        const { mode } = this.props;\r\n        return layoutConfig.map((item, i) => {\r\n            return (\r\n                <Fragment key={`preview-${i}`}>\r\n                    {renderComponent(item, {\r\n                        preview: true,\r\n                        context: this,\r\n                        mode,\r\n                        onFormRenderCallBack: this.onFormRenderCallBack })}\r\n                </Fragment>\r\n            );\r\n        });\r\n    }\r\n    onSubmit() {\r\n        const { loading } = this.state;\r\n        if (loading) {\r\n            return;\r\n        }\r\n        const { onOkModal, modalName, mode, modalLayoutConfig, layerConfig, recordData } = this.props;\r\n        if(this.form) {\r\n            this.form.validateFields((err, values) => {\r\n                if (!err) {\r\n                    if (Array.isArray(modalLayoutConfig)) {\r\n                        const formObj = getFormByType(modalLayoutConfig, FORM_SAVE);\r\n                        if (formObj) {\r\n                            const api = getFormApi(mode, formObj); // 根据模式获取对应接口地址\r\n                            const { apiArr } = layerConfig;\r\n                            const apiObj = apiArr.find(({ requestApi }) => {\r\n                                return requestApi === api;\r\n                            });\r\n                            if (apiObj && apiObj.requestParams) { // 接口入参\r\n                                const paramsArr = apiObj.requestParams.split(',');\r\n                                paramsArr.forEach((paramKey) => {\r\n                                    if (Object.hasOwnProperty.call(recordData, paramKey) && !Object.hasOwnProperty.call(values, paramKey)) {\r\n                                        values[paramKey] = recordData[paramKey];\r\n                                    }\r\n                                });\r\n                            }\r\n                            if (api) {\r\n                                this.setState({\r\n                                    loading: true,\r\n                                });\r\n                                onOkModal(modalName, api, getSubmitData(formObj, values)).then((res) => {\r\n                                    const { data } = res;\r\n                                    const { code } = data || {};\r\n                                    this.setState({\r\n                                        loading: false,\r\n                                    });\r\n                                    if (code === CODE_SUCCESS) {\r\n                                        message.success('保存成功');\r\n                                        this.onCancel();\r\n                                    }\r\n                                }).catch(() => {\r\n                                    this.setState({\r\n                                        loading: false,\r\n                                    });\r\n                                });\r\n                            } else {\r\n                                message.warn('请配置form的api属性');\r\n                            }\r\n                        } else {\r\n                            message.warn('请配置form组件');\r\n                        }\r\n                    } else {\r\n                        message.warn('请配置form组件');\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            message.warn('请配置form组件');\r\n        }\r\n    }\r\n    onFormRenderCallBack(form) {\r\n        this.form = form;\r\n        if (this.formData) {\r\n            this.form.setFieldsValue(this.formData);\r\n        }\r\n    }\r\n    onAfterClose() {\r\n        this.initEdit = false;\r\n        this.formData = null;\r\n        if (this.form) {\r\n            this.form.resetFields();\r\n        }\r\n\r\n    }\r\n    render() {\r\n        const { title, visible, modalLayoutConfig, mode } = this.props;\r\n        const { loading } = this.state;\r\n        return (\r\n            <Modal\r\n                title={mode === MODE_EDIT ? '编辑' : title}\r\n                visible={visible}\r\n                onCancel={this.onCancel}\r\n                onOk={this.onSubmit}\r\n                afterClose={this.onAfterClose}\r\n                maskClosable={false}\r\n            >\r\n                <Spin spinning={loading}>\r\n                    {this.renderContent(modalLayoutConfig)}\r\n                </Spin>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PreviewModal;","/**\r\n * @desc 页面右侧容器主视图，拖拽组件的容器\r\n */\r\nimport React, { PureComponent, Fragment } from 'react';\r\nimport { message, Button, Spin } from 'antd';\r\nimport { Service } from '../../../annotation';\r\nimport LayoutContainer from '../LayoutContainer';\r\nimport isContainer from '../../../utils/common';\r\nimport LayerEdit from '../../EditDrawer/LayerEdit';\r\nimport PreviewModal from '../../Modal/PreviewModal';\r\nimport { CODE_SUCCESS, TRUE, MODE_EDIT, MODE_ADD, proxyServerUrl } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst GuiContext = React.createContext({\r\n    selectedRows: [],\r\n    selectedRowKeys: [],\r\n});\r\n\r\nconst initLayerConfig = {\r\n\tmodalArr: [],\r\n\tapiArr: [],\r\n\tdrawerArr: [],\r\n};\r\n\r\n@Service('AppService')\r\nclass MainContainer extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlayoutConfig: props.preview ? props.layoutConfig : [],\r\n\t\t\tlayerConfig: props.layerConfig || initLayerConfig,\r\n\t\t\tPageIndex: 1,\r\n\t\t\tPageSize: 10,\r\n\t\t\tfetchLoading: false,\r\n\t\t\tapiData: {}, // 接口数据对象\r\n\t\t\tshowLayer: false,\r\n\t\t\tselectedRows: [],\r\n\t\t\tselectedRowKeys: [],\r\n\t\t\tgenerateLoading: false, // 页面是否在生成\r\n\t\t};\r\n\t\tthis.paramData = {};\r\n\t\tthis.apiConfig = {};\r\n\t\tthis.GuiContext = GuiContext;\r\n\t\tthis.onDrop = this.onDrop.bind(this);\r\n        this.onOkModal = this.onOkModal.bind(this);\r\n\t\tthis.onCancelModal = this.onCancelModal.bind(this);\r\n\t\tthis.onUpdateApiConfig = this.onUpdateApiConfig.bind(this);\r\n\t\tthis.onPageIndexChange = this.onPageIndexChange.bind(this);\r\n\t\tthis.onShowSizeChange = this.onShowSizeChange.bind(this);\r\n\t\tthis.execFetchApi = this.execFetchApi.bind(this);\r\n\t\tthis.onPreviewPage = this.onPreviewPage.bind(this);\r\n\t\tthis.onUpdateLayerConfig = this.onUpdateLayerConfig.bind(this);\r\n\t\tthis.onToggleLayer = this.onToggleLayer.bind(this);\r\n\t\tthis.onGeneratePage = this.onGeneratePage.bind(this);\r\n\t\tthis.onUpdateLayoutConfig = this.onUpdateLayoutConfig.bind(this);\r\n\t\tthis.layoutIndex = 0;\r\n\t\tthis.container = React.createRef();\r\n\t}\r\n\tstatic getDerivedStateFromProps(nextProps) {\r\n\t\tif (nextProps.visible) {\r\n\t\t\treturn {\r\n\t\t\t\tlayerConfig: nextProps.layerConfig,\r\n\t\t\t\tlayoutConfig: nextProps.layoutConfig,\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (Object.hasOwnProperty.call(nextProps, 'layerConfig')) {\r\n\t\t\treturn {\r\n\t\t\t\tlayerConfig: nextProps.layerConfig,\r\n\t\t\t};\r\n\t\t}\r\n\t\t// 否则，对于state不进行任何操作\r\n\t\treturn null;\r\n\t}\r\n\t/**\r\n\t * @desc 更新页面配置对象，所有拖拽组件更新都将调用该方法同步配置信息\r\n\t * @param {object} param0 \r\n\t */\r\n\tonUpdateLayoutConfig(newConfigs) {\r\n\t\tconst { layoutIndex, deleteFlag = false } = newConfigs;\r\n\t\tconst { layoutConfig } = this.state;\r\n\t\tconst copyConfig = layoutConfig.slice();\r\n\t\t// 删除配置文件\r\n\t\tif (deleteFlag) {\r\n\t\t\tconst deleteIndex = copyConfig.findIndex((item) => {\r\n\t\t\t\treturn item.layoutIndex === layoutIndex;\r\n\t\t\t});\r\n\t\t\tcopyConfig.splice(deleteIndex, 1);\r\n\t\t} else {\r\n\t\t\tconst updateIndex = copyConfig.findIndex((item) => {\r\n\t\t\t\treturn item.layoutIndex === layoutIndex;\r\n\t\t\t});\r\n\t\t\tcopyConfig[updateIndex] = newConfigs;\r\n\t\t}\r\n\t\tif (typeof this.props.onUpdateLayoutConfig === 'function') {\r\n\t\t\tthis.props.onUpdateLayoutConfig(copyConfig);\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tlayoutConfig: copyConfig,\r\n\t\t});\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconst { preview =false } = this.props;\r\n\t\tif (!preview && this.container && this.container.current) {\r\n\t\t\tthis.container.current.addEventListener(\"drop\", this.onDrop, false);\r\n\t\t}\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tconst { preview =false } = this.props;\r\n\t\tif (!preview && this.container && this.container.current) {\r\n\t\t\tthis.container.current.removeEventListener(\"drop\", this.onDrop);\r\n\t\t}\r\n\t}\r\n\tonDrop(event) {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\tconst data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n\t\tconst { type, ...defaultConfigs } = data;\r\n\t\tif (!event.target.className || event.target.className.indexOf('main-container') === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (isContainer(type)) {\r\n\t\t\tconst { layoutConfig } = this.state;\r\n\t\t\tconst copyLayoytConfig = layoutConfig.slice();\r\n\t\t\tconst configObj = Object.assign({\r\n\t\t\t\ttype,\r\n\t\t\t\tlayoutIndex: this.layoutIndex,\r\n\t\t\t\t...defaultConfigs,\r\n\t\t\t});\r\n\t\t\tcopyLayoytConfig.push(configObj);\r\n\t\t\tthis.setState({\r\n\t\t\t\tlayoutConfig: copyLayoytConfig,\r\n\t\t\t});\r\n\t\t\tthis.layoutIndex += 1;\r\n\t\t} else {\r\n\t\t\tmessage.warn('请拖拽容器组件');\r\n\t\t}\r\n\t}\r\n\texecFetchApi(api, reqPrams, logicType) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst { apiArr } = layerConfig;\r\n\t\tconst apiObj = apiArr.find(({ requestApi }) => {\r\n\t\t\treturn requestApi === api;\r\n\t\t});\r\n\t\tif (!apiObj) {\r\n\t\t\tmessage.warn('api配置参数有误');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { modelKey, requestHost, requestMethod, requestPagination, requestParams = '' } = apiObj;\r\n\t\tif (logicType === 'mult') { // 批量按钮\r\n\t\t\tconst { selectedRows, selectedRowKeys } = this.state;\r\n\t\t\tif (selectedRows.length === 0) {\r\n\t\t\t\tmessage.warn('请选择数据');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!requestParams) { // 接口没有配置请求参数\r\n\t\t\t\treqPrams = selectedRowKeys;\r\n\t\t\t} else {\r\n\t\t\t\tconst paramKeys = requestParams.split(',');\r\n\t\t\t\treqPrams = selectedRows.reduce((arr, item) => {\r\n\t\t\t\t\tconst _obj = {};\r\n\t\t\t\t\tparamKeys.forEach((pk) => {\r\n\t\t\t\t\t\t_obj[pk] = item[pk];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tarr.push(_obj);\r\n\t\t\t\t\treturn arr;\r\n\t\t\t\t}, []);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.toggleLoading();\r\n\t\t// 分页查询接口\r\n\t\tif (requestPagination === TRUE) {\r\n\t\t\tif (this.state.PageIndex !== 1) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tPageIndex: 1,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst { PageSize } = this.state;\r\n\t\t\treqPrams.PageIndex = 1;\r\n\t\t\treqPrams.PageSize = PageSize;\r\n\t\t}\r\n\t\tthis.paramData[modelKey] = reqPrams; // 保存查询参数\r\n\t\treturn this.props.service.fetchApi(requestHost, requestMethod, api, reqPrams).then((res = {}) => {\r\n\t\t\tconst { data } = res;\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconst { code, message: msg, data: realData } = data || {};\r\n\t\t\t\tif (code !== CODE_SUCCESS) {\r\n\t\t\t\t\tmessage.error(msg || '调用接口异常');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst { apiData } = this.state;\r\n\t\t\t\t\tconst newApiData = Object.assign({}, apiData);\r\n\t\t\t\t\tif (logicType === 'mult') {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tselectedRowKeys: [],\r\n\t\t\t\t\t\t\tselectedRows: [],\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (requestPagination === TRUE) {\r\n\t\t\t\t\t\tconst { total, list } = realData;\r\n\t\t\t\t\t\tnewApiData[modelKey] = list;\r\n\t\t\t\t\t\tnewApiData[`${modelKey}Total`] = total;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewApiData[modelKey] = realData;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tapiData: newApiData,\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// const searchBtn = document.querySelector('form button[type=\"submit\"]');\r\n\t\t\t\t\t// searchBtn && searchBtn.click();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst { message: msg } = data || {};\r\n\t\t\t\tmessage.error(msg || '调用接口异常');\r\n\t\t\t}\r\n\t\t\tthis.toggleLoading(false);\r\n\t\t\treturn Promise.resolve(res);\r\n\t\t}).catch((error) => {\r\n\t\t\tthis.toggleLoading(false);\r\n\t\t\tif (error.response) {\r\n\t\t\t\tif (error.response.status === 401) {\r\n\t\t\t\t\tmessage.error('登录信息过期，请重新登录');\r\n\t\t\t\t\tthis.props.onShowLoginModal();\r\n\t\t\t\t} else if (error.response.status === 403) {\r\n\t\t\t\t\tmessage.error(error.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error(JSON.stringify(error));\r\n\t\t\t}\r\n\t\t\treturn Promise.reject(error);\r\n\t\t});\r\n\t}\r\n\ttoggleLoading(fetchLoading = true) {\r\n\t\tthis.setState({\r\n\t\t\tfetchLoading,\r\n\t\t});\r\n\t}\r\n\tonPageIndexChange(page, pageSize, modelKey) {\r\n\t\tthis.setState({\r\n\t\t\tPageIndex: page,\r\n\t\t}, () => {\r\n\t\t\tthis.execTableQuery(modelKey);\r\n\t\t});\r\n\t}\r\n\tonShowSizeChange(current, pageSize, modelKey) {\r\n\t\tthis.setState({\r\n\t\t\tPageIndex: 1,\r\n\t\t\tPageSize: pageSize,\r\n\t\t}, () => {\r\n\t\t\tthis.execTableQuery(modelKey);\r\n\t\t});\r\n\t}\r\n\t/**\r\n\t * @desc 执行表格接口查询\r\n\t * @param {*} modelKey \r\n\t */\r\n\texecTableQuery(modelKey) {\r\n\t\tif (this.apiConfig[modelKey]) {\r\n\t\t\tconst { PageIndex, PageSize } = this.state;\r\n\t\t\tconst reqPrams = this.paramData[modelKey];\r\n\t\t\tconst { api } = this.apiConfig[modelKey];\r\n\t\t\tthis.execFetchApi(api, Object.assign(reqPrams, { PageIndex, PageSize }));\r\n\t\t} else {\r\n\t\t\tmessage.warn('请配置Table的modelKey');\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * @desc 生成页面源代码\r\n\t */\r\n\tonGeneratePage() {\r\n\t\tconst { pageName, projectDir, onShowPageNameModal } = this.props;\r\n\t\tif (!pageName) {\r\n\t\t\tonShowPageNameModal(); // 设置页面名称\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (window.ipcRenderer && !projectDir) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { layoutConfig = [], layerConfig = {} } = this.state;\r\n\t\tif (layoutConfig.length === 0) {\r\n\t\t\tmessage.warn('请配置页面信息');\r\n\t\t\treturn;\r\n\t\t}\r\n        const pageConfig = {\r\n\t\t\tpageName,\r\n\t\t\tprojectDir,\r\n\t\t\tlayoutConfig,\r\n\t\t\tlayerConfig,\r\n\t\t};\r\n\t\tthis.setState({\r\n\t\t\tgenerateLoading: true,\r\n\t\t});\r\n\t\tif (window.ipcRenderer) {\r\n\t\t\twindow.ipcRenderer.send('createCode', JSON.stringify(pageConfig));\r\n\t\t\twindow.ipcRenderer.on('createCodeReply', (event, args) => {\r\n\t\t\t\tconst { code, info } = JSON.parse(args);\r\n\t\t\t\tif (code == 0) {\r\n\t\t\t\t\tmessage.success(info);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.error(info);\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgenerateLoading: false,\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.service.generatePage(pageConfig)\r\n        .then((response) => {\r\n\t\t\tconst { data } = response;\r\n\t\t\tif (data.code == CODE_SUCCESS) {\r\n\t\t\t\tmessage.success(data.info);\r\n\t\t\t\tconst aLink = document.createElement('a');\r\n\t\t\t\taLink.href = `${proxyServerUrl}/sourceCache/${pageName}.tar`;\r\n\t\t\t\taLink.style.display = 'none';\r\n\t\t\t\tdocument.body.appendChild(aLink);\r\n\t\t\t\taLink.click();\r\n\t\t\t\tdocument.body.removeChild(aLink);\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error(data.info);\r\n\t\t\t}\r\n\t\t\tthis.setState({\r\n\t\t\t\tgenerateLoading: false,\r\n\t\t\t});\r\n        })\r\n        .catch(() => {\r\n\t\t\tmessage.error('请求失败');\r\n\t\t\tthis.setState({\r\n\t\t\t\tgenerateLoading: false,\r\n\t\t\t});\r\n        });\r\n\t}\r\n\t/**\r\n\t * @desc 预览页面\r\n\t */\r\n\tonPreviewPage() {\r\n\t\tconst { onPreviewPage } = this.props;\r\n\t\tconst { layoutConfig, layerConfig } = this.state;\r\n\t\tonPreviewPage(layoutConfig, layerConfig);\r\n\t}\r\n\t/**\r\n\t * @desc 管理弹出层组件，包括Modal和Drawer\r\n\t */\r\n\tonToggleLayer() {\r\n\t\tthis.setState({\r\n\t\t\tshowLayer: !this.state.showLayer,\r\n\t\t});\r\n\t}\r\n\t\r\n\tonUpdateLayerConfig(layerConfig) {\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig,\r\n\t\t});\r\n\t}\r\n\tonUpdateApiConfig(modelKey, apiConfig) {\r\n\t\tthis.apiConfig[modelKey] = apiConfig;\r\n\t}\r\n\tgetChildFuncProps() {\r\n\t\treturn {\r\n\t\t\texecFetchApi: this.execFetchApi,\r\n\t\t\tonPageIndexChange: this.onPageIndexChange,\r\n\t\t\tonShowSizeChange: this.onShowSizeChange,\r\n\t\t\tonUpdateApiConfig: this.onUpdateApiConfig,\r\n\t\t\tonUpdateLayoutConfig: this.onUpdateLayoutConfig,\r\n\t\t};\r\n\t}\r\n\tonShowModal(e, modalName, api, data) {\r\n\t\tconst newState = {\r\n\t\t\t[`show${modalName}`]: true,\r\n\t\t\tapi,\r\n\t\t\trecordData: data,\r\n\t\t};\r\n\t\tthis.setState({\r\n\t\t\t...newState\r\n\t\t});\r\n\t}\r\n\tonCancelModal(modalName) {\r\n        this.setState({\r\n\t\t\t[`show${modalName}`]: false,\r\n\t\t\trecordData: null,\r\n\t\t\tapi: '',\r\n        })\r\n    }\r\n    onOkModal(modalName, api, values) {\r\n\t\treturn this.execFetchApi(api, values);\r\n    }\r\n\trenderModal() {\r\n\t\tconst { layerConfig, recordData, api } = this.state;\r\n\t\tconst { modalArr = []} = layerConfig;\r\n        return modalArr.map((item) => {\r\n            const { name: modalName, title, width, layoutConfig } = item;\r\n            const visibleStateName = `show${modalName}`;\r\n\t\t\tconst visible = this.state[visibleStateName];\r\n\t\t\tconst props = {\r\n\t\t\t\tapi,\r\n\t\t\t\twidth: parseInt(width),\r\n\t\t\t\ttitle,\r\n\t\t\t\tvisible,\r\n\t\t\t\trecordData,\r\n\t\t\t\tlayerConfig,\r\n\t\t\t\tmodalName,\r\n\t\t\t\tlayoutConfig: this.state.layoutConfig,\r\n\t\t\t\tmodalLayoutConfig: layoutConfig,\r\n\t\t\t\texecFetchApi: this.execFetchApi,\r\n\t\t\t};\r\n\t\t\tif (visible) {\r\n\t\t\t\t// 判断是否是编辑模式\r\n\t\t\t\tprops.mode = recordData || api ? MODE_EDIT : MODE_ADD;\r\n\t\t\t}\r\n            return (\r\n                <PreviewModal\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tkey={`${title}-${modalName}`}\r\n\t\t\t\t\tonCancelModal={this.onCancelModal}\r\n\t\t\t\t\tonOkModal={this.onOkModal}\r\n                />\r\n            );\r\n        });\r\n\t}\r\n\trender() {\r\n\t\tconst { noLayer = false, onShowLoginModal, preview = false } = this.props;\r\n\t\tconst { layoutConfig, generateLoading, showLayer, layerConfig,\r\n\t\t\tfetchLoading, apiData, PageIndex, PageSize } = this.state;\r\n\t\tlet isEdit = true;\r\n\t\tif (noLayer) {\r\n\t\t\tisEdit = false;\r\n\t\t} else if (preview) {\r\n\t\t\tisEdit = false;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Spin spinning={fetchLoading}>\r\n\t\t\t\t\t<div className={`main-container border-box ${ preview ? 'preview-mode' : '' }`} ref={this.container}>\r\n\t\t\t\t\t\t<GuiContext.Provider\r\n\t\t\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\t\t\tselectedRows: this.state.selectedRows,\r\n\t\t\t\t\t\t\t\tselectedRowKeys: this.state.selectedRowKeys,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LayoutContainer\r\n\t\t\t\t\t\t\t\tonShowLoginModal={onShowLoginModal}\r\n\t\t\t\t\t\t\t\tlayoutConfig={layoutConfig}\r\n\t\t\t\t\t\t\t\tlayerConfig={layerConfig}\r\n\t\t\t\t\t\t\t\tcurrentPage={PageIndex}\r\n\t\t\t\t\t\t\t\tpageSize={PageSize}\r\n\t\t\t\t\t\t\t\tapiData={apiData}\r\n\t\t\t\t\t\t\t\tcontext={this}\r\n\t\t\t\t\t\t\t\tpreview={preview}\r\n\t\t\t\t\t\t\t\t{...this.getChildFuncProps()}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</GuiContext.Provider>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tisEdit ? (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\tshape=\"round\"\r\n\t\t\t\t\t\t\t\t\ticon=\"plus\"\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn-manage\"\r\n\t\t\t\t\t\t\t\t\tonClick={this.onToggleLayer}\r\n\t\t\t\t\t\t\t\t\ttitle=\"弹出层&接口编辑\"\r\n\t\t\t\t\t\t\t\t></Button>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<LayerEdit\r\n\t\t\t\t\t\t\tvisible={showLayer}\r\n\t\t\t\t\t\t\tonCloseLayer={this.onToggleLayer}\r\n\t\t\t\t\t\t\tonUpdateLayerConfig={this.onUpdateLayerConfig}\r\n\t\t\t\t\t\t\tlayerConfig={layerConfig}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Spin>\r\n\t\t\t\t{\r\n\t\t\t\t\tisEdit ? (\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tid=\"btn-code\"\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={this.onGeneratePage}\r\n\t\t\t\t\t\t\t\tloading={generateLoading}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t生成页面\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={this.onPreviewPage}\r\n\t\t\t\t\t\t\t\tstyle={{ marginLeft: '5px' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t预览\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t) : null\r\n\t\t\t\t}\r\n\t\t\t\t{this.renderModal()}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MainContainer;","/**\r\n * @desc 页面预览窗口\r\n */\r\nimport React, { Component } from 'react';\r\nimport MainContainer from '../../Container/MainContainer';\r\nimport { Modal, Layout } from 'antd';\r\nimport './index.css';\r\nconst { Sider, Content } = Layout;\r\n\r\nclass PreviewPageModal extends Component {\r\n    render() {\r\n        const { showModal, layoutConfig, onCloseModal, layerConfig } = this.props;\r\n        return (\r\n            <Modal\r\n                visible={showModal}\r\n                footer={null}\r\n                width={'100%'}\r\n                closable\r\n                centered\r\n                wrapClassName=\"preview-page-modal\"\r\n                onCancel={onCloseModal}\r\n                title=\"页面预览\"\r\n                maskClosable\r\n            >\r\n                <div className=\"preview-container\">\r\n                    <Layout>\r\n                        <Sider width=\"210\">\r\n                        </Sider>\r\n                        <Layout>\r\n                            <Content>\r\n                                <MainContainer\r\n                                    visible={showModal}\r\n                                    layoutConfig={layoutConfig}\r\n                                    layerConfig={layerConfig}\r\n                                    preview\r\n                                    noLayer\r\n                                />\r\n                            </Content>\r\n                        </Layout>\r\n                    </Layout>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PreviewPageModal;","import React, { PureComponent } from 'react';\r\nimport { Modal, Form, Input, Button, message } from 'antd';\r\nimport proxyServerUrl from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\n@Form.create()\r\nclass LoginModal extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showLoginFrame: false,\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onResetModal = this.onResetModal.bind(this);\r\n        this.getIframeUrl = this.getIframeUrl.bind(this);\r\n        this.asyncAppendJs = this.asyncAppendJs.bind(this);\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                this.asyncAppendJs(values.appUrl);\r\n            }\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        window.addEventListener('message', (e) => {\r\n            if (e.origin === proxyServerUrl) {\r\n                const appUrl =  this.props.form.getFieldValue('appUrl');\r\n                let MerchantId = '';\r\n                if (appUrl && appUrl.indexOf('?') > 0 && appUrl.indexOf('MerchantId=') > 0) {\r\n                    const targetStr = appUrl.slice(appUrl.indexOf('?') + 1).split('&').find((searchStr) => {\r\n                        return searchStr.indexOf('MerchantId=') >= 0;\r\n                    })\r\n                    if (targetStr) {\r\n                        MerchantId = targetStr.split('=')[1];\r\n                    }\r\n                    localStorage.setItem('access_token', e.data);\r\n                    localStorage.setItem('MerchantId', MerchantId);\r\n                    localStorage.setItem('appUrl', appUrl);\r\n                    message.success('登录成功');\r\n                    this.props.onCloseLoginModal();\r\n                }\r\n            }\r\n        }, false);\r\n    }\r\n    clearStorage() {\r\n        ['access_token', 'MerchantId', 'appUrl', 'common', 'main', 'webapi'].forEach((k) => {\r\n            localStorage.removeItem(k);\r\n        });\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.props.visible && !this.clearInit) {\r\n            this.clearInit = true;\r\n            this.clearStorage();\r\n        }\r\n    }\r\n\r\n    asyncAppendJs(appUrl) {\r\n        const js = document.createElement('script');\r\n        js.type = 'text/javascript';\r\n        js.onload = (e) => {\r\n            console.log(e);\r\n            // 配置文件加载成功\r\n            if (window.configs) {\r\n                localStorage.setItem('common', window.configs.host.common);\r\n                localStorage.setItem('main', window.configs.host.main);\r\n                localStorage.setItem('webapi', window.configs.host.webapi);\r\n                this.setState({\r\n                    showLoginFrame: true,\r\n                }, () => {\r\n                    this.sendMessageToIframe();\r\n                });\r\n            }\r\n        };\r\n        let jsHost = appUrl;\r\n        if (appUrl.indexOf('?')) {\r\n            jsHost = appUrl.slice(0, appUrl.indexOf('?') - 1);\r\n        }\r\n        js.src = `${jsHost}/resources/js/configs.js?time=${Date.now()}`;\r\n        document.body.appendChild(js);\r\n    }\r\n\r\n    sendMessageToIframe() {\r\n        const iframeLogin = document.createElement('iframe');\r\n        iframeLogin.src = this.getIframeUrl();\r\n        iframeLogin.id = 'login-app';\r\n        document.querySelector('.iframe-container').appendChild(iframeLogin);\r\n        iframeLogin.onload = () => {\r\n            const data = Object.assign({ appUrl: this.props.form.getFieldValue('appUrl') }, window.configs);\r\n            document.getElementById('login-app').contentWindow.postMessage(data, proxyServerUrl);\r\n        };\r\n    }\r\n\r\n    onResetModal() {\r\n        this.props.form.resetFields();\r\n        this.clearInit = false;\r\n        this.setState({\r\n            showLoginFrame: false,\r\n        });\r\n    }\r\n\r\n    getIframeUrl() {\r\n        if (window.configs) {\r\n            const { host: { passport: { auth } } } = window.configs;\r\n            return `${proxyServerUrl}/appLogin?authUrl=${encodeURIComponent(auth)}`;\r\n        }\r\n        return `${proxyServerUrl}/appLogin`;\r\n    }\r\n\r\n    render() {\r\n        const { visible, form, onCloseLoginModal } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { showLoginFrame } = this.state;\r\n        return (\r\n            <Modal\r\n                title=\"登录\"\r\n                visible={visible}\r\n                width=\"500px\"\r\n                wrapClassName=\"login-modal\"\r\n                onCancel={onCloseLoginModal}\r\n                afterClose={this.onResetModal}\r\n                maskClosable={false}\r\n                footer={null}\r\n            >\r\n                <div className={`login-wrapper ${showLoginFrame ? 'slide-l' : ''}`}>\r\n                    <div className=\"url-container\">\r\n                        <Form onSubmit={this.onSubmit}>\r\n                            <Form.Item>\r\n                                {getFieldDecorator('appUrl', {\r\n                                    rules: [\r\n                                        { required: true, message: '请输入应用url' },\r\n                                        { type: 'url', message: 'url格式不合法' }\r\n                                    ],\r\n                                })(<Input placeholder=\"请输入应用url\" />)}\r\n                            </Form.Item>\r\n                            <p className=\"btn-box\">\r\n                                <Button type=\"primary\" htmlType=\"submit\">确定</Button>\r\n                            </p>\r\n                        </Form>\r\n                    </div>\r\n                    <div className=\"iframe-container\">\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LoginModal;","import React, { Component } from 'react';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport { Layout, LocaleProvider } from 'antd';\nimport PageNameModal from './component/Modal/PageNameModal';\nimport PreviewPageModal from './component/Modal/PreviewPageModal';\nimport DragTabs from './component/DragTabs';\nimport { isLogin } from './utils/common';\nimport MainContainer from './component//Container/MainContainer';\nimport LoginModal from './component/Modal/LoginModal';\n\nconst { Sider, Content } = Layout;\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showLoginModal: false,\n            showEditNameModal: false, // 显示编辑页面名称弹窗\n            showPreviewModal: false, // 显示预览窗口\n            pageName: '', // 页面名称\n        };\n        this.onSubmitPageName = this.onSubmitPageName.bind(this);\n        this.onPreviewPage = this.onPreviewPage.bind(this);\n        this.onShowLoginModal = this.onShowLoginModal.bind(this);\n        this.onCloseLoginModal = this.onCloseLoginModal.bind(this);\n        this.onClosePreviewModal = this.onClosePreviewModal.bind(this);\n        this.onShowPageNameModal = this.onShowPageNameModal.bind(this);\n        this.onClosePageNameModal = this.onClosePageNameModal.bind(this);\n    }\n    componentDidMount() {\n        if (!isLogin()) {\n            this.onShowLoginModal();\n        }\n    }\n    onCloseLoginModal() {\n        this.setState({\n            showLoginModal: false,\n        });\n    }\n    onShowLoginModal() {\n        this.setState({\n            showLoginModal: true,\n        });\n    }\n    onShowPageNameModal() {\n        this.setState({\n            showEditNameModal: true,\n        });\n    }\n    onSubmitPageName(pageName = '', projectDir) {\n        this.setState({\n            showEditNameModal: false,\n            pageName,\n            projectDir,\n        }, () => {\n            if ((!window.ipcRenderer && pageName) || (pageName && projectDir)) {\n                document.querySelector('#btn-code').click();\n            }\n        });\n    }\n    onClosePageNameModal() {\n        this.setState({\n            showEditNameModal: false,\n        });\n    }\n    onClosePreviewModal() {\n        this.setState({\n            showPreviewModal: false,\n        });\n    }\n    onPreviewPage(layoutConfig, layerConfig) {\n        this.setState({\n            showPreviewModal: true,\n        });\n        this.layoutConfig = layoutConfig;\n        this.layerConfig = layerConfig;\n\t}\n    render() {\n        const {\n            pageName,\n            projectDir,\n            showLoginModal,\n            showPreviewModal,\n            showEditNameModal,\n        } = this.state;\n        return (\n            <div className=\"App\">\n                <LocaleProvider locale={zhCN}>\n                    <Layout>\n                        <Sider width=\"300\">\n                            <DragTabs />\n                        </Sider>\n                        <Layout>\n                            <Content>\n                                <MainContainer\n                                    pageName={pageName}\n                                    projectDir={projectDir}\n                                    onShowLoginModal={this.onShowLoginModal}\n                                    onShowPageNameModal={this.onShowPageNameModal}\n                                    onPreviewPage={this.onPreviewPage}\n                                />\n                            </Content>\n                        </Layout>\n                        <PageNameModal\n                            onOkModal={this.onSubmitPageName}\n                            onCloseModal={this.onClosePageNameModal}\n                            visible={showEditNameModal}\n                        />\n                        <PreviewPageModal\n                            layoutConfig={this.layoutConfig}\n                            layerConfig={this.layerConfig}\n                            onCloseModal={this.onClosePreviewModal}\n                            showModal={showPreviewModal}\n                        />\n                        <LoginModal\n                            visible={showLoginModal}\n                            onCloseLoginModal={this.onCloseLoginModal}\n                        />\n                    </Layout>\n                </LocaleProvider>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './assets/css/app.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}