{"version":3,"sources":["component/Modal/EditPageName/index.js","component/Generater/ViewGenerater/index.js","component/Modal/PreviewPageModal.js","component/Core/Dragable.js","component/configs/dragConfig.js","component/DragTarget/TargetFactory.js","component/DragTabs/index.js","component/common/Constants.js","component/EditDrawer/FormEdit/index.js","component/common/CellUtil.js","component/Core/Editable.js","component/EditDrawer/FormItemEdit/index.js","component/LayoutContainer/FormItemContainer/index.js","component/LayoutContainer/FormContainer/index.js","component/EditDrawer/TableEdit/index.js","component/LayoutContainer/TableContainer/index.js","component/common/RenderUtil.js","component/LayoutContainer/DropContainer/DropRender.js","component/configs/layout.js","component/EditDrawer/DropAreaEdit/index.js","component/LayoutContainer/DropContainer/index.js","component/EditDrawer/HeaderEdit/index.js","component/LayoutContainer/HeaderContainer/index.js","component/LayoutContainer/index.js","component/configs/defaultColumns.js","component/MainContainer/index.js","App.js","index.js"],"names":["EditPageName","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSubmit","bind","assertThisInitialized","e","preventDefault","_this$props","form","onCloseModal","validateFields","err","values","_this$props2","showModal","getFieldDecorator","react_default","a","createElement","className","es_form","onSubmit","style","padding","Item","rules","required","message","pattern","input","placeholder","marginTop","es_button","type","htmlType","width","Component","Form","create","FormItem","Option","Select","RangePicker","DatePicker","ViewGenerater","state","onCollapse","layoutConfig","getLayoutConfig","Array","isArray","formLayout","find","item","btnLayout","configs","formItemArr","f","expandBtn","btnArr","b","expandFlag","expand","expandCount","setState","current","size","isFunc","onShowSizeChange","page","pageSize","onChange","config","_config$type","defaultValue","_config$dateFormat","dateFormat","moment","fnName","copyFormItemArr","slice","singleIndex","findIndex","singleRow","singleRowItem","splice","row","key","gutter","md","lg","xl","renderCol","col","objectSpread","renderBtn","_this2","map","i","label","name","_config$colSpan","colSpan","colIndex","_config$cellStyles","cellStyles","_config$singleRow","hasLinkage","sm","concat","linkName","condition","getFieldValue","displayStyle","display","hasOwnProperty","_this2$state","initialValue","getInitialValue","renderItemComponent","_config$type2","itemComponent","renderSelect","renderRangePicker","renderDatePicker","renderRadio","renderCheckbox","_config$style","_config$options","options","es_select","_ref","optionValue","optionText","value","_config$style2","_config$radios","radios","es_radio","Group","_ref2","radioValue","radioText","_config$style3","_config$cks","cks","es_checkbox","_ref3","ckValue","ckText","date_picker","_this3","react","btn","_btn$btnText","btnText","index","_btn$style","_btn$expandFlag","collapseBtnText","onClick","href","icon","assign","_ref4","renderHeader","_ref5","renderForm","layout","renderRow","_ref6","renderTable","pagination","rowSelection","objectWithoutProperties","total","getTableTotal","newPagination","_onShowSizeChange","showTotal","t","pageSizeOptions","defaultPageSize","showSizeChanger","showQuickJumper","dataSource","getTableData","table","columns","_ref7","renderTab","_ref8","renderCustom","_this4","_renderForm","_renderTable","_renderCustom","renderContent","PureComponent","Preview","PreviewPageModal","modal","visible","footer","closable","centered","onCancel","title","maskClosable","PreviewPageModal_Preview","Dragable","data","dataTransfer","setData","JSON","stringify","ch","draggable","onDragStart","dargConfig","TargetFactory","_this$props$tabType","tabType","targetConfigArr","Core_Dragable","TabPane","Tabs","DragTabs","document","addEventListener","event","target","opacity","querySelectorAll","forEach","background","tabs","defaultActiveKey","tab","DragTarget_TargetFactory","TRUE","formItemLayout","labelCol","xs","span","wrapperCol","FormEdit","onClose","layoutColumn","lcNum","colSpanTotal","colSpanArr","push","error","componentArr","drawer","FormEdit_Option","divider","renderColSpanInputs","textAlign","strToObj","str","separator","arguments","length","undefined","split","reduce","styleObj","styleStr","_styleStr$split","_styleStr$split2","slicedToArray","replace","objToStr","objLike","prototype","toString","keys","arr","k","join","getCellColSpan","originSpan","finalColSpan","locationIndex","j","end","start","Editable","renderItem","itemConfig","_itemConfig$type","selectConfig","_selectConfig$style","_selectConfig$options","Editable_Option","Editable_RangePicker","btnProps","editable","onEditToggle","stopPropagation","formItemConfig","_formItemConfig$type","_this$props2$formItem","_formItemConfig$cellS","Panel","Collapse","TextArea","Input","FormItemEdit","deleteComponent","onAddOptionItem","onAddCellStyleItem","onAddButton","onDeleteCellStyleItem","onDeleteOptionItem","onDeleteButton","onDeleteComponent","nextProps","initOptions","optionIndex","initBtn","btnIndex","_this$state","onUpdateConfigs","newFormItemConfig","deleteFlag","newOptions","kText","kValue","format","newBtnArr","btnType","btnStyle","_values$originSpan","_this$state$options","text","_this$state$cellStyle","newCellStyles","cellStyleIndex","_this$state$btnArr","_this$state$cellStyle2","_this$state$options2","card","extra","marginLeft","lineHeight","_this$state2","_this$state2$expandFl","collapse","_item$htmlType","header","renderPanelHeader","FormItemEdit_Option","_this$props3","_this$props4","_this$props4$dropComp","dropComponent","linkage","renderBtnCard","renderDefaultValueItem","renderLinkage","renderOptionsCard","_this5","_this6","_this$props5","onDeleteFormItemContainer","initialColSpan","tempColSpan","initialCellStyles","c","clsName","FormItemContainer","onUpdateConfig","onShowEditItem","onEditDropContainer","onDrop","onDeleteCol","newformItemConfig","parse","getData","resetBg","dropDomArr","targetDom","removeEventListener","onDragenter","_this$state$formItemC","colIndexNum","_colSpan","getContainerWidth","ref","Core_Editable","component_EditDrawer_FormItemEdit","onDelete","FormContainer","onShowEditForm","onCloseEditForm","renderFormItemContainer","onAddRow","onAddRowCell","onDeleteRow","onDeleteContainer","colIndexStart","newState","layoutColumnNum","rowSpanCount","colSpanIndex","newConfigs","_this2$props","onUpdateLayoutConfig","layoutIndex","warn","_this3$props","newFormItemArr","Math","max","_this4$props","filter","_this5$props","_ref$deleteFlag","component_LayoutContainer_FormItemContainer","_this7","component_EditDrawer_FormEdit","DIR","0","1","TableEdit","setColumnMaxIndex","onAddOperation","onDeleteOperation","onAddColumn","onDeleteColumn","setOperationMaxIndex","_configs$columns","columnMaxIndex","_configs$operationArr","operationArr","operationMaxIndex","_configs$operationArr2","newOperationArr","opreationIndex","opText","getNewConfigs","addOperationMaxIndex","newColumns","columnIndex","dataIndex","addColumnMaxIndex","v","hasOperation","opType","val","indexOf","_k$split","_k$split2","columnName","columnTarget","columnTitle","_configs$columns2","_item$align","align","_item$fixed","fixed","TableEdit_Panel","TableEdit_Option","_configs$operationArr3","_configs$hasOperation","_ref5$pageSize","_ref5$pageSizeOptions","_ref6$type","_ref6$columnTitle","hasPagination","hasRowSelection","renderOperationHeader","renderCollapse","renderTableProps","TableContainer","onShowEditTable","opList","_operationArr","toArray","firstItem","restItemArr","dropdown","overlay","renderMoreOpList","_this$props$configs","_configs$pagination","_configs$rowSelection","copyColumns","render","renderMultOperation","bordered","component_EditDrawer_TableEdit","renderBreadcrumb","_config$breadcrumb","breadcrumb","es_breadcrumb","linkUrl","renderText","RenderUtil_Option","RenderUtil_RangePicker","renderComponent","dropConfig","_dropConfig$type","component","DropRender","_this$props$dropConfi","DropAreaEdit","onAddBreadcrumbItem","onDeleteBreadcrumbItem","initBreadcrumb","breadcrumbIndex","newdropConfig","newBreadcrumb","breadcrumbLinkUrl","breadcrumbText","_this$state$breadcrum","_this$state$breadcrum2","DropAreaEdit_Panel","DropAreaEdit_Option","DropAreaEdit_TextArea","_this$props6","DropContainer","showEdit","onToggleEdit","DropDom","dropIndex","DropContainer_DropRender","component_EditDrawer_DropAreaEdit","HeaderEdit","headerStyles","_this$props2$configs","_configs$headerStyles","initialHeaderStyles","HeaderEdit_TextArea","HeaderEdit_Option","margin","HeaderContainer","cellsArr","newCellsArr","component_LayoutContainer_DropContainer","_configs$layoutColumn","rendeCell","component_EditDrawer_HeaderEdit","LayoutContainer","restProps","transferProps","component_LayoutContainer_FormContainer","component_LayoutContainer_TableContainer","EmptyContainer_default","component_LayoutContainer_HeaderContainer","renderContainer","clsArr","containerTypeArr","MainContainer","generateLoading","onEdit","onGeneratePage","onPreviewPage","copyConfig","deleteIndex","window","ipc","on","arg","_JSON$parse","code","info","success","cls","copyLayoytConfig","configObj","defaultColumns","kIndex","copyFormConfig","formConfig","pageConfig","pageName","send","src_component_LayoutContainer","loading","Sider","Layout","Content","App","showEditNameModal","showPreviewModal","onClosePreviewModal","locale_provider","locale","zhCN","component_DragTabs","src_component_MainContainer","component_Modal_EditPageName","Modal_PreviewPageModal","ReactDOM","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.0e7b403e.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Form, Input } from 'antd';\r\nimport './index.css';\r\n\r\nclass EditPageName extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onCloseModal } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n              onCloseModal(values);\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { showModal, form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        if (!showModal) {\r\n            return null;\r\n        }\r\n        return (\r\n            <div className=\"edit-name-box\">\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item>\r\n                        <h3 className=\"title\">页面名称</h3>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        {getFieldDecorator('pageName', {\r\n                            rules: [\r\n                                { required: true, message: '请输入页面名称!' },\r\n                                { pattern: /^[a-zA-Z]+$/, message: '名称只能包含字母！' }\r\n                            ],\r\n                        })(\r\n                            <Input placeholder=\"只能包含字母\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item  style={{ marginTop: '15px' }}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ width: '100%' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(EditPageName);","import React, { PureComponent, Fragment } from 'react';\r\nimport { Form, Table, Col, Checkbox, Row, Input, Icon, Select, Radio, DatePicker, Button } from 'antd';\r\nimport moment  from 'moment';\r\nimport 'antd/dist/antd.css';\r\nimport '../assets/common.css';\r\n\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\nconst RangePicker = DatePicker.RangePicker;  \r\n\r\nclass ViewGenerater extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onCollapse = this.onCollapse.bind(this);\r\n    }\r\n    componentWillMount() {\r\n        const layoutConfig = this.getLayoutConfig();\r\n        if (Array.isArray(layoutConfig)) {\r\n            const formLayout = layoutConfig.find((item) => {\r\n                return item.type === 'FormContainer';\r\n            });\r\n            if (formLayout) {\r\n                const { configs: { formItemArr } } = formLayout;\r\n                const btnLayout = formItemArr.find((f) => {\r\n                    return f.type === 'Btn';\r\n                });\r\n                if (btnLayout) {\r\n                    const expandBtn = btnLayout.btnArr.find((b) => {\r\n                        return b.expandFlag;\r\n                    });\r\n                    // 拥有折叠按钮\r\n                    if (expandBtn) {\r\n                        this.state.expand = expandBtn.expand;\r\n                        this.state.expandCount = expandBtn.expandCount;\r\n                    }\r\n                }\r\n              \r\n            }\r\n        }\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n    }\r\n    getLayoutConfig() {\r\n        return null;\r\n    }\r\n    onCollapse() {\r\n        const { expand } = this.state;\r\n        this.setState({ expand: !expand });\r\n    }\r\n    _onShowSizeChange(current, size) {\r\n        if (this.isFunc('onShowSizeChange')) {\r\n            this.onShowSizeChange(current, size);\r\n        }\r\n    }\r\n    _onChange(page, pageSize) {\r\n        if (this.isFunc('onChange')) {\r\n            this.onChange(page, pageSize);\r\n        }\r\n    }\r\n    getInitialValue(config) {\r\n        const { type = 'Input', defaultValue, dateFormat = 'YYYY-MM-DD' } = config;\r\n        if (type === 'DatePicker' || type === 'RangePicker') {\r\n            return defaultValue && moment(defaultValue, dateFormat);\r\n        }\r\n        return config.defaultValue || '';\r\n    }\r\n    getTableData() {\r\n        return [];\r\n    }\r\n    isFunc(fnName) {\r\n        return typeof this[fnName] === 'function';\r\n    }\r\n    renderRow(formItemArr) {\r\n        const copyFormItemArr = formItemArr.slice();\r\n        const singleIndex = copyFormItemArr.findIndex((item) => {\r\n            return item.singleRow;\r\n        });\r\n        const singleRowItem = copyFormItemArr[singleIndex];\r\n        // 是否有单独渲染的一行\r\n        if (singleIndex > -1) {\r\n            copyFormItemArr.splice(singleIndex, 1);\r\n        }\r\n        return (\r\n            [<Row key=\"basic-row\" gutter={{ md: 8, lg: 24, xl: 48 }}>\r\n                {\r\n                    this.renderCol(copyFormItemArr)\r\n                }\r\n            </Row>, singleRowItem ? (\r\n            <Row key=\"single-row\">\r\n                <Col style={{ ...singleRowItem.style }}>\r\n                    <span className=\"btn-group-box\">\r\n                        {\r\n                            this.renderBtn(singleRowItem)\r\n                        }\r\n                    </span>\r\n                </Col>\r\n            </Row>) : null]\r\n        );\r\n    }\r\n    renderCol(formItemArr) {\r\n        const { form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        return formItemArr.map((config, i) => {\r\n            const { label, name, colSpan = 8, colIndex, type, cellStyles = {}, singleRow = false, hasLinkage } = config;\r\n            if (singleRow) {\r\n                return null;\r\n            }\r\n            if (type === 'Btn') {\r\n                return (<Col md={colSpan} sm={24} key={`col-${colIndex}`}>\r\n                    <FormItem style={cellStyles}>\r\n                        {this.renderBtn(config)}\r\n                    </FormItem>\r\n                </Col>);\r\n            }\r\n            if (!name) {\r\n                return null;\r\n            }\r\n            // 联动显示控制\r\n            if (hasLinkage === '1') {\r\n                const { linkName, condition } = config;\r\n                if (form.getFieldValue(linkName) !== condition) {\r\n                    return null;\r\n                }\r\n            }\r\n            const displayStyle = {\r\n                display: 'block',\r\n            };\r\n            if (Object.hasOwnProperty.call(this.state, 'expand')) {\r\n                const { expand, expandCount } = this.state;\r\n                // 隐藏组件\r\n                if (!expand && (i+1) > expandCount) {\r\n                    displayStyle.display = 'none';\r\n                }\r\n            }\r\n            return (\r\n                <Col md={colSpan} sm={24} key={`col-${colIndex}`} style={displayStyle}>\r\n                    <FormItem label={label} style={cellStyles}>\r\n                        {getFieldDecorator(name, {\r\n                            rules: [],\r\n                            initialValue: this.getInitialValue(config),\r\n                        })(\r\n                            this.renderItemComponent(config)\r\n                        )}\r\n                    </FormItem>\r\n                </Col>\r\n            );\r\n        });\r\n    }\r\n    renderItemComponent(config) {\r\n        const { placeholder, type = 'Input' } = config;\r\n        let itemComponent = null;\r\n        switch(type) {\r\n            case 'Select':\r\n                itemComponent = this.renderSelect(config);\r\n                break;\r\n            case 'RangePicker':\r\n                itemComponent = this.renderRangePicker(config);\r\n                break;\r\n            case 'DatePicker':\r\n                itemComponent = this.renderDatePicker(config);\r\n                break;\r\n            case 'Btn':\r\n                itemComponent = this.renderBtn(config);\r\n                break;\r\n            case 'Radio':\r\n                itemComponent = this.renderRadio(config);\r\n                break;\r\n            case 'Checkbox':\r\n                itemComponent = this.renderCheckbox(config);\r\n                break;\r\n            default:\r\n                itemComponent = (<Input placeholder={placeholder} />);\r\n                break;\r\n        }\r\n        return itemComponent; \r\n    }\r\n    renderSelect(config) {\r\n        const { style = {}, options = [] } = config;\r\n        return (\r\n            <Select style={{ width: '100%', ...style }}>\r\n                {\r\n                    Array.isArray(options) ? options.map(({ key, optionValue, optionText }) => {\r\n                        return (\r\n                            <Option\r\n                                key={key || optionValue}\r\n                                value={optionValue}\r\n                            >\r\n                                {optionText}\r\n                            </Option>\r\n                        );\r\n                    }) : null\r\n                }\r\n            </Select>\r\n        );\r\n    }\r\n    renderRadio(config) {\r\n        const { style = {}, radios = [] } = config;\r\n        return (\r\n            <Radio.Group style={{ ...style }}>\r\n                {\r\n                    Array.isArray(radios) ? radios.map(({ key, radioValue, radioText }) => {\r\n                        return (\r\n                            <Radio\r\n                                key={key || radioValue}\r\n                                value={radioValue}\r\n                            >\r\n                                {radioText}\r\n                            </Radio>\r\n                        );\r\n                    }) : null\r\n                }\r\n            </Radio.Group>\r\n        );\r\n    }\r\n    renderCheckbox(config) {\r\n        const { style = {}, cks = [] } = config;\r\n        return (\r\n            <Checkbox.Group style={{  width: \"100%\", ...style }}>\r\n                {\r\n                    Array.isArray(cks) ? cks.map(({ key, ckValue, ckText }) => {\r\n                        return (\r\n                            <Checkbox\r\n                                key={key || ckValue}\r\n                                value={ckValue}\r\n                            >\r\n                                {ckText}\r\n                            </Checkbox>\r\n                        );\r\n                    }) : null\r\n                }\r\n            </Checkbox.Group>\r\n        );\r\n    }\r\n    renderDatePicker(config) {\r\n        return (\r\n            <DatePicker style={{ width: '100%' }} />\r\n        );\r\n    }\r\n    renderRangePicker(config) {\r\n        return (\r\n            <RangePicker style={{ width: '100%' }} />\r\n        );\r\n    }\r\n    renderBtn(config) {\r\n        const { btnArr } = config;\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    btnArr.map((btn) => {\r\n                        const { btnText = 'button', type, index, props,\r\n                            style = {}, expandFlag = '0' } = btn;\r\n                        if (expandFlag === '1') {\r\n                            const { expand } = this.state;\r\n                            const collapseBtnText = expand ? '隐藏' : '展开';\r\n                            return (\r\n                                <a\r\n                                    className=\"btn-collapse\"\r\n                                    onClick={this.onCollapse}\r\n                                    href=\"&nbsp;\"\r\n                                    style={style}\r\n                                    key={`btn-${index}`}\r\n                                >\r\n                                    {collapseBtnText}\r\n                                    <Icon type={expand ? 'up' : 'down'} />\r\n                                </a>\r\n                                );\r\n                        }\r\n                        return (\r\n                            <Button\r\n                                key={`btn-${index}`}\r\n                                type={type}\r\n                                style={style}\r\n                                {...props}\r\n                            >\r\n                                {btnText}\r\n                            </Button>\r\n                        );\r\n                    })\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n    _renderHeader({ configs }) {\r\n        if (this.isFunc('renderHeader')) {\r\n            return this.renderHeader(configs);\r\n        }\r\n        return (\r\n            <div className=\"fulu-header\">header</div>\r\n        );\r\n    }\r\n    _renderForm({ configs }) {\r\n        if (this.isFunc('renderForm')) {\r\n            return this.renderForm(configs);\r\n        }\r\n        const { formItemArr } = configs;\r\n        return (\r\n            <div className=\"form-box fulu-box\" key=\"query-form\">\r\n                <Form onSubmit={this.onSubmit} layout=\"inline\">\r\n                    {\r\n                        this.renderRow(formItemArr)\r\n                    }\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n    _renderTable({ configs }) {\r\n        if (this.isFunc('renderTable')) {\r\n            return this.renderTable(configs);\r\n        }\r\n        const { pagination, rowSelection, ...props } = configs;\r\n        const total = this.isFunc('getTableTotal') ? this.getTableTotal() : 0;\r\n        const newPagination = Object.assign({\r\n            size: \"small\",\r\n            onShowSizeChange: this._onShowSizeChange,\r\n            onChange: this._onShowSizeChange,\r\n            showTotal: (t)=>{return `共${t}条`},\r\n            pageSizeOptions: ['10', '20', '30', '40'],\r\n            total,\r\n            defaultPageSize: 1,\r\n            showSizeChanger: true,\r\n            showQuickJumper: true,\r\n        }, pagination);\r\n        const dataSource = this.getTableData();\r\n        return (\r\n            <div className=\"table-box fulu-box\" key=\"query-table\">\r\n                <Table\r\n                    dataSource={dataSource}\r\n                    pagination={newPagination}\r\n                    rowSelection={rowSelection}\r\n                    columns={configs.columns}\r\n                    {...props}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    _renderTab({ configs }) {\r\n        if (this.isFunc('renderTab')) {\r\n            return this.renderTab(configs);\r\n        }\r\n        return null;\r\n    }\r\n    _renderCustom({ configs }) {\r\n        if (this.isFunc('renderCustom')) {\r\n            return this.renderCustom(configs);\r\n        }\r\n        return null;\r\n    }\r\n    renderContent(layoutConfig) {\r\n        return layoutConfig.map((item) => {\r\n            const { type } = item;\r\n            if (type === 'FormContainer') {\r\n                return this._renderForm(item);\r\n            } else if (type === 'TableContainer') {\r\n                return this._renderTable(item);\r\n            } else if (type === 'CustomContainer') {\r\n                return this._renderCustom(item);\r\n            }\r\n            return null;\r\n        });\r\n    }\r\n    render() {\r\n        const layoutConfig = this.getLayoutConfig();\r\n        return (\r\n            <div className=\"wrapper\">\r\n                {\r\n                    Array.isArray(layoutConfig) ?\r\n                    this.renderContent(layoutConfig) : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ViewGenerater;","/**\r\n * @desc 页面预览窗口\r\n */\r\nimport React, { Component } from 'react';\r\nimport ViewGenerater from '../Generater/ViewGenerater';\r\nimport { Form, Modal } from 'antd';\r\n\r\n@Form.create()\r\nclass Preview extends ViewGenerater {\r\n    getLayoutConfig() {\r\n        const { layoutConfig } = this.props;\r\n        return layoutConfig;\r\n    }\r\n}\r\n\r\nclass PreviewPageModal extends Component {\r\n    render() {\r\n        const { showModal, layoutConfig, onCloseModal } = this.props;\r\n        return (\r\n            <Modal\r\n                visible={showModal}\r\n                footer={null}\r\n                width={'100%'}\r\n                closable\r\n                centered\r\n                onCancel={onCloseModal}\r\n                title=\"页面预览\"\r\n                maskClosable\r\n            >\r\n                <Preview layoutConfig={layoutConfig} />  \r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PreviewPageModal;","/**\r\n * @desc 可拖拽组件抽象类\r\n */\r\nimport React, { PureComponent } from 'react';\r\n\r\nclass Dragable extends PureComponent {\r\n\tonDragStart(e, data) {\r\n\t\te.dataTransfer.setData('text/plain',JSON.stringify(data));\r\n\t}\r\n\trender() {\r\n\t\tconst { ch, data } = this.props;\r\n\t\treturn (\r\n\t\t\t<span\r\n\t\t\t\tdraggable=\"true\"\r\n\t\t\t\tclassName=\"drag-item\"\r\n\t\t\t\tonDragStart={(e) => { this.onDragStart(e, data); }}\r\n\t\t\t>\r\n\t\t\t\t{ch}\r\n\t\t\t</span>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Dragable;","const dargConfig = {\r\n\tform: [\r\n\t\t{ ch: 'Input', data: { type: 'Input', label: '', name: '' } },\r\n\t\t{ ch: 'Button', data: { type: 'Button' } },\r\n\t\t{ ch: 'Select', data: { type: 'Select' } },\r\n\t\t{ ch: 'DatePicker', data: { type: 'DatePicker' } },\r\n\t\t{ ch: 'Tabs', data: { type: 'Tabs' } },\r\n\t\t{ ch: 'RangePicker', data: { type: 'RangePicker' } },\r\n\t\t{ ch: 'Breadcrumb', data: { type: 'Breadcrumb' } },\r\n\t\t{ ch: 'Text', data: { type: 'Text' } },\r\n\t],\r\n\tlayout: [\r\n\t\t{ ch: 'Form', data: { type: 'FormContainer' } },\r\n\t\t{ ch: 'Table', data: { type: 'TableContainer' } },\r\n\t\t{ ch: 'Header', data: { type: 'HeaderContainer' } },\r\n\t\t// { ch: '网格容器', data: { type: 'GridContainer' } },\r\n\t\t// { ch: '占位容器', data: { type: 'EmptyContainer' } },\r\n\t],\r\n};\r\n\r\nexport default dargConfig;","import React, { PureComponent, Fragment } from 'react';\r\nimport Dragable from '../Core/Dragable';\r\nimport dargConfig from '../configs/dragConfig';\r\n\r\nclass TargetFactory extends PureComponent {\r\n\trender() {\r\n\t\tconst { tabType = 'form' } = this.props;\r\n\t\tconst targetConfigArr = dargConfig[tabType];\r\n\t\tif (Array.isArray(targetConfigArr)) {\r\n\t\t\treturn (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttargetConfigArr.map((config, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Dragable {...config} key={`drag-${index}`} />\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</Fragment>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nexport default TargetFactory;","import React, { Component } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport TargetFactory from '../DragTarget/TargetFactory';\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass DragTabs extends Component {\r\n\tcomponentDidMount() {\r\n        /* 放置目标元素时触发事件 */\r\n         document.addEventListener(\"dragover\", function( event ) {\r\n             // 阻止默认动作以启用drop\r\n             event.preventDefault();\r\n         }, false);\r\n\r\n        /* 拖动目标元素时触发drag事件 */\r\n         document.addEventListener(\"drag\", function( event ) {\r\n\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragstart\", function( event ) {\r\n          // 使其半透明\r\n              event.target.style.opacity = .5;\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragend\", function( event ) {\r\n            // 重置透明度\r\n            event.target.style.opacity = \"\";\r\n            document.querySelectorAll('.drop-zone').forEach((t) => {\r\n              \tt.style.background = \"#fff\";\r\n            })\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragenter\", function( event ) {\r\n          // 当可拖动的元素进入可放置的目标时高亮目标节点\r\n          if ( event.target.className === \"drop-zone\" ) {\r\n              event.target.style.background = \"#96cdf9\";\r\n          }\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragleave\", function( event ) {\r\n          // 当拖动元素离开可放置目标节点，重置其背景\r\n          if ( event.target.className === \"drop-zone\" ) {\r\n              event.target.style.background = \"\";\r\n          }\r\n        }, false);\r\n    }\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Tabs defaultActiveKey=\"1\">\r\n\t\t\t    <TabPane tab=\"布局\" key=\"layout\">\r\n                    <TargetFactory tabType=\"layout\" />\r\n\t\t\t    </TabPane>\r\n\t\t\t    <TabPane tab=\"表单\" key=\"form\">\r\n                    <TargetFactory />\r\n\t\t\t    </TabPane>\r\n\t\t\t    {/* <TabPane tab=\"模板\" key=\"template\">\r\n                    <TargetFactory tabType=\"template\" />\r\n\t\t\t    </TabPane> */}\r\n\t\t  \t</Tabs>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DragTabs;\r\n","const activeColor = '#dde7f1';\r\nconst FORM_CONTAINER = 'FormContainer';\r\nconst TABLE_CONTAINER = 'TableContainer';\r\nconst EMPTY_CONTAINER = 'EmptyContainer';\r\nconst HEADER_CONTINAER = 'HeaderContainer';\r\nconst TRUE = '1';\r\n\r\nexport {\r\n    activeColor,\r\n    FORM_CONTAINER,\r\n    TABLE_CONTAINER,\r\n    EMPTY_CONTAINER,\r\n    HEADER_CONTINAER,\r\n    TRUE,\r\n};","import React, { Component } from 'react';\r\nimport { Button, Divider, message, Form, Input, Select, Drawer } from 'antd';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\nconst formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n};\r\n\r\nclass FormEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onClose } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { layoutColumn } = values;\r\n                const lcNum = +layoutColumn;\r\n                let colSpanTotal = 0;\r\n                const configs = {\r\n                    layoutColumn,\r\n                    colSpanArr: [],\r\n                };\r\n                for (let i = 0; i < lcNum; i++) {\r\n                    const colSpan = +values[`colSpan-${i}`];\r\n                    colSpanTotal += colSpan;\r\n                    configs.colSpanArr.push(colSpan);\r\n                }\r\n                if (colSpanTotal > 24) {\r\n                    message.error('跨列总数不能超过24!');\r\n                    return;\r\n                }\r\n                onClose(configs);\r\n            }\r\n        });\r\n    }\r\n    renderColSpanInputs() {\r\n        const { form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const layoutColumn = +form.getFieldValue('layoutColumn');\r\n        const componentArr = [];\r\n        for (let i = 0; i < layoutColumn; i++) {\r\n            componentArr.push(\r\n                <Form.Item\r\n                    key={`formitem-${i}`}\r\n                    label={`第${i+1}列`}\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator(`colSpan-${i}`, {\r\n                        initialValue: 24 / layoutColumn,\r\n                        rules: [\r\n                            { required: true, message: '请输入列宽!' },\r\n                            { pattern: /^[1-9](\\d)?$/, message: '只能包含数字！' }\r\n                        ],\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n            );\r\n        }\r\n        return componentArr;\r\n    }\r\n    render() {\r\n        const { visible, form, onClose } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Drawer\r\n                visible={visible}\r\n                width={420}\r\n                title=\"编辑列\"\r\n                onClose={() => {\r\n                    onClose(0);\r\n                }}\r\n            >\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"表单列\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('layoutColumn', {\r\n                            initialValue: 3,\r\n                            rules: [\r\n                                { required: true, message: '请选择列数!' },\r\n                            ],\r\n                        })(\r\n                            <Select>\r\n                                <Option value=\"2\">2</Option>\r\n                                <Option value=\"3\">3</Option>\r\n                                <Option value=\"4\">4</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    <Divider />\r\n                    {\r\n                        this.renderColSpanInputs()\r\n                    }\r\n                    <div className=\"btn-box\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ textAlign: 'center' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                    </div>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(FormEdit);","/**\r\n * 计算表单单元格跨列\r\n * @param {*} colIndex \r\n * @param {*} originSpan \r\n * @param {*} formItemArr \r\n * @param {*} colSpanArr \r\n */\r\nconst getCellColSpan = (colIndex, originSpan = 1, formItemArr, colSpanArr) => {\r\n    let finalColSpan = 0;\r\n    // 占据整行\r\n    if (originSpan === colSpanArr.length) {\r\n        finalColSpan = 24;\r\n    } else {\r\n        let locationIndex = 0;\r\n        let total = 0;\r\n        for (let i = 0; i < formItemArr.length; i++) {\r\n            if (formItemArr[i].colIndex >= colIndex) {\r\n                total = total % 24;\r\n                if (total === 0) {\r\n                    locationIndex = 0;\r\n                } else {\r\n                    for (let j = 0; j < colSpanArr.length; j++) {\r\n                        total -= colSpanArr[j];\r\n                        if (total <= 0) {\r\n                            locationIndex = j + 1;\r\n                            j = colSpanArr.length;\r\n                        }\r\n                    }\r\n                }\r\n                i = formItemArr.length;\r\n            } else {\r\n                total += formItemArr[i].colSpan;\r\n            }\r\n        }\r\n        let start = 0;\r\n        let end = 0;\r\n        // 不换行显示\r\n        if (originSpan <= colSpanArr.length - locationIndex) {\r\n            start = locationIndex;\r\n        }\r\n        end = start + originSpan - 1;\r\n        for(; start <= end; start++) {\r\n            finalColSpan += colSpanArr[start];\r\n        }\r\n    }\r\n    return finalColSpan;\r\n};\r\n\r\nconst strToObj = (str, separator = ';') => {\r\n    if (str) {\r\n        return str.split(separator).reduce((styleObj, styleStr) => {\r\n            const [ name, value ] = styleStr.split(':');\r\n            if (name && value) {\r\n                styleObj[name] = value.replace(/['\"\\s]/g, '');\r\n            }\r\n            return styleObj;\r\n        }, {});\r\n    }\r\n    return {};\r\n};\r\n\r\nconst objToStr = (objLike, separator = ';') => {\r\n    if (Object.prototype.toString.call(objLike) === '[object Object]') {\r\n        return Object.keys(objLike).reduce((arr, k) => {\r\n            arr.push(`${k}:${objLike[k]}`);\r\n            return arr;\r\n        }, []).join(separator);\r\n    } else if (Array.isArray(objLike)) {\r\n        return objLike.join(separator);\r\n    }\r\n    return objLike;\r\n};\r\n\r\nexport default getCellColSpan;\r\n\r\nexport {\r\n    strToObj,\r\n    objToStr,\r\n};","import React, { Component, Fragment } from 'react';\r\nimport { Button, Input, Icon, Form, Col, Select, DatePicker } from 'antd';\r\nimport { TRUE } from '../common/Constants';\r\nimport moment  from 'moment';\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;  \r\n\r\nclass Editable extends Component {\r\n\tgetType() {\r\n\t\treturn '';\r\n\t}\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\teditable: false, //可编辑标识\r\n\t\t};\r\n\t\tthis.onEditToggle = this.onEditToggle.bind(this);\r\n\t}\r\n\tonEditToggle(e) {\r\n        e && e.stopPropagation();\r\n\t\tconst { editable } = this.state;\r\n\t\tthis.setState({\r\n\t\t\teditable: !editable,\r\n\t\t});\r\n\t}\r\n\trenderItem = (itemConfig) => {\r\n        const { placeholder, type = 'Input' } = itemConfig;\r\n        let itemComponent = null;\r\n        switch(type) {\r\n            case 'Select':\r\n                itemComponent = this.renderSelect(itemConfig);\r\n                break;\r\n            case 'RangePicker':\r\n                itemComponent = this.renderRangePicker(itemConfig);\r\n                break;\r\n            case 'DatePicker':\r\n                itemComponent = this.renderDatePicker(itemConfig);\r\n                break;\r\n            case 'Btn':\r\n                itemComponent = this.renderBtn(itemConfig);\r\n                break;\r\n            default:\r\n                itemComponent = (<Input placeholder={placeholder} />);\r\n                break;\r\n        }\r\n        return itemComponent;\r\n    }\r\n    renderSelect = (selectConfig) => {\r\n        const { style = {}, options = [] } = selectConfig;\r\n        return (\r\n            <Select style={{ width: '100%', ...style }}>\r\n                {\r\n                    Array.isArray(options) ? options.map(({ key, optionValue, optionText }) => {\r\n                        return (\r\n                            <Option\r\n                                key={key || optionValue}\r\n                                value={optionValue}\r\n                            >\r\n                                {optionText}\r\n                            </Option>\r\n                        );\r\n                    }) : null\r\n                }\r\n            </Select>\r\n        );\r\n    }\r\n\r\n    renderDatePicker = () => {\r\n        return (\r\n            <DatePicker style={{ width: '100%' }} />\r\n        );\r\n    }\r\n\r\n    renderRangePicker = () => {\r\n        return (\r\n            <RangePicker style={{ width: '100%' }} />\r\n        );\r\n    }\r\n\r\n    renderBtn = (itemConfig) => {\r\n        const { btnArr } = itemConfig;\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    btnArr.map((btn) => {\r\n                        const { btnText = 'button', expandFlag, expandCount,\r\n                            style = {}, index, ...btnProps } = btn;\r\n                        if (expandFlag === TRUE) {\r\n                            const { expand, onCollapse } = this.props;\r\n                            const collapseBtnText = expand ? '隐藏' : '展开';\r\n                            return (\r\n                                <a\r\n                                    className=\"btn-collapse\"\r\n                                    onClick={onCollapse}\r\n                                    href=\"&nbsp;\"\r\n                                    key={`btn-${index}`}\r\n                                    style={style}\r\n                                >\r\n                                    {collapseBtnText}\r\n                                    <Icon type={expand ? 'up' : 'down'} />\r\n                                </a>\r\n                                );\r\n                        }\r\n                        return (\r\n                            <Button\r\n                                key={`btn-${index}`}\r\n                                style={style}\r\n                                {...btnProps}\r\n                            >\r\n                                {btnText}\r\n                            </Button>\r\n                        );\r\n                    })\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n\r\n    getInitialValue(formItemConfig) {\r\n        const { type = 'Input', defaultValue } = formItemConfig;\r\n        if (type === 'DatePicker' || type === 'RangePicker') {\r\n            return defaultValue && moment(defaultValue, 'YYYY-MM-DD');\r\n        }\r\n        return formItemConfig.defaultValue || '';\r\n    }\r\n\r\n\trender() {\r\n        const { formItemConfig = {}, form } =this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { type, colSpan, label, name, rules, cellStyles = {}, hasLinkage } = formItemConfig;\r\n        const md = colSpan || 8;\r\n        if (!name && type !== 'Btn') {\r\n            return null;\r\n        }\r\n        // 联动显示控制\r\n        if (hasLinkage === '1') {\r\n            const { linkName, condition } = formItemConfig;\r\n            if (form.getFieldValue(linkName) !== condition) {\r\n                return null;\r\n            }\r\n        }\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Col\r\n\t\t\t        span={colSpan}\r\n\t\t\t        md={md} sm={24}\r\n\t\t\t    >\r\n                    {\r\n                        type !== 'Btn' ?\r\n                            (\r\n                                <Form.Item label={label} style={cellStyles}>\r\n                                    {getFieldDecorator(name, {\r\n                                        rules: rules || [],\r\n                                        initialValue: this.getInitialValue(formItemConfig),\r\n                                    })(\r\n                                        this.renderItem(formItemConfig)\r\n                                    )}\r\n                                </Form.Item>\r\n                            ) : (\r\n                                <Form.Item style={cellStyles}>\r\n                                    {\r\n                                        this.renderItem(formItemConfig)\r\n                                    }\r\n                                </Form.Item>\r\n                            )\r\n                    }\r\n\t\t\t      \r\n\t\t\t    </Col>\r\n\t\t    </Fragment>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Editable;","import React, { Component, Fragment } from 'react';\r\nimport { Button, Collapse, Card, Drawer, Divider, Select, Input,\r\n\tIcon, Form, DatePicker, Radio } from 'antd';\r\nimport getCellColSpan, { strToObj, objToStr } from '../../common/CellUtil';\r\nimport { TRUE } from '../../common/Constants';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\n\r\nconst formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n};\r\n\r\nclass FormItemEdit extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdeleteComponent: false,\r\n\t\t\toptions: [],\r\n\t\t\t// cellStyles: [],\r\n\t\t};\r\n\t\tthis.onSubmit = this.onSubmit.bind(this);\r\n\t\tthis.onAddOptionItem = this.onAddOptionItem.bind(this);\r\n\t\tthis.onAddCellStyleItem = this.onAddCellStyleItem.bind(this);\r\n\t\tthis.onAddButton = this.onAddButton.bind(this);\r\n\t\tthis.onDeleteCellStyleItem = this.onDeleteCellStyleItem.bind(this);\r\n\t\tthis.onDeleteOptionItem = this.onDeleteOptionItem.bind(this);\r\n\t\tthis.onDeleteButton = this.onDeleteButton.bind(this);\r\n\t\tthis.onDeleteComponent = this.onDeleteComponent.bind(this);\r\n\t}\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tconst { formItemConfig } = nextProps;\r\n\t\tconst { type, options, btnArr } = formItemConfig;\r\n\t\tif (type === 'Option' && !this.initOptions) {\r\n\t\t\tthis.setState({\r\n\t\t\t\toptions,\r\n\t\t\t});\r\n\t\t\tthis.optionIndex = options.length;\r\n\t\t\tthis.initOptions = true;\r\n\t\t}\r\n\t\t// if (Array.isArray(cellStyles)  && !this.initCellStyles) {\r\n\t\t// \tthis.setState({\r\n\t\t// \t\tcellStyles,\r\n\t\t// \t});\r\n\t\t// \tthis.cellStyleIndex = cellStyles.length;\r\n\t\t// \tthis.initCellStyles = true;\r\n\t\t// }\r\n\t\tif (type === 'Btn' && !this.initBtn) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tbtnArr,\r\n\t\t\t});\r\n\t\t\tthis.btnIndex = btnArr.length;\r\n\t\t\tthis.initBtn = true;\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t// 监控撤销删除组件操作 ctrl + z\r\n\t}\r\n\tonSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tconst { deleteComponent, options, btnArr } = this.state;\r\n\t\tconst { form, onUpdateConfigs, formItemConfig, colSpanArr, formItemArr } = this.props;\r\n\t\tform.validateFields((err, values) => {\r\n\t        if (!err) {\r\n\t\t\t\tconst newFormItemConfig = Object.assign({}, formItemConfig, values);\r\n\t\t\t\tif (deleteComponent) {\r\n\t\t\t\t\tnewFormItemConfig.deleteFlag = true;\r\n\t\t\t\t}\r\n\t\t\t\t// const { cellStyles = [] } = this.state;\r\n\t\t\t\tnewFormItemConfig.cellStyles = strToObj(values.cellStyles);\r\n\t\t\t\tif (newFormItemConfig.type === 'Select') {\r\n\t\t\t\t\tconst newOptions = options.slice();\r\n\t\t\t\t\tnewOptions.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst kText = `optionText-${index}`;\r\n\t\t\t\t\t\tconst kValue = `optionValue-${index}`;\r\n\t\t\t\t\t\titem.optionText = values[kText];\r\n\t\t\t\t\t\titem.optionValue= values[kValue];\r\n\t\t\t\t\t\tdelete newFormItemConfig[kText];\r\n\t\t\t\t\t\tdelete newFormItemConfig[kValue];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewFormItemConfig.options = newOptions;\r\n\t\t\t\t} else if (newFormItemConfig.type === 'DatePicker') {\r\n\t\t\t\t\tnewFormItemConfig.defaultValue = values.defaultValue && values.defaultValue.format('YYYY-MM-DD');\r\n\t\t\t\t} else if (newFormItemConfig.type === 'Btn') {\r\n\t\t\t\t\tconst newBtnArr = btnArr.slice();\r\n\t\t\t\t\tnewBtnArr.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst btnText = `btnText-${index}`;\r\n\t\t\t\t\t\tconst btnType = `type-${index}`;\r\n\t\t\t\t\t\tconst htmlType = `htmlType-${index}`;\r\n\t\t\t\t\t\tconst onClick = `onClick-${index}`;\r\n\t\t\t\t\t\tconst expandFlag = `expandFlag-${index}`;\r\n\t\t\t\t\t\tconst btnStyle = `btnStyle-${index}`;\r\n\t\t\t\t\t\titem.btnText = values[btnText];\r\n\t\t\t\t\t\titem.type= values[btnType];\r\n\t\t\t\t\t\titem.htmlType = values[htmlType];\r\n\t\t\t\t\t\titem.expandFlag = values[expandFlag];\r\n\t\t\t\t\t\titem.style = strToObj(values[btnStyle]);\r\n\t\t\t\t\t\tif (item.htmlType !== 'submit') {\r\n\t\t\t\t\t\t\titem.onClick = values[onClick];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst expandCount = `expandCount-${index}`;\r\n\t\t\t\t\t\tif (expandFlag === TRUE) {\r\n\t\t\t\t\t\t\titem.expandCount = values[expandCount];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdelete newFormItemConfig[btnStyle];\r\n\t\t\t\t\t\tdelete newFormItemConfig[expandCount];\r\n\t\t\t\t\t\tdelete newFormItemConfig[expandFlag];\r\n\t\t\t\t\t\tdelete newFormItemConfig[onClick];\r\n\t\t\t\t\t\tdelete newFormItemConfig[htmlType];\r\n\t\t\t\t\t\tdelete newFormItemConfig[btnText];\r\n\t\t\t\t\t\tdelete newFormItemConfig[btnType];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewFormItemConfig.btnArr = newBtnArr;\r\n\t\t\t\t}\r\n\t\t\t\tconst { originSpan = 1 } = values;\r\n\t\t\t\tnewFormItemConfig.originSpan = originSpan;\r\n\t\t\t\tnewFormItemConfig.colSpan = getCellColSpan(formItemConfig.colIndex, originSpan,\r\n\t\t\t\t\tformItemArr, colSpanArr);\r\n\t\t\t\tonUpdateConfigs(newFormItemConfig);\r\n\t        }\r\n\t      },\r\n\t    );\r\n\t}\r\n\tonDeleteComponent() {\r\n\t\tthis.setState({\r\n\t\t\tdeleteComponent: true,\r\n\t\t});\r\n\t}\r\n\tonAddOptionItem() {\r\n\t\tconst { options = [] } = this.state;\r\n\t\tconst newOptions = options.slice();\r\n\t\tnewOptions.push({\r\n\t\t\tvalue: '',\r\n\t\t\ttext: '',\r\n\t\t\tindex: this.optionIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\toptions: newOptions,\r\n\t\t});\r\n\t\tthis.optionIndex += 1;\r\n\t}\r\n\tonAddCellStyleItem() {\r\n\t\tconst { cellStyles = [] } = this.state;\r\n\t\tconst newCellStyles = cellStyles.slice();\r\n\t\tnewCellStyles.push({\r\n\t\t\tvalue: '',\r\n\t\t\tname: '',\r\n\t\t\tindex: this.cellStyleIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tcellStyles: newCellStyles,\r\n\t\t});\r\n\t\tthis.cellStyleIndex += 1;\r\n\t}\r\n\tonAddButton() {\r\n\t\tconst { btnArr } = this.state;\r\n\t\tconst newBtnArr = btnArr.slice();\r\n\t\tnewBtnArr.push({\r\n\t\t\tbtnText: 'button',\r\n\t\t\ttype: 'primary',\r\n\t\t\tindex: this.btnIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tbtnArr: newBtnArr,\r\n\t\t});\r\n\t\tthis.btnIndex += 1;\r\n\t}\r\n\tonDeleteButton(index) {\r\n\t\tconst { btnArr = [] } = this.state;\r\n\t\tconst newBtnArr = btnArr.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tbtnArr: newBtnArr,\r\n\t\t});\r\n\t}\r\n\tonDeleteCellStyleItem(index) {\r\n\t\tconst { cellStyles = [] } = this.state;\r\n\t\tconst newCellStyles = cellStyles.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tcellStyles: newCellStyles,\r\n\t\t});\r\n\t}\r\n\tonDeleteOptionItem(index) {\r\n\t\tconst { options = [] } = this.state;\r\n\t\tconst newOptions = options.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\toptions: newOptions,\r\n\t\t});\r\n\t}\r\n\trenderOptionsCard() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { options } = this.state;\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle=\"option设置\"\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={this.onAddOptionItem} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\toptions.map(({ value, text, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`optionitem-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`optionitem-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`optionValue-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"value\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`optionitem-text-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block', marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`optionText-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: text,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"show text\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteOptionItem(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trenderPanelHeader({ btnText, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{btnText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteButton(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\trenderBtnCard() {\r\n\t\tconst { formItemConfig, form } = this.props;\r\n\t\tconst { type } = formItemConfig;\r\n\t\tconst { btnArr, expandFlag = '0' } = this.state;\r\n\t\tif (type === 'Btn') {\r\n\t\t\treturn (\r\n\t\t\t\t<Card\r\n\t\t\t\t\ttitle=\"按钮区域\"\r\n\t\t\t\t\textra={\r\n\t\t\t\t\t\t<Icon type=\"plus-circle\" onClick={this.onAddButton} />\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Collapse>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbtnArr.map((item) => {\r\n\t\t\t\t\t\t\tconst { index, btnText, type, htmlType = 'button',\r\n\t\t\t\t\t\t\t\tonClick, expandCount, btnStyle } = item;\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Panel header={this.renderPanelHeader(item)} key={`btn-${index}`}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`btnText-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"按钮文字\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`btnText-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: btnText,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"btnText\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`type-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"type\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`type-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: type,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"primary\">primary</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"dashed\">dashed</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"danger\">danger</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"\">none</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`htmlType-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"htmlType\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`htmlType-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: htmlType,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"submit\">submit</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"reset\">reset</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"button\">button</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`onClick-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"onClick\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`onClick-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: onClick,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"点击事件名称\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`btnStyle-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"按钮样式\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`btnStyle-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: btnStyle,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`expandFlag-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"折叠\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`expandFlag-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: expandFlag,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tform.getFieldValue(`expandFlag-${index}`) === '1' ?\r\n\t\t\t\t\t\t\t\t\t\t\t(<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`expandCount-${index}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"折叠可见数\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`expandCount-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinitialValue: expandCount,\r\n\t\t\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"expandCount\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderDefaultValueItem() {\r\n\t\tconst { formItemConfig, form } = this.props;\r\n\t\tconst { type, defaultValue } = formItemConfig;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tconst { options } = this.state;\r\n\t\tif (type === 'Select') {\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"defaultValue\">\r\n\t\t\t\t\t{getFieldDecorator('defaultValue', {\r\n\t\t\t\t\t\tinitialValue: defaultValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toptions.map((item) => {\r\n\t\t\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\t\t\tconst optionValue = form.getFieldValue(`optionValue-${index}`);\r\n\t\t\t\t\t\t\t\tconst optionText = form.getFieldValue(`optionText-${index}`);\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Option value={optionValue} key={`op-${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t{`${optionValue}/${optionText}`}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t);\r\n\t\t} else if (type === 'DatePicker') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"defaultValue\">\r\n\t\t\t\t{getFieldDecorator('defaultValue', {\r\n\t\t\t\t\tinitialValue: defaultValue,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<DatePicker style={{ width: '100%' }} />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'Input') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"defaultValue\">\r\n\t\t\t\t\t{getFieldDecorator('defaultValue', {\r\n\t\t\t\t\t\tinitialValue: defaultValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\trenderLinkage(formItemConfig, formItemArr) {\r\n\t\tconst { condition, linkName } = formItemConfig;\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"关联组件name\">\r\n\t\t\t\t\t{getFieldDecorator('linkName', {\r\n\t\t\t\t\t\tinitialValue: linkName,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tformItemArr.map(({ name, colIndex, label }) => {\r\n\t\t\t\t\t\t\t\t\tif (name && colIndex !== formItemConfig.colIndex) {\r\n\t\t\t\t\t\t\t\t\t\treturn (<Option value={`${name}`}>{`${name}/${label}`}</Option>);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"condition\">\r\n\t\t\t\t\t{getFieldDecorator('condition', {\r\n\t\t\t\t\t\tinitialValue: condition,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trenderContent() {\r\n\t\tconst { deleteComponent } = this.state;\r\n\t\tconst { form, dropComponent = false, formItemConfig, formItemArr } = this.props;\r\n\t\tconst { label, name, placeholder, type, linkage } = formItemConfig;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tif (dropComponent && !deleteComponent) {\r\n\t\t\tif (type === 'Btn') {\r\n\t\t\t\treturn this.renderBtnCard();\r\n\t\t\t}\r\n\t\t\treturn (<Fragment>\r\n\t\t\t\t<Divider>组件</ Divider>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"label\">\r\n\t\t\t\t\t{getFieldDecorator('label', {\r\n\t\t\t\t\t\tinitialValue: label,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"name\">\r\n\t\t\t\t\t{getFieldDecorator('name', {\r\n\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{this.renderDefaultValueItem()}\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"placeholder\">\r\n\t\t\t\t\t{getFieldDecorator('placeholder', {\r\n\t\t\t\t\t\tinitialValue: placeholder,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"联动关联\">\r\n\t\t\t\t\t{getFieldDecorator('hasLinkage', {\r\n\t\t\t\t\t\tinitialValue: linkage,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{\r\n\t\t\t\t\tform.getFieldValue('hasLinkage') === '1' ?\r\n\t\t\t\t\t\tthis.renderLinkage(formItemConfig, formItemArr) : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Select' ? \r\n\t\t\t\t\t\tthis.renderOptionsCard() : null\r\n\t\t\t\t}\r\n\t\t\t\t<Form.Item style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderCellStylesSetting() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { cellStyles } = this.state;\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle=\"style设置\"\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={this.onAddCellStyleItem} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tcellStyles.map(({ name, value, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`cell-styleitem-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`cell-styleitem-name-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`styleName-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"style name\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`cell-styleitem-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block', marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`styleValue-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"style value\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteCellStyleItem(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { visible, onClose, form, onDeleteFormItemContainer,\r\n\t\t\tformItemConfig, colSpanArr } = this.props;\r\n\t\tlet initialColSpan = 1;\r\n\t\tlet tempColSpan = formItemConfig.colSpan;\r\n\t\tfor (let i = 0; i < colSpanArr.length; i++) {\r\n\t\t\ttempColSpan -= colSpanArr[i].colSpan;\r\n\t\t\tif (tempColSpan > 0) {\r\n\t\t\t\tinitialColSpan++;\r\n\t\t\t} else {\r\n\t\t\t\ti = colSpanArr.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst initialCellStyles = objToStr(formItemConfig.cellStyles);\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\ttitle=\"编辑表单项\"\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdeleteComponent: false,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.initOptions = false;\r\n\t\t\t\t\tthis.initBtn = false;\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.onSubmit}>\r\n\t\t\t\t<Divider>单元格</ Divider>\r\n\t\t\t\t\t{/* {this.renderCellStylesSetting()} */}\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t\tlabel=\"style设置\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"cellStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialCellStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item key=\"cell-colSpan\" label=\"跨列设置\" style={{ padding: '0 24px' }}>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"originSpan\", {\r\n\t\t\t\t\t\t\tinitialValue: initialColSpan,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcolSpanArr.map((c, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`${c}-${i}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={i+1}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{`${i+1}列`}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"btn-box\">\r\n\t\t\t\t\t\t<Button onClick={onDeleteFormItemContainer}>\r\n\t\t\t\t\t\t\t删除单元格\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n                    {\r\n                        this.renderContent()\r\n                    }\r\n\t\t\t        <div className=\"btn-bottom-box\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t        </div>\r\n\t\t    \t</Form>\r\n\t    \t</Drawer>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Form.create()(FormItemEdit);","import React, { PureComponent } from 'react';\r\nimport { Icon } from 'antd';\r\nimport Editable from '../../Core/Editable';\r\nimport FormItemEdit from '../../EditDrawer/FormItemEdit';\r\nimport { activeColor } from '../../common/Constants';\r\nimport './index.css';\r\n\r\nconst clsName = 'form-drop-container';\r\n\r\nclass FormItemContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dropComponent: false, // 是否放入了组件\r\n            formItemConfig: {\r\n                colSpan: props.colSpan,\r\n                colIndex: props.colIndex,\r\n                originSpan: props.originSpan,\r\n                cellStyles: props.cellStyles || {},\r\n            }, // 组件配置信息\r\n            visible: false,\r\n        };\r\n        this.onUpdateConfig = this.onUpdateConfig.bind(this);\r\n        this.onShowEditItem = this.onShowEditItem.bind(this);\r\n        this.onEditDropContainer = this.onEditDropContainer.bind(this);\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.onDeleteCol = this.onDeleteCol.bind(this);\r\n        this.onClose = this.onClose.bind(this);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.colSpan !== this.props.colSpan || nextProps.colIndex !== this.props.colIndex) {\r\n            const newformItemConfig = Object.assign({},\r\n                this.state.formItemConfig, {\r\n                    colSpan: nextProps.colSpan,\r\n                    colIndex: nextProps.colIndex,\r\n                    originSpan: nextProps.originSpan,\r\n                    cellStyles: nextProps.cellStyles,\r\n                });\r\n            this.setState({\r\n                formItemConfig: newformItemConfig,\r\n            });\r\n        }\r\n    }\r\n    onShowEditItem() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        if (event.target.className === clsName) {\r\n            const data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            const { type } = data;\r\n            const { colIndex, onUpdateConfigs } = this.props;\r\n            const formItemConfig = {\r\n                type,\r\n                colSpan: this.props.colSpan,\r\n                originSpan: this.props.originSpan,\r\n                cellStyles: this.props.cellStyles,\r\n                label: 'label',\r\n                name: `name-${colIndex}`,\r\n                colIndex,\r\n            };\r\n            if (type === 'Button') {\r\n                delete formItemConfig.label;\r\n                delete formItemConfig.name;\r\n                formItemConfig.type = 'Btn';\r\n                formItemConfig.btnArr = [{\r\n                    btnText: 'button',\r\n                    type: 'primary',\r\n                    index: 0,\r\n                }];\r\n            }\r\n            this.setState({\r\n                formItemConfig,\r\n                dropComponent: true,\r\n            }, () => {\r\n                onUpdateConfigs(formItemConfig);\r\n            });\r\n            this.resetBg();\r\n        }\r\n    }\r\n    /**\r\n     * @desc  删除单元格\r\n     * @param {object} e \r\n     */\r\n    onDeleteCol(e) {\r\n        e && e.stopPropagation();\r\n        const { onUpdateConfigs, colIndex } = this.props;\r\n        const { formItemConfig } = this.state;\r\n        this.setState({\r\n            formItemConfig: {\r\n                colSpan: formItemConfig.colSpan,\r\n                originSpan: formItemConfig.originSpan,\r\n                colIndex,\r\n            },\r\n            dropComponent: false,\r\n        });\r\n        onUpdateConfigs({ colIndex, deleteFlag: true });\r\n    }\r\n    resetBg() {\r\n        const dropDomArr = document.querySelectorAll(`.${clsName}`);\r\n        if (dropDomArr) {\r\n            dropDomArr.forEach((item) => {\r\n                item.style.background = '';\r\n            });\r\n        }\r\n    }\r\n    onDragenter(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = activeColor;\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.targetDom) {\r\n            this.targetDom.removeEventListener('drop', this.onDrop);\r\n            this.targetDom.removeEventListener(\"dragenter\", this.onDragenter);\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (!this.targetDom) {\r\n            return;\r\n        }\r\n        this.targetDom.addEventListener(\"drop\", this.onDrop, false);\r\n        this.targetDom.addEventListener(\"dragenter\", this.onDragenter, false);\r\n    }\r\n    onUpdateConfig(config) {\r\n        const { formItemConfig } = this.state;\r\n        let newformItemConfig = null;\r\n        // 删除单元格内的组件\r\n        if (config.deleteFlag) {\r\n            newformItemConfig = {\r\n                colIndex: config.colIndex,\r\n                colSpan: config.colSpan,\r\n                originSpan: config.originSpan,\r\n                cellStyles: config.cellStyles,\r\n            }\r\n        } else {\r\n            newformItemConfig = Object.assign({}, formItemConfig, config);\r\n        }\r\n        this.setState({\r\n            formItemConfig: newformItemConfig,\r\n            dropComponent: !config.deleteFlag,\r\n        }, () => {\r\n            const { onUpdateConfigs } = this.props;\r\n            onUpdateConfigs(newformItemConfig);\r\n            this.onClose();\r\n        });\r\n    }\r\n    onEditDropContainer(e) {\r\n        if (e.target.className === clsName) {\r\n            e && e.stopPropagation();\r\n            this.setState({\r\n                visible: true,\r\n            });\r\n        }\r\n    }\r\n    onClose() {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    getContainerWidth(colSpan = 8) {\r\n        return `${100 * colSpan / 24 }%`;\r\n    }\r\n    render() {\r\n        const { dropComponent, formItemConfig = {}, visible } = this.state;\r\n        const { layoutColumn, onDeleteFormItemContainer, colIndex, configs } = this.props;\r\n        const colIndexNum = + colIndex;\r\n        const _colSpan = Object.hasOwnProperty.call(formItemConfig, 'colSpan') ? \r\n            formItemConfig.colSpan : (24 / layoutColumn);\r\n        return (\r\n            <div\r\n                className={clsName}\r\n                style={{\r\n                    width: this.getContainerWidth(_colSpan, layoutColumn),\r\n                }}\r\n                ref={(targetDom) => { this.targetDom = targetDom; }}\r\n            >\r\n                {\r\n                  dropComponent ? (\r\n                        <Editable\r\n                            {...this.props}\r\n                            formItemConfig={formItemConfig}\r\n                        />\r\n                    ) : null\r\n                }\r\n                <Icon\r\n                    type=\"bars\"\r\n                    className=\"icon-operation\"\r\n                    onClick={this.onShowEditItem}\r\n                />\r\n                <FormItemEdit\r\n                    visible={visible}\r\n                    onDelete={this.onDeleteCol}\r\n                    onUpdateConfigs={this.onUpdateConfig}\r\n                    colSpanArr={configs.colSpanArr}\r\n                    formItemArr={configs.formItemArr}\r\n                    formItemConfig={formItemConfig}\r\n                    dropComponent={dropComponent}\r\n                    layoutColumn={layoutColumn}\r\n                    onDeleteFormItemContainer={() => {\r\n                        this.setState({\r\n                            visible: false,\r\n                        }, () => {\r\n                            onDeleteFormItemContainer(colIndexNum);\r\n                        });\r\n                    }}\r\n                    onClose={this.onClose}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FormItemContainer;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Form, Row, Button, message, Icon } from 'antd';\r\nimport FormEdit from '../../EditDrawer/FormEdit';\r\nimport getCellColSpan from '../../common/CellUtil';\r\nimport FormItemContainer from '../FormItemContainer';\r\nimport './index.css';\r\n\r\nclass FormContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            configs: {\r\n                layoutColumn: 1, // 容器列数\r\n                formItemArr: [],\r\n            },\r\n        };\r\n        this.onShowEditForm = this.onShowEditForm.bind(this);\r\n        this.onCloseEditForm = this.onCloseEditForm.bind(this);\r\n        this.renderFormItemContainer = this.renderFormItemContainer.bind(this);\r\n        this.onAddRow = this.onAddRow.bind(this);\r\n        this.onAddRowCell = this.onAddRowCell.bind(this);\r\n        this.onDeleteRow = this.onDeleteRow.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onDeleteFormItemContainer = this.onDeleteFormItemContainer.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.colIndexStart = 0;\r\n    }\r\n    onShowEditForm() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onCloseEditForm(configs) {\r\n        const newState = {\r\n            visible: false,\r\n        };\r\n        const { layoutColumn, colSpanArr } = configs;\r\n        const layoutColumnNum = +layoutColumn;\r\n        if (layoutColumnNum) {\r\n            const formItemArr = this.state.configs.formItemArr.slice();\r\n            // 新增单元格\r\n            if (formItemArr.length === 0) {\r\n                for(let i = 0; i < layoutColumnNum; i++) {\r\n                    formItemArr.push({\r\n                        colIndex: this.colIndexStart + i,\r\n                        colSpan: colSpanArr[i],\r\n                        originSpan: 1,\r\n                    });\r\n                }\r\n            } else {\r\n                formItemArr.forEach((item) => {\r\n                    item.colSpan = getCellColSpan(item.colIndex, item.originSpan, formItemArr, colSpanArr);\r\n                });\r\n            }\r\n            this.colIndexStart += layoutColumnNum;\r\n            configs.layoutColumn = layoutColumnNum;\r\n            configs.formItemArr = formItemArr;\r\n            newState.configs = configs;\r\n        }\r\n        this.setState({\r\n            ...newState\r\n        });\r\n    }\r\n    onAddRowCell() {\r\n        const { configs } = this.state;\r\n        const { colSpanArr } = configs;\r\n        const formItemArr = configs.formItemArr.slice();\r\n        if (formItemArr.length === 0) {\r\n            message.warn('请设置容器列数');\r\n            return;\r\n        }\r\n        const rowSpanCount = formItemArr.reduce((total, item, i) => {\r\n            total += item.colSpan;\r\n            if (i === formItemArr.length -1) {\r\n                total %= 24;\r\n            }\r\n            return total;\r\n        }, 0);\r\n        let colSpanIndex = 0;\r\n        let total = 0;\r\n        for (let i = 0; i < colSpanArr.length; i++) {\r\n            total = total + (+colSpanArr[i]);\r\n            if (total > rowSpanCount) {\r\n                colSpanIndex = i;\r\n                i = colSpanArr.length;\r\n            }\r\n        }\r\n        formItemArr.push({ \r\n            colIndex: this.colIndexStart,\r\n            originSpan: 1,\r\n            colSpan: colSpanArr[colSpanIndex],\r\n        });\r\n        this.colIndexStart += 1;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.formItemArr = formItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    onAddRow() {\r\n        const { configs } = this.state;\r\n        const formItemArr = configs.formItemArr.slice();\r\n        if (formItemArr.length === 0) {\r\n            message.warn('请设置容器列数');\r\n            return;\r\n        }\r\n        const { layoutColumn } = configs;\r\n        for(let i = 0; i < layoutColumn; i++) {\r\n            formItemArr.push({ colIndex: this.colIndexStart + i });\r\n        }\r\n        this.colIndexStart += layoutColumn;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.formItemArr = formItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    onDeleteRow() {\r\n        const { configs } = this.state;\r\n        const { layoutColumn, formItemArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.slice();\r\n        if (newFormItemArr.length <= layoutColumn) {\r\n            message.warn('不能再删除了');\r\n            return;\r\n        }\r\n        newFormItemArr.length = Math.max(0, newFormItemArr.length- layoutColumn);\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n            onUpdateLayoutConfig({ layoutIndex, newConfigs });\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n    }\r\n    onDeleteFormItemContainer(colIndex) {\r\n        const { configs } = this.state;\r\n        const { formItemArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.filter((item) => {\r\n            return item.colIndex !== colIndex;\r\n        });\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const { formItemArr, colSpanArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        const newFormItemArr = formItemArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.colIndex !== item.colIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        colIndex: values.colIndex,\r\n                        colSpan: values.colSpan,\r\n                        originSpan: values.originSpan,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.colIndex === item.colIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newFormItemArr.forEach((item) => {\r\n            // 更新跨列\r\n            if (item.colIndex > values.colIndex) {\r\n                item.colSpan = getCellColSpan(item.colIndex, item.originSpan,\r\n                    newFormItemArr, colSpanArr);\r\n            }\r\n        });\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    renderFormItemContainer() {\r\n        const { configs } = this.state;\r\n        const { formItemArr, layoutColumn } = configs;\r\n        return formItemArr.map(({ colIndex, colSpan, originSpan, cellStyles }) => {\r\n            return (\r\n                <FormItemContainer\r\n                    key={`ed-${colIndex}`}\r\n                    colIndex={colIndex}\r\n                    {...this.props}\r\n                    colSpan={colSpan}\r\n                    originSpan={originSpan}\r\n                    layoutColumn={layoutColumn}\r\n                    cellStyles={cellStyles}\r\n                    onDeleteFormItemContainer={this.onDeleteFormItemContainer}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                />\r\n            );\r\n        });\r\n    }\r\n    render() {\r\n        const { visible, configs } = this.state;\r\n        const { layoutIndex, onUpdateLayoutConfig } = this.props;\r\n        const { layoutColumn, formItemArr } = configs;\r\n        return (\r\n            <Fragment>\r\n                <div className=\"form-container container\">\r\n                    <div className=\"inner-box\">\r\n                        {\r\n                            <Form>\r\n                                <Row\r\n                                    gutter={{ md: 24 / layoutColumn, lg: 24, xl: 48 }}\r\n                                >\r\n                                    {this.renderFormItemContainer()}\r\n                                </Row>\r\n                            </Form>\r\n                        }\r\n                        {\r\n                            formItemArr.length > 0 ? (\r\n                                <div style={{\r\n                                    textAlign: 'center',\r\n                                    marginTop: '10px',\r\n                                    }}\r\n                                >\r\n                                    <Button\r\n                                        onClick={this.onAddRowCell}\r\n                                    >\r\n                                        新增单元格\r\n                                    </Button>\r\n                                </div>\r\n                                ) : null\r\n                        }\r\n                    </div>\r\n                    <Icon type=\"form\" className=\"icon-operation\" onClick={this.onShowEditForm} />\r\n                    {/* <Icon type=\"close-circle\" className=\"icon-operation\" onClick={this.onDeleteContainer} /> */}\r\n                </div>\r\n                <FormEdit\r\n                    visible={visible}\r\n                    onClose={(configs) => {\r\n                        const { layoutColumn } = configs;\r\n                        this.onCloseEditForm(configs);\r\n                        if (layoutColumn) {\r\n                            const layoutConfig = {\r\n                                layoutIndex,\r\n                                configs,\r\n                            };\r\n                            onUpdateLayoutConfig(layoutConfig);\r\n                        }\r\n                    }}\r\n                />\r\n            </Fragment>  \r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(FormContainer);","import React, { PureComponent, Fragment } from 'react';\r\nimport { Button, Card, Drawer, Divider, Collapse, Form, Input, Icon, Select } from 'antd';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\nconst Option = Select.Option;\r\n\r\nconst formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n};\r\n\r\nconst DIR = {\r\n    '0': false,\r\n    '1': true,\r\n};\r\n\r\nclass TableEdit extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            configs: props.configs,\r\n        };\r\n        this.setColumnMaxIndex(props);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAddOperation = this.onAddOperation.bind(this);\r\n        this.onDeleteOperation = this.onDeleteOperation.bind(this);\r\n        this.onAddColumn = this.onAddColumn.bind(this);\r\n        this.onDeleteColumn = this.onDeleteColumn.bind(this);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.visible !== this.props.visible && nextProps.visible) {\r\n            this.setState({\r\n                configs: nextProps.configs,\r\n            });\r\n            this.setColumnMaxIndex(nextProps);\r\n            this.setOperationMaxIndex(nextProps);\r\n        }\r\n    }\r\n    setColumnMaxIndex({ configs }) {\r\n        const { columns = [] } = configs;\r\n        this.columnMaxIndex = columns.length || 0;\r\n    }\r\n    setOperationMaxIndex({ configs }) {\r\n        const { operationArr = [] } = configs;\r\n        this.operationMaxIndex = operationArr.length || 0;\r\n    }\r\n    addColumnMaxIndex() {\r\n        this.columnMaxIndex += 1;\r\n    }\r\n    addOperationMaxIndex() {\r\n        this.operationMaxIndex += 1;\r\n    }\r\n    onAddOperation() {\r\n        const { configs } = this.state;\r\n        const { operationArr = [] } = configs;\r\n        const newOperationArr = operationArr.slice();\r\n        const opreationIndex = this.operationMaxIndex;\r\n        newOperationArr.push({\r\n            opText: \"操作\",\r\n            index: opreationIndex,\r\n        });\r\n        this.setState({\r\n            configs: this.getNewConfigs('operationArr', newOperationArr),\r\n        });\r\n        this.addOperationMaxIndex();\r\n    }\r\n    onAddColumn() {\r\n        const { configs } = this.state;\r\n        const { columns } = configs;\r\n        const newColumns = columns.slice();\r\n        const columnIndex = this.columnMaxIndex;\r\n        newColumns.push({\r\n            title: `column${columnIndex}`,\r\n            dataIndex: `dataIndex${columnIndex}`,\r\n            index: columnIndex,\r\n        });\r\n        this.setState({\r\n            configs: this.getNewConfigs('columns', newColumns),\r\n        });\r\n        this.addColumnMaxIndex();\r\n    }\r\n    onDeleteOperation(index) {\r\n        const { configs } = this.state;\r\n        const { operationArr } = configs;\r\n        const newOperationArr = operationArr.reduce((arr, item) => {\r\n            if (item.index !== index) {\r\n                arr.push(Object.assign({}, item));\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.operationArr = newOperationArr;\r\n        this.setState({\r\n            configs: this.getNewConfigs('operationArr', newOperationArr),\r\n        });\r\n    }\r\n    onDeleteColumn(columnIndex) {\r\n        const { configs } = this.state;\r\n        const { columns } = configs;\r\n        const newColumns = columns.reduce((arr, item) => {\r\n            if (item.index !== columnIndex) {\r\n                arr.push(Object.assign({}, item));\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.columns = newColumns;\r\n        this.setState({\r\n            configs: this.getNewConfigs('columns', newColumns),\r\n        });\r\n    }\r\n    getNewConfigs(k, v) {\r\n        const { configs } = this.state;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs[k] = v;\r\n        return newConfigs;\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const newConfigs = {};\r\n                const { configs } = this.state;\r\n                // 有操作列\r\n                if (values.hasOperation === '1') {\r\n                    const { operationArr } = configs;\r\n                    const newOperationArr = [];\r\n                    for (let i = 0; i< operationArr.length; i++) {\r\n                        const { index } = operationArr[i];\r\n                        const opText = values[`opText-${index}`];\r\n                        const opType = values[`opType-${index}`];\r\n                        newOperationArr.push({\r\n                            opText,\r\n                            opType,\r\n                            index: i,\r\n                        });\r\n                        delete values[opText];\r\n                        delete values[opType];\r\n                    }\r\n                    newConfigs.operationArr = newOperationArr;\r\n                }\r\n                const newColumns = configs.columns.slice();\r\n                Object.keys(values).forEach((k) => {\r\n                    const val = values[k];\r\n                    // 列数据\r\n                    if (k.indexOf('-') > 0) {\r\n                        const [ columnName, columnIndex ] = k.split('-');\r\n                        const columnTarget = newColumns.find((item) => {\r\n                            return item.index === +columnIndex;\r\n                        });\r\n                        if (columnTarget) {\r\n                            columnTarget[columnName] = val;\r\n                            if (columnName === 'width' && !val) {\r\n                                delete columnTarget.width;\r\n                            }\r\n                            if (columnName === 'fixed') {\r\n                                columnTarget[columnName] = DIR[val];\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (k === 'pagination') {\r\n                            if (val === '1') {\r\n                                newConfigs.pagination = {\r\n                                    pageSize: values.pageSize,\r\n                                    pageSizeOptions: values.pageSizeOptions.split(','),\r\n                                };\r\n                            } else {\r\n                                newConfigs[k] = DIR[val];\r\n                            }\r\n                        } else if (k === 'rowSelection') {\r\n                            if (val === '1') {\r\n                                newConfigs.rowSelection = {\r\n                                    type: values.type,\r\n                                };\r\n                                if (values.type === 'radio') {\r\n                                    newConfigs.rowSelection.columnTitle = values.columnTitle;\r\n                                }\r\n                            } else {\r\n                                newConfigs[k] = null;\r\n                            }\r\n                        } else {\r\n                            newConfigs[k] = val;\r\n                        }\r\n                    }\r\n                });\r\n                delete newConfigs.pageSize;\r\n                delete newConfigs.pageSizeOptions;\r\n                delete newConfigs.type;\r\n                delete newConfigs.columnTitle;\r\n\r\n                newConfigs.columns = newColumns;\r\n                this.props.onUpdateConfigs(newConfigs);\r\n            }\r\n          });\r\n    }\r\n    renderPanelHeader({ title, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{title}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteColumn(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderOperationHeader({ opText, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{opText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteOperation(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderCollapse() {\r\n        const { form } = this.props;\r\n        const { configs } = this.state;\r\n        const { columns = [] } = configs;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Collapse>\r\n                {\r\n                    columns.map((item, i) => {\r\n                        const { title, index, dataIndex, width, align = 'left', fixed = false } = item;\r\n                        return (\r\n                            <Panel header={this.renderPanelHeader(item)} key={`${title}-${index}`}>\r\n                                <Form.Item label=\"title\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`title-${index}`, { \r\n                                        rules: [{ required: true, message: '请输入title!' }],\r\n                                        initialValue: title,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"dataIndex\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`dataIndex-${index}`, { \r\n                                        rules: [{ required: true, message: 'dataIndex!' }],\r\n                                        initialValue: dataIndex,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"width\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`width-${index}`, {\r\n                                        initialValue: width || '',\r\n                                    }, {\r\n                                        rules: [{ pattern: /^\\d+(%)?$/, message: '请输入数字或者百分比!' }]\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"align\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`align-${index}`, { \r\n                                        initialValue: align,\r\n                                    })(\r\n                                        <Select>\r\n                                            <Option value={'left'}>left</Option>\r\n                                            <Option value={'right'}>right</Option>\r\n                                            <Option value={'center'}>center</Option>\r\n                                        </Select>\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"fixed\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`fixed-${index}`, { \r\n                                        initialValue: fixed ? \"1\" : \"0\",\r\n                                    })(\r\n                                        <Select>\r\n                                            <Option value=\"0\">false</Option>\r\n                                            <Option value=\"1\">true</Option>\r\n                                        </Select>\r\n                                    )}\r\n                                </Form.Item>\r\n                            </Panel>\r\n                        );\r\n                    })\r\n                }\r\n            </Collapse>\r\n        );\r\n    }\r\n    renderTableProps() {\r\n        const { form } = this.props;\r\n        const { configs } = this.state;\r\n        const { operationArr = [] } = configs;\r\n        const { getFieldDecorator } = form;\r\n        const { pagination, rowSelection, hasOperation = '0' } = configs;\r\n        const { pageSize = 10, pageSizeOptions = '10,20,30' } = pagination || {};\r\n        const { type = 'checkbox', columnTitle = '选择' } = rowSelection || {};\r\n        const hasPagination = Object.keys(pagination || {}).length > 0 ? \"1\" : \"0\";\r\n        const hasRowSelection = Object.keys(rowSelection || {}).length > 0 ? \"1\" : \"0\";\r\n        return (\r\n            <Fragment>\r\n                <Form.Item label=\"操作列\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"hasOperation\", { \r\n                        initialValue: hasOperation,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">无</Option>\r\n                            <Option value=\"1\">有</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('hasOperation') === '1' ?\r\n                        [\r\n                            <Collapse key=\"op-collapse\">\r\n                                {\r\n                                    operationArr.map((item) => {\r\n                                        const { index, opText, opType } = item;\r\n                                        return (\r\n                                            <Panel header={this.renderOperationHeader(item)} key={`op-${index}`}>\r\n                                                <Form.Item label=\"文字\" {...formItemLayout}>\r\n                                                    {getFieldDecorator(`opText-${index}`, { \r\n                                                        initialValue: opText,\r\n                                                    })(\r\n                                                        <Input />\r\n                                                    )}\r\n                                                </Form.Item>\r\n                                                <Form.Item label=\"类型\" {...formItemLayout}>\r\n                                                    {getFieldDecorator(`opType-${index}`, { \r\n                                                        initialValue: opType,\r\n                                                    })(\r\n                                                        <Select>\r\n                                                            <Option value=\"edit\">编辑</Option>\r\n                                                            <Option value=\"view\">查看</Option>\r\n                                                            <Option value=\"delete\">删除</Option>\r\n                                                            <Option value=\"other\">其他</Option>\r\n                                                        </Select>\r\n                                                    )}\r\n                                                </Form.Item>\r\n                                            </Panel>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </Collapse>,\r\n                            <Fragment key=\"op-collapse-btns\">\r\n                                {\r\n                                    form.getFieldValue('hasOperation') === '1' ?\r\n                                        (<div className=\"btn-add-box\">\r\n                                            <Button\r\n                                                type=\"dashed\"\r\n                                                size=\"large\"\r\n                                                onClick={this.onAddOperation}\r\n                                            >\r\n                                                添加操作项\r\n                                            </Button>\r\n                                        </div>) : null\r\n                                }\r\n                            </Fragment>\r\n                        ] : null\r\n                }\r\n                <Form.Item label=\"pagination\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"pagination\", { \r\n                        initialValue: hasPagination,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">false</Option>\r\n                            <Option value=\"1\">true</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('pagination') === '1' ?\r\n                    <Card title=\"pagination配置\">\r\n                        <Form.Item label=\"pageSize\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"pageSize\", { \r\n                                initialValue: pageSize,\r\n                            })(\r\n                                <Input />\r\n                            )}\r\n                        </Form.Item>\r\n                        <Form.Item label=\"pageSizeOptions\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"pageSizeOptions\", { \r\n                                initialValue: Array.isArray(pageSizeOptions)\r\n                                    ? pageSizeOptions.join(',') : pageSizeOptions,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"10,20,30\">10,20,30</Option>\r\n                                    <Option value=\"10,20,30,40\">10,20,30,40</Option>\r\n                                    <Option value=\"20,30,40\">20,30,40</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                    </Card> : null\r\n                }\r\n                <Form.Item label=\"rowSelection\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"rowSelection\", { \r\n                        initialValue: hasRowSelection,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">false</Option>\r\n                            <Option value=\"1\">true</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('rowSelection') === '1' ?\r\n                    <Card title=\"rowSelection配置\">\r\n                        <Form.Item label=\"type\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"type\", { \r\n                                initialValue: type,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"checkbox\">checkbox</Option>\r\n                                    <Option value=\"radio\">radio</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                        {\r\n                            form.getFieldValue('type') === 'radio' ?\r\n                                <Form.Item label=\"columnTitle\" {...formItemLayout}>\r\n                                    {getFieldDecorator(\"columnTitle\", { \r\n                                        initialValue: columnTitle,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item> : null\r\n                        }\r\n                    </Card> : null\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, onClose } = this.props;\r\n        return (\r\n            <Drawer\r\n                title=\"表格编辑\"\r\n                width={420}\r\n                onClose={onClose}\r\n                visible={visible}\r\n            >\r\n                <Form onSubmit={this.onSubmit}>\r\n                    <Divider>表头</Divider>\r\n                    {this.renderCollapse()}\r\n                    <div className=\"btn-add-box\">\r\n                        <Button\r\n                            type=\"dashed\"\r\n                            size=\"large\"\r\n                            onClick={this.onAddColumn}\r\n                        >\r\n                            添加表头列\r\n                        </Button>\r\n                    </div>\r\n                    <Divider>表格属性</Divider>\r\n                    {this.renderTableProps()}\r\n                    <Form.Item style={{ marginTop: '20px', textAlign: 'center' }}>\r\n                        <Button type=\"primary\" htmlType=\"submit\">确定</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(TableEdit);","import React, { PureComponent, Fragment } from 'react';\r\nimport { Divider,Dropdown, Icon, Table } from 'antd';\r\nimport { TRUE } from '../../common/Constants';\r\nimport TableEdit from '../../EditDrawer/TableEdit';\r\n\r\nimport './index.css';\r\n\r\nclass TableContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n        };\r\n        this.onShowEditTable = this.onShowEditTable.bind(this);\r\n        this.onClose = this.onClose.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n    }\r\n    onShowEditTable() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onClose(e) {\r\n        e.stopPropagation();\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onUpdateConfigs(configs) {\r\n        const { layoutIndex, onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({layoutIndex, configs});\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { layoutIndex, onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n    }\r\n    renderMoreOpList(opList) {\r\n        return (\r\n            <span style={{ background: '#fff', display: 'block' }}>\r\n                {\r\n                    opList.map(({opText, index}) => {\r\n                    return (\r\n                        <a href=\"&nbsp;\" key={`op-${index}`} style={{ display: 'block' }}>\r\n                            {opText}\r\n                        </a>\r\n                    );\r\n                    })\r\n                }\r\n            </span>\r\n        );\r\n    }\r\n    renderMultOperation(operationArr) {\r\n        const [ firstItem, ...restItemArr ] = operationArr;\r\n        return (\r\n            <Fragment>\r\n                <a href=\"&nbsp;\">\r\n                    {firstItem.opText}\r\n                </a>\r\n                <Divider type=\"vertical\" />\r\n                <Dropdown overlay={this.renderMoreOpList(restItemArr)}>\r\n                    <a className=\"ant-dropdown-link\" href=\"&nbsp;\">\r\n                        更多<Icon type=\"down\" />\r\n                    </a>\r\n                </Dropdown>\r\n            </Fragment>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { configs = {} } = this.props;\r\n        const { hasOperation, pagination = false, rowSelection = null,\r\n            operationArr = [], columns } = configs;\r\n        const copyColumns = columns.slice();\r\n        if (hasOperation === TRUE) {\r\n            copyColumns.push({\r\n                title: '操作',\r\n                render: () => {\r\n                    if (!Array.isArray(operationArr)) {\r\n                        return null;\r\n                    }\r\n                    if (operationArr.length > 2) {\r\n                        return (\r\n                            <span>\r\n                                {\r\n                                    this.renderMultOperation(operationArr)\r\n                                }\r\n                            </span>\r\n                        );\r\n                    } else {\r\n                        return (\r\n                            <span>\r\n                                {\r\n                                    operationArr.map(({ opText, index }, i) => {\r\n                                        return (\r\n                                            <Fragment key={`fr-${index}`}>\r\n                                                <a href=\"&nbsp;\" key={`op-${index}`}>{opText}</a>,\r\n                                                {\r\n                                                    i !== operationArr.length -1\r\n                                                        ? <Divider type=\"vertical\" /> : null\r\n                                                }\r\n                                            </Fragment>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </span>\r\n                        );\r\n                    }\r\n                },\r\n            });\r\n        }\r\n        return (\r\n            <div\r\n                className=\"table-container container\"\r\n            >\r\n                <Table\r\n                    columns={copyColumns}\r\n                    bordered\r\n                    dataSource={[]}\r\n                    pagination={pagination}\r\n                    rowSelection={rowSelection}\r\n                    onClick={this.onShowEditTable}\r\n                />\r\n                <TableEdit\r\n                    visible={visible}\r\n                    configs={configs}\r\n                    onClose={this.onClose}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                />\r\n                <Icon type=\"form\" className=\"icon-operation\" onClick={this.onShowEditTable} />\r\n                {/* <Icon type=\"close-circle\" className=\"icon-operation\" onClick={this.onDeleteContainer} /> */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TableContainer;","import React, { Fragment } from 'react';\r\nimport { Button, Input, Select, DatePicker, Breadcrumb } from 'antd';\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst renderComponent = (dropConfig) => {\r\n    const { placeholder, type = 'Input' } = dropConfig;\r\n    let component = null;\r\n    switch(type) {\r\n        case 'Text':\r\n            component = renderText(dropConfig);\r\n            break;\r\n        case 'Breadcrumb':\r\n            component = renderBreadcrumb(dropConfig);\r\n            break;\r\n        case 'Select':\r\n            component = renderSelect(dropConfig);\r\n            break;\r\n        case 'RangePicker':\r\n            component = renderRangePicker(dropConfig);\r\n            break;\r\n        case 'DatePicker':\r\n            component = renderDatePicker(dropConfig);\r\n            break;\r\n        case 'Btn':\r\n            component = renderBtn(dropConfig);\r\n            break;\r\n        default:\r\n            component = (<Input placeholder={placeholder} />);\r\n            break;\r\n    }\r\n    return component;\r\n};\r\nconst renderBreadcrumb = (config) => {\r\n    const { breadcrumb = [], style } = config;\r\n    return (\r\n        <Breadcrumb style={style}>\r\n            {\r\n                breadcrumb.map(({ text, linkUrl }, i) => {\r\n                    return (\r\n                        <Breadcrumb.Item key={`breadcrumb-${i}`}>\r\n                            { linkUrl ? \r\n                                <a href={linkUrl}>{text}</a> : <span>{text}</span>\r\n                            }\r\n                        </Breadcrumb.Item>\r\n                    );\r\n                })\r\n            }\r\n        </Breadcrumb>\r\n    )\r\n};\r\nconst renderText = (config) => {\r\n    const { text, style } = config;\r\n    return (\r\n        <span style={style}>{text}</span>\r\n    );\r\n};\r\n\r\nconst renderSelect = (selectConfig) => {\r\n    const { style = {}, options = [] } = selectConfig;\r\n    return (\r\n        <Select style={{ width: '100%', ...style }}>\r\n            {\r\n                Array.isArray(options) ? options.map(({ key, optionValue, optionText }) => {\r\n                    return (\r\n                        <Option\r\n                            key={key || optionValue}\r\n                            value={optionValue}\r\n                        >\r\n                            {optionText}\r\n                        </Option>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Select>\r\n    );\r\n};\r\nconst renderDatePicker = () => {\r\n    return (\r\n        <DatePicker style={{ width: '100%' }} />\r\n    );\r\n};\r\nconst renderRangePicker = () => {\r\n    return (\r\n        <RangePicker style={{ width: '100%' }} />\r\n    );\r\n}\r\n\r\nconst renderBtn = (itemConfig) => {\r\n    const { btnArr } = itemConfig;\r\n    return (\r\n        <Fragment>\r\n            {\r\n                btnArr.map((btn) => {\r\n                    const { btnText = 'button', expandFlag, expandCount,\r\n                        style = {}, index, ...btnProps } = btn;\r\n                    return (\r\n                        <Button\r\n                            key={`btn-${index}`}\r\n                            style={style}\r\n                            {...btnProps}\r\n                        >\r\n                            {btnText}\r\n                        </Button>\r\n                    );\r\n                })\r\n            }\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default renderComponent;","import React, { PureComponent } from 'react';\r\nimport renderComponent from '../../common/RenderUtil';\r\n\r\nclass DropRender extends PureComponent {\r\n\trender() {\r\n\t\tconst { dropConfig = {} } =this.props;\r\n\t\tconst {cellStyles} = dropConfig;\r\n\t\treturn (\r\n\t\t\t<div style={cellStyles}>\r\n                {\r\n                    renderComponent(dropConfig)\r\n                }\r\n\t\t    </div>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default DropRender;","const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n};\r\n\r\nexport default formItemLayout;","import React, { Component, Fragment } from 'react';\r\nimport { Button, Collapse, Card, Drawer, Select, Input,\r\n\tIcon, Form, DatePicker } from 'antd';\r\nimport { strToObj, objToStr } from '../../common/CellUtil';\r\nimport formItemLayout from '../../configs/layout';\r\nimport { TRUE } from '../../common/Constants';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\n\r\nclass DropAreaEdit extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\toptions: [],\r\n\t\t\tbreadcrumb: [],\r\n\t\t};\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.onAddOptionItem = this.onAddOptionItem.bind(this);\r\n\t\tthis.onAddBreadcrumbItem = this.onAddBreadcrumbItem.bind(this);\r\n\t\tthis.onDeleteComponent = this.onDeleteComponent.bind(this);\r\n\t\tthis.onAddButton = this.onAddButton.bind(this);\r\n\t\tthis.onDeleteBreadcrumbItem = this.onDeleteBreadcrumbItem.bind(this);\r\n\t\tthis.onDeleteOptionItem = this.onDeleteOptionItem.bind(this);\r\n\t\tthis.onDeleteButton = this.onDeleteButton.bind(this);\r\n\t}\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tconst { dropConfig } = nextProps;\r\n\t\tconst { type, options, btnArr, breadcrumb } = dropConfig;\r\n\t\tif (type === 'Option' && !this.initOptions) {\r\n\t\t\tthis.setState({\r\n\t\t\t\toptions,\r\n\t\t\t});\r\n\t\t\tthis.optionIndex = options.length;\r\n\t\t\tthis.initOptions = true;\r\n\t\t}\r\n\t\tif (type === 'Btn' && !this.initBtn) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tbtnArr,\r\n\t\t\t});\r\n\t\t\tthis.btnIndex = btnArr.length;\r\n\t\t\tthis.initBtn = true;\r\n\t\t}\r\n\t\tif (type === 'Breadcrumb' && !this.initBreadcrumb) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tbreadcrumb,\r\n\t\t\t});\r\n\t\t\tthis.breadcrumbIndex = breadcrumb.length;\r\n\t\t\tthis.initBreadcrumb = true;\r\n\t\t}\r\n\t}\r\n\thandleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tconst { options, btnArr, breadcrumb } = this.state;\r\n\t\tconst { form, onUpdateConfigs, dropConfig } = this.props;\r\n\t\tform.validateFields((err, values) => {\r\n\t        if (!err) {\r\n\t\t\t\tconst newdropConfig = Object.assign({}, dropConfig, values);\r\n\t\t\t\tnewdropConfig.cellStyles = strToObj(values.cellStyles);\r\n\t\t\t\tif (newdropConfig.type === 'Select') {\r\n\t\t\t\t\tconst newOptions = options.slice();\r\n\t\t\t\t\tnewOptions.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst kText = `optionText-${index}`;\r\n\t\t\t\t\t\tconst kValue = `optionValue-${index}`;\r\n\t\t\t\t\t\titem.optionText = values[kText];\r\n\t\t\t\t\t\titem.optionValue= values[kValue];\r\n\t\t\t\t\t\tdelete newdropConfig[kText];\r\n\t\t\t\t\t\tdelete newdropConfig[kValue];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewdropConfig.options = newOptions;\r\n\t\t\t\t} else if (newdropConfig.type === 'DatePicker') {\r\n\t\t\t\t\tnewdropConfig.defaultValue = values.defaultValue && values.defaultValue.format('YYYY-MM-DD');\r\n\t\t\t\t} else if (newdropConfig.type === 'Btn') {\r\n\t\t\t\t\tconst newBtnArr = btnArr.slice();\r\n\t\t\t\t\tnewBtnArr.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst btnText = `btnText-${index}`;\r\n\t\t\t\t\t\tconst btnType = `type-${index}`;\r\n\t\t\t\t\t\tconst htmlType = `htmlType-${index}`;\r\n\t\t\t\t\t\tconst onClick = `onClick-${index}`;\r\n\t\t\t\t\t\tconst expandFlag = `expandFlag-${index}`;\r\n\t\t\t\t\t\tconst btnStyle = `btnStyle-${index}`;\r\n\t\t\t\t\t\titem.btnText = values[btnText];\r\n\t\t\t\t\t\titem.type= values[btnType];\r\n\t\t\t\t\t\titem.htmlType = values[htmlType];\r\n\t\t\t\t\t\titem.expandFlag = values[expandFlag];\r\n\t\t\t\t\t\titem.style = strToObj(values[btnStyle]);\r\n\t\t\t\t\t\tif (item.htmlType !== 'submit') {\r\n\t\t\t\t\t\t\titem.onClick = values[onClick];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst expandCount = `expandCount-${index}`;\r\n\t\t\t\t\t\tif (expandFlag === TRUE) {\r\n\t\t\t\t\t\t\titem.expandCount = values[expandCount];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdelete newdropConfig[btnStyle];\r\n\t\t\t\t\t\tdelete newdropConfig[expandCount];\r\n\t\t\t\t\t\tdelete newdropConfig[expandFlag];\r\n\t\t\t\t\t\tdelete newdropConfig[onClick];\r\n\t\t\t\t\t\tdelete newdropConfig[htmlType];\r\n\t\t\t\t\t\tdelete newdropConfig[btnText];\r\n\t\t\t\t\t\tdelete newdropConfig[btnType];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewdropConfig.btnArr = newBtnArr;\r\n\t\t\t\t} else if (newdropConfig.type === 'Breadcrumb') {\r\n\t\t\t\t\tconst newBreadcrumb = breadcrumb.slice();\r\n\t\t\t\t\tnewBreadcrumb.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst breadcrumbLinkUrl = `breadcrumbLinkUrl-${index}`;\r\n\t\t\t\t\t\tconst breadcrumbText = `breadcrumbText-${index}`;\r\n\t\t\t\t\t\titem.linkUrl = values[breadcrumbLinkUrl];\r\n\t\t\t\t\t\titem.text= values[breadcrumbText];\r\n\t\t\t\t\t\tdelete newdropConfig[breadcrumbText];\r\n\t\t\t\t\t\tdelete newdropConfig[breadcrumbText];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewdropConfig.breadcrumb = newBreadcrumb;\r\n\t\t\t\t}\r\n\t\t\t\tonUpdateConfigs(newdropConfig);\r\n\t        }\r\n\t    });\r\n\t}\r\n\tonAddOptionItem() {\r\n\t\tconst { options = [] } = this.state;\r\n\t\tconst newOptions = options.slice();\r\n\t\tnewOptions.push({\r\n\t\t\tvalue: '',\r\n\t\t\ttext: '',\r\n\t\t\tindex: this.optionIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\toptions: newOptions,\r\n\t\t});\r\n\t\tthis.optionIndex += 1;\r\n\t}\r\n\tonAddBreadcrumbItem() {\r\n\t\tconst { breadcrumb = [] } = this.state;\r\n\t\tconst newBreadcrumb = breadcrumb.slice();\r\n\t\tnewBreadcrumb.push({\r\n\t\t\ttext: '',\r\n\t\t\tlinkUrl: '',\r\n\t\t\tindex: this.breadcrumbIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tbreadcrumb: newBreadcrumb,\r\n\t\t});\r\n\t\tthis.breadcrumbIndex += 1;\r\n\t}\r\n\tonAddButton() {\r\n\t\tconst { btnArr } = this.state;\r\n\t\tconst newBtnArr = btnArr.slice();\r\n\t\tnewBtnArr.push({\r\n\t\t\tbtnText: 'button',\r\n\t\t\ttype: 'primary',\r\n\t\t\tindex: this.btnIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tbtnArr: newBtnArr,\r\n\t\t});\r\n\t\tthis.btnIndex += 1;\r\n\t}\r\n\tonDeleteButton(index) {\r\n\t\tconst { btnArr = [] } = this.state;\r\n\t\tconst newBtnArr = btnArr.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tbtnArr: newBtnArr,\r\n\t\t});\r\n\t}\r\n\tonDeleteOptionItem(index) {\r\n\t\tconst { options = [] } = this.state;\r\n\t\tconst newOptions = options.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\toptions: newOptions,\r\n\t\t});\r\n\t}\r\n\tonDeleteBreadcrumbItem(index) {\r\n\t\tconst { breadcrumb = [] } = this.state;\r\n\t\tconst newBreadcrumb = breadcrumb.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tbreadcrumb: newBreadcrumb,\r\n\t\t});\r\n\t}\r\n\tonDeleteComponent() {\r\n\t\tconst { onUpdateConfigs, dropConfig } = this.props;\r\n\t\tconst newDropConfig = Object.assign({}, dropConfig, { deleteFlag: true });\r\n\t\tonUpdateConfigs(newDropConfig);\r\n\t}\r\n\trenderOptionsCard() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { options } = this.state;\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle=\"option设置\"\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={this.onAddOptionItem} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\toptions.map(({ value, text, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`optionitem-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`optionitem-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`optionValue-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"value\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`optionitem-text-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block', marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`optionText-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: text,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"show text\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteOptionItem(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trenderPanelHeader({ btnText, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{btnText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteButton(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\trenderBtnCard() {\r\n\t\tconst { dropConfig, form } = this.props;\r\n\t\tconst { type } = dropConfig;\r\n\t\tconst { btnArr } = this.state;\r\n\t\tif (type === 'Btn') {\r\n\t\t\treturn (\r\n\t\t\t\t<Card\r\n\t\t\t\t\ttitle=\"按钮区域\"\r\n\t\t\t\t\textra={\r\n\t\t\t\t\t\t<Icon type=\"plus-circle\" onClick={this.onAddButton} />\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Collapse>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbtnArr.map((item) => {\r\n\t\t\t\t\t\t\tconst { index, btnText, type, htmlType = 'button',\r\n\t\t\t\t\t\t\t\tonClick, btnStyle } = item;\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Panel header={this.renderPanelHeader(item)} key={`btn-${index}`}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`btnText-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"按钮文字\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`btnText-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: btnText,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"btnText\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`type-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"type\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`type-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: type,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"primary\">primary</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"dashed\">dashed</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"danger\">danger</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"\">none</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`htmlType-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"htmlType\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`htmlType-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: htmlType,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"submit\">submit</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"reset\">reset</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"button\">button</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`onClick-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"onClick\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`onClick-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: onClick,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"点击事件名称\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tkey={`btnStyle-${index}`}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"按钮样式\"\r\n\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`btnStyle-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\t\tinitialValue: btnStyle,\r\n\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderBreadcrumb() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { breadcrumb } = this.state;\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle=\"面包屑设置\"\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={this.onAddBreadcrumbItem} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tbreadcrumb.map(({ text, linkUrl, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`breadcrumb-item-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`breadcrumbitem-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`breadcrumbText-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: text,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"导航名称\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`breadcrumbitem-text-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '45%', display: 'inline-block', marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`breadcrumbLinkUrl-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: linkUrl,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"导航链接\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteBreadcrumbItem(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trenderDefaultValueItem() {\r\n\t\tconst { dropConfig, form } = this.props;\r\n\t\tconst { type, defaultValue, text } = dropConfig;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tconst { options } = this.state;\r\n\t\tif (type === 'Select') {\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"defaultValue\">\r\n\t\t\t\t\t{getFieldDecorator('defaultValue', {\r\n\t\t\t\t\t\tinitialValue: defaultValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toptions.map((item) => {\r\n\t\t\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\t\t\tconst optionValue = form.getFieldValue(`optionValue-${index}`);\r\n\t\t\t\t\t\t\t\tconst optionText = form.getFieldValue(`optionText-${index}`);\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Option value={optionValue} key={`op-${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t{`${optionValue}/${optionText}`}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t);\r\n\t\t} else if (type === 'Text') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"文字\">\r\n\t\t\t\t{getFieldDecorator('text', {\r\n\t\t\t\t\tinitialValue: text,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<Input />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'DatePicker') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"defaultValue\">\r\n\t\t\t\t{getFieldDecorator('defaultValue', {\r\n\t\t\t\t\tinitialValue: defaultValue,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<DatePicker style={{ width: '100%' }} />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'Input') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"defaultValue\">\r\n\t\t\t\t\t{getFieldDecorator('defaultValue', {\r\n\t\t\t\t\t\tinitialValue: defaultValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\trenderContent() {\r\n\t\tconst { form, dropConfig } = this.props;\r\n\t\tconst { placeholder, type } = dropConfig;\r\n        const { getFieldDecorator } = form;\r\n        // 有拖拽的组件&&没有删除组件\r\n\t\tif (type === 'Btn') {\r\n\t\t\treturn this.renderBtnCard();\r\n\t\t}\r\n\t\tif (type === 'Breadcrumb') {\r\n\t\t\treturn this.renderBreadcrumb();\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t{this.renderDefaultValueItem()}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype !== 'Text' && type !== 'Breadcrumb' ?\r\n\t\t\t\t\t\t(<Form.Item {...formItemLayout} label=\"placeholder\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('placeholder', {\r\n\t\t\t\t\t\t\t\tinitialValue: placeholder,\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Select' ? \r\n\t\t\t\t\t\tthis.renderOptionsCard() : null\r\n\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { visible, onClose, form, dropConfig } = this.props;\r\n\t\tconst initialCellStyles = objToStr(dropConfig.cellStyles);\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\ttitle=\"编辑组件\"\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tthis.initOptions = false;\r\n\t\t\t\t\tthis.initBtn = false;\r\n\t\t\t\t\tthis.initBreadcrumb = false;\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<Form.Item label=\"style设置\" {...formItemLayout}>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"cellStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialCellStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n                    {\r\n                        this.renderContent()\r\n                    }\r\n                    <div className=\"btn-box\">\r\n\t\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t        <div className=\"btn-bottom-box\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t        </div>\r\n\t\t    \t</Form>\r\n\t    \t</Drawer>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Form.create()(DropAreaEdit);","import React, { PureComponent, Fragment } from 'react';\r\nimport { Icon } from 'antd';\r\nimport DropRender from './DropRender';\r\nimport DropAreaEdit from '../../EditDrawer/DropAreaEdit';\r\nimport { activeColor } from '../../common/Constants';\r\nimport './index.css';\r\n\r\nconst clsName = 'drop-container';\r\n\r\nclass DropContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dropConfig: {},\r\n            showEdit: false,\r\n            dropComponent: false,\r\n        };\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onDrop = this.onDrop.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        if (!this.DropDom) {\r\n            return;\r\n        }\r\n        this.DropDom.addEventListener(\"drop\", this.onDrop, false);\r\n        this.DropDom.addEventListener(\"dragenter\", this.onDragenter, false);\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.DropDom) {\r\n            this.DropDom.removeEventListener('drop', this.onDrop);\r\n            this.DropDom.removeEventListener(\"dragenter\", this.onDragenter);\r\n        }\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            showEdit: !this.state.showEdit,\r\n        });\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...dropConfig }) {\r\n        const { onUpdateConfigs } = this.props;\r\n        const newState = {\r\n            dropConfig,\r\n        };\r\n        // 删除组件\r\n        if (deleteFlag) {\r\n            newState.dropConfig = {\r\n                dropIndex: dropConfig.dropIndex,\r\n            };\r\n            newState.dropComponent = false;\r\n        }\r\n        this.setState({\r\n            ...newState,\r\n        });\r\n        onUpdateConfigs(dropConfig);\r\n        this.onToggleEdit();\r\n    }\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        if (event.target.className === clsName) {\r\n            const data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            const { type } = data;\r\n            const { dropIndex, onUpdateConfigs } = this.props;\r\n            const dropConfig = {\r\n                type,\r\n                dropIndex,\r\n            };\r\n            if (type === 'Text') {\r\n                dropConfig.text = 'Text';\r\n            }\r\n            if (type === 'Breadcrumb') {\r\n                dropConfig.breadcrumb = [\r\n                    {index: 0, text: 'menu1'},\r\n                    {index: 1, text: 'menu2'},\r\n                ];\r\n            }\r\n            if (type === 'Button') {\r\n                dropConfig.type = 'Btn';\r\n                dropConfig.btnArr = [{\r\n                    btnText: 'button',\r\n                    type: 'primary',\r\n                    index: 0,\r\n                }];\r\n            }\r\n            this.setState({\r\n                dropConfig,\r\n                dropComponent: true,\r\n            }, () => {\r\n                onUpdateConfigs(dropConfig);\r\n            });\r\n            this.resetBg();\r\n        }\r\n    }\r\n    resetBg() {\r\n        const dropDomArr = document.querySelectorAll(`.${clsName}`);\r\n        if (dropDomArr) {\r\n            dropDomArr.forEach((item) => {\r\n                item.style.background = '';\r\n            });\r\n        }\r\n    }\r\n    onDragenter(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = activeColor;\r\n        }\r\n    }\r\n    render() {\r\n        const { dropComponent, dropConfig, showEdit } = this.state;\r\n        return (\r\n            <div\r\n                className=\"drop-container\"\r\n                ref={(DropDom) => { this.DropDom = DropDom; }}\r\n            >\r\n                {\r\n                  dropComponent ? (\r\n                    <Fragment> \r\n                        <DropRender\r\n                            {...this.props}\r\n                            dropConfig={dropConfig}\r\n                        />\r\n                        <Icon\r\n                            type=\"bars\"\r\n                            className=\"icon-operation\"\r\n                            onClick={this.onToggleEdit}\r\n                        />\r\n                    </Fragment>\r\n                    ) : null\r\n                }\r\n                <DropAreaEdit\r\n                    visible={showEdit}\r\n                    dropConfig={dropConfig}\r\n                    onClose={this.onToggleEdit}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DropContainer;","import React, { Component } from 'react';\r\nimport { Button, Divider, message, Form, Input, Select, Drawer } from 'antd';\r\nimport  { objToStr, strToObj } from '../../common/CellUtil';\r\nimport formItemLayout from '../../configs/layout';\r\nimport './index.css';\r\n\r\nconst TextArea = Input.TextArea;\r\nconst Option = Select.Option;\r\n\r\nclass HeaderEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onClose } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { layoutColumn, headerStyles } = values;\r\n                const configs = {\r\n                    layoutColumn,\r\n                    headerStyles: strToObj(headerStyles),\r\n                };\r\n                onClose(configs);\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { visible, form, onClose, configs ={}, onDeleteContainer } = this.props;\r\n        const { headerStyles = {} } = configs;\r\n        const initialHeaderStyles = objToStr(headerStyles);\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Drawer\r\n                visible={visible}\r\n                width={420}\r\n                title=\"编辑列\"\r\n                onClose={() => {\r\n                    onClose(0);\r\n                }}\r\n            >\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"style设置\"\r\n                        {...formItemLayout}\r\n                    >\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"headerStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialHeaderStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n                    <Form.Item\r\n                        label=\"容器列\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('layoutColumn', {\r\n                            initialValue: 3,\r\n                            rules: [\r\n                                { required: true, message: '请选择列数!' },\r\n                            ],\r\n                        })(\r\n                            <Select>\r\n                                <Option value=\"1\">1</Option>\r\n                                <Option value=\"2\">2</Option>\r\n                                <Option value=\"3\">3</Option>\r\n                                <Option value=\"4\">4</Option>\r\n                                <Option value=\"5\">5</Option>\r\n                                <Option value=\"6\">6</Option>\r\n                                <Option value=\"7\">7</Option>\r\n                                <Option value=\"8\">8</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    <div style={{ margin: '10px 0', textAlign: 'center' }}>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </div>\r\n                    <Divider />\r\n                    <div className=\"btn-box\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ textAlign: 'center' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                    </div>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(HeaderEdit);","import React, { PureComponent } from 'react';\r\nimport DropContainer from '../DropContainer';\r\nimport HeaderEdit from '../../EditDrawer/HeaderEdit';\r\nimport { Icon } from 'antd';\r\nimport './index.css';\r\n\r\nclass HeaderContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            configs: {\r\n                cellsArr: [],\r\n                layoutColumn: 0,\r\n            },\r\n        };\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            visible: !this.state.visible,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n        this.onToggleEdit();\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        const newCellsArr = newConfigs.cellsArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.dropIndex !== item.dropIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        dropIndex: values.dropIndex,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.dropIndex === item.dropIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newConfigs.cellsArr = newCellsArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    rendeCell(layoutColumn) {\r\n        if (!layoutColumn) {\r\n            return null;\r\n        }\r\n        const componentArr = [];\r\n        const width = `${100 / layoutColumn}%`;\r\n        for (let i = 0; i < layoutColumn; i++) {\r\n            componentArr.push((\r\n               <div className=\"cell\" key={`cell-${i}`} style={{ width }}>\r\n                    < DropContainer\r\n                        dropIndex={i}\r\n                        onUpdateConfigs={this.onUpdateConfigs}\r\n                    />\r\n               </div>\r\n            ));\r\n        }\r\n        return componentArr;\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { onUpdateLayoutConfig, layoutIndex, configs } = this.props;\r\n        const { layoutColumn = 0, headerStyles } = configs;\r\n        return (\r\n            <div className=\"fulu-header container\" style={headerStyles}>\r\n                {\r\n                    this.rendeCell(+layoutColumn)\r\n                }\r\n                <HeaderEdit\r\n                    visible={visible}\r\n                    onClose={(configs) => {\r\n                        if (configs) {\r\n                            const layoutConfig = {\r\n                                layoutIndex,\r\n                            };\r\n                            const { layoutColumn } = configs;\r\n                            const { cellsArr } = this.state.configs;\r\n                            const newCellsArr = cellsArr.slice(0, layoutColumn);\r\n                            for (let i = 0; i < layoutColumn; i++) {\r\n                                if (newCellsArr.length <= i) {\r\n                                    newCellsArr.push({\r\n                                        dropIndex: i\r\n                                    });\r\n                                }\r\n                            }\r\n                            const newConfigs = {\r\n                                cellsArr: newCellsArr,\r\n                                layoutColumn,\r\n                            };\r\n                            layoutConfig.configs = newConfigs;\r\n                            this.setState({\r\n                                configs: newConfigs,\r\n                            });\r\n                            onUpdateLayoutConfig(layoutConfig);\r\n                        }\r\n                        this.onToggleEdit();\r\n                    }}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                />\r\n                <Icon type=\"form\" className=\"icon-operation\" onClick={this.onToggleEdit} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HeaderContainer;","import React, { PureComponent, Fragment } from 'react';\r\nimport { FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, HEADER_CONTINAER } from '../common/Constants';\r\nimport FormContainer from './FormContainer';\r\nimport TableContainer from './TableContainer';\r\nimport HeaderContainer from './HeaderContainer';\r\nimport EmptyContainer from './EmptyContainer';\r\nimport './index.css';\r\n\r\nclass LayoutContainer extends PureComponent {\r\n    renderContainer() {\r\n        const { layoutConfig, ...restProps } = this.props;\r\n        if (Array.isArray(layoutConfig) && layoutConfig.length > 0) {\r\n            return layoutConfig.map((config) => {\r\n                const { type, layoutIndex } = config;\r\n                const k = `layout-${layoutIndex}`;\r\n                const transferProps = Object.assign({ key: k }, restProps, config);\r\n                if (type === FORM_CONTAINER) {\r\n                    return (<FormContainer {...transferProps} />);\r\n                } else if (type === TABLE_CONTAINER) {\r\n                    return (<TableContainer {...transferProps} />);\r\n                } else if (type === EMPTY_CONTAINER) {\r\n                    return (<EmptyContainer {...transferProps} />);\r\n                } else if (type === HEADER_CONTINAER) {\r\n                    return (<HeaderContainer {...transferProps} />);\r\n                }\r\n                return null;\r\n            });\r\n        }\r\n        return (\r\n            <div className=\"empty-tips\">请添加容器组件</div>\r\n        );\r\n    }\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    this.renderContainer()\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LayoutContainer;","const columns = [{\r\n    title: 'column0',\r\n    dataIndex: 'dataIndex0',\r\n    index: 0,\r\n}, {\r\n    title: 'column1',\r\n    dataIndex: 'dataIndex1',\r\n    index: 1,\r\n}, {\r\n    title: 'column2',\r\n    dataIndex: 'dataIndex2',\r\n    index: 2,\r\n}, {\r\n    title: 'column3',\r\n    dataIndex: 'dataIndex3',\r\n    index: 3,\r\n}, {\r\n    title: 'column4',\r\n    dataIndex: 'dataIndex4',\r\n    index: 4,\r\n}];\r\n\r\nexport default columns;","/**\r\n * @desc 页面右侧容器视图\r\n */\r\nimport React, { PureComponent, Fragment } from 'react';\r\nimport LayoutContainer from '../LayoutContainer';\r\nimport defaultColumns from '../configs/defaultColumns';\r\nimport { FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, HEADER_CONTINAER } from '../common/Constants';\r\nimport './index.css';\r\nimport { message, Button } from 'antd';\r\n\r\nconst clsArr = ['main-container', 'empty-tips'];\r\nconst containerTypeArr = [FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, HEADER_CONTINAER];\r\n\r\nclass MainContainer extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlayoutConfig: [],\r\n\t\t\tgenerateLoading: false, // 页面是否在生成\r\n\t\t};\r\n\t\tthis.onEdit = this.onEdit.bind(this);\r\n\t\tthis.onUpdateLayoutConfig = this.onUpdateLayoutConfig.bind(this);\r\n\t\tthis.onGeneratePage = this.onGeneratePage.bind(this);\r\n\t\tthis.onPreviewPage = this.onPreviewPage.bind(this);\r\n\t\tthis.layoutIndex = 0;\r\n\t}\r\n\tonUpdateLayoutConfig({ layoutIndex, configs, deleteFlag = false }) {\r\n\t\tconst { layoutConfig } = this.state;\r\n\t\tconst copyConfig = layoutConfig.slice();\r\n\t\t// 删除配置文件\r\n\t\tif (deleteFlag) {\r\n\t\t\tconst deleteIndex = copyConfig.findIndex((item) => {\r\n\t\t\t\treturn item.layoutIndex === layoutIndex;\r\n\t\t\t});\r\n\t\t\tcopyConfig.splice(deleteIndex, 1);\r\n\t\t} else {\r\n\t\t\tconst updateConfigItem = copyConfig.find((item) => {\r\n\t\t\t\treturn item.layoutIndex === layoutIndex;\r\n\t\t\t});\r\n\t\t\tupdateConfigItem.configs = configs;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tlayoutConfig: copyConfig,\r\n\t\t});\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tif (window.ipc && window.ipc.on) {\r\n            window.ipc.on('asynchronous-reply', (event, arg) => {\r\n\t\t\t\tconst { code, info } = JSON.parse(arg);\r\n\t\t\t\tif (code === 1) {\r\n\t\t\t\t\tmessage.success(info);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.error(info);\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgenerateLoading: false,\r\n\t\t\t\t});\r\n            });\r\n        }\r\n\t\tdocument.addEventListener(\"drop\", (event) => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tconst cls = event.target.className;\r\n\t        if (clsArr.indexOf(cls) > -1) {\r\n\t        \tconst data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n\t\t\t\tconst { type } = data;\r\n\t\t\t\tif (containerTypeArr.indexOf(type) > -1) {\r\n\t\t\t\t\tconst { layoutConfig } = this.state;\r\n\t\t\t\t\tconst copyLayoytConfig = layoutConfig.slice();\r\n\t\t\t\t\tconst configObj = Object.assign(data, {\r\n\t\t\t\t\t\tlayoutIndex: this.layoutIndex,\r\n\t\t\t\t\t\tconfigs: {},\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (type === TABLE_CONTAINER) {\r\n\t\t\t\t\t\tconfigObj.configs.columns = defaultColumns;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcopyLayoytConfig.push(configObj);\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tlayoutConfig: copyLayoytConfig,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.layoutIndex += 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.warn('请拖拽容器组件');\r\n\t\t\t\t}\r\n\t        }\r\n\t\t}, false);\r\n\t}\r\n\tonEdit(values) {\r\n\t\tconst { kIndex } = values;\r\n\t\tconst { formConfig } = this.state;\r\n\t\tconst copyFormConfig = formConfig.slice();\r\n\t\tcopyFormConfig[kIndex] = Object.assign({}, copyFormConfig[kIndex], values);\r\n\t\tthis.setState({\r\n\t\t\tformConfig: copyFormConfig,\r\n\t\t});\r\n\t}\r\n\tonGeneratePage() {\r\n\t\tconst { pageName } = this.props;\r\n\t\tconst { layoutConfig } = this.state;\r\n        const pageConfig = {\r\n\t\t\tpageName,\r\n\t\t\tlayoutConfig,\r\n\t\t};\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tgenerateLoading: true,\r\n\t\t});\r\n        window.ipc.send('asynchronous-message', JSON.stringify(pageConfig));\r\n\t}\r\n\tonPreviewPage() {\r\n\t\tconst { onPreviewPage } = this.props;\r\n\t\tconst { layoutConfig } = this.state;\r\n\t\tonPreviewPage(layoutConfig);\r\n\t}\r\n\trender() {\r\n\t\tconst { layoutConfig, generateLoading } = this.state;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<div className=\"main-container\">\r\n\t\t\t\t\t<LayoutContainer\r\n\t\t\t\t\t\tlayoutConfig={layoutConfig}\r\n\t\t\t\t\t\tonUpdateLayoutConfig={this.onUpdateLayoutConfig}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={this.onGeneratePage}\r\n\t\t\t\t\tloading={generateLoading}\r\n\t\t\t\t>\r\n\t\t\t\t\t生成页面\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={this.onPreviewPage}\r\n\t\t\t\t\tstyle={{ marginLeft: '5px' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t预览\r\n\t\t\t\t</Button>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MainContainer;","import React, { Component } from 'react';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport { Layout, LocaleProvider } from 'antd';\nimport EditPageName from './component/Modal/EditPageName';\nimport PreviewPageModal from './component/Modal/PreviewPageModal';\nimport DragTabs from './component/DragTabs';\nimport MainContainer from './component/MainContainer';\nimport \"antd/dist/antd.css\";\nimport './App.css';\n\nconst { Sider, Content } = Layout;\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showEditNameModal: true, // 显示编辑页面名称弹窗\n            showPreviewModal: false, // 显示预览窗口\n            pageName: '', // 页面名称\n        };\n        this.onCloseModal = this.onCloseModal.bind(this);\n        this.onPreviewPage = this.onPreviewPage.bind(this);\n        this.onClosePreviewModal = this.onClosePreviewModal.bind(this);\n    }\n    onCloseModal({ pageName }) {\n        this.setState({\n            showEditNameModal: false,\n            pageName,\n        });\n    }\n    onClosePreviewModal() {\n        this.setState({\n            showPreviewModal: false,\n        });\n    }\n    onPreviewPage(layoutConfig) {\n        this.setState({\n            showPreviewModal: true,\n        });\n        this.layoutConfig = layoutConfig;\n\t}\n    render() {\n        const { showEditNameModal, showPreviewModal, pageName } = this.state;\n        return (\n            <div className=\"App\">\n                <LocaleProvider locale={zhCN}>\n                    <Layout>\n                        <Sider width=\"300\">\n                            <DragTabs />\n                        </Sider>\n                        <Layout>\n                            <Content>\n                                <MainContainer\n                                    pageName={pageName}\n                                    onPreviewPage={this.onPreviewPage}\n                                />\n                            </Content>\n                        </Layout>\n                        < EditPageName\n                            onCloseModal={this.onCloseModal}\n                            showModal={showEditNameModal}\n                        />\n                        <PreviewPageModal\n                            layoutConfig={this.layoutConfig}\n                            onCloseModal={this.onClosePreviewModal}\n                            showModal={showPreviewModal}\n                        />\n                    </Layout>\n                </LocaleProvider>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import { Test } from './component/Page';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}