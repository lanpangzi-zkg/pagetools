{"version":3,"sources":["component/Modal/PageNameModal/index.js","utils/Constants.js","service/AppService.js","annotation/Service.js","component/Container/LineContainer/index.js","configs/layout.js","utils/TableUtil.js","utils/DateUtil.js","utils/FormUtil.js","component/EditDrawer/TableEdit/index.js","component/Container/TableContainer/index.js","component/Core/BaseContainer.js","component/Container/DropContainer/DropRender.js","utils/CellUtil.js","configs/saveConfigs.js","component/Core/BaseEdit.js","component/EditDrawer/CompEdit/index.js","utils/DropUtil.js","utils/common.js","component/Container/DropContainer/index.js","component/EditDrawer/BoxEdit/index.js","component/Container/BoxContainer/index.js","component/Container/HeaderContainer/index.js","utils/RenderUtil.js","component/EditDrawer/FormEdit/index.js","component/Container/FormItemContainer/FormItemRender.js","component/EditDrawer/FormItemEdit/index.js","component/Container/FormItemContainer/index.js","component/Container/FormContainer/index.js","component/Container/LayoutContainer/index.js","component/Core/Dragable.js","configs/dragConfig.js","configs/defaultColumns.js","component/Core/DragTabFactory.js","component/DragTabs/index.js","component/Container/ModalContainer/index.js","configs/renderConfig.js","component/EditDrawer/LayerEdit/index.js","component/Modal/PreviewModal/index.js","component/Container/MainContainer/index.js","component/Modal/PreviewPageModal/index.js","component/Modal/LoginModal/index.js","App.js","index.js"],"names":["PageNameModal","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","afterClose","bind","assertThisInitialized","onSubmit","e","preventDefault","_this$props","form","onOkModal","validateFields","err","values","pageName","projectDir","resetFields","_this$props2","visible","onCloseModal","getFieldDecorator","react_default","a","createElement","modal","footer","width","closable","maskClosable","centered","onOk","onCancel","title","es_form","style","padding","Item","rules","required","message","pattern","input","placeholder","window","ipcRenderer","marginTop","textAlign","es_button","type","htmlType","Component","Form","create","HEADER_CONTINAER","LAYER_MODAL","LAYER_API","proxyServerUrl","axios","interceptors","response","use","error","Promise","reject","ServicesMatch","AppService","data","method","url","concat","host","api","params","appUrl","localStorage","getItem","access_token","MerchantId","name","LineContainer","onDelete","onUpdateLayoutConfig","deleteFlag","className","divider","icon","onClick","PureComponent","formItemLayout","labelCol","xs","span","sm","wrapperCol","handleColumns","configs","context","_configs$operationArr","operationArr","newColumns","columns","slice","keys","forEach","k","val","indexOf","_k$split","split","_k$split2","slicedToArray","columnName","columnIndex","columnTarget","find","item","index","hasOperation","arguments","length","undefined","opCol","dataIndex","push","render","text","record","Array","isArray","react","map","_ref3","i","opText","opType","modalName","_ref3$api","skipUrl","clickProps","onShowModal","location","execFetchApi","Fragment","assign","href","key","handleOperation","sortIndex","getTableConfig","newConfigs","pagination","pageSize","pageSizeOptions","rowSelection","columnTitle","transferDateToStr","date","formatStr","format","getFormData","renderArr","hasIndex","formData","valKey","fk","_valKey$split","_valKey$split2","isContain","_formData$push","findItemByRule","_ref","defineProperty","getFormDataByIndex","result","indexK","hasOwnProperty","matchKey","matchArr","rule","isFn","getFormApi","mode","formConfig","formType","queryApi","addApi","editApi","getSubmitData","formItemArr","_ref4","dateKeys","_values$name","startTime","endTime","_dateKeys$split","_dateKeys$split2","startKey","endKey","getFormByType","layoutConfig","getFormArr","_ref5","reduce","arr","cellsArr","apply","toConsumableArray","Panel","Collapse","Option","Select","fLayout","TableEdit","state","setColumnMaxIndex","onAddColumn","onDeleteColumn","onAddOperation","onDeleteOperation","renderOperationBtn","nextProps","setState","setOperationMaxIndex","_configs$columns","columnMaxIndex","_ref2","operationMaxIndex","_configs$operationArr2","newOperationArr","opreationIndex","getNewConfigs","addOperationMaxIndex","addColumnMaxIndex","v","_this2","_configs$operationArr3","opArr","_this3","_this4","_this5","_configs$columns2","collapse","_item$align","align","_item$fixed","fixed","header","renderPanelHeader","label","initialValue","es_select","value","btnConfig","layerConfig","modalData","_opType","getFieldValue","renderOperationHeader","renderModalSelect","renderApiSelect","_configs$operationArr4","_configs$hasOperation","rowKey","_ref5$pageSize","_ref5$pageSizeOptions","_ref6","_ref6$type","_ref6$columnTitle","hasPagination","hasRowSelection","size","card","join","_this$props3","onClose","onDeleteContainer","dataSrouce","drawer","renderCollapse","renderTableProps","marginRight","TableContainer","onShowEditTable","onUpdateConfigs","onPageIndexChange","onShowSizeChange","stopPropagation","layoutIndex","objectSpread","dataSize","ds","_loop","dsItem","_this$props$configs","modelKey","page","getModelKey","current","sRowKeys","selectedRowKeys","onChange","selectedRows","_this$props3$configs","_this$props3$apiData","apiData","currentPage","_this$props3$preview","preview","GuiContext","_configs$pagination","_configs$rowSelection","mockData","copyColumns","mockDataNum","test","hasApiDataSource","dataSource","getMockDataSource","showQuickJumper","showSizeChanger","total","Consumer","lib","bordered","getRowSelection","component_EditDrawer_TableEdit","BaseContainer","getContainerIndex","getContainerType","onToggleEditDrawer","_render","DropRender","restProps","objectWithoutProperties","cellStyles","_configs$textAlign","styleObj","renderComponent","strToObj","str","separator","styleStr","_styleStr$split","_styleStr$split2","replace","objToStr","objLike","prototype","toString","getCellColSpan","colIndex","originSpan","colSpanArr","finalColSpan","locationIndex","j","colSpan","end","start","ButtonSaveKeys","allowCallApi","allowCallModal","BaseEdit","deleteComponent","handleSubmit","onAddListItem","onDeleteButton","onDeleteListItem","onDeleteComponent","renderBtnPanelHeader","_nextProps$configs","getItemSetType","lowerCaseType","toLowerCase","stateKey","stateVal","_this$state","buttonArr","_this$props$inForm","inForm","itemSetType","configType","newList","kLabel","kValue","showTime","newButtonArr","btnIndex","sKey","itemKey","logicType","expandCount","_values$originSpan","onCloseEdit","initBtn","_this$state$buttonArr","_this$props2$configs","list","allowClear","optionValue","optionText","BaseEdit_Option","date_picker","btnText","renderItemSettingCard","dataKey","labPlaceholder","valPlaceholder","_ref2$labPlaceholder","_ref2$valPlaceholder","itemList","extra","marginLeft","lineHeight","_this$props3$layerCon","_this$props4","_this$props4$layerCon","_this6","_this$state$buttonArr2","activeKeyArr","defaultActiveKey","_item$antdType","antdType","_item$htmlType","textDisabled","BaseEdit_Panel","disabled","renderApiItem","renderModalItem","renderBtnExpand","TextArea","Input","CompEdit","renderBtnCard","renderBreadcrumb","renderTabs","renderRadio","renderDefaultValueItem","initialCellStyles","radioType","CompEdit_Option","renderContent","initDropData","dragData","isFormItem","dropComponent","defaultConfigs","containerArr","isLogin","getInitialValue","config","_config$type","_config$format","moment","isContainer","clsName","DropContainer","showEdit","onDrop","onDragenter","onToggleEdit","DropDom","addEventListener","onDragLeave","removeEventListener","_ref$deleteFlag","newState","event","target","resetBg","JSON","parse","dataTransfer","getData","_initDropData","dropDomArr","document","querySelectorAll","background","ref","DropContainer_DropRender","component_EditDrawer_CompEdit","BoxEdit","boxStyles","rest","_configs$boxStyles","_configs$layoutColumn","layoutColumn","_configs$positionFixe","positionFixed","initialBoxStyles","BoxEdit_TextArea","BoxEdit_Option","BoxContainer","onAddRowCell","onReceiveConfigs","newCellsArr","_this$props2$context","onShowLoginModal","componentArr","cellNum","previewProps","limitIndex","Math","max","component_Container_DropContainer","rendeCell","component_EditDrawer_BoxEdit","pConfigs","ghost","HeaderContainer","_ref2$cellsArr","positionCls","previewCls","CheckboxGroup","Checkbox","Group","RangePicker","DatePicker","TabPane","Tabs","renderConfig","_renderConfig$placeho","component","renderText","renderSelect","renderRangePicker","renderDatePicker","renderCheckbox","renderBtn","renderForm","renderLine","renderTable","renderBox","renderHeader","renderTextArea","dropIndex","hasLinkage","RenderUtil_TextArea","component_Container_FormContainer","component_Container_HeaderContainer","component_Container_TableContainer","component_Container_LineContainer","component_Container_BoxContainer","_configs$breadcrumbAr","breadcrumbArr","breadcrumb","_configs$style","_configs$radioArr","radioArr","RadioItem","Radio","Button","es_radio","_configs$style2","_configs$tabsArr","tabsArr","tabs","tab","_configs$style3","_configs$checkboxArr","checkboxArr","options","_configs$style4","selectArr","finalOptions","RenderUtil_Option","getMultBtnDisabled","onResetForm","_configs$buttonArr","onCollapse","_state$expand","expand","_ref7","_btnConfig$style","btnProps","collapseBtnText","renderConfigForm","initData","cf","_cf$rules","keyStr","_layerConfig$modalArr","modalArr","formItemKey","formNameKey","_ref8","compData","_compData$key","_compData$label","apiName","_layerConfig$apiArr","apiArr","_ref9","requestApi","FormEdit","handleChange","colSpanValues","setTimeout","setFieldsValue","onSave","lcNum","colSpanTotal","FormEdit_Option","renderColSpanInputs","renderApiFormItem","FormItemRender","_this$props$preview","_this$props$colSpanAr","formItemAlign","_configs$rules","md","getStyle","formItemProps","col","FormItemEdit","onAddCellStyleItem","onDeleteCellStyleItem","_this$state$cellStyle","newCellStyles","cellStyleIndex","_this$state$cellStyle2","condition","linkName","FormItemEdit_Option","_configs$showTime","_configs$format","_this$props$dropCompo","linkage","renderDatePickerExtra","renderLinkage","onDeleteFormItemContainer","initialColSpan","tempColSpan","FormItemEdit_TextArea","c","forbiddenDropType","FormItemContainer","onShowEditItem","onEditDropContainer","onDeleteChildren","warn","onUpdateFormItemConfigs","targetDom","_this$props3$colSpanA","_this$props3$formItem","colIndexNum","_colSpan","getContainerWidth","FormItemContainer_FormItemRender","component_EditDrawer_FormItemEdit","FormContainer","fetchLoading","onAddRow","onDeleteRow","onShowEditForm","onCloseEditForm","onUpdateFormLayout","renderFormItemContainer","colIndexStart","onFormRenderCallBack","layoutColumnNum","rowSpanCount","colSpanIndex","newFormItemArr","filter","_this7","copyFormItemArr","addNewFormItem","_ref2$formItemArr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","b","return","_this8","_this$props5","_ref3$formItemArr","getExpandCount","itemConfigs","component_Container_FormItemContainer","_this$props6","_ref4$configs","_ref5$layoutColumn","_ref5$formItemArr","row","gutter","lg","xl","component_EditDrawer_FormEdit","LayoutContainer","EmptyContainer_default","renderContainer","Dragable","setData","stringify","ch","draggable","onDragStart","dargConfig","button","others","layout","DragTabFactory","targetConfigs","Core_Dragable","_this$props$tabType","tabType","renderContentByType","DragTabs","opacity","t","DragTabs_TabPane","Core_DragTabFactory","Sider","Layout","Content","ModalContainer","editModal","src_component_DragTabs","component_Container_MainContainer","noLayer","apiRenderConfig","modalRenderConfig","LayerEdit","drawerArr","showEditModal","modalAddIndex","apiAddIndex","onAddApi","onAddModal","onDeleteApi","onDeleteModal","onSubmitLayer","onShowEditModal","onCloseEditModal","onSaveEditModal","renderModalPanelHeader","initState","layerItem","layerType","newLayerConfig","_newLayerConfig$modal","newModalArr","onCloseLayer","onUpdateLayerConfig","newItemArr","newItem","onAddItem","deleteIndex","onDeleteItem","modalActiveKey","apiActiveKey","placement","LayerEdit_Panel","renderApiPanelHeader","component_Container_ModalContainer","PreviewModal","loading","onAfterClose","initEdit","recordData","modalLayoutConfig","then","res","code","onInitForm","catch","editData","formObj","obj","_item$format","_dateKeys","onCancelModal","apiObj","requestParams","paramKey","success","spin","spinning","React","createContext","initLayerConfig","MainContainer","Target","newProps","ServiceClass","service","PageIndex","PageSize","showLayer","generateLoading","paramData","apiConfig","onUpdateApiConfig","onPreviewPage","onToggleLayer","onGeneratePage","container","createRef","_newConfigs$deleteFla","copyConfig","findIndex","splice","updateIndex","_this$props$preview2","copyLayoytConfig","configObj","reqPrams","requestHost","requestMethod","requestPagination","_apiObj$requestParams","paramKeys","_obj","pk","toggleLoading","fetchApi","status","msg","realData","newApiData","resolve","execTableQuery","_this$state2","onShowPageNameModal","onResetProps","_this$state3","_this$state3$layoutCo","_this$state3$layerCon","pageConfig","send","on","args","_JSON$parse","info","generatePage","aLink","display","body","appendChild","click","removeChild","_this$state4","_newState","_this$setState","_this$state5","visibleStateName","parseInt","component_Modal_PreviewModal","_this$props2$noLayer","_this$props2$preview","_this$state6","isEdit","MainContainer_GuiContext","Provider","component_Container_LayoutContainer","getChildFuncProps","shape","component_EditDrawer_LayerEdit","id","renderModal","PreviewPageModal","showModal","wrapClassName","PreviewPageModal_Sider","PreviewPageModal_Content","LoginModal","showLoginFrame","onResetModal","getIframeUrl","asyncAppendJs","origin","targetStr","searchStr","setItem","onCloseLoginModal","removeItem","clearInit","clearStorage","js","onload","console","log","common","main","webapi","sendMessageToIframe","jsHost","src","Date","now","iframeLogin","querySelector","getElementById","contentWindow","postMessage","auth","passport","encodeURIComponent","App","showLoginModal","showEditNameModal","showPreviewModal","onSubmitPageName","onClosePreviewModal","onClosePageNameModal","locale_provider","locale","zhCN","App_Sider","App_Content","component_Modal_PageNameModal","component_Modal_PreviewPageModal","component_Modal_LoginModal","ReactDOM","src_App"],"mappings":"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","file":"static/js/main.15c5623c.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Form, Input, Modal } from 'antd';\r\nimport './index.css';\r\n\r\nclass PageNameModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.afterClose = this.afterClose.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n    onSubmit(e) {\r\n        e && e.preventDefault();\r\n        const { form, onOkModal } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { pageName, projectDir } = values;\r\n                onOkModal(pageName, projectDir);\r\n            }\r\n        });\r\n    }\r\n    afterClose() {\r\n        this.props.form.resetFields();\r\n    }\r\n    render() {\r\n        const { visible, form, onCloseModal } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Modal\r\n                visible={visible}\r\n                footer={null}\r\n                width={450}\r\n                closable\r\n                maskClosable={false}\r\n                centered\r\n                afterClose={this.afterClose}\r\n                onOk={this.onSubmit}\r\n                onCancel={onCloseModal}\r\n                title=\"页面名称\"\r\n            >\r\n                <Form\r\n                    onSubmit={this.onSubmit}\r\n                    style={{ padding: '20px 40px' }}\r\n                >\r\n                    <Form.Item>\r\n                        {getFieldDecorator('pageName', {\r\n                            rules: [\r\n                                { required: true, message: '请输入页面名称!' },\r\n                                { pattern: /^[a-zA-Z]+$/, message: '名称只能包含字母！' }\r\n                            ],\r\n                        })(\r\n                            <Input placeholder=\"只能包含字母\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    {\r\n                        window.ipcRenderer ? (<Form.Item>\r\n                            {getFieldDecorator('projectDir', {\r\n                                rules: [\r\n                                    { required: true, message: '请输入项目文件夹!' },\r\n                                ],\r\n                            })(\r\n                                <Input placeholder=\"项目文件夹\" />\r\n                            )}\r\n                        </Form.Item>) : null\r\n                    }\r\n                    <Form.Item  style={{ marginTop: '15px', textAlign: 'center' }}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(PageNameModal);","const proxyServerUrl = 'https://pagetools.herokuapp.com';\r\n// const proxyServerUrl = 'http://127.0.0.1:9999';\r\nconst activeColor = '#dde7f1';\r\nconst FORM_CONTAINER = 'FormContainer';\r\nconst TABLE_CONTAINER = 'TableContainer';\r\nconst EMPTY_CONTAINER = 'EmptyContainer';\r\nconst BOX_CONTINAER = 'BoxContainer';\r\nconst HEADER_CONTINAER = 'HeaderContainer';\r\nconst LINE_CONTINAER = 'LineContainer';\r\nconst MODAL_CONTINAER = 'ModalContainer';\r\nconst TRUE = '1';\r\nconst FALSE = '0';\r\nconst MODE_EDIT = 'edit';\r\nconst MODE_ADD = 'add';\r\nconst FORM_QUERY = 'query';\r\nconst FORM_VIEW = 'view';\r\nconst FORM_SAVE = 'save';\r\nconst CODE_SUCCESS = '0';\r\nconst LAYER_MODAL = 'modal';\r\nconst LAYER_DRAWER = 'drawer';\r\nconst LAYER_API = 'api';\r\n\r\nexport {\r\n    activeColor,\r\n    FORM_CONTAINER,\r\n    TABLE_CONTAINER,\r\n    EMPTY_CONTAINER,\r\n    BOX_CONTINAER,\r\n    HEADER_CONTINAER,\r\n    LINE_CONTINAER,\r\n    MODAL_CONTINAER,\r\n    LAYER_MODAL,\r\n    LAYER_DRAWER,\r\n    LAYER_API,\r\n    TRUE,\r\n    FALSE,\r\n    MODE_ADD,\r\n    MODE_EDIT,\r\n    FORM_VIEW,\r\n    FORM_SAVE,\r\n    FORM_QUERY,\r\n    CODE_SUCCESS,\r\n    proxyServerUrl,\r\n};\r\nexport default proxyServerUrl;","import axios from 'axios';\r\nimport proxyServerUrl from '../utils/Constants';\r\n\r\naxios.interceptors.response.use((response) => {\r\n    return response;\r\n  }, (error) => {\r\n    return Promise.reject(error);\r\n  });\r\n\r\nclass AppService {\r\n    generatePage(data) {\r\n        return axios({\r\n            method: 'POST',\r\n            url: `${proxyServerUrl}/generatePage`,\r\n            data,\r\n        });\r\n    }\r\n    fetchApi(host, method, api, params) {\r\n        return axios({\r\n            method: 'post',\r\n            url: `${proxyServerUrl}/fetchApi`,\r\n            data: {\r\n                host, \r\n                method,\r\n                api,\r\n                params,\r\n                appUrl: localStorage.getItem('appUrl'),\r\n                access_token: localStorage.getItem('access_token'),\r\n                MerchantId: localStorage.getItem('MerchantId'),\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport default AppService;","import React from 'react';\r\nimport AppService from '../service/AppService';\r\n\r\nconst ServicesMatch = {\r\n    AppService,\r\n};\r\n\r\nexport default function Service(name) {\r\n    return (Target) => {\r\n        return (props) => {\r\n            const newProps = Object.assign({}, props);\r\n            if (Object.hasOwnProperty.call(ServicesMatch, name)) {\r\n                const ServiceClass = ServicesMatch[name];\r\n                if (typeof ServiceClass === 'function') {\r\n                    newProps.service = new ServiceClass();\r\n                }\r\n            }\r\n            return (<Target {...newProps} />);\r\n        };\r\n    };\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport { Divider, Icon } from 'antd';\r\nimport './index.css';\r\n\r\nclass LineContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onDelete = this.onDelete.bind(this);\r\n    }\r\n    onDelete() {\r\n        const { onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({ deleteFlag: true });\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"fulu-cell-box line-box\">\r\n                <Divider />\r\n                <Icon type=\"close\" className=\"delete-line\" onClick={this.onDelete} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LineContainer;","const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n};\r\n\r\nexport default formItemLayout;","import React, { Fragment } from 'react';\r\nimport { Divider, Dropdown, Icon } from 'antd';\r\nimport { TRUE } from './Constants';\r\n\r\nconst renderMoreOpList = (opList) => {\r\n    return (\r\n        <span style={{ background: '#fff', display: 'block' }}>\r\n            {\r\n                opList.map(({opText, index}) => {\r\n                return (\r\n                    <a href=\"&nbsp;\" key={`op-${index}`} style={{ display: 'block' }}>\r\n                        {opText}\r\n                    </a>\r\n                );\r\n                })\r\n            }\r\n        </span>\r\n    );\r\n}\r\n\r\nconst renderMultOperation = (operationArr) => {\r\n    const [ firstItem, ...restItemArr ] = operationArr;\r\n    return (\r\n        <Fragment>\r\n            <a href=\"&nbsp;\">\r\n                {firstItem.opText}\r\n            </a>\r\n            <Divider type=\"vertical\" />\r\n            <Dropdown overlay={renderMoreOpList(restItemArr)}>\r\n                <a className=\"ant-dropdown-link\" href=\"&nbsp;\">\r\n                    更多<Icon type=\"down\" />\r\n                </a>\r\n            </Dropdown>\r\n        </Fragment>\r\n    );\r\n}\r\nconst renderNormalOperation = (operationArr) => {\r\n    const resultArr = [];\r\n    operationArr.forEach(({ opText, index }, i) => {\r\n        resultArr.push((\r\n            <Fragment key={`fr-${index}`}>\r\n                <a href=\"&nbsp;\" key={`op-${index}`}>{opText}</a>\r\n                {\r\n                    i !== operationArr.length -1\r\n                        ? <Divider type=\"vertical\" /> : null\r\n                }\r\n            </Fragment>)\r\n        );\r\n    });\r\n    return resultArr;\r\n}\r\n\r\nconst handleOperation = (columns = [], operationArr = [], context) => {\r\n    let opCol = null;\r\n    if (columns.length > 0 && columns[columns.length -1].title === '操作') {\r\n        opCol = columns[columns.length -1];\r\n    } else {\r\n        opCol = {\r\n            title: '操作',\r\n            dataIndex: 'operation',\r\n        };\r\n        columns.push(opCol);\r\n    }\r\n    opCol.render = (text, record) => {\r\n        if (!Array.isArray(operationArr)) {\r\n            return null;\r\n        }\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    operationArr.map(({ opText, opType, modalName, api = '', skipUrl }, i) => {\r\n                        const clickProps = {};\r\n                        if (opType === 'edit' || opType === 'view') {\r\n                            clickProps.onClick = (e) => {\r\n                                context.onShowModal(e, modalName, api, record);\r\n                            };\r\n                        } else if (opType === 'skip') { // 跳转\r\n                            clickProps.onClick = (e) => {\r\n                                window.location = skipUrl;\r\n                            };\r\n                        } else { // 删除\r\n                            clickProps.onClick = (e) => {\r\n                                context.props.execFetchApi(api, record);\r\n                            };\r\n                        }\r\n                        return (\r\n                            <>\r\n                                <a href=\"javascript:;\" key={`op-${i}`} {...clickProps}>\r\n                                    {opText}\r\n                                </a>\r\n                                { i !== operationArr.length - 1 ? <Divider type=\"vertical\" /> : null }\r\n                            </>\r\n                        );\r\n                    })\r\n                }\r\n            </Fragment>\r\n        );\r\n        // if (operationArr.length > 2) {\r\n        //     return (\r\n        //         <span>\r\n        //             {\r\n        //                 renderMultOperation(operationArr)\r\n        //             }\r\n        //         </span>\r\n        //     );\r\n        // } else {\r\n        //     return (\r\n        //         <span>\r\n        //             {\r\n        //                 renderNormalOperation(operationArr)\r\n        //             }\r\n        //         </span>\r\n        //     );\r\n        // }\r\n    };\r\n    return columns;\r\n}\r\n\r\nconst handleColumns = (values, configs, context) => {\r\n    const { operationArr = [], columns } = configs;\r\n    const newColumns = columns.slice();\r\n    Object.keys(values).forEach((k) => {\r\n        const val = values[k];\r\n        // 常规数据列\r\n        if (k.indexOf('-') > 0) {\r\n            const [ columnName, columnIndex ] = k.split('-');\r\n            const columnTarget = newColumns.find((item) => {\r\n                return item.index === +columnIndex;\r\n            });\r\n            if (columnTarget) {\r\n                columnTarget[columnName] = val;\r\n                if (columnName === 'width' && !val) {\r\n                    delete columnTarget.width;\r\n                }\r\n                if (columnName === 'fixed') {\r\n                    columnTarget[columnName] = TRUE === val;\r\n                }\r\n                delete values[k];\r\n            }\r\n        }\r\n    });\r\n    if (values.hasOperation === TRUE) {\r\n        return handleOperation(newColumns, operationArr, context); \r\n    }\r\n    // 序号列渲染处理\r\n    if (newColumns.length > 0 && newColumns[0].sortIndex === TRUE) {\r\n        newColumns[0].render = (record, index) => {\r\n            return (\r\n                <span>{index + 1}</span>\r\n            );\r\n        };\r\n    }\r\n    return newColumns;\r\n};\r\n\r\nconst getTableConfig = (values, configs, context) => {\r\n    const columns = handleColumns(values, configs, context);\r\n    const newConfigs = {\r\n        columns,\r\n    };\r\n    Object.keys(values).forEach((k) => {\r\n        const val = values[k];\r\n        if (k === 'pagination') { // 分页\r\n            if (val === TRUE) {\r\n                newConfigs.pagination = {\r\n                    pageSize: values.pageSize,\r\n                    pageSizeOptions: values.pageSizeOptions.split(','),\r\n                };\r\n            } else {\r\n                newConfigs[k] = TRUE === val;\r\n            }\r\n        } else if (k === 'rowSelection') {\r\n            if (val === TRUE) {\r\n                newConfigs.rowSelection = {\r\n                    type: values.type,\r\n                };\r\n                if (values.type === 'radio') {\r\n                    newConfigs.rowSelection.columnTitle = values.columnTitle;\r\n                }\r\n            } else {\r\n                newConfigs[k] = null;\r\n            }\r\n        } else {\r\n            newConfigs[k] = val;\r\n        }\r\n    });\r\n    return newConfigs;\r\n};\r\n\r\nexport {\r\n    getTableConfig,\r\n}\r\n\r\nexport default getTableConfig;","import moment from 'moment';\r\n\r\n/**\r\n * @desc 将moment对象转换成字符串\r\n * @param {*} date \r\n * @param {*} formatStr \r\n */\r\nconst transferDateToStr = (date, formatStr = 'YYYY-MM-DD') => {\r\n    if (date && date.format) {\r\n        return date.format(formatStr);\r\n    }\r\n    return date;\r\n};\r\n\r\nconst transferDateToMoment = (dateStr, formatStr = 'YYYY-MM-DD') => {\r\n    if (dateStr) {\r\n        return moment(dateStr, formatStr);\r\n    }\r\n    return dateStr;\r\n};\r\n\r\nexport default transferDateToStr;\r\n\r\nexport {\r\n    transferDateToStr,\r\n    transferDateToMoment,\r\n};","import moment from 'moment';\r\nimport { transferDateToStr } from './DateUtil';\r\nimport { FORM_QUERY, MODE_ADD, FORM_CONTAINER, FORM_SAVE } from './Constants';\r\n\r\nconst getFormData = (values, renderArr, hasIndex) => {\r\n    const formData = hasIndex ? [] : {};\r\n    Object.keys(values).forEach((valKey) => {\r\n        let fk = valKey;\r\n        if (hasIndex) {\r\n            if (valKey.indexOf('-') > 0) {\r\n                const [ k, i ] = valKey.split('-');\r\n                fk = k;\r\n                if (isContain(fk, renderArr)) {\r\n                    const item = findItemByRule(({ index }) => index === i, formData);\r\n                    if (item) {\r\n                        item[fk] = values[valKey];\r\n                    } else {\r\n                        formData.push({\r\n                            [fk]: values[valKey],\r\n                            index: i,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        } else if (isContain(fk, renderArr)) {\r\n            formData[fk] = values[valKey];\r\n        }\r\n    });\r\n    return formData;\r\n};\r\n\r\nconst getFormDataByIndex = (values, renderArr, i) => {\r\n    const result ={};\r\n    renderArr.forEach((k) => {\r\n        const indexK = `${k}-${i}`;\r\n        if (Object.hasOwnProperty.call(values, indexK)) {\r\n            result[k] = values[indexK];\r\n            delete values[indexK];\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nconst isContain = (matchKey, matchArr) => {\r\n    return !!findItemByRule(matchKey, matchArr);\r\n};\r\n\r\nconst findItemByRule = (rule, matchArr) => {\r\n    const isFn = typeof rule === 'function';\r\n    return matchArr.find((item) => {\r\n        return isFn ? rule(item) : item.key === rule;\r\n    });\r\n};\r\n\r\nconst getFormApi = (mode, formConfig) => {\r\n    const { formType, queryApi, addApi, editApi } = formConfig;\r\n    return formType === FORM_QUERY ? queryApi : mode === MODE_ADD ? addApi : editApi;\r\n};\r\n\r\nconst initForm = (form, layoutConfig, initData) => {\r\n    const formObj = layoutConfig.find(({ type, formType }) => {\r\n        return type === FORM_CONTAINER && formType === FORM_SAVE;\r\n    });\r\n    if (formObj && Array.isArray(formObj.formItemArr)) {\r\n        const formData = formObj.formItemArr.reduce((obj, item) => {\r\n            const { type, name, format = 'YYYY-MM-DD', dateKeys } = item;\r\n            if (type === 'DatePicker') {\r\n                obj[name] = moment(initData[name], format);\r\n            } else if (type === 'RangePicker' && dateKeys) {\r\n                const [ startTime, endTime ] = dateKeys;\r\n                if (initData[startTime] && initData[endTime]) {\r\n                    obj[name] = [moment(initData[startTime], format), moment(initData[endTime], format)];\r\n                }\r\n            } else {\r\n                obj[name] = initData[name];\r\n            }\r\n            return obj;\r\n        }, {});\r\n        form.setFieldsValue(formData);\r\n    }\r\n};\r\n\r\nconst getSubmitData = ({ formItemArr }, values) => {\r\n    formItemArr.forEach(({ type, name, dateKeys, format }) => {\r\n        if (type === 'DatePicker') {\r\n            values[name] = transferDateToStr(values[name], format);\r\n        } else if (type === 'RangePicker' && Array.isArray(values[name]) && values[name].length > 0)  {\r\n            const [ startTime, endTime ] = values[name];\r\n            const [startKey, endKey] = dateKeys.split(',');\r\n            values[startKey] = transferDateToStr(startTime, format);\r\n            values[endKey] = transferDateToStr(endTime, format);\r\n            delete values[name];\r\n        }\r\n    });\r\n    return values;\r\n};\r\n\r\nconst getFormByType = (layoutConfig = [], type = 'query') => {\r\n    return getFormArr(layoutConfig).find(({ formType }) => {\r\n        return type === formType;\r\n    });\r\n};\r\n\r\nconst getFormArr = (layoutConfig) => {\r\n    const formArr = layoutConfig.reduce((arr, item) => {\r\n        const { type, cellsArr } = item;\r\n        if (Array.isArray(cellsArr) && cellsArr.length > 0) {\r\n            arr.push(...getFormByType({ layoutConfig: cellsArr }));\r\n        } else if (type === FORM_CONTAINER) {\r\n            arr.push(item);\r\n        }\r\n        return arr;\r\n    }, []);\r\n    return formArr;\r\n};\r\n\r\nexport {\r\n    initForm,\r\n    getFormApi,\r\n    getFormData,\r\n    getFormByType,\r\n    getSubmitData,\r\n    getFormDataByIndex,\r\n};\r\n\r\nexport default getFormData;","import React, { Component, Fragment } from 'react';\r\nimport { Button, Card, Drawer, Divider, Collapse, Form, Input, Icon, Select } from 'antd';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport getTableConfig from '../../../utils/TableUtil';\r\nimport { getFormDataByIndex } from '../../../utils/FormUtil';\r\nimport { renderApiSelect, renderModalSelect } from '../../../utils/RenderUtil';\r\nimport { TRUE, FALSE } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\nconst Option = Select.Option;\r\n\r\nconst fLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 10 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 14 },\r\n    },\r\n};\r\n\r\nclass TableEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            configs: props.configs,\r\n        };\r\n        this.setColumnMaxIndex(props);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAddColumn = this.onAddColumn.bind(this);\r\n        this.onDeleteColumn = this.onDeleteColumn.bind(this);\r\n        this.onAddOperation = this.onAddOperation.bind(this);\r\n        this.onDeleteOperation = this.onDeleteOperation.bind(this);\r\n        this.renderOperationBtn = this.renderOperationBtn.bind(this);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.visible !== this.props.visible && nextProps.visible) {\r\n            this.setState({\r\n                configs: nextProps.configs,\r\n            });\r\n            this.setColumnMaxIndex(nextProps);\r\n            this.setOperationMaxIndex(nextProps);\r\n        }\r\n    }\r\n    setColumnMaxIndex({ configs }) {\r\n        const { columns = [] } = configs;\r\n        this.columnMaxIndex = columns.length || 0;\r\n    }\r\n    setOperationMaxIndex({ configs }) {\r\n        const { operationArr = [] } = configs;\r\n        this.operationMaxIndex = operationArr.length || 0;\r\n    }\r\n    addColumnMaxIndex() {\r\n        this.columnMaxIndex += 1;\r\n    }\r\n    addOperationMaxIndex() {\r\n        this.operationMaxIndex += 1;\r\n    }\r\n    onAddOperation() {\r\n        const { configs } = this.state;\r\n        const { operationArr = [] } = configs;\r\n        const newOperationArr = operationArr.slice();\r\n        const opreationIndex = this.operationMaxIndex;\r\n        newOperationArr.push({\r\n            opText: \"操作\",\r\n            index: opreationIndex,\r\n        });\r\n        this.setState({\r\n            configs: this.getNewConfigs('operationArr', newOperationArr),\r\n        });\r\n        this.addOperationMaxIndex();\r\n    }\r\n    onAddColumn() {\r\n        const { configs } = this.state;\r\n        const { columns } = configs;\r\n        const newColumns = columns.slice();\r\n        const columnIndex = this.columnMaxIndex;\r\n        newColumns.push({\r\n            title: `column${columnIndex}`,\r\n            dataIndex: `dataIndex${columnIndex}`,\r\n            index: columnIndex,\r\n        });\r\n        this.setState({\r\n            configs: this.getNewConfigs('columns', newColumns),\r\n        });\r\n        this.addColumnMaxIndex();\r\n    }\r\n    onDeleteOperation(index) {\r\n        const { configs } = this.state;\r\n        const { operationArr } = configs;\r\n        const newOperationArr = operationArr.reduce((arr, item) => {\r\n            if (item.index !== index) {\r\n                arr.push(Object.assign({}, item));\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.operationArr = newOperationArr;\r\n        this.setState({\r\n            configs: this.getNewConfigs('operationArr', newOperationArr),\r\n        });\r\n    }\r\n    onDeleteColumn(columnIndex) {\r\n        const { configs } = this.state;\r\n        const { columns } = configs;\r\n        const newColumns = columns.reduce((arr, item) => {\r\n            if (item.index !== columnIndex) {\r\n                arr.push(Object.assign({}, item));\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.columns = newColumns;\r\n        this.setState({\r\n            configs: this.getNewConfigs('columns', newColumns),\r\n        });\r\n    }\r\n    getNewConfigs(k, v) {\r\n        const { configs } = this.state;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs[k] = v;\r\n        return newConfigs;\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const { context, form, onUpdateLayoutConfig } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { configs } = this.state;\r\n                const newOperationArr = [];\r\n                // 有操作列\r\n                if (values.hasOperation === TRUE) {\r\n                    const { operationArr = [] } = configs;\r\n                    const opArr = ['opText', 'opType', 'modalName', 'modalData', 'api', 'skipUrl'];\r\n                    for (let i = 0; i< operationArr.length; i++) {\r\n                        const { index } = operationArr[i];\r\n                        newOperationArr.push(Object.assign(operationArr[i], getFormDataByIndex(values, opArr, index)));\r\n                    }\r\n                }\r\n                const newConfigs = getTableConfig(values, configs, context);\r\n                newConfigs.operationArr = newOperationArr;\r\n                delete newConfigs.pageSize;\r\n                delete newConfigs.pageSizeOptions;\r\n                delete newConfigs.type;\r\n                delete newConfigs.columnTitle;\r\n                onUpdateLayoutConfig(newConfigs);\r\n            }\r\n        });\r\n    }\r\n    renderPanelHeader({ title, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{title}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteColumn(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderOperationHeader({ opText, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{opText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteOperation(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderCollapse() {\r\n        const { form } = this.props;\r\n        const { configs } = this.state;\r\n        const { columns = [] } = configs;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Collapse>\r\n                {\r\n                    columns.map((item, i) => {\r\n                        const { title, index, dataIndex, width, sortIndex, align = 'left', fixed = false } = item;\r\n                        if (title === '操作' && i === columns.length -1) {\r\n                            return null;\r\n                        }\r\n                        return (\r\n                            <Panel header={this.renderPanelHeader(item)} key={`${title}-${index}`}>\r\n                                <Form.Item label=\"title\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`title-${index}`, { \r\n                                        rules: [{ required: true, message: '请输入title!' }],\r\n                                        initialValue: title,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"dataIndex\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`dataIndex-${index}`, { \r\n                                        rules: [{ required: true, message: 'dataIndex!' }],\r\n                                        initialValue: dataIndex,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"width\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`width-${index}`, {\r\n                                        initialValue: width || '',\r\n                                    }, {\r\n                                        rules: [{ pattern: /^\\d+(%)?$/, message: '请输入数字或者百分比!' }]\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                {\r\n                                    i === 0 ? (\r\n                                        <Form.Item label=\"序号列\" {...formItemLayout}>\r\n                                            {getFieldDecorator(`sortIndex-${index}`, {\r\n                                                initialValue: sortIndex,\r\n                                            })(\r\n                                                <Select placeholder=\"是否显示序号\">\r\n                                                    <Option value=\"0\">false</Option>\r\n                                                    <Option value=\"1\">true</Option>\r\n                                                </Select>\r\n                                            )}\r\n                                        </Form.Item>\r\n                                    ): null\r\n                                }\r\n                                <Form.Item label=\"align\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`align-${index}`, { \r\n                                        initialValue: align,\r\n                                    })(\r\n                                        <Select>\r\n                                            <Option value={'left'}>left</Option>\r\n                                            <Option value={'right'}>right</Option>\r\n                                            <Option value={'center'}>center</Option>\r\n                                        </Select>\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"fixed\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`fixed-${index}`, { \r\n                                        initialValue: fixed ? \"1\" : \"0\",\r\n                                    })(\r\n                                        <Select>\r\n                                            <Option value=\"0\">false</Option>\r\n                                            <Option value=\"1\">true</Option>\r\n                                        </Select>\r\n                                    )}\r\n                                </Form.Item>\r\n                            </Panel>\r\n                        );\r\n                    })\r\n                }\r\n            </Collapse>\r\n        );\r\n    }\r\n    renderOperationBtn(btnConfig) {\r\n        const { form, layerConfig } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { index, opText, opType, modalName, modalData, api, skipUrl } = btnConfig;\r\n        const _opType = form.getFieldValue(`opType-${index}`);\r\n        return (\r\n            <Panel header={this.renderOperationHeader(btnConfig)} key={`op-${index}`}>\r\n                <Form.Item label=\"文字\" {...formItemLayout}>\r\n                    {getFieldDecorator(`opText-${index}`, { \r\n                        initialValue: opText,\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"类型\" {...formItemLayout}>\r\n                    {getFieldDecorator(`opType-${index}`, { \r\n                        initialValue: opType,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"edit\">编辑(弹窗)</Option>\r\n                            <Option value=\"view\">查看(弹窗)</Option>\r\n                            <Option value=\"delete\">删除</Option>\r\n                            <Option value=\"skip\">跳转</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    _opType === 'edit' || _opType === 'view' ? renderModalSelect(layerConfig, form, modalName, index) : null\r\n                }\r\n                {\r\n                    _opType === 'edit' || _opType === 'view' ? (\r\n                        <Form.Item label=\"数据来源\" {...formItemLayout}>\r\n                            {getFieldDecorator(`modalData-${index}`, {\r\n                                rules: [{ required: true, message: '选择数据来源' }],\r\n                                initialValue: modalData,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"table\">表格</Option>\r\n                                    <Option value=\"api\">接口调用</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                    ) : null\r\n                }\r\n                {\r\n                     _opType === 'skip' ? (\r\n                        <Form.Item label=\"路径地址\" {...formItemLayout}>\r\n                            {getFieldDecorator(`skipUrl-${index}`, {\r\n                                rules: [{ required: true, message: '输入路径地址' }],\r\n                                initialValue: skipUrl,\r\n                            })(\r\n                                <Input />\r\n                            )}\r\n                        </Form.Item>\r\n                    ) : null\r\n                }\r\n                {\r\n                    form.getFieldValue(`modalData-${index}`) === 'api' || _opType === 'delete' ?\r\n                        renderApiSelect(layerConfig, form, { initialValue: api, key: index }) : null\r\n                }\r\n            </Panel>\r\n        )\r\n    }\r\n    renderTableProps() {\r\n        const { form } = this.props;\r\n        const { configs } = this.state;\r\n        const { getFieldDecorator } = form;\r\n        const {  operationArr = [], pagination, rowSelection, hasOperation = FALSE, rowKey } = configs;\r\n        const { pageSize = 10, pageSizeOptions = '10,20,30' } = pagination || {};\r\n        const { type = 'checkbox', columnTitle = '选择' } = rowSelection || {};\r\n        const hasPagination = Object.keys(pagination || {}).length > 0 ? TRUE : FALSE;\r\n        const hasRowSelection = Object.keys(rowSelection || {}).length > 0 ? TRUE : FALSE;\r\n        return (\r\n            <Fragment>\r\n                <Form.Item label=\"操作列\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"hasOperation\", { \r\n                        initialValue: hasOperation,\r\n                    })(\r\n                        <Select>\r\n                            <Option value={FALSE}>无</Option>\r\n                            <Option value={TRUE}>有</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('hasOperation') === TRUE ? // 操作列\r\n                        [\r\n                            <Collapse key=\"op-collapse\">\r\n                                {\r\n                                    operationArr.map(this.renderOperationBtn)\r\n                                }\r\n                            </Collapse>,\r\n                            <Fragment key=\"op-collapse-btns\">\r\n                                {\r\n                                    form.getFieldValue('hasOperation') === TRUE ?\r\n                                        (<div className=\"btn-add-box\">\r\n                                            <Button\r\n                                                type=\"dashed\"\r\n                                                size=\"large\"\r\n                                                onClick={this.onAddOperation}\r\n                                            >\r\n                                                添加操作项\r\n                                            </Button>\r\n                                        </div>) : null\r\n                                }\r\n                            </Fragment>\r\n                        ] : null\r\n                }\r\n                <Form.Item label=\"pagination\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"pagination\", { \r\n                        initialValue: hasPagination,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">false</Option>\r\n                            <Option value=\"1\">true</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"rowKey\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"rowKey\", { \r\n                        initialValue: rowKey,\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('pagination') === '1' ?\r\n                    <Card title=\"pagination配置\">\r\n                        <Form.Item label=\"pageSize\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"pageSize\", { \r\n                                initialValue: pageSize,\r\n                            })(\r\n                                <Input />\r\n                            )}\r\n                        </Form.Item>\r\n                        <Form.Item label=\"pageSizeOptions\" {...fLayout}>\r\n                            {getFieldDecorator(\"pageSizeOptions\", { \r\n                                initialValue: Array.isArray(pageSizeOptions)\r\n                                    ? pageSizeOptions.join(',') : pageSizeOptions,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"10,20,30\">10,20,30</Option>\r\n                                    <Option value=\"10,20,30,40\">10,20,30,40</Option>\r\n                                    <Option value=\"20,30,40\">20,30,40</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                    </Card> : null\r\n                }\r\n                <Form.Item label=\"rowSelection\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"rowSelection\", { \r\n                        initialValue: hasRowSelection,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">false</Option>\r\n                            <Option value=\"1\">true</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('rowSelection') === '1' ?\r\n                    <Card title=\"rowSelection配置\">\r\n                        <Form.Item label=\"type\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"type\", { \r\n                                initialValue: type,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"checkbox\">checkbox</Option>\r\n                                    <Option value=\"radio\">radio</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                        {\r\n                            form.getFieldValue('type') === 'radio' ?\r\n                                <Form.Item label=\"columnTitle\" {...formItemLayout}>\r\n                                    {getFieldDecorator(\"columnTitle\", { \r\n                                        initialValue: columnTitle,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item> : null\r\n                        }\r\n                    </Card> : null\r\n                }\r\n                {/* <Form.Item label=\"模拟数据\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"mockData\", {\r\n                        initialValue: mockData,\r\n                    })(\r\n                        <Input placeholder=\"请输入数据条数\" />\r\n                    )}\r\n                </Form.Item> */}\r\n            </Fragment>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, onClose, onDeleteContainer, form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { configs } = this.state;\r\n        const {  dataSrouce } = configs;\r\n        return (\r\n            <Drawer\r\n                title=\"表格编辑\"\r\n                maskClosable={false}\r\n                width={420}\r\n                onClose={onClose}\r\n                visible={visible}\r\n            >\r\n                <Form onSubmit={this.onSubmit}>\r\n                    <Divider>表头</Divider>\r\n                    {this.renderCollapse()}\r\n                    <div className=\"btn-add-box\">\r\n                        <Button\r\n                            type=\"dashed\"\r\n                            size=\"large\"\r\n                            onClick={this.onAddColumn}\r\n                        >\r\n                            添加表头列\r\n                        </Button>\r\n                    </div>\r\n                    <Divider>表格属性</Divider>\r\n                    {this.renderTableProps()}\r\n                    <Divider>数据源</Divider>\r\n                    <Form.Item label=\"dataSrouce\" {...formItemLayout}>\r\n                        {getFieldDecorator(\"modelKey\", {\r\n                            initialValue: dataSrouce,\r\n                        })(\r\n                            <Input placeholder=\"model key\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item style={{ marginTop: '20px', textAlign: 'center' }}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(TableEdit);","import React, { Component } from 'react';\r\nimport { Icon } from 'antd';\r\nimport { Table } from 'fl-pro';\r\nimport { TABLE_CONTAINER } from '../../../utils/Constants';\r\nimport TableEdit from '../../EditDrawer/TableEdit';\r\n\r\nimport './index.css';\r\n\r\nclass TableContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n        };\r\n        this.onClose = this.onClose.bind(this);\r\n        this.onShowEditTable = this.onShowEditTable.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onPageIndexChange = this.onPageIndexChange.bind(this);\r\n        this.onShowSizeChange = this.onShowSizeChange.bind(this);\r\n    }\r\n    onShowEditTable() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onClose(e) {\r\n        e.stopPropagation();\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onUpdateConfigs(newConfigs) {\r\n        const { configs, onUpdateLayoutConfig } = this.props;\r\n        const { layoutIndex } = configs;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex,\r\n            type: TABLE_CONTAINER,\r\n            ...newConfigs\r\n        });\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { configs, onUpdateLayoutConfig } = this.props;\r\n        const { layoutIndex } = configs;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex,\r\n            deleteFlag: true,\r\n        });\r\n    }\r\n    getMockDataSource(columns, dataSize) {\r\n        const ds = [];\r\n        for (let i = 0; i < dataSize; i++) {\r\n            const dsItem = {};\r\n            columns.forEach((item) => {\r\n                Object.keys(item).forEach((k) => {\r\n                    dsItem[item.dataIndex] = `${item.dataIndex}-${i}`;\r\n                });\r\n            });\r\n            ds.push(dsItem);\r\n        }\r\n        return ds;\r\n    }\r\n    getModelKey() {\r\n        const { configs = {} } = this.props;\r\n        const { modelKey } = configs;\r\n        return modelKey;\r\n    }\r\n    onPageIndexChange(page, pageSize) {\r\n        this.props.onPageIndexChange(page, pageSize, this.getModelKey());\r\n    }\r\n    onShowSizeChange(current, size) {\r\n        this.props.onShowSizeChange(current, size, this.getModelKey());\r\n    }\r\n    getRowSelection(rowSelection, sRowKeys) {\r\n        const { context } = this.props;\r\n        if (rowSelection) {\r\n            rowSelection.selectedRowKeys = sRowKeys;\r\n            rowSelection.onChange = (selectedRowKeys, selectedRows) => {\r\n                context.setState({\r\n                    selectedRowKeys,\r\n                    selectedRows,\r\n                });\r\n            };\r\n        }\r\n        return rowSelection;\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { configs = {}, apiData = {}, currentPage, pageSize, context, layerConfig, preview = false } = this.props;\r\n        const { GuiContext } = context;\r\n        const { pagination = false, rowSelection = null, columns = [], modelKey, mockData, rowKey } = configs;\r\n        const copyColumns = columns.slice();\r\n        const mockDataNum = (/^\\d+$/).test(mockData) ? +mockData : 0;\r\n        // 是否存在api接口返回的数据项\r\n        const hasApiDataSource = modelKey && Object.hasOwnProperty.call(apiData, modelKey);\r\n        const dataSource = hasApiDataSource ? apiData[modelKey] : this.getMockDataSource(columns, mockDataNum);\r\n        // 有分页属性\r\n        if (pagination) {\r\n            pagination.showQuickJumper = true;\r\n            pagination.showSizeChanger = true;\r\n            pagination.current = currentPage;\r\n            pagination.pageSize = pageSize;\r\n            pagination.total = hasApiDataSource ? apiData[`${modelKey}Total`] : mockDataNum;\r\n            pagination.onChange = this.onPageIndexChange;\r\n            pagination.onShowSizeChange = this.onShowSizeChange;\r\n        }\r\n        return (\r\n            <div className={`table-container container ${preview ? 'preview-box' : ''}`}>\r\n                <GuiContext.Consumer>\r\n                    {\r\n                        ({ selectedRowKeys }) =>\r\n                            <Table\r\n                                columns={copyColumns}\r\n                                bordered\r\n                                dataSource={dataSource}\r\n                                pagination={pagination}\r\n                                rowSelection={this.getRowSelection(rowSelection, selectedRowKeys)}\r\n                                rowKey={rowKey}\r\n                            />\r\n                    }\r\n                </GuiContext.Consumer>\r\n                <TableEdit\r\n                    visible={visible}\r\n                    layerConfig={layerConfig}\r\n                    configs={configs}\r\n                    context={context}\r\n                    onClose={this.onClose}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                    onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                />\r\n                {\r\n                    !preview ? \r\n                        <Icon type=\"form\" className=\"icon-operation\" onClick={this.onShowEditTable} /> : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TableContainer;","import { PureComponent } from 'react';\r\n\r\nclass BaseContainer extends PureComponent {\r\n    onUpdateConfigs(newConfigs) {\r\n        const { onUpdateLayoutConfig } = this.props;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            onUpdateLayoutConfig({\r\n                layoutIndex: this.getContainerIndex(),\r\n                type: this.getContainerType(),\r\n                ...newConfigs,\r\n            });\r\n        });\r\n    }\r\n    onToggleEditDrawer() {\r\n        this.setState({\r\n            visible: !this.state.visible,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex: this.getContainerIndex(),\r\n            deleteFlag: true,\r\n        });\r\n        this.onToggleEditDrawer();\r\n    }\r\n    getContainerIndex() {\r\n        const { configs } = this.props;\r\n        return configs.layoutIndex;\r\n    }\r\n    getContainerType() {\r\n        const { configs } = this.props;\r\n        return configs.type;\r\n    }\r\n    _render() {\r\n        return null;\r\n    }\r\n    render() {\r\n        return this._render();\r\n    }\r\n}\r\n\r\nexport default BaseContainer;","import React, { Component } from 'react';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\n\r\nclass DropRender extends Component {\r\n\trender() {\r\n\t\tconst { configs = {}, ...restProps } =this.props;\r\n\t\tconst { cellStyles, textAlign = 'center', type } = configs;\r\n\t\tconst styleObj = type === 'Button' ? Object.assign({}, cellStyles, { textAlign }) : cellStyles;\r\n\t\treturn (\r\n\t\t\t<div style={styleObj}>\r\n                {\r\n                    renderComponent(configs, restProps)\r\n                }\r\n\t\t    </div>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default DropRender;","/**\r\n * 计算表单单元格跨列\r\n * @param {*} colIndex \r\n * @param {*} originSpan \r\n * @param {*} formItemArr \r\n * @param {*} colSpanArr \r\n */\r\nconst getCellColSpan = (colIndex, originSpan = 1, formItemArr = [], colSpanArr = []) => {\r\n    let finalColSpan = 0;\r\n    // 占据整行\r\n    if (originSpan === colSpanArr.length) {\r\n        finalColSpan = 24;\r\n    } else {\r\n        let locationIndex = 0;\r\n        let total = 0;\r\n        for (let i = 0; i < formItemArr.length; i++) {\r\n            if (formItemArr[i].colIndex >= colIndex) {\r\n                total = total % 24;\r\n                if (total === 0) {\r\n                    locationIndex = 0;\r\n                } else {\r\n                    for (let j = 0; j < colSpanArr.length; j++) {\r\n                        total -= colSpanArr[j];\r\n                        if (total <= 0) {\r\n                            locationIndex = j + 1;\r\n                            j = colSpanArr.length;\r\n                        }\r\n                    }\r\n                }\r\n                i = formItemArr.length;\r\n            } else {\r\n                total += formItemArr[i].colSpan;\r\n            }\r\n        }\r\n        let start = 0;\r\n        let end = 0;\r\n        // 不换行显示\r\n        if (originSpan <= colSpanArr.length - locationIndex) {\r\n            start = locationIndex;\r\n        }\r\n        end = start + originSpan - 1;\r\n        for(; start <= end; start++) {\r\n            finalColSpan += colSpanArr[start];\r\n        }\r\n    }\r\n    return finalColSpan;\r\n};\r\n\r\nconst strToObj = (str, separator = ';') => {\r\n    if (str) {\r\n        return str.split(separator).reduce((styleObj, styleStr) => {\r\n            const [ name, value ] = styleStr.split(':');\r\n            if (name && value) {\r\n                styleObj[name] = value.replace(/['\"\\s]/g, '');\r\n            }\r\n            return styleObj;\r\n        }, {});\r\n    }\r\n    return {};\r\n};\r\n\r\nconst objToStr = (objLike, separator = ';') => {\r\n    if (Object.prototype.toString.call(objLike) === '[object Object]') {\r\n        return Object.keys(objLike).reduce((arr, k) => {\r\n            arr.push(`${k}:${objLike[k]}`);\r\n            return arr;\r\n        }, []).join(separator);\r\n    } else if (Array.isArray(objLike)) {\r\n        return objLike.join(separator);\r\n    }\r\n    return objLike;\r\n};\r\n\r\nexport default getCellColSpan;\r\n\r\nexport {\r\n    strToObj,\r\n    objToStr,\r\n};","const ButtonSaveKeys = ['btnText', 'antdType', 'skipUrl', 'api', 'modalName'];\r\nexport {\r\n    ButtonSaveKeys,\r\n};","import React, { Component, Fragment } from 'react';\r\nimport { Card, DatePicker, Select, Icon, Input, Form, Collapse } from 'antd';\r\nimport getCellColSpan, { strToObj } from '../../utils/CellUtil';\r\nimport formItemLayout from '../../configs/layout';\r\nimport { ButtonSaveKeys } from '../../configs/saveConfigs';\r\nimport { renderModalSelect, renderApiSelect } from '../../utils/RenderUtil';\r\nimport { TRUE } from '../../utils/Constants';\r\n\r\nconst { Option } = Select;\r\nconst Panel = Collapse.Panel;\r\nconst allowCallApi = ['import', 'export', 'edit', 'view', 'mult'];\r\nconst allowCallModal = ['add', 'edit', 'view'];\r\n\r\nclass BaseEdit extends Component {\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n            deleteComponent: false,\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.onAddListItem = this.onAddListItem.bind(this);\r\n        this.onDeleteButton = this.onDeleteButton.bind(this);\r\n        this.onDeleteListItem = this.onDeleteListItem.bind(this);\r\n        this.onDeleteComponent = this.onDeleteComponent.bind(this);\r\n        this.renderBtnPanelHeader = this.renderBtnPanelHeader.bind(this);\r\n    }\r\n    getItemSetType() {\r\n        return [];\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n\t\tconst { configs = {} } = nextProps;\r\n        const { type } = configs;\r\n\t\tif (~this.getItemSetType().indexOf(type) && !this[`init${type}`] && nextProps.visible) {\r\n\t\t\tconst lowerCaseType = type.toLowerCase();\r\n\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\tconst stateVal =  configs[stateKey] || [];\r\n\t\t\tthis.setState({\r\n\t\t\t\t[stateKey]: stateVal,\r\n            });\r\n\t\t\tthis[`${lowerCaseType}Index`] = stateVal.length;\r\n\t\t\tthis[`init${type}`] = true;\r\n\t\t}\r\n\t}\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tconst { deleteComponent, buttonArr } = this.state;\r\n        const { form, onUpdateConfigs, configs, colSpanArr,\r\n            formItemArr, inForm = false } = this.props;\r\n        const itemSetType = this.getItemSetType();\r\n\t\tform.validateFields((err, values) => {\r\n\t        if (!err) {\r\n\t\t\t\tconst newConfigs = Object.assign({}, configs, values);\r\n\t\t\t\tnewConfigs.cellStyles = strToObj(values.cellStyles);\r\n\t\t\t\tif (deleteComponent) {\r\n\t\t\t\t\tnewConfigs.deleteFlag = true;\r\n\t\t\t\t}\r\n\t\t\t\tconst configType = newConfigs.type;\r\n\t\t\t\tif (~itemSetType.indexOf(configType) && configType !== 'Button') {\r\n\t\t\t\t\tconst lowerCaseType = configType.toLowerCase();\r\n\t\t\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\t\t\tconst newList = this.state[stateKey].slice();\r\n\t\t\t\t\tnewList.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst kLabel = `${lowerCaseType}Label-${index}`;\r\n\t\t\t\t\t\tconst kValue = `${lowerCaseType}Value-${index}`;\r\n\t\t\t\t\t\titem.label = values[kLabel];\r\n\t\t\t\t\t\titem.value= values[kValue];\r\n\t\t\t\t\t\tdelete newConfigs[kLabel];\r\n\t\t\t\t\t\tdelete newConfigs[kValue];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewConfigs[stateKey] = newList;\r\n\t\t\t\t} else if (configType === 'DatePicker' || configType === 'RangePicker') {\r\n\t\t\t\t\tconst { format } = values;\r\n\t\t\t\t\tnewConfigs.showTime = values.showTime === TRUE;\r\n\t\t\t\t\tif (configType === 'DatePicker') {\r\n\t\t\t\t\t\tnewConfigs.initialValue = values.initialValue && values.initialValue.format(format);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (configType === 'Button') {\r\n\t\t\t\t\tconst newButtonArr = buttonArr.slice();\r\n\t\t\t\t\tnewButtonArr.forEach((item) => {\r\n\t\t\t\t\t\tconst { btnIndex } = item;\r\n\t\t\t\t\t\tButtonSaveKeys.forEach((sKey) => {\r\n\t\t\t\t\t\t\tconst itemKey = `${sKey}-${btnIndex}`;\r\n\t\t\t\t\t\t\titem[sKey] = values[itemKey];\r\n\t\t\t\t\t\t\tdelete newConfigs[itemKey];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (item.logicType === 'expand') {\r\n\t\t\t\t\t\t\tconst expandCount = `expandCount-${btnIndex}`;\r\n\t\t\t\t\t\t\titem.expandCount = values[expandCount];\r\n\t\t\t\t\t\t\tdelete newConfigs[expandCount];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewConfigs.buttonArr = newButtonArr;\r\n\t\t\t\t}\r\n\t\t\t\tif (inForm) {\r\n\t\t\t\t\tconst { originSpan = 1 } = values;\r\n\t\t\t\t\tnewConfigs.originSpan = originSpan;\r\n\t\t\t\t\tnewConfigs.colSpan = getCellColSpan(newConfigs.colIndex, originSpan,\r\n\t\t\t\t\t\tformItemArr, colSpanArr);\r\n\t\t\t\t}\r\n\t\t\t\tthis.onCloseEdit();\r\n\t\t\t\tonUpdateConfigs(newConfigs);\r\n\t\t\t}\r\n\t\t});\r\n    }\r\n    onCloseEdit() {\r\n\t\tthis.getItemSetType().forEach((type) => {\r\n\t\t\tthis[`init${type}`] = false;\r\n        });\r\n\t\tthis.initBtn = false;\r\n        this.setState({\r\n\t\t\tdeleteComponent: false,\r\n        });\r\n    }\r\n    onDeleteComponent() {\r\n        this.setState({\r\n\t\t\tdeleteComponent: true,\r\n        });\r\n    }\r\n    onDeleteButton(btnIndex) {\r\n\t\tconst { buttonArr = [] } = this.state;\r\n\t\tconst newButtonArr = buttonArr.reduce((arr, item) => {\r\n\t\t\tif (item.btnIndex !== btnIndex) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tbuttonArr: newButtonArr,\r\n\t\t});\r\n\t}\r\n    onDeleteListItem(index, key) {\r\n\t\tconst stateKey = `${key}Arr`;\r\n\t\tconst list = this.state[stateKey];\r\n\t\tconst newList = list.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\t[stateKey]: newList,\r\n\t\t});\r\n    }\r\n    onAddListItem(key) {\r\n\t\tconst stateKey = `${key}Arr`;\r\n\t\tconst list = this.state[stateKey];\r\n\t\tconst newList = list.slice();\r\n\t\tnewList.push({\r\n\t\t\tlabel: '',\r\n\t\t\tvalue: '',\r\n\t\t\tindex: this[`${key}Index`],\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\t[stateKey]: newList,\r\n\t\t});\r\n\t\tthis[`${key}Index`] += 1;\r\n    }\r\n    renderDefaultValueItem() {\r\n\t\tconst { configs = {}, form } = this.props;\r\n\t\tconst { type, initialValue, text } = configs;\r\n        const { getFieldDecorator } = form;\r\n        const itemSetType = this.getItemSetType();\r\n\t\tif (~itemSetType.indexOf(type)) {\r\n\t\t\tconst lowerCaseType = type.toLowerCase();\r\n\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\tconst list = this.state[stateKey] || [];\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\t\tinitialValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select allowClear>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlist.map((item) => {\r\n\t\t\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\t\t\tconst optionValue = form.getFieldValue(`${lowerCaseType}Value-${index}`);\r\n\t\t\t\t\t\t\t\tconst optionText = form.getFieldValue(`${lowerCaseType}Label-${index}`);\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Option value={optionValue} key={`op-${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t{`${optionValue}/${optionText}`}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t);\r\n\t\t} else if (type === 'DatePicker') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\tinitialValue,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<DatePicker style={{ width: '100%' }} />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'Input') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\t\tinitialValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'Text') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"text\">\r\n\t\t\t\t\t{getFieldDecorator('text', {\r\n\t\t\t\t\t\tinitialValue: text,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>);\r\n\t\t}  else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n    renderBtnPanelHeader({ btnText, btnIndex }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{btnText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteButton(btnIndex);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderTabs() {\r\n\t\treturn this.renderItemSettingCard({ title: 'tab设置', dataKey:'tabs' });\r\n\t}\r\n\trenderBreadcrumb() {\r\n\t\treturn this.renderItemSettingCard({\r\n\t\t\ttitle: 'breadcrumb设置',\r\n\t\t\tdataKey: 'breadcrumb',\r\n\t\t\tlabPlaceholder: '名称',\r\n\t\t\tvalPlaceholder: '路径',\r\n\t\t});\r\n\t}\r\n    renderSelect() {\r\n\t\treturn this.renderItemSettingCard({ title: 'select设置', dataKey:'select' });\r\n\t}\r\n\trenderRadio() {\r\n\t\treturn this.renderItemSettingCard({ title: 'radio设置', dataKey:'radio' });\r\n\t}\r\n\trenderCheckbox() {\r\n\t\treturn this.renderItemSettingCard({ title: 'checkbox设置', dataKey:'checkbox' });\r\n\t}\r\n    renderItemSettingCard({ title, dataKey, labPlaceholder = 'label', valPlaceholder = 'value' }) {\r\n\t\tconst { form } = this.props;\r\n\t\tconst stateKey = `${dataKey}Arr`;\r\n        const itemList = this.state[stateKey] || [];\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle={title}\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={() => {\r\n\t\t\t\t\tthis.onAddListItem(dataKey);\r\n\t\t\t\t}} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\titemList.map(({ label, value, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`${dataKey}-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`${dataKey}-label-${index}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`${dataKey}Label-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: label,\r\n\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: labPlaceholder }]\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder={labPlaceholder} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`${dataKey}-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`${dataKey}Value-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder={valPlaceholder} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteListItem(index, dataKey);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trenderBtnExpand(btnConfig) {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { btnIndex, expandCount } = btnConfig;\r\n\t\treturn (\r\n\t\t\t<Form.Item\r\n\t\t\t\tkey={`expandCount-${btnIndex}`}\r\n\t\t\t\tlabel=\"折叠可见数\"\r\n\t\t\t\t{...formItemLayout}\r\n\t\t\t>\r\n\t\t\t\t{form.getFieldDecorator(`expandCount-${btnIndex}`, {\r\n\t\t\t\t\trules: [{\r\n\t\t\t\t\t\trequired: 'true', message: '折叠可见数',\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tinitialValue: expandCount,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<Input placeholder=\"expandCount\" />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>\r\n\t\t);\r\n\t}\r\n\trenderApiItem({ btnIndex, api, logicType }) {\r\n\t\tconst { layerConfig = {}, form } = this.props;\r\n\t\t// 容许配置api调用属性\r\n\t\tif (allowCallApi.indexOf(logicType) >= 0) {\r\n\t\t\treturn renderApiSelect(layerConfig, form, { initialValue: api, key: btnIndex });\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderModalItem({ btnIndex, modalName, logicType }) {\r\n\t\tconst { layerConfig = {}, form } = this.props;\r\n\t\t// 容许配置modal\r\n\t\tif (allowCallModal.indexOf(logicType) >= 0) {\r\n\t\t\treturn renderModalSelect(layerConfig, form, modalName, btnIndex);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderBtnCard() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { buttonArr = [] } = this.state;\r\n\t\tconst activeKeyArr = buttonArr.reduce((arr, { btnIndex }) => {\r\n\t\t\tarr.push(`btn-${btnIndex}`);\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\treturn (\r\n\t\t\t<Card title=\"按钮区域\">\r\n\t\t\t\t<Collapse defaultActiveKey={activeKeyArr}>\r\n\t\t\t\t{\r\n\t\t\t\t\tbuttonArr.map((item) => {\r\n\t\t\t\t\t\tconst { btnIndex, btnText, antdType = '', htmlType = 'button', logicType, textDisabled, skipUrl } = item;\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Panel header={this.renderBtnPanelHeader(item)} key={`btn-${btnIndex}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`btnText-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\tlabel=\"按钮文字\"\r\n\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`btnText-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: btnText,\r\n\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: '按钮文字' }],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"按钮文字\" disabled={textDisabled} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlogicType !== 'expand' ? \r\n\t\t\t\t\t\t\t\t\t\t(<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`antdType-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"type\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`antdType-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\tinitialValue: antdType,\r\n\t\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select placeholder=\"按钮类型\" disabled={htmlType === 'submit' || htmlType === 'reset'}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"primary\">primary</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"dashed\">dashed</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"danger\">danger</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"\">none</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.renderApiItem(item)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.renderModalItem(item)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlogicType === 'expand' ? this.renderBtnExpand(item) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlogicType === 'skip' ?\r\n\t\t\t\t\t\t\t\t\t\t(<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`skipUrl-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"路径地址\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`skipUrl-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: '输入路径地址' }],\r\n\t\t\t\t\t\t\t\t\t\t\t\tinitialValue: skipUrl,\r\n\t\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t</Collapse>\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default BaseEdit;","import React, { Fragment } from 'react';\r\nimport { Button, Drawer, Select, Input, Form } from 'antd';\r\nimport BaseEdit from '../../Core/BaseEdit';\r\nimport { objToStr } from '../../../utils/CellUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\n\r\nclass CompEdit extends BaseEdit {\r\n\tgetItemSetType() {\r\n\t\treturn ['Tabs', 'Breadcrumb', 'Button', 'Radio'];\r\n\t}\r\n\trenderContent() {\r\n\t\tconst { form, configs } = this.props;\r\n\t\tconst { placeholder, type } = configs;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tif (this.state.deleteComponent) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (type === 'Button') {\r\n\t\t\treturn this.renderBtnCard();\r\n\t\t}\r\n\t\tif (type === 'Breadcrumb') {\r\n\t\t\treturn this.renderBreadcrumb();\r\n\t\t}\r\n\t\tif (type === 'Tabs') {\r\n\t\t\treturn this.renderTabs();\r\n\t\t}\r\n\t\tif (type === 'Radio') {\r\n\t\t\treturn this.renderRadio();\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t{this.renderDefaultValueItem()}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype !== 'Text' && type !== 'Breadcrumb' ?\r\n\t\t\t\t\t\t(<Form.Item {...formItemLayout} label=\"placeholder\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('placeholder', {\r\n\t\t\t\t\t\t\t\tinitialValue: placeholder,\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { visible, onClose, form, configs } = this.props;\r\n\t\tconst initialCellStyles = objToStr(configs.cellStyles);\r\n\t\tconst { type, radioType, textAlign = 'center' } = configs;\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\ttitle=\"编辑组件\"\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tthis.onCloseEdit();\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<Form.Item label=\"style设置\" {...formItemLayout}>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"cellStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialCellStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype === 'Button' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"对齐方式\" {...formItemLayout}>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"textAlign\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: textAlign,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t左\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t中\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t右\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype === 'Radio' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"类型\" {...formItemLayout}>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"radioType\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: radioType,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t默认\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"tab\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"tab\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\ttab\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n                    {\r\n                        this.renderContent()\r\n                    }\r\n                    <div className=\"btn-box\">\r\n\t\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t        <div className=\"btn-bottom-box\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t        </div>\r\n\t\t    \t</Form>\r\n\t    \t</Drawer>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Form.create()(CompEdit);","const initDropData = (dragData, context, isFormItem = false) => {\r\n    const { dropComponent } = context.state;\r\n    const { configs } = context.props;\r\n    const { type, ...defaultConfigs } = dragData;\r\n    let newConfigs = {\r\n        textAlign: 'left',\r\n    };\r\n    if (dropComponent) {\r\n        if (type === 'Button' && configs.type === 'Button') {\r\n            newConfigs = Object.assign({}, configs);\r\n            newConfigs.buttonArr.push({\r\n                btnIndex: context.btnIndex,\r\n                ...defaultConfigs,\r\n            });\r\n            context.btnIndex += 1;\r\n        } else {\r\n            return;\r\n        }\r\n    } else {\r\n        if (type === 'Button') {\r\n            newConfigs.buttonArr = [{\r\n                btnIndex: context.btnIndex,\r\n                ...defaultConfigs,\r\n            }];\r\n            context.btnIndex += 1;\r\n        } else {\r\n            newConfigs = { ...defaultConfigs };\r\n        }\r\n        newConfigs.type = type;\r\n    }\r\n    if (isFormItem && newConfigs.type !== 'Button') {\r\n        const { configs } = context.props;\r\n        const { originSpan, cellStyles, colIndex, colSpan } = configs;\r\n        newConfigs.originSpan = originSpan;\r\n        newConfigs.cellStyles = cellStyles;\r\n        newConfigs.colIndex = colIndex;\r\n        newConfigs.colSpan = colSpan;\r\n        newConfigs.label = type;\r\n        newConfigs.name = `name-${colIndex}`;\r\n    }\r\n    return newConfigs;\r\n};\r\n\r\nexport default initDropData;","import moment  from 'moment';\r\nimport { FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER } from './Constants';\r\n\r\nconst containerArr = [FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER];\r\n\r\nconst isContainer = (type) => {\r\n    return containerArr.indexOf(type) > -1;\r\n};\r\n\r\nconst isLogin = () => {\r\n    return !!localStorage.getItem('access_token') && !!localStorage.getItem('webapi');\r\n}\r\n\r\nconst isIndex = (i) => {\r\n    return (/\\d+/).test(i);\r\n};\r\n\r\nconst getInitialValue = (config = {}) => {\r\n    const { type = 'Input', initialValue, format = 'YYYY-MM-DD' } = config;\r\n    if (type === 'DatePicker') {\r\n        return initialValue && moment(initialValue, format);\r\n    }\r\n    if (type === 'Checkbox') {\r\n        return [initialValue];\r\n    }\r\n    return initialValue || '';\r\n}\r\n\r\nconst getStyle = (config) => {\r\n    const { type, cellStyles, textAlign } = config;\r\n    return type === 'Button' ? Object.assign({}, cellStyles, { textAlign }) : cellStyles || {};\r\n};\r\n\r\nexport {\r\n    isLogin,\r\n    isIndex,\r\n    getStyle,\r\n    getInitialValue,\r\n};\r\n\r\nexport default isContainer;","import React, { Component, Fragment } from 'react';\r\nimport { Icon } from 'antd';\r\nimport DropRender from './DropRender';\r\nimport CompEdit from '../../EditDrawer/CompEdit';\r\nimport { activeColor } from '../../../utils/Constants';\r\nimport initDropData from '../../../utils/DropUtil';\r\nimport isContainer from '../../../utils/common';\r\nimport './index.css';\r\n\r\nconst clsName = 'drop-container';\r\n\r\nclass DropContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            configs: props.configs,\r\n            showEdit: false,\r\n            dropComponent: !!props.configs.type,\r\n        };\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.onDragenter = this.onDragenter.bind(this);\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.btnIndex = 1;\r\n    }\r\n    componentDidMount() {\r\n        if (!this.DropDom || this.props.preview) {\r\n            return;\r\n        }\r\n        this.DropDom.addEventListener(\"drop\", this.onDrop, false);\r\n        this.DropDom.addEventListener(\"dragleave\", this.onDragLeave, false);\r\n        this.DropDom.addEventListener(\"dragenter\", this.onDragenter, false);\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.DropDom && !this.props.preview) {\r\n            this.DropDom.removeEventListener('drop', this.onDrop);\r\n            this.DropDom.removeEventListener('dragleave', this.onDragLeave);\r\n            this.DropDom.removeEventListener(\"dragenter\", this.onDragenter);\r\n        }\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            showEdit: !this.state.showEdit,\r\n        });\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...newConfigs }) {\r\n        const { onUpdateLayoutConfig, configs } = this.props;\r\n        const { layoutIndex } = configs;\r\n        const newState = {\r\n            configs: {\r\n                layoutIndex,\r\n            },\r\n        };\r\n        // 删除组件\r\n        if (deleteFlag) {\r\n            newState.dropComponent = false;\r\n            newState.configs.cellStyles = newConfigs.cellStyles;\r\n        } else {\r\n            newState.configs = Object.assign({}, this.state.configs, newConfigs);\r\n        }\r\n        this.setState({\r\n            ...newState,\r\n        });\r\n        onUpdateLayoutConfig({\r\n            ...newState.configs,\r\n            deleteFlag,\r\n            layoutIndex,\r\n        });\r\n        if (!isContainer(this.state.configs.type)) {\r\n            this.onToggleEdit();\r\n        }\r\n    }\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (event.target.className === clsName) {\r\n            this.resetBg();\r\n            const data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            const { onUpdateLayoutConfig, configs = {} } = this.props;\r\n            const { type, ...newConfigs } = initDropData(data, this);\r\n            const { layoutIndex } = configs;\r\n            if (newConfigs) {\r\n                this.setState({\r\n                    configs: {\r\n                        type,\r\n                        layoutIndex,\r\n                        ...newConfigs,\r\n                    },\r\n                    dropComponent: true,\r\n                }, () => {\r\n                    onUpdateLayoutConfig(this.state.configs);\r\n                });\r\n            }\r\n        }\r\n    }\r\n    resetBg() {\r\n        const dropDomArr = document.querySelectorAll('.drop-container');\r\n        if (dropDomArr) {\r\n            dropDomArr.forEach((item) => {\r\n                item.style.background = '';\r\n            });\r\n        }\r\n    }\r\n    onDragenter(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = activeColor;\r\n        }\r\n    }\r\n    onDragLeave(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = '';\r\n        }\r\n    }\r\n    render() {\r\n        const { dropComponent, configs, showEdit } = this.state;\r\n        const { layerConfig, preview } = this.props;\r\n        const newConfigs = preview ? this.props.configs :\r\n            Object.assign({}, configs);\r\n        return (\r\n            <div\r\n                className=\"drop-container\"\r\n                ref={(DropDom) => { this.DropDom = DropDom; }}\r\n            >\r\n                {\r\n                  dropComponent || preview ? (\r\n                    <Fragment> \r\n                        <DropRender\r\n                            {...this.props}\r\n                            onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                            configs={newConfigs}\r\n                        />\r\n                        {\r\n                            !isContainer(configs.type) && !preview ? ( <Icon\r\n                                type=\"bars\"\r\n                                className=\"icon-operation\"\r\n                                onClick={this.onToggleEdit}\r\n                            />) : null\r\n                        }\r\n                    </Fragment>\r\n                    ) : !preview ? <Icon type=\"drag\" /> : null\r\n                }\r\n                <CompEdit\r\n                    visible={showEdit}\r\n                    configs={configs}\r\n                    layerConfig={layerConfig}\r\n                    inForm={false}\r\n                    onClose={this.onToggleEdit}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DropContainer;","import React, { Component } from 'react';\r\nimport { Button, Form, Input, Select, Drawer } from 'antd';\r\nimport  { objToStr, strToObj } from '../../../utils/CellUtil';\r\nimport { HEADER_CONTINAER, FALSE } from '../../../utils/Constants';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst TextArea = Input.TextArea;\r\nconst Option = Select.Option;\r\n\r\nclass BoxEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onClose } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { boxStyles, ...rest } = values;\r\n                const configs = {\r\n                    boxStyles: strToObj(boxStyles),\r\n                    ...rest,\r\n                };\r\n                onClose(configs);\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { visible, form, onClose, configs = {}, onDeleteContainer } = this.props;\r\n        const { boxStyles = {}, layoutColumn = 3, positionFixed = FALSE, type } = configs;\r\n        const initialBoxStyles = objToStr(boxStyles);\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Drawer\r\n                visible={visible}\r\n                maskClosable={false}\r\n                width={420}\r\n                title=\"编辑列\"\r\n                onClose={() => {\r\n                    onClose(0);\r\n                }}\r\n            >\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"style设置\"\r\n                        {...formItemLayout}\r\n                    >\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"boxStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialBoxStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n                    {\r\n                        type === HEADER_CONTINAER ? (\r\n                            <Form.Item\r\n                            label=\"位置固定\"\r\n                            {...formItemLayout}\r\n                        >\r\n                            {getFieldDecorator('positionFixed', {\r\n                                initialValue: positionFixed,\r\n    \r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"1\">是</Option>\r\n                                    <Option value=\"0\">否</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                        ) : null\r\n                    }\r\n                    {\r\n                        type !== HEADER_CONTINAER ? (\r\n                            <Form.Item\r\n                                label=\"容器列\"\r\n                                {...formItemLayout}\r\n                            >\r\n                                {getFieldDecorator('layoutColumn', {\r\n                                    initialValue: layoutColumn,\r\n                                    rules: [\r\n                                        { required: true, message: '请选择列数!' },\r\n                                    ],\r\n                                })(\r\n                                    <Select>\r\n                                        <Option value=\"1\">1</Option>\r\n                                        <Option value=\"2\">2</Option>\r\n                                        <Option value=\"3\">3</Option>\r\n                                        <Option value=\"4\">4</Option>\r\n                                        <Option value=\"5\">5</Option>\r\n                                        <Option value=\"6\">6</Option>\r\n                                        <Option value=\"7\">7</Option>\r\n                                        <Option value=\"8\">8</Option>\r\n                                    </Select>\r\n                                )}\r\n                            </Form.Item>\r\n                        ) : null\r\n                    }\r\n                    <div className=\"btn-box\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </div>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(BoxEdit);","import React from 'react';\r\nimport { Icon, Button } from 'antd';\r\nimport BaseContainer from '../../Core/BaseContainer';\r\nimport DropContainer from '../DropContainer';\r\nimport BoxEdit from '../../EditDrawer/BoxEdit';\r\nimport './index.css';\r\nimport { BOX_CONTINAER } from '../../../utils/Constants';\r\n\r\nclass BoxContainer extends BaseContainer {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            configs: {\r\n                cellsArr: [{\r\n                    layoutIndex: 0,\r\n                }],\r\n                layoutColumn: 1, // 默认有一列\r\n            },\r\n        };\r\n        this.onAddRowCell = this.onAddRowCell.bind(this);\r\n        this.onReceiveConfigs = this.onReceiveConfigs.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onToggleEditDrawer = this.onToggleEditDrawer.bind(this);\r\n    }\r\n    onReceiveConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const { layoutColumn } = this.props;\r\n        const newConfigs = Object.assign({ ...configs }, layoutColumn);\r\n        const newCellsArr = newConfigs.cellsArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.layoutIndex !== item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        layoutIndex: values.layoutIndex,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.layoutIndex === item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newConfigs.cellsArr = newCellsArr;\r\n        this.onUpdateConfigs(newConfigs);\r\n    }\r\n    onAddRowCell() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        const { configs } = this.state;\r\n        const { cellsArr, layoutColumn } = configs;\r\n        const newCellsArr = cellsArr.concat([{\r\n            layoutIndex: cellsArr.length,\r\n        }]);\r\n        const newConfigs = {\r\n            layoutColumn,\r\n            cellsArr: newCellsArr,\r\n        };\r\n        const newState = {\r\n            configs: newConfigs,\r\n        };\r\n        this.setState({\r\n            ...newState,\r\n        }, () => {\r\n            onUpdateLayoutConfig({ layoutIndex, configs: newConfigs });\r\n        });\r\n    }\r\n    rendeCell(layoutColumn) {\r\n        if (!layoutColumn) {\r\n            return null;\r\n        }\r\n        const { preview, context = this, apiData, execFetchApi, onShowLoginModal, ...restProps } = this.props;\r\n        const componentArr = [];\r\n        const width = `${100 / layoutColumn}%`;\r\n        const { configs } = preview ? this.props : this.state;\r\n        const { cellsArr } = configs;\r\n        const cellNum = cellsArr.length;\r\n        const { layerConfig } = this.props;\r\n        const previewProps = {\r\n            preview,\r\n        };\r\n        const limitIndex = Math.max(cellNum, layoutColumn);\r\n        for (let i = 0; i < limitIndex; i++) {\r\n            const layoutIndex = i;\r\n            previewProps.configs = Object.assign(cellsArr.length - 1 >= i ? cellsArr[i] : {}, { layoutIndex });\r\n            componentArr.push((\r\n               <div className=\"cell border-box\" key={`cell-${layoutColumn}-${i}`} style={{ width }}>\r\n                    <DropContainer\r\n                        layoutIndex={layoutIndex}\r\n                        apiData={apiData}\r\n                        execFetchApi={execFetchApi}\r\n                        layerConfig={layerConfig}\r\n                        {...restProps}\r\n                        {...previewProps}\r\n                        onShowLoginModal={onShowLoginModal}\r\n                        context={context}\r\n                        onUpdateLayoutConfig={this.onReceiveConfigs}\r\n                    />\r\n               </div>\r\n            ));\r\n        }\r\n        return componentArr;\r\n    }\r\n    _render() {\r\n        const { visible } = this.state;\r\n        const { onUpdateLayoutConfig, configs = {}, preview } = this.props;\r\n        const { layoutColumn = 1, boxStyles } = configs;\r\n        return (\r\n            <div className={`fulu-cell-box ${ preview ? 'preview-mode' : 'edit-mode'}`} style={boxStyles}>\r\n                <div className=\"clear-box\">\r\n                    {this.rendeCell(+layoutColumn)}\r\n                </div>\r\n                <BoxEdit\r\n                    visible={visible}\r\n                    configs={configs}\r\n                    onClose={(pConfigs) => {\r\n                        if (configs) {\r\n                            const { layoutColumn } = pConfigs;\r\n                            const { cellsArr } = this.state.configs;\r\n                            const newConfigs = {\r\n                                cellsArr,\r\n                                layoutColumn: +layoutColumn,\r\n                                layoutIndex: configs.layoutIndex,\r\n                                type: BOX_CONTINAER,\r\n                                boxStyles: pConfigs.boxStyles,\r\n                            };\r\n                            this.setState({\r\n                                configs: newConfigs,\r\n                            });\r\n                            onUpdateLayoutConfig(newConfigs);\r\n                        }\r\n                        this.onToggleEditDrawer();\r\n                    }}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                />\r\n                {\r\n                    !preview ? (\r\n                        <Icon type=\"form\" className=\"icon-operation\" onClick={this.onToggleEditDrawer} />\r\n                    ) : null\r\n                }\r\n                {\r\n                    !preview ? (\r\n                        <div className=\"btn-add-box\">\r\n                            <Button\r\n                                ghost\r\n                                type=\"primary\"\r\n                                onClick={this.onAddRowCell}\r\n                            >\r\n                                + boxItem\r\n                            </Button>\r\n                        </div>\r\n                    ) : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BoxContainer;","import React, { Component } from 'react';\r\nimport { Icon } from 'antd';\r\nimport DropContainer from '../DropContainer';\r\nimport BoxEdit from '../../EditDrawer/BoxEdit';\r\nimport { TRUE, HEADER_CONTINAER } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nclass HeaderContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            configs: {\r\n                cellsArr: [{\r\n                    layoutIndex: 0,\r\n                }],\r\n                type: HEADER_CONTINAER,\r\n                layoutColumn: 1, // 默认有一列\r\n            },\r\n        };\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            visible: !this.state.visible,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n        this.onToggleEdit();\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...values }) {\r\n        const { onUpdateLayoutConfig, configs } = this.props;\r\n        const { layoutIndex } = configs;\r\n        const newConfigs = Object.assign({ layoutIndex }, this.state.configs);\r\n        const newCellsArr = newConfigs.cellsArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.layoutIndex !== item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        layoutIndex: values.layoutIndex,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.layoutIndex === item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newConfigs.cellsArr = newCellsArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            onUpdateLayoutConfig(newConfigs);\r\n        });\r\n    }\r\n    rendeCell(layoutColumn) {\r\n        if (!layoutColumn) {\r\n            return null;\r\n        }\r\n        const componentArr = [];\r\n        const width = `${100 / layoutColumn}%`;\r\n        const { preview } = this.props;\r\n        const { cellsArr = [] } = preview ? this.props.configs : this.state.configs;\r\n        const cellNum = cellsArr.length;\r\n        for (let i = 0; i < cellNum; i++) {\r\n            componentArr.push((\r\n               <div className=\"cell border-box\" key={`cell-${layoutColumn}-${i}`} style={{ width }}>\r\n                    < DropContainer\r\n                        layoutIndex={i}\r\n                        preview={preview}\r\n                        configs={Object.assign({ layoutIndex: i }, cellsArr[i])}\r\n                        onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                    />\r\n               </div>\r\n            ));\r\n        }\r\n        return componentArr;\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { onUpdateLayoutConfig, configs = {}, preview = false, type } = this.props;\r\n        const { layoutIndex, layoutColumn = 1, boxStyles, positionFixed } = configs;\r\n        const positionCls = positionFixed === TRUE ? 'position-fixed' : '';\r\n        const previewCls = preview ? 'preview-box' : '';\r\n        return (\r\n            <div className={`header-box fulu-cell-box ${positionCls}  ${previewCls}`} style={boxStyles}>\r\n                {\r\n                    this.rendeCell(+layoutColumn)\r\n                }\r\n                <BoxEdit\r\n                    visible={visible}\r\n                    configs={configs}\r\n                    type={type}\r\n                    onClose={(configs) => {\r\n                        if (configs) {\r\n                            const { layoutColumn } = configs;\r\n                            const { cellsArr } = this.state.configs;\r\n                            const newCellsArr = cellsArr.slice(0, layoutColumn);\r\n                            for (let i = 0; i < layoutColumn; i++) {\r\n                                if (newCellsArr.length <= i) {\r\n                                    newCellsArr.push({\r\n                                        layoutIndex: i\r\n                                    });\r\n                                }\r\n                            }\r\n                            const newConfigs = {\r\n                                ...configs,\r\n                                layoutIndex,\r\n                                type: HEADER_CONTINAER,\r\n                                cellsArr: newCellsArr,\r\n                            };\r\n                            this.setState({\r\n                                configs: newConfigs,\r\n                            });\r\n                            onUpdateLayoutConfig(newConfigs);\r\n                        }\r\n                        this.onToggleEdit();\r\n                    }}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                />\r\n                {\r\n                    !preview ? \r\n                        <Icon type=\"form\" className=\"icon-operation\" onClick={this.onToggleEdit} /> : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HeaderContainer;","import React from 'react';\r\nimport { Button, Checkbox, Input, Icon, Tabs, Select, DatePicker, Breadcrumb, Radio, Form } from 'antd';\r\nimport FormContainer from '../component/Container/FormContainer';\r\nimport LineContainer from '../component/Container/LineContainer';\r\nimport TableContainer from '../component/Container/TableContainer';\r\nimport BoxContainer from '../component/Container/BoxContainer';\r\nimport HeaderContainer from '../component/Container/HeaderContainer';\r\nimport formItemLayout from '../configs/layout';\r\nimport { isIndex } from './common';\r\n\r\nconst CheckboxGroup = Checkbox.Group;\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nconst { TabPane } = Tabs;\r\nconst { TextArea } = Input;\r\n\r\nconst renderComponent = (renderConfig, props) => {\r\n    const { placeholder = '', type } = renderConfig;\r\n    let component = null;\r\n    switch(type) {\r\n        case 'Text':\r\n            component = renderText(renderConfig);\r\n            break;\r\n        case 'Breadcrumb':\r\n            component = renderBreadcrumb(renderConfig);\r\n            break;\r\n        case 'Select':\r\n            component = renderSelect(renderConfig);\r\n            break;\r\n        case 'RangePicker':\r\n            component = renderRangePicker(renderConfig);\r\n            break;\r\n        case 'DatePicker':\r\n            component = renderDatePicker(renderConfig);\r\n            break;\r\n        case 'Radio':\r\n            component = renderRadio(renderConfig);\r\n            break;\r\n        case 'Checkbox':\r\n            component = renderCheckbox(renderConfig);\r\n            break;\r\n        case 'Tabs':\r\n            component = renderTabs(renderConfig);\r\n            break;\r\n        case 'Button':\r\n            component = renderBtn(renderConfig, props);\r\n            break;\r\n        case 'FormContainer':\r\n            component = renderForm(renderConfig, props);\r\n            break;\r\n        case 'LineContainer':\r\n            component = renderLine(renderConfig, props);\r\n            break;\r\n        case 'TableContainer':\r\n            component = renderTable(renderConfig, props);\r\n            break;\r\n        case 'BoxContainer':\r\n            component = renderBox(renderConfig, props);\r\n            break;\r\n        case 'HeaderContainer':\r\n            component = renderHeader(renderConfig, props);\r\n            break;\r\n        case 'TextArea':\r\n            component = renderTextArea(renderConfig);\r\n            break;\r\n        case 'Input':\r\n            component = (<Input placeholder={placeholder} />);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    return component;\r\n};\r\n\r\nconst renderTextArea = (configs) => {\r\n    const { colIndex, dropIndex, originSpan, cellStyles, hasLinkage,  ...rest } = configs;\r\n    return (<TextArea {...rest} />);\r\n};\r\n\r\nconst renderForm = (configs, props) => {\r\n    return (<FormContainer configs={configs} {...props} />);\r\n};\r\n\r\nconst renderHeader = (configs) => {\r\n    return (<HeaderContainer {...configs} />);\r\n};\r\n\r\nconst renderTable = (configs, props) => {\r\n    return (<TableContainer configs={configs} {...props} />);\r\n};\r\n\r\nconst renderLine = (configs) => {\r\n    return (<LineContainer configs={configs} />)\r\n};\r\n\r\nconst renderBox = (configs, props) => {\r\n    return (<BoxContainer configs={configs} {...props} />);\r\n};\r\n\r\nconst renderBreadcrumb = (configs) => {\r\n    const { breadcrumbArr = [], style } = configs;\r\n    return (\r\n        <Breadcrumb style={style}>\r\n            {\r\n                breadcrumbArr.map(({ label, value }, i) => {\r\n                    return (\r\n                        <Breadcrumb.Item key={`breadcrumb-${i}`}>\r\n                            { value ? \r\n                                <a href={value}>{label}</a> : <span>{label}</span>\r\n                            }\r\n                        </Breadcrumb.Item>\r\n                    );\r\n                })\r\n            }\r\n        </Breadcrumb>\r\n    )\r\n};\r\nconst renderText = (configs) => {\r\n    const { text, style } = configs;\r\n    return (\r\n        <span style={style}>{text}</span>\r\n    );\r\n};\r\nconst renderRadio = (configs) => {\r\n    const { style = {}, radioArr = [], radioType } = configs;\r\n    const RadioItem = radioType === 'tab' ? Radio.Button : Radio;\r\n    return (\r\n        <Radio.Group style={{ ...style }}>\r\n            {\r\n                Array.isArray(radioArr) ? radioArr.map(({ key, label, value }) => {\r\n                    return (\r\n                        <RadioItem\r\n                            key={key || value}\r\n                            value={value}\r\n                        >\r\n                            {label}\r\n                        </RadioItem>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Radio.Group>\r\n    );\r\n};\r\nconst renderTabs = (configs) => {\r\n    const { style = {}, tabsArr = [] } = configs;\r\n    return (\r\n        <Tabs style={style}>\r\n            {\r\n                Array.isArray(tabsArr) ? tabsArr.map(({ key, label, value }) => {\r\n                    return (\r\n                        <TabPane\r\n                            key={key || value}\r\n                            tab={label}\r\n                        >\r\n\r\n                        </TabPane>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Tabs>\r\n   );\r\n};\r\nconst renderCheckbox = (configs) => {\r\n    const { style = {}, checkboxArr = [] } = configs;\r\n    if (Array.isArray(checkboxArr)) {\r\n        return (\r\n            <CheckboxGroup options={checkboxArr} style={{ width: \"100%\", ...style }} />\r\n        );\r\n    }\r\n    return null;\r\n};\r\nconst renderSelect = (configs) => {\r\n    const { style = {}, options, selectArr, ...rest } = configs;\r\n    const finalOptions = Object.hasOwnProperty.call(configs, 'options') ? configs.options : configs.selectArr;\r\n    return (\r\n        <Select style={{ width: '100%', ...style }} {...rest}>\r\n            {\r\n                Array.isArray(finalOptions) ? finalOptions.map(({ key, label, value }) => {\r\n                    return (\r\n                        <Option\r\n                            key={key || value}\r\n                            value={value}\r\n                        >\r\n                            {label}\r\n                        </Option>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Select>\r\n    );\r\n};\r\nconst renderDatePicker = (configs) => {\r\n    const { showTime, format } = configs;\r\n        return (\r\n            <DatePicker\r\n                style={{ width: '100%' }}\r\n                showTime={showTime}\r\n                format={format}\r\n            />\r\n        );\r\n};\r\nconst renderRangePicker = (configs) => {\r\n    const { showTime, format } = configs;\r\n        return (\r\n            <RangePicker\r\n                showTime={showTime}\r\n                format={format}\r\n                style={{ width: '100%' }}\r\n            />\r\n        );\r\n}\r\n/**\r\n * @desc 获取按钮disabled属性\r\n */\r\nconst getMultBtnDisabled = (logicType, selectedRowKeys) => {\r\n    if (logicType === 'mult') {\r\n        const isEnabled = Array.isArray(selectedRowKeys) && selectedRowKeys.length > 0;\r\n        return !isEnabled;\r\n    }\r\n    return false;\r\n};\r\n\r\nconst renderBtn = (configs, { context, onResetForm }) => {\r\n    const { buttonArr = [] } = configs;\r\n    const { state, onCollapse } = context || {};\r\n    const { expand = true } = state;\r\n    const { GuiContext } = context;\r\n    return (\r\n        <GuiContext.Consumer>\r\n            {\r\n                ({ selectedRowKeys }) =>\r\n                    <span className=\"btn-group\">\r\n                        {\r\n                            buttonArr.map((btnConfig) => {\r\n                                const { logicType, btnText, expandCount, api, modalName, antdType, skipUrl,\r\n                                    style = {}, textDisabled, btnIndex, ...btnProps } = btnConfig;\r\n                                if (logicType === 'expand') {\r\n                                    const collapseBtnText = expand ? '收起' : '展开';\r\n                                    return (\r\n                                        <span\r\n                                            className=\"fulu-btn-collapse\"\r\n                                            onClick={onCollapse}\r\n                                            style={style}\r\n                                            key={`btn-${btnIndex}`}\r\n                                        >\r\n                                            {collapseBtnText}\r\n                                            <Icon type={expand ? 'up' : 'down'} />\r\n                                        </span>\r\n                                        );\r\n                                }\r\n                                if (btnConfig.htmlType !== 'submit') {\r\n                                    btnProps.onClick = (e) => {\r\n                                        if (context) {\r\n                                            if (btnConfig.htmlType === 'reset') {\r\n                                                onResetForm();\r\n                                            } else if (modalName) {\r\n                                                context.onShowModal(e, modalName, api);\r\n                                            } else if (logicType === 'mult') {\r\n                                                context.execFetchApi(api, {}, logicType);\r\n                                            } else if (logicType === 'skip') {\r\n                                                window.location = skipUrl;\r\n                                            }\r\n                                        }\r\n                                    };\r\n                                }\r\n                                \r\n                                return (\r\n                                    <Button\r\n                                        key={`btn-${btnIndex}`}\r\n                                        style={style}\r\n                                        type={antdType}\r\n                                        {...btnProps}\r\n                                        disabled={getMultBtnDisabled(logicType, selectedRowKeys)}\r\n                                    >\r\n                                        {btnText}\r\n                                    </Button>\r\n                                );\r\n                            })\r\n                        }\r\n                    </span>\r\n            }\r\n        </GuiContext.Consumer>\r\n    );\r\n}\r\n\r\nconst renderConfigForm = (form, renderConfig, initData = {}) => {\r\n    const { getFieldDecorator } = form;\r\n    const hasIndex = isIndex(initData.index);\r\n    if (Array.isArray(renderConfig)) {\r\n        return renderConfig.map((cf) => {\r\n            const { label, key, rules = [], initialValue, required } = cf;\r\n            if (required) {\r\n                rules.push({\r\n                    required: true, message: `请输入${label}`,\r\n                });\r\n            }\r\n            return (\r\n                <Form.Item label={label} key={`${key}-item`} {...formItemLayout}>\r\n                    {getFieldDecorator(hasIndex ? `${key}-${initData.index}` : key, {\r\n                            rules,\r\n                            initialValue: initData[key] || initialValue,\r\n                        })(renderComponent(cf))}\r\n                </Form.Item>\r\n            );\r\n        });\r\n    }\r\n    return null;\r\n};\r\n\r\nconst renderModalSelect = (layerConfig = {}, form, initialValue, key = '') => {\r\n    const keyStr = `${key}`;\r\n    const { modalArr = [] } = layerConfig;\r\n    if (modalArr.length === 0) {\r\n        return null;\r\n    }\r\n    const formItemKey = keyStr ? `modal-item-${keyStr}` : 'modal-item';\r\n    const formNameKey = keyStr ? `modalName-${keyStr}` : 'modalName';\r\n    return (\r\n        <Form.Item\r\n            key={formItemKey}\r\n            label=\"打开modal\"\r\n            {...formItemLayout}\r\n        >\r\n            {form.getFieldDecorator(formNameKey, {\r\n                rules: [{ required: true, 'message': 'modal' }],\r\n                initialValue,\r\n            })(\r\n                <Select placeholder=\"modal\">\r\n                    {\r\n                        modalArr.map(({ index, name }) => {\r\n                            return (\r\n                                <Option key={`modalName-${index}`} value={name}>{name}</Option>\r\n                            )\r\n                        })\r\n                    }\r\n                </Select>\r\n            )}\r\n        </Form.Item>\r\n    );\r\n};\r\n\r\nconst renderApiSelect = (layerConfig = {}, form, compData) => {\r\n    const { initialValue, key = '', label = '调用api', apiName } = compData;\r\n    const keyStr = `${key}`;\r\n    const { apiArr = [] } = layerConfig;\r\n    if (apiArr.length === 0) {\r\n        return null;\r\n    }\r\n    const formItemKey = apiName ? `api-item-${apiName}` : keyStr ? `api-item-${keyStr}` : 'modal-item';\r\n    const formNameKey = apiName ? apiName : keyStr ? `api-${keyStr}` : 'api';\r\n    return (\r\n        <Form.Item\r\n            key={formItemKey}\r\n            label={label}\r\n            {...formItemLayout}\r\n        >\r\n            {form.getFieldDecorator(formNameKey, {\r\n                rules: [{ required: true, 'message': 'api' }],\r\n                initialValue,\r\n            })(\r\n                <Select placeholder=\"api\">\r\n                    {\r\n                        apiArr.map(({ index, requestApi }) => {\r\n                            return (\r\n                                <Option key={`api-${index}`} value={requestApi}>{requestApi}</Option>\r\n                            )\r\n                        })\r\n                    }\r\n                </Select>\r\n            )}\r\n        </Form.Item>\r\n    );\r\n};\r\n\r\nexport default renderComponent;\r\n\r\nexport {\r\n    renderModalSelect,\r\n    renderApiSelect,\r\n    renderConfigForm,\r\n};","import React, { Component, Fragment } from 'react';\r\nimport { Button, Divider, message, Form, Input, Select, Drawer } from 'antd';\r\nimport { renderApiSelect } from '../../../utils/RenderUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\n\r\nclass FormEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n    handleChange(value) {\r\n        const colSpanValues = {};\r\n        const val = 24 / value;\r\n        for(let i = 0; i < value; i++) {\r\n            colSpanValues[`colSpan-${i}`] = val;\r\n        }\r\n        setTimeout(() => {\r\n            this.props.form.setFieldsValue(colSpanValues);\r\n        }, 0);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onSave } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const lcNum = +values.layoutColumn;\r\n                let colSpanTotal = 0;\r\n                const configs = {\r\n                    colSpanArr: [],\r\n                };\r\n                for (let i = 0; i < lcNum; i++) {\r\n                    const colSpan = +values[`colSpan-${i}`];\r\n                    delete values[`colSpan-${i}`];\r\n                    colSpanTotal += colSpan;\r\n                    configs.colSpanArr.push(colSpan);\r\n                }\r\n                if (colSpanTotal > 24) {\r\n                    message.error('跨列总数不能超过24!');\r\n                    return;\r\n                }\r\n                onSave(Object.assign(configs, values));\r\n            }\r\n        });\r\n    }\r\n    renderColSpanInputs() {\r\n        const { form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const layoutColumn = +form.getFieldValue('layoutColumn');\r\n        const componentArr = [];\r\n        for (let i = 0; i < layoutColumn; i++) {\r\n            componentArr.push(\r\n                <Form.Item\r\n                    key={`formitem-${i}`}\r\n                    label={`第${i+1}列`}\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator(`colSpan-${i}`, {\r\n                        initialValue: 24 / layoutColumn,\r\n                        rules: [\r\n                            { required: true, message: '请输入列宽!' },\r\n                            { pattern: /^[1-9](\\d)?$/, message: '只能包含数字！' }\r\n                        ],\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n            );\r\n        }\r\n        return componentArr;\r\n    }\r\n    renderApiFormItem() {\r\n        const { form, layerConfig } = this.props;\r\n        if (form.getFieldValue('formType') === 'query') {\r\n            return renderApiSelect(layerConfig, form, { label: '查询api', apiName: 'queryApi' });\r\n        }\r\n        return (\r\n            <Fragment>\r\n                {renderApiSelect(layerConfig, form, { label: '新增api', apiName: 'addApi' })}\r\n                {renderApiSelect(layerConfig, form, { label: '编辑api', apiName: 'editApi' })}\r\n            </Fragment>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, form, onClose, onDeleteContainer } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Drawer\r\n                visible={visible}\r\n                maskClosable={false}\r\n                width={420}\r\n                title=\"编辑列\"\r\n                onClose={onClose}\r\n            >\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"表单列\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('layoutColumn', {\r\n                            initialValue: 3,\r\n                            rules: [\r\n                                { required: true, message: '请选择列数!' },\r\n                            ],\r\n                        })(\r\n                            <Select onChange={this.handleChange}>\r\n                                <Option value=\"1\">1</Option>\r\n                                <Option value=\"2\">2</Option>\r\n                                <Option value=\"3\">3</Option>\r\n                                <Option value=\"4\">4</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    <Divider />\r\n                    {this.renderColSpanInputs()}\r\n                    <Divider />\r\n                    <Form.Item\r\n                        label=\"对齐方式\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('formItemAlign', {\r\n                            initialValue: 'lr',\r\n                        })(\r\n                            <Select>\r\n                                <Option value=\"lr\">左右对齐</Option>\r\n                                <Option value=\"r\">文字右对齐</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        label=\"表单类型\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('formType', {\r\n                            initialValue: 'query',\r\n                            rules: [\r\n                                { required: true, message: '请选择表单类型!' },\r\n                            ],\r\n                        })(\r\n                            <Select>\r\n                                <Option value=\"query\">查询</Option>\r\n                                <Option value=\"save\">新增/编辑</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    {\r\n                        this.renderApiFormItem()\r\n                    }\r\n                    <div className=\"btn-box\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </div>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(FormEdit);","import React, { Component, Fragment } from 'react';\r\nimport { Form, Col } from 'antd';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\nimport { getStyle, getInitialValue } from '../../../utils/common';\r\n\r\nclass FormItemRender extends Component {\r\n\trender() {\r\n        const { configs, form, context, preview = false,\r\n            colSpanArr = [], formItemAlign, onResetForm } =this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { type, colSpan, label, name, rules = [], required } = configs;\r\n        const md = colSpan || colSpanArr[0] || 8;\r\n        if (!name && type !== 'Button') {\r\n            return null;\r\n        }\r\n        if (required) {\r\n            rules.push({\r\n                required: true, message: `请输入${label}`,\r\n            });\r\n        }\r\n        const styleObj = getStyle(configs);\r\n        const formItemProps = {\r\n            label,\r\n            style: styleObj, \r\n        };\r\n        if (formItemAlign === 'r') {\r\n            formItemProps.labelCol = { span: 6 };\r\n            formItemProps.wrapperCol = { span: 14 };\r\n        }\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Col\r\n\t\t\t        span={md}\r\n                    md={md}\r\n                    sm={24}\r\n\t\t\t    >\r\n                    {\r\n                        type !== 'Button' ?\r\n                            (\r\n                                <Form.Item {...formItemProps}>\r\n                                    {getFieldDecorator(name, {\r\n                                        rules: rules || [],\r\n                                        initialValue: getInitialValue(configs),\r\n                                    })(\r\n                                        renderComponent(configs, { preview, context })\r\n                                    )}\r\n                                </Form.Item>\r\n                            ) : (\r\n                                <Form.Item style={styleObj}>\r\n                                    {\r\n                                        renderComponent(configs, { preview, context, onResetForm })\r\n                                    }\r\n                                </Form.Item>\r\n                            )\r\n                    }\r\n\t\t\t      \r\n\t\t\t    </Col>\r\n\t\t    </Fragment>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default FormItemRender;","import React, { Fragment } from 'react';\r\nimport { Button, Card, Drawer, Divider, Select, Input, Icon, Form } from 'antd';\r\nimport BaseEdit from '../../Core/BaseEdit';\r\nimport { objToStr } from '../../../utils/CellUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport { TRUE } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\n\r\nclass FormItemEdit extends BaseEdit {\r\n\tgetItemSetType() {\r\n\t\treturn ['Select', 'Button', 'Radio', 'Checkbox'];\r\n\t}\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tbuttonArr: [],\r\n\t\t\tselectArr: [],\r\n\t\t\tradioArr: [],\r\n\t\t\tcheckboxArr: [],\r\n\t\t};\r\n\t\tthis.onAddCellStyleItem = this.onAddCellStyleItem.bind(this);\r\n\t\tthis.onDeleteCellStyleItem = this.onDeleteCellStyleItem.bind(this);\r\n\t}\r\n\tonAddCellStyleItem() {\r\n\t\tconst { cellStyles = [] } = this.state;\r\n\t\tconst newCellStyles = cellStyles.slice();\r\n\t\tnewCellStyles.push({\r\n\t\t\tvalue: '',\r\n\t\t\tname: '',\r\n\t\t\tindex: this.cellStyleIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tcellStyles: newCellStyles,\r\n\t\t});\r\n\t\tthis.cellStyleIndex += 1;\r\n\t}\r\n\tonDeleteCellStyleItem(index) {\r\n\t\tconst { cellStyles = [] } = this.state;\r\n\t\tconst newCellStyles = cellStyles.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tcellStyles: newCellStyles,\r\n\t\t});\r\n\t}\r\n\trenderLinkage(configs, formItemArr) {\r\n\t\tconst { condition, linkName } = configs;\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"关联组件name\">\r\n\t\t\t\t\t{getFieldDecorator('linkName', {\r\n\t\t\t\t\t\tinitialValue: linkName,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tformItemArr.map(({ name, colIndex, label }) => {\r\n\t\t\t\t\t\t\t\t\tif (name && colIndex !== configs.colIndex) {\r\n\t\t\t\t\t\t\t\t\t\treturn (<Option value={`${name}`} key={`linkage-${name}`}>{`${name}/${label}`}</Option>);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"显示条件\">\r\n\t\t\t\t\t{getFieldDecorator('condition', {\r\n\t\t\t\t\t\tinitialValue: condition,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trenderDatePickerExtra(configs) {\r\n\t\tconst { type, showTime = false, format = 'YYYY-MM-DD', dateKeys } = configs;\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t\t<Form.Item {...formItemLayout} label=\"showTime\">\r\n\t\t\t\t\t\t{getFieldDecorator('showTime', {\r\n\t\t\t\t\t\t\tinitialValue: showTime === TRUE ? '1' : '0',\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item {...formItemLayout} label=\"format\">\r\n\t\t\t\t\t\t{getFieldDecorator('format', {\r\n\t\t\t\t\t\t\tinitialValue: format,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype === 'RangePicker' ? \r\n\t\t\t\t\t\t\t<Form.Item {...formItemLayout} label=\"接口对应字段\">\r\n\t\t\t\t\t\t\t\t{getFieldDecorator('dateKeys', {\r\n\t\t\t\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\t\t\trequired: true, message: '接口对应字段',\r\n\t\t\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\t\t\tinitialValue: dateKeys,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"两个字段，以逗号隔不开\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item> : null\r\n\t\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trenderContent() {\r\n\t\tconst { deleteComponent } = this.state;\r\n\t\tconst { form, dropComponent = false, configs = {}, formItemArr } = this.props;\r\n\t\tconst { type, label, name, placeholder, linkage, required } = configs;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tif (dropComponent && !deleteComponent) {\r\n\t\t\tif (type === 'Button') {\r\n\t\t\t\treturn this.renderBtnCard();\r\n\t\t\t}\r\n\t\t\treturn (<Fragment>\r\n\t\t\t\t<Divider>组件</ Divider>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"label\">\r\n\t\t\t\t\t{getFieldDecorator('label', {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true, message: 'label',\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: label,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"name\">\r\n\t\t\t\t\t{getFieldDecorator('name', {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true, message: 'name',\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"required\">\r\n\t\t\t\t\t{getFieldDecorator('required', {\r\n\t\t\t\t\t\tinitialValue: required,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select allowClear>\r\n\t\t\t\t\t\t\t<Option value={1}>是</Option>\r\n\t\t\t\t\t\t\t<Option value={0}>否</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'DatePicker' || type === 'RangePicker' ? \r\n\t\t\t\t\t\tthis.renderDatePickerExtra(configs) : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Radio' ? this.renderRadio() : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Checkbox' ? this.renderCheckbox() : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Select' ? this.renderSelect() : null\r\n\t\t\t\t}\r\n\t\t\t\t{this.renderDefaultValueItem()}\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"placeholder\">\r\n\t\t\t\t\t{getFieldDecorator('placeholder', {\r\n\t\t\t\t\t\tinitialValue: placeholder,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"联动关联\">\r\n\t\t\t\t\t{getFieldDecorator('hasLinkage', {\r\n\t\t\t\t\t\tinitialValue: linkage,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{\r\n\t\t\t\t\tform.getFieldValue('hasLinkage') === TRUE ?\r\n\t\t\t\t\t\tthis.renderLinkage(configs, formItemArr) : null\r\n\t\t\t\t}\r\n\t\t\t\t<Form.Item style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderCellStylesSetting() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { cellStyles } = this.state;\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle=\"style设置\"\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={this.onAddCellStyleItem} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tcellStyles.map(({ name, value, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`cell-styleitem-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`cell-styleitem-name-${index}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`styleName-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"style name\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`cell-styleitem-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`styleValue-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"style value\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteCellStyleItem(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { deleteComponent } = this.state;\r\n\t\tconst { visible, onClose, form, onDeleteFormItemContainer, dropComponent, configs, colSpanArr } = this.props;\r\n\t\tconst { colSpan, type, textAlign = 'left', cellStyles } = configs;\r\n\t\tlet initialColSpan = 1;\r\n\t\tlet tempColSpan = colSpan;\r\n\t\tfor (let i = 0; i < colSpanArr.length; i++) {\r\n\t\t\ttempColSpan -= colSpanArr[i].colSpan;\r\n\t\t\tif (tempColSpan > 0) {\r\n\t\t\t\tinitialColSpan++;\r\n\t\t\t} else {\r\n\t\t\t\ti = colSpanArr.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\ttitle=\"编辑表单项\"\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tthis.onCloseEdit();\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t\t\t<Divider>单元格</ Divider>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t\tlabel=\"style设置\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"cellStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: objToStr(cellStyles),\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tkey=\"cell-colSpan\"\r\n\t\t\t\t\t\tlabel=\"跨列设置\"\r\n\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"originSpan\", {\r\n\t\t\t\t\t\t\tinitialValue: initialColSpan,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcolSpanArr.map((c, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`${c}-${i}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={i+1}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{`${i+1}列`}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!deleteComponent && dropComponent && type === 'Button' ? (\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"对齐方式\"\r\n\t\t\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"textAlign\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: textAlign,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t左\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t中\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t右\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<div className=\"btn-box\">\r\n\t\t\t\t\t\t<Button onClick={onDeleteFormItemContainer}>\r\n\t\t\t\t\t\t\t删除单元格\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n                    {\r\n                        this.renderContent()\r\n                    }\r\n\t\t\t        <div className=\"btn-bottom-box\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t        </div>\r\n\t\t    \t</Form>\r\n\t    \t</Drawer>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Form.create()(FormItemEdit);","import React, { PureComponent } from 'react';\r\nimport { Icon, message } from 'antd';\r\nimport FormItemRender from './FormItemRender';\r\nimport FormItemEdit from '../../EditDrawer/FormItemEdit';\r\nimport { activeColor } from '../../../utils/Constants';\r\nimport initDropData from '../../../utils/DropUtil';\r\nimport './index.css';\r\n\r\nconst clsName = 'drop-container border-box';\r\nconst forbiddenDropType = ['Breadcrumb', 'Text', 'Tabs'];\r\n\r\nclass FormItemContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dropComponent: !!props.configs.type,\r\n        };\r\n        this.btnIndex = 1;\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onShowEditItem = this.onShowEditItem.bind(this);\r\n        this.onEditDropContainer = this.onEditDropContainer.bind(this);\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.onDeleteChildren = this.onDeleteChildren.bind(this);\r\n        this.onClose = this.onClose.bind(this);\r\n    }\r\n    onShowEditItem() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        if (event.target.className === clsName) {\r\n            this.resetBg();\r\n            const data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            const { type } = data;\r\n            if (~forbiddenDropType.indexOf(type)) {\r\n                message.warn('当前容器不支持拖拽的组件!');\r\n                return;\r\n            }\r\n            const { onUpdateFormItemConfigs, colIndex } = this.props;\r\n            const newConfigs = initDropData(data, this, true);\r\n            if (newConfigs) {\r\n                this.setState({\r\n                    dropComponent: true,\r\n                }, () => {\r\n                    onUpdateFormItemConfigs({ colIndex, ...newConfigs });\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @desc  删除单元格中的子组件\r\n     * @param {object} e \r\n     */\r\n    onDeleteChildren(e) {\r\n        e && e.stopPropagation();\r\n        const { onUpdateFormItemConfigs, colIndex } = this.props;\r\n        this.setState({\r\n            dropComponent: false,\r\n        });\r\n        onUpdateFormItemConfigs({ colIndex, deleteFlag: true });\r\n    }\r\n    resetBg() {\r\n        const dropDomArr = document.querySelectorAll('.form-container .drop-container');\r\n        if (dropDomArr) {\r\n            dropDomArr.forEach((item) => {\r\n                item.style.background = '';\r\n            });\r\n        }\r\n    }\r\n    onDragenter(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = activeColor;\r\n        }\r\n    }\r\n    onDragLeave(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = '';\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.targetDom) {\r\n            this.targetDom.removeEventListener('drop', this.onDrop);\r\n            this.targetDom.removeEventListener('dragleave', this.onDragLeave);\r\n            this.targetDom.removeEventListener(\"dragenter\", this.onDragenter);\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (!this.targetDom) {\r\n            return;\r\n        }\r\n        this.targetDom.addEventListener(\"drop\", this.onDrop, false);\r\n        this.targetDom.addEventListener(\"dragleave\", this.onDragLeave, false);\r\n        this.targetDom.addEventListener(\"dragenter\", this.onDragenter, false);\r\n    }\r\n    onUpdateConfigs(newConfigs) {\r\n        const { configs } = this.props;\r\n        const { colIndex } = configs;\r\n        this.setState({\r\n            dropComponent: !newConfigs.deleteFlag,\r\n        }, () => {\r\n            const { onUpdateFormItemConfigs } = this.props;\r\n            onUpdateFormItemConfigs(Object.assign(configs, newConfigs, { colIndex }));\r\n            this.onClose();\r\n        });\r\n    }\r\n    onEditDropContainer(e) {\r\n        if (e.target.className === clsName) {\r\n            e && e.stopPropagation();\r\n            this.setState({\r\n                visible: true,\r\n            });\r\n        }\r\n    }\r\n    onClose() {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    getContainerWidth(colSpan = 8) {\r\n        return `${100 * colSpan / 24 }%`;\r\n    }\r\n    render() {\r\n        const { layoutColumn, onDeleteFormItemContainer,  preview = false, colSpanArr = [], formItemArr = [], configs } = this.props;\r\n        const { dropComponent, visible } = this.state;\r\n        const { colIndex } = configs;\r\n        const colIndexNum = +colIndex;\r\n        const _colSpan = Object.hasOwnProperty.call(configs, 'colSpan') ? \r\n            configs.colSpan : (24 / layoutColumn);\r\n        return (\r\n            <div\r\n                className={preview ? `preview-box ${clsName}` : clsName}\r\n                style={{\r\n                    width: this.getContainerWidth(_colSpan),\r\n                }}\r\n                ref={(targetDom) => { this.targetDom = targetDom; }}\r\n            >\r\n                {\r\n                  dropComponent || preview ? (\r\n                        <FormItemRender\r\n                            {...this.props}\r\n                            configs={configs}\r\n                        />\r\n                    ) : <Icon type=\"drag\" />\r\n                }\r\n                {\r\n                    !preview ? \r\n                        <Icon\r\n                            type=\"bars\"\r\n                            className=\"icon-operation\"\r\n                            onClick={this.onShowEditItem}\r\n                        /> : null\r\n                }\r\n                <FormItemEdit\r\n                    inForm\r\n                    visible={visible}\r\n                    onDelete={this.onDeleteChildren}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                    colSpanArr={colSpanArr}\r\n                    formItemArr={formItemArr}\r\n                    configs={configs}\r\n                    dropComponent={dropComponent}\r\n                    layoutColumn={layoutColumn}\r\n                    onDeleteFormItemContainer={() => {\r\n                        this.setState({\r\n                            visible: false,\r\n                        }, () => {\r\n                            onDeleteFormItemContainer(colIndexNum);\r\n                        });\r\n                    }}\r\n                    onClose={this.onClose}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FormItemContainer;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Form, Row, Button, message, Icon } from 'antd';\r\nimport FormEdit from '../../EditDrawer/FormEdit';\r\nimport getCellColSpan from '../../../utils/CellUtil';\r\nimport FormItemContainer from '../FormItemContainer';\r\nimport { getFormApi, getSubmitData } from '../../../utils/FormUtil';\r\nimport { FORM_CONTAINER, TRUE } from '../../../utils/Constants';\r\nimport { isLogin } from '../../../utils/common';\r\nimport './index.css';\r\n\r\nclass FormContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            fetchLoading: false,\r\n            expand: true, // 是否展开\r\n            configs: {\r\n                layoutColumn: 1, // 容器列数\r\n                colSpanArr: [],\r\n                formItemArr: [],\r\n            },\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAddRow = this.onAddRow.bind(this);\r\n        this.onCollapse = this.onCollapse.bind(this);\r\n        this.onDeleteRow = this.onDeleteRow.bind(this);\r\n        this.onResetForm = this.onResetForm.bind(this);\r\n        this.onAddRowCell = this.onAddRowCell.bind(this);\r\n        this.onShowEditForm = this.onShowEditForm.bind(this);\r\n        this.onCloseEditForm = this.onCloseEditForm.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onUpdateFormLayout = this.onUpdateFormLayout.bind(this);\r\n        this.renderFormItemContainer = this.renderFormItemContainer.bind(this);\r\n        this.onUpdateFormItemConfigs = this.onUpdateFormItemConfigs.bind(this);\r\n        this.onDeleteFormItemContainer = this.onDeleteFormItemContainer.bind(this);\r\n        this.colIndexStart = 0;\r\n    }\r\n    componentDidMount() {\r\n        const { onFormRenderCallBack, form } = this.props;\r\n        if (typeof onFormRenderCallBack === 'function') {\r\n            onFormRenderCallBack(form);\r\n        }\r\n    }\r\n    onResetForm() {\r\n        this.props.form.resetFields();\r\n    }\r\n    onShowEditForm() {\r\n        this.setState({\r\n            visible: true,\r\n            expand: false,\r\n        });\r\n    }\r\n    onCollapse() {\r\n        const { expand } = this.state;\r\n        this.setState({ expand: !expand });\r\n    }\r\n    addNewFormItem(formItemArr, layoutColumnNum, colSpanArr) {\r\n        if (formItemArr.length < layoutColumnNum) {\r\n            for(let i = formItemArr.length; i < layoutColumnNum; i++) {\r\n                formItemArr.push({\r\n                    colIndex: this.colIndexStart + i,\r\n                    colSpan: colSpanArr[i],\r\n                    originSpan: 1,\r\n                });\r\n            }\r\n        }\r\n        return formItemArr;\r\n    }\r\n    onCloseEditForm() {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onAddRowCell() {\r\n        const { configs } = this.state;\r\n        const { colSpanArr } = configs;\r\n        const formItemArr = configs.formItemArr.slice();\r\n        if (formItemArr.length === 0) {\r\n            message.warn('请设置容器列数');\r\n            return;\r\n        }\r\n        const rowSpanCount = formItemArr.reduce((total, item, i) => {\r\n            total += item.colSpan;\r\n            if (i === formItemArr.length -1) {\r\n                total %= 24;\r\n            }\r\n            return total;\r\n        }, 0);\r\n        let colSpanIndex = 0;\r\n        let total = 0;\r\n        for (let i = 0; i < colSpanArr.length; i++) {\r\n            total = total + (+colSpanArr[i]);\r\n            if (total > rowSpanCount) {\r\n                colSpanIndex = i;\r\n                i = colSpanArr.length;\r\n            }\r\n        }\r\n        formItemArr.push({ \r\n            colIndex: this.colIndexStart,\r\n            originSpan: 1,\r\n            colSpan: colSpanArr[colSpanIndex],\r\n        });\r\n        this.colIndexStart += 1;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.formItemArr = formItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    onUpdateConfigs(newConfigs) {\r\n        const { onUpdateLayoutConfig, configs } = this.props;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex: configs.layoutIndex,\r\n            type: FORM_CONTAINER,\r\n            ...newConfigs,\r\n        });\r\n    }\r\n    onAddRow() {\r\n        const { configs } = this.state;\r\n        const formItemArr = configs.formItemArr.slice();\r\n        if (formItemArr.length === 0) {\r\n            message.warn('请设置容器列数');\r\n            return;\r\n        }\r\n        const { layoutColumn } = configs;\r\n        for(let i = 0; i < layoutColumn; i++) {\r\n            formItemArr.push({ colIndex: this.colIndexStart + i });\r\n        }\r\n        this.colIndexStart += layoutColumn;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.formItemArr = formItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    onDeleteRow() {\r\n        const { configs } = this.state;\r\n        const { layoutColumn, formItemArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.slice();\r\n        if (newFormItemArr.length <= layoutColumn) {\r\n            message.warn('不能再删除了');\r\n            return;\r\n        }\r\n        newFormItemArr.length = Math.max(0, newFormItemArr.length- layoutColumn);\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    /**\r\n     * @desc 删除表单容器\r\n     */\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n    }\r\n    onDeleteFormItemContainer(colIndex) {\r\n        const { configs } = this.state;\r\n        const { formItemArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.filter((item) => {\r\n            return item.colIndex !== colIndex;\r\n        });\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    onUpdateFormItemConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const { formItemArr, colSpanArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.colIndex !== item.colIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        colIndex: values.colIndex,\r\n                        colSpan: values.colSpan,\r\n                        originSpan: values.originSpan,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.colIndex === item.colIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newFormItemArr.forEach((item) => {\r\n            // 更新跨列\r\n            if (item.colIndex > values.colIndex) {\r\n                item.colSpan = getCellColSpan(item.colIndex, item.originSpan,\r\n                    newFormItemArr, colSpanArr);\r\n            }\r\n        });\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    /**\r\n     * @desc 更新表单列数及表单类型\r\n     * @param {object} newConfigs \r\n     */\r\n    onUpdateFormLayout(newConfigs) {\r\n        const { configs } = this.state;\r\n        const { layoutColumn, colSpanArr } = newConfigs;\r\n        const newState = {};\r\n        const layoutColumnNum = +layoutColumn;\r\n        if (layoutColumnNum) {\r\n            const copyFormItemArr = configs.formItemArr.slice();\r\n            const formItemArr = this.addNewFormItem(copyFormItemArr, layoutColumnNum, colSpanArr);\r\n            formItemArr.forEach((item) => {\r\n                item.colSpan = getCellColSpan(item.colIndex, item.originSpan, formItemArr, colSpanArr);\r\n            });\r\n            this.colIndexStart += layoutColumnNum;\r\n            newConfigs.layoutColumn = layoutColumnNum;\r\n            newConfigs.formItemArr = formItemArr;\r\n            newState.configs = newConfigs;\r\n        }\r\n        this.setState({\r\n            ...newState\r\n        }, () => {\r\n            this.onCloseEditForm();\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    /**\r\n     * @desc 表单提交事件\r\n     * @param {*} e \r\n     */\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const { onShowLoginModal, form, execFetchApi, mode, configs } = this.props;\r\n        if (!isLogin()) {\r\n            onShowLoginModal();\r\n            return;\r\n        }\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const api = getFormApi(mode, configs);\r\n                if (api) {\r\n                    execFetchApi(api, getSubmitData(configs, values));\r\n                } else {\r\n                    message.warn('请配置form的api属性');\r\n                }\r\n            }\r\n        });\r\n    }\r\n    getExpandCount() {\r\n        const { preview } = this.props;\r\n        const { formItemArr = [] } = preview ? this.props.configs || {} : this.state.configs;\r\n        let expandCount = 0;\r\n        for (let a of formItemArr) {\r\n            if (a.type === 'Button' && Array.isArray(a.buttonArr)) {\r\n                for (let b of a.buttonArr) {\r\n                    if (b.logicType === 'expand') {\r\n                        expandCount = +(b.expandCount || 0);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return expandCount;\r\n    }\r\n    renderFormItemContainer() {\r\n        const { form, preview, context } = this.props;\r\n        const { formItemArr = [], layoutColumn, colSpanArr, formItemAlign } = preview ? this.props.configs || {} : this.state.configs;\r\n        this.GuiContext = context.GuiContext;\r\n        const { expand } = this.state;\r\n        const expandCount = this.getExpandCount();\r\n        return formItemArr.map((itemConfigs, i) => {\r\n            const { colIndex, type, hasLinkage } = itemConfigs;\r\n            // 隐藏组件\r\n            if (expandCount > 0 && !expand && (i+1) > expandCount && type !== 'Button') {\r\n                return null;\r\n            }\r\n            // 联动显示控制\r\n            if (hasLinkage === TRUE) {\r\n                const { linkName, condition } = itemConfigs;\r\n                if (form.getFieldValue(linkName) !== condition) {\r\n                    return null;\r\n                }\r\n            }\r\n            return (\r\n                <FormItemContainer\r\n                    key={`ed-${colIndex}`}\r\n                    colIndex={colIndex}\r\n                    configs={itemConfigs}\r\n                    expand={expand}\r\n                    context={context}\r\n                    onResetForm={this.onResetForm}\r\n                    form={form}\r\n                    preview={preview}\r\n                    formItemAlign={formItemAlign}\r\n                    formItemArr={formItemArr}\r\n                    colSpanArr={colSpanArr}\r\n                    layoutColumn={layoutColumn}\r\n                    onCollapse={this.onCollapse}\r\n                    onDeleteFormItemContainer={this.onDeleteFormItemContainer}\r\n                    onUpdateFormItemConfigs={this.onUpdateFormItemConfigs}\r\n                />\r\n            );\r\n        });\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { preview, layerConfig } = this.props;\r\n        const { configs = {} } = preview ? this.props : this.state;\r\n        const { layoutColumn = 1, formItemArr = [] } = configs || {};\r\n        return (\r\n            <Fragment>\r\n                <div className={`form-container container ${preview ? 'preview-box' : 'border-box'}`}>\r\n                    <div className=\"inner-box\">\r\n                        {\r\n                            <Form onSubmit={this.onSubmit}>\r\n                                <Row\r\n                                    gutter={{ md: 24 / layoutColumn, lg: 24, xl: 48 }}\r\n                                >\r\n                                    {this.renderFormItemContainer()}\r\n                                </Row>\r\n                            </Form>\r\n                        }\r\n                        {\r\n                            formItemArr.length > 0 && !preview ? (\r\n                                <div style={{\r\n                                    textAlign: 'center',\r\n                                    marginTop: '10px',\r\n                                    }}\r\n                                >\r\n                                    <Button\r\n                                        ghost\r\n                                        type=\"primary\"\r\n                                        onClick={this.onAddRowCell}\r\n                                    >\r\n                                        +FormItem\r\n                                    </Button>\r\n                                </div>\r\n                                ) : null\r\n                        }\r\n                    </div>\r\n                    {\r\n                        !preview ? <Icon type=\"form\" className=\"icon-operation\" onClick={this.onShowEditForm} /> : null\r\n                    }\r\n                </div>\r\n                <FormEdit\r\n                    visible={visible}\r\n                    layerConfig={layerConfig}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                    onSave={this.onUpdateFormLayout}\r\n                    onClose={this.onCloseEditForm}\r\n                />\r\n            </Fragment>  \r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(FormContainer);","import React, { PureComponent, Fragment } from 'react';\r\nimport { FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER } from '../../../utils/Constants';\r\nimport FormContainer from '../FormContainer';\r\nimport TableContainer from '../TableContainer';\r\nimport BoxContainer from '../BoxContainer';\r\nimport EmptyContainer from '../EmptyContainer';\r\nimport HeaderContainer from '../HeaderContainer';\r\nimport LineContainer from '../LineContainer';\r\nimport './index.css';\r\n\r\nclass LayoutContainer extends PureComponent {\r\n    renderContainer() {\r\n        const { layoutConfig, ...restProps } = this.props;\r\n        if (Array.isArray(layoutConfig) && layoutConfig.length > 0) {\r\n            return layoutConfig.map((configs) => {\r\n                const { type, layoutIndex } = configs;\r\n                const itemKey = `layout-${layoutIndex}`;\r\n                if (type === FORM_CONTAINER) {\r\n                    return (<FormContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === TABLE_CONTAINER) {\r\n                    return (<TableContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === EMPTY_CONTAINER) {\r\n                    return (<EmptyContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === BOX_CONTINAER) {\r\n                    return (<BoxContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === HEADER_CONTINAER) {\r\n                    return (<HeaderContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === LINE_CONTINAER) {\r\n                    return (<LineContainer key={itemKey} {...restProps} configs={configs} />);\r\n                }\r\n                return null;\r\n            });\r\n        }\r\n        return (\r\n            <div className=\"empty-tips\">请添加容器组件</div>\r\n        );\r\n    }\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    this.renderContainer()\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LayoutContainer;","/**\r\n * @desc 可拖拽组件抽象类\r\n */\r\nimport React, { PureComponent } from 'react';\r\n\r\nclass Dragable extends PureComponent {\r\n\tonDragStart(e, data) {\r\n\t\te.dataTransfer.setData('text/plain',JSON.stringify(data));\r\n\t}\r\n\trender() {\r\n\t\tconst { ch, data } = this.props;\r\n\t\treturn (\r\n\t\t\t<span\r\n\t\t\t\tdraggable=\"true\"\r\n\t\t\t\tclassName=\"drag-item\"\r\n\t\t\t\tonDragStart={(e) => { this.onDragStart(e, data); }}\r\n\t\t\t>\r\n\t\t\t\t{ch}\r\n\t\t\t</span>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Dragable;","import defaultColumns from './defaultColumns';\r\nimport { FALSE } from '../utils/Constants';\r\n\r\nconst dargConfig = {\r\n\tcomponent: {\r\n\t\tform: [\r\n\t\t\t{ ch: 'Input', data: { type: 'Input', label: '', name: '' } },\r\n\t\t\t// { ch: 'Button', data: { type: 'Button', btnArr: [\r\n\t\t\t// \t\t{ btnText: 'button', type: 'primary', index: 0 },\r\n\t\t\t// \t],\r\n\t\t\t// }},\r\n\t\t\t{ ch: 'Select', data: { type: 'Select' } },\r\n\t\t\t{ ch: 'DatePicker', data: { type: 'DatePicker' } },\r\n\t\t\t{ ch: 'RangePicker', data: { type: 'RangePicker' } },\r\n\t\t\t{ ch: 'Radio', data: { type: 'Radio', radioArr: [\r\n\t\t\t\t\t{ index: 0, value: 'a1', label: 'a' },\r\n\t\t\t\t\t{ index: 1, value: 'b1', label: 'b' },\r\n\t\t\t\t],\r\n\t\t\t\tradioType: 'default',\r\n\t\t\t}},\r\n\t\t\t{ ch: 'TextArea', data: { type: 'TextArea', label: '', name: '' } },\r\n\t\t\t{ ch: 'Checkbox', data: { type: 'Checkbox', checkboxArr: [\r\n\t\t\t\t\t{ index: 0, value: 'a1', label: 'a' },\r\n\t\t\t\t\t{ index: 1, value: 'b1', label: 'b' },\r\n\t\t\t\t],\r\n\t\t\t}},\r\n\t\t],\r\n\t\tbutton: [\r\n\t\t\t{ ch: '查询', data: { logicType: 'query', type: 'Button', antdType: 'primary', textDisabled: true, btnText: '查询', htmlType: 'submit' } },\r\n\t\t\t{ ch: '重置', data: { logicType: 'reset', type: 'Button', antdType: 'button', textDisabled: true, btnText: '重置', htmlType: 'reset' } },\r\n\t\t\t{ ch: '展开/收起', data: { logicType: 'expand', type: 'Button', textDisabled: true, btnText: '展开/收起', htmlType: 'button' } },\r\n\t\t\t{ ch: '导入', data: { logicType: 'import', type: 'Button', btnText: '导入', htmlType: 'button' } },\r\n\t\t\t{ ch: '导出', data: { logicType: 'export', type: 'Button', btnText: '导出', htmlType: 'button' } },\r\n\t\t\t{ ch: '新增', data: { logicType: 'add', type: 'Button', btnText: '新增', htmlType: 'button' } },\r\n\t\t\t{ ch: '编辑', data: { logicType: 'edit', type: 'Button', btnText: '编辑', htmlType: 'button' } },\r\n\t\t\t{ ch: '查看', data: { logicType: 'view', type: 'Button', btnText: '查看', htmlType: 'button' } },\r\n\t\t\t{ ch: '批量', data: { logicType: 'mult', type: 'Button', btnText: '批量', htmlType: 'button' } },\r\n\t\t\t{ ch: '跳转', data: { logicType: 'skip', type: 'Button', btnText: '跳转', htmlType: 'button' } },\r\n\t\t],\r\n\t\tothers: [\r\n\t\t\t{ ch: 'Breadcrumb', data: { type: 'Breadcrumb', breadcrumbArr: [\r\n\t\t\t\t\t{index: 0, label: 'menu1', value: '' },\r\n\t\t\t\t\t{index: 1, label: 'menu2', value: '' },\r\n\t\t\t\t],\r\n\t\t\t}},\r\n\t\t\t{ ch: 'Text', data: { type: 'Text', text: 'Text' } },\r\n\t\t\t{ ch: 'Tabs', data: { type: 'Tabs', tabsArr: [\r\n\t\t\t\t\t{ label: 'tab1', value: 'tab1', index: 0 },\r\n\t\t\t\t],\r\n\t\t\t}},\r\n\t\t]\r\n\t},\r\n\tlayout: [\r\n\t\t{ ch: 'Form', data: { type: 'FormContainer' } },\r\n\t\t{ ch: 'Table', data: { type: 'TableContainer', columns: defaultColumns } },\r\n\t\t{ ch: 'Box', data: { type: 'BoxContainer', layoutColumn: 1, cellsArr: [\r\n\t\t\t\t\t{ layoutIndex: 0 },\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{ ch: 'Header', data: { type: 'HeaderContainer', layoutColumn: 1, positionFixed: FALSE, cellsArr: [\r\n\t\t\t\t\t{ layoutIndex: 0 },\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{ ch: 'Line', data: { type: 'LineContainer' } },\r\n\t\t// { ch: 'Modal', data: { type: 'ModalContainer' } },\r\n\t],\r\n};\r\n\r\nexport default dargConfig;","const columns = [{\r\n    title: 'column0',\r\n    dataIndex: 'dataIndex0',\r\n    index: 0,\r\n}, {\r\n    title: 'column1',\r\n    dataIndex: 'dataIndex1',\r\n    index: 1,\r\n}, {\r\n    title: 'column2',\r\n    dataIndex: 'dataIndex2',\r\n    index: 2,\r\n}, {\r\n    title: 'column3',\r\n    dataIndex: 'dataIndex3',\r\n    index: 3,\r\n}, {\r\n    title: 'column4',\r\n    dataIndex: 'dataIndex4',\r\n    index: 4,\r\n}];\r\n\r\nexport default columns;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Divider } from 'antd';\r\nimport Dragable from './Dragable';\r\nimport dargConfig from '../../configs/dragConfig';\r\n\r\nclass DragTabFactory extends PureComponent {\r\n\trenderContentByType(targetConfigs, type = '') {\r\n\t\treturn (\r\n\t\t\t<Fragment key={`${type}`}>\r\n\t\t\t\t{\r\n\t\t\t\t\ttype ? (<Divider key={`${type}`}>{type}</Divider>) : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttargetConfigs.map((config, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Dragable {...config} key={`drag-${config.ch}-${index}`} />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { tabType = 'component' } = this.props;\r\n\t\tconst targetConfigs = dargConfig[tabType] || [];\r\n\t\tif (Array.isArray(targetConfigs)) {\r\n\t\t\treturn this.renderContentByType(targetConfigs);\r\n\t\t} else {\r\n\t\t\treturn Object.keys(targetConfigs).map((k) => {\r\n\t\t\t\tif(Array.isArray(targetConfigs[k])) {\r\n\t\t\t\t\treturn this.renderContentByType(targetConfigs[k], k);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default DragTabFactory;","import React, { Component } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport DragTabFactory from '../Core/DragTabFactory';\r\nimport './index.css';\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass DragTabs extends Component {\r\n\tcomponentDidMount() {\r\n        /* 放置目标元素时触发事件 */\r\n         document.addEventListener(\"dragover\", function( event ) {\r\n             // 阻止默认动作以启用drop\r\n             event.preventDefault();\r\n         }, false);\r\n\r\n        /* 拖动目标元素时触发drag事件 */\r\n         document.addEventListener(\"drag\", function( event ) {\r\n\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragstart\", function( event ) {\r\n          // 使其半透明\r\n              event.target.style.opacity = .5;\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragend\", function( event ) {\r\n            // 重置透明度\r\n            event.target.style.opacity = \"\";\r\n            document.querySelectorAll('.drop-zone').forEach((t) => {\r\n              \tt.style.background = \"#fff\";\r\n            })\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragenter\", function( event ) {\r\n          // 当可拖动的元素进入可放置的目标时高亮目标节点\r\n          if ( event.target.className === \"drop-zone\" ) {\r\n              event.target.style.background = \"#96cdf9\";\r\n          }\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragleave\", function( event ) {\r\n          // 当拖动元素离开可放置目标节点，重置其背景\r\n          if ( event.target.className === \"drop-zone\" ) {\r\n              event.target.style.background = \"\";\r\n          }\r\n        }, false);\r\n    }\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Tabs defaultActiveKey=\"1\" className=\"aside-tabs\">\r\n\t\t\t    <TabPane tab=\"容器\" key=\"layout\">\r\n                    <DragTabFactory tabType=\"layout\" />\r\n\t\t\t    </TabPane>\r\n\t\t\t    <TabPane tab=\"组件\" key=\"component\">\r\n                    <DragTabFactory />\r\n\t\t\t    </TabPane>\r\n                <TabPane tab=\"模板\" key=\"template\">\r\n                    <DragTabFactory tabType=\"template\" />\r\n\t\t\t    </TabPane>\r\n\t\t  \t</Tabs>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DragTabs;\r\n","import React, { PureComponent } from 'react';\r\nimport { Modal, Layout } from 'antd';\r\nimport DragTabs from '../../DragTabs';\r\nimport MainContainer from '../MainContainer';\r\n\r\nimport './index.css';\r\n\r\nconst { Sider, Content } = Layout;\r\n\r\nclass ModalContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            layoutConfig: [],\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onUpdateLayoutConfig = this.onUpdateLayoutConfig.bind(this);\r\n    }\r\n    onSubmit() {\r\n        const { onOk, editModal } = this.props;\r\n        const { layoutConfig } = this.state;\r\n        onOk({\r\n            ...editModal,\r\n            layoutConfig,\r\n        });\r\n    }\r\n    onUpdateLayoutConfig(layoutConfig) {\r\n        this.setState({\r\n            layoutConfig,\r\n        })\r\n    }\r\n    render() {\r\n        const { visible, onCancel, layerConfig } = this.props;\r\n        return (\r\n            <Modal\r\n                title=\"弹框编辑\"\r\n                width={1024}\r\n                visible={visible}\r\n                maskClosable={false}\r\n                onOk={this.onSubmit}\r\n                onCancel={onCancel}\r\n            >\r\n                <Layout>\r\n                        <Sider width=\"300\">\r\n                            <DragTabs />\r\n                        </Sider>\r\n                        <Layout>\r\n                            <Content>\r\n                                <MainContainer\r\n                                    onUpdateLayoutConfig={this.onUpdateLayoutConfig}\r\n                                    layerConfig={layerConfig}\r\n                                    noLayer\r\n                                />\r\n                            </Content>\r\n                        </Layout>\r\n                </Layout>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ModalContainer;","const common = localStorage.getItem('common');\r\nconst main = localStorage.getItem('main');\r\nconst webapi = localStorage.getItem('webapi');\r\n\r\nconst apiRenderConfig = [\r\n    {  \r\n        label: '接口地址前缀',\r\n        key: 'requestHost',\r\n        type: 'Select',\r\n        initialValue: '',\r\n        placeholder: '接口地址前缀',\r\n        options: [{\r\n            value: common,\r\n            label: 'common',\r\n        }, {\r\n            value: main,\r\n            label: 'main',\r\n        }, {\r\n            value: webapi,\r\n            label: 'webapi',\r\n        }],\r\n        rules: [{ required: true, message: 'host!' }],\r\n    }, {\r\n        label: '请求方法',\r\n        key: 'requestMethod',\r\n        type: 'Select',\r\n        initialValue: 'GET',\r\n        placeholder: '请求方法',\r\n        options: [{\r\n            value: 'GET',\r\n            label: 'GET',\r\n        }, {\r\n            value: 'POST',\r\n            label: 'POST',\r\n        }, {\r\n            value: 'PUT',\r\n            label: 'PUT',\r\n        }, {\r\n            value: 'DELETE',\r\n            label: 'DELETE',\r\n        }],\r\n        rules: [{ required: true, message: 'method!' }],\r\n    }, {\r\n        label: '接口地址',\r\n        key: 'requestApi',\r\n        type: 'Input',\r\n        placeholder: '接口地址',\r\n        rules: [{ required: true, message: '接口地址!' }],\r\n    }, {\r\n        label: '接口参数',\r\n        key: 'requestParams',\r\n        type: 'TextArea',\r\n        placeholder: '接口入参，多个参数以逗号分隔',\r\n    }, {\r\n        label: 'modelKey',\r\n        key: 'modelKey',\r\n        type: 'Input',\r\n        placeholder: '存放在model中的字段名称',\r\n        rules: [{ required: true, message: 'model key!' }],\r\n    }, {\r\n        label: 'API是否分页',\r\n        key: 'requestPagination',\r\n        type: 'Select',\r\n        placeholder: 'API是否分页',\r\n        rules: [{ required: true, message: 'requestPagination!' }],\r\n        initialValue: '0',\r\n        options: [{\r\n            value: '1',\r\n            label: '是',\r\n        }, {\r\n            value: '0',\r\n            label: '否',\r\n        }],\r\n    }\r\n];\r\n\r\nconst modalRenderConfig = [{\r\n    label: '名称',\r\n    key: 'name',\r\n    type: 'Input',\r\n    placeholder: '英文名称',\r\n    rules: [{ required: true, message: '名称!' }],\r\n}, {\r\n    label: 'width',\r\n    key: 'width',\r\n    type: 'Input',\r\n}, {\r\n    label: 'title',\r\n    key: 'title',\r\n    type: 'Input',\r\n    placeholder: 'title',\r\n    rules: [{ required: true, message: 'title!' }],\r\n}];\r\n\r\nconst btnRenderConfig = [{\r\n    label: '按钮文字',\r\n    key: 'btnText',\r\n    type: 'Input',\r\n    initialValue: 'button',\r\n    placeholder: 'button',\r\n    rules: [{ required: true, message: '按钮文字!' }],\r\n}, {\r\n    label: 'type',\r\n    key: 'type',\r\n    type: 'Select',\r\n    initialValue: 'primary',\r\n    placeholder: 'type',\r\n    rules: [{ required: true, message: 'type!' }],\r\n    options: [{\r\n        value: 'primary',\r\n        label: 'primary',\r\n    }, {\r\n        value: 'dashed',\r\n        label: 'dashed',\r\n    }, {\r\n        value: 'danger',\r\n        label: 'danger'\r\n    }, {\r\n        value: '',\r\n        label: 'none'\r\n    }],\r\n}, {\r\n    label: 'htmlType',\r\n    key: 'htmlType',\r\n    type: 'Select',\r\n    initialValue: 'button',\r\n    placeholder: 'htmlType',\r\n    rules: [{ required: true, message: 'htmlType!' }],\r\n    options: [{\r\n        value: 'submit',\r\n        label: 'submit',\r\n    }, {\r\n        value: 'reset',\r\n        label: 'reset',\r\n    }, {\r\n        value: 'button',\r\n        label: 'button'\r\n    }],\r\n}, {\r\n    label: 'onClick',\r\n    key: 'triggerFn',\r\n    type: 'Select',\r\n    placeholder: '点击事件',\r\n    options: 'clickEvents',\r\n}, {\r\n    label: '按钮样式',\r\n    key: 'btnStyle',\r\n    type: 'TextArea',\r\n    placeholder: '多个样式属性请用分号分隔',\r\n}];\r\n\r\nexport {\r\n    apiRenderConfig,\r\n    btnRenderConfig,\r\n    modalRenderConfig,\r\n}\r\n\r\nexport default apiRenderConfig;","import React, { Component, Fragment } from 'react';\r\nimport { Button, Drawer, Divider, Collapse, Form, Icon } from 'antd';\r\nimport { renderConfigForm } from '../../../utils/RenderUtil';\r\nimport { getFormData } from '../../../utils/FormUtil';\r\nimport { LAYER_MODAL, LAYER_API } from '../../../utils/Constants';\r\nimport ModalContainer from '../../Container/ModalContainer';\r\nimport { apiRenderConfig, modalRenderConfig } from '../../../configs/renderConfig';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\n\r\nclass LayerEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            layerConfig: {\r\n\t\t\t\tmodalArr: [],\r\n\t\t\t\tapiArr: [],\r\n\t\t\t\tdrawerArr: [],\r\n            },\r\n            editModal: null,\r\n            showEditModal: false,\r\n        };\r\n        this.modalAddIndex = 0;\r\n\t\tthis.apiAddIndex = 0;\r\n        this.onClose = this.onClose.bind(this);\r\n        this.onAddApi = this.onAddApi.bind(this);\r\n\t\tthis.onAddModal = this.onAddModal.bind(this);\r\n\t\tthis.onDeleteApi = this.onDeleteApi.bind(this);\r\n\t\tthis.onDeleteModal = this.onDeleteModal.bind(this);\r\n        this.onSubmitLayer = this.onSubmitLayer.bind(this);\r\n        this.onShowEditModal = this.onShowEditModal.bind(this);\r\n        this.onCloseEditModal = this.onCloseEditModal.bind(this);\r\n        this.onSaveEditModal = this.onSaveEditModal.bind(this);\r\n        this.renderModalPanelHeader = this.renderModalPanelHeader.bind(this);\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.props.visible && !this.initState) {\r\n            this.initState = true;\r\n            this.setState({\r\n                layerConfig: this.props.layerConfig,\r\n            });\r\n        }\r\n    }\r\n    onShowEditModal(item) {\r\n\t\tthis.setState({\r\n\t\t\tshowEditModal: true,\r\n\t\t\teditModal: item,\r\n\t\t});\r\n    }\r\n    onCloseEditModal() {\r\n\t\tthis.setState({\r\n\t\t\tshowEditModal: false,\r\n\t\t\teditModal: null,\r\n\t\t});\r\n    }\r\n    onSaveEditModal(layerItem) {\r\n\t\tconst { layerType } = layerItem;\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tconst { modalArr = [] } = newLayerConfig;\r\n\t\tif (layerType === LAYER_MODAL) {\r\n\t\t\tconst newModalArr = modalArr.reduce((arr, item) => {\r\n\t\t\t\tif (item.index === layerItem.index) {\r\n\t\t\t\t\titem = Object.assign({}, item, layerItem);\r\n\t\t\t\t}\r\n\t\t\t\tarr.push(item);\r\n\t\t\t\treturn arr;\r\n\t\t\t}, []);\r\n\t\t\tnewLayerConfig.modalArr = newModalArr;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n\t\tthis.onCloseEditModal();\r\n\t}\r\n    onClose() {\r\n        const { onCloseLayer, form } = this.props;\r\n        form.resetFields();\r\n        this.initState = false;\r\n        onCloseLayer();\r\n    }\r\n    onSubmitLayer(e) {\r\n        e.preventDefault();\r\n        const { form, onUpdateLayerConfig } = this.props;\r\n        form.validateFields((err, values) => {\r\n\t\t\tif (!err) {\r\n                const { layerConfig } = this.state;\r\n\t\t\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\t\t\t[LAYER_MODAL, LAYER_API].forEach((itemKey) => {\r\n\t\t\t\t\tconst renderConfig = itemKey === LAYER_MODAL ? modalRenderConfig : apiRenderConfig;\r\n\t\t\t\t\tconst newItemArr = getFormData(values, renderConfig, true);\r\n\t\t\t\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr;\r\n                });\r\n                newLayerConfig.modalArr.forEach((newItem) => {\r\n                    layerConfig.modalArr.forEach((item) => {\r\n                        if (item.index == newItem.index) {\r\n                            newItem.layoutConfig = item.layoutConfig;\r\n                            newItem.layerType = item.layerType;\r\n                        }\r\n                    });\r\n                });\r\n                onUpdateLayerConfig(newLayerConfig);\r\n                this.onClose();\r\n\t\t\t}\r\n\t\t});\r\n    }\r\n    onAddModal() {\r\n\t\tthis.onAddItem(LAYER_MODAL);\r\n\t}\r\n\tonAddApi() {\r\n\t\tthis.onAddItem(LAYER_API);\r\n\t}\r\n\t/**\r\n\t * @desc  新增弹框/抽屉/api\r\n\t * @param itemKey modal/drawer/api\r\n\t */\r\n\tonAddItem(itemKey) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst itemArr = layerConfig[`${itemKey}Arr`];\r\n\t\tconst newItemArr = itemArr.concat([{\r\n\t\t\tindex: this[`${itemKey}AddIndex`],\r\n\t\t\tlayerType: itemKey,\r\n\t\t}]);\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr;\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n        this[`${itemKey}AddIndex`] += 1;\r\n\t}\r\n\t/**\r\n\t * @desc 删除弹框/抽屉/api\r\n\t */\r\n\tonDeleteItem(itemKey, deleteIndex) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst itemArr = layerConfig[`${itemKey}Arr`];\r\n\t\tconst newItemArr = itemArr.reduce((arr, item) => {\r\n\t\t\tif (item.index != deleteIndex) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr || [];\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n\t}\r\n\tonDeleteModal(deleteIndex) {\r\n\t\tthis.onDeleteItem(LAYER_MODAL, deleteIndex);\r\n\t}\r\n\tonDeleteApi(deleteIndex) {\r\n\t\tthis.onDeleteItem(LAYER_API, deleteIndex);\r\n\t}\r\n    renderModalPanelHeader(item) {\r\n\t\tconst { name, index } = item;\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{name || `modal-${index}`}</span>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName=\"edit-modal\"\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tthis.onShowEditModal(item);;\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t编辑\r\n\t\t\t\t</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteModal(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n\t}\r\n\trenderApiPanelHeader(item) {\r\n\t\tconst { requestApi, index } = item;\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{requestApi || `api-${index}`}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteApi(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, form } = this.props;\r\n        const { layerConfig, showEditModal, editModal } = this.state;\r\n        const { modalArr = [], apiArr = [] } = layerConfig;\r\n        // 实时同步接口地址\r\n        if (!apiRenderConfig[0].initialValue) {\r\n            apiRenderConfig[0].initialValue = localStorage.getItem('webapi');\r\n            apiRenderConfig[0].options = [{\r\n                value: localStorage.getItem('common'),\r\n                label: 'common',\r\n            }, {\r\n                value: localStorage.getItem('main'),\r\n                label: 'main',\r\n            }, {\r\n                value: localStorage.getItem('webapi'),\r\n                label: 'webapi',\r\n            }];\r\n        }\r\n        const modalActiveKey = modalArr.reduce((arr, { index }) => {\r\n            arr.push(`modal-${index}`);\r\n            return arr;\r\n        }, []);\r\n        const apiActiveKey = apiArr.reduce((arr, { index }) => {\r\n            arr.push(`api-${index}`);\r\n            return arr;\r\n        }, []);\r\n        return (\r\n            <Fragment>\r\n                <Drawer\r\n                    title=\"弹出层&接口\"\r\n                    placement=\"right\"\r\n                    closable\r\n                    maskClosable={false}\r\n                    onClose={this.onClose}\r\n                    visible={visible}\r\n                    width=\"400\"\r\n                >\r\n                    <Form onSubmit={this.onSubmitLayer}>\r\n                        <Divider>弹窗</Divider>\r\n                        <Collapse defaultActiveKey={modalActiveKey}>\r\n                            {\r\n                                modalArr.map((item) => {\r\n                                    const { index } = item;\r\n                                    return (\r\n                                        <Panel\r\n                                            header={this.renderModalPanelHeader(item)}\r\n                                            key={`modal-${index}`}\r\n                                        >\r\n                                            {\r\n                                                renderConfigForm(form, modalRenderConfig, item)\r\n                                            }\r\n                                        </Panel>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </Collapse>\r\n                        <div className=\"btn-add-box\">\r\n                            <Button\r\n                                type=\"dashed\"\r\n                                size=\"large\"\r\n                                onClick={this.onAddModal}\r\n                            >\r\n                                添加弹窗\r\n                            </Button>\r\n                        </div>\r\n                        {/* <Divider>抽屉</Divider> */}\r\n\r\n                        <Divider>接口</Divider>\r\n                        <Collapse defaultActiveKey={apiActiveKey}>\r\n                            {\r\n                                apiArr.map((item) => {\r\n                                    const { index } = item;\r\n                                    return (\r\n                                        <Panel\r\n                                            header={this.renderApiPanelHeader(item)}\r\n                                            key={`api-${index}`}\r\n                                        >\r\n                                            {\r\n                                                renderConfigForm(form, apiRenderConfig, item)\r\n                                            }\r\n                                        </Panel>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </Collapse>\r\n                        <div className=\"btn-add-box\">\r\n                            <Button\r\n                                type=\"dashed\"\r\n                                size=\"large\"\r\n                                onClick={this.onAddApi}\r\n                            >\r\n                                添加接口\r\n                            </Button>\r\n                        </div>\r\n                        <Form.Item style={{ marginTop: '20px', textAlign: 'center' }}>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                            >\r\n                                确定\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Drawer>\r\n                <ModalContainer\r\n                    layerConfig={this.props.layerConfig}\r\n                    visible={showEditModal}\r\n                    editModal={editModal}\r\n                    onOk={this.onSaveEditModal}\r\n                    onCancel={this.onCloseEditModal}\r\n                />\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(LayerEdit);","/**\r\n * @desc 点击事件弹窗视图\r\n */\r\nimport React, { PureComponent, Fragment } from 'react';\r\nimport { Modal, message, Spin } from 'antd';\r\nimport moment from 'moment';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\nimport { getFormApi, getFormByType, getSubmitData } from '../../../utils/FormUtil';\r\nimport { MODE_EDIT, FORM_SAVE, CODE_SUCCESS } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nclass PreviewModal extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        };\r\n        this.onCancel = this.onCancel.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAfterClose = this.onAfterClose.bind(this);\r\n        this.onFormRenderCallBack = this.onFormRenderCallBack.bind(this);\r\n        this.initEdit = false;\r\n    }\r\n    componentDidUpdate() {\r\n        const { mode, visible, recordData, api, execFetchApi, modalLayoutConfig } = this.props;\r\n        // 编辑模式\r\n        if (visible && mode === MODE_EDIT && !this.initEdit) {\r\n            if (api) { // 需要调用接口查询数据\r\n                this.setState({\r\n                    loading: true,\r\n                });\r\n                execFetchApi(api, recordData).then((res) => {\r\n                    const { code, data } = res;\r\n                    if (code === '0') {\r\n                        this.onInitForm(data);\r\n                    }\r\n                    this.setState({\r\n                        loading: false,\r\n                    });\r\n                }).catch(() => {\r\n                    this.setState({\r\n                        loading: false,\r\n                    });\r\n                });\r\n            } else if (recordData) { // 传递的编辑数据\r\n                this.onInitForm(modalLayoutConfig, recordData);\r\n            }\r\n            this.initEdit = true;\r\n        }\r\n    }\r\n    onInitForm(layoutConfig, editData) {\r\n        const formObj = getFormByType(layoutConfig, FORM_SAVE);\r\n        if (formObj && Array.isArray(formObj.formItemArr)) {\r\n            const formData = formObj.formItemArr.reduce((obj, item) => {\r\n                const { type, name, format = 'YYYY-MM-DD', dateKeys } = item;\r\n                if (type === 'DatePicker') {\r\n                    obj[name] = moment(editData[name], format);\r\n                } else if (type === 'RangePicker' && dateKeys) {\r\n                    const [ startTime, endTime ] = dateKeys;\r\n                    if (editData[startTime] && editData[endTime]) {\r\n                        obj[name] = [moment(editData[startTime], format), moment(editData[endTime], format)];\r\n                    }\r\n                } else {\r\n                    obj[name] = editData[name];\r\n                }\r\n                return obj;\r\n            }, {});\r\n            if (this.form) {\r\n                this.form.setFieldsValue(formData);\r\n            }\r\n            this.formData = formData;\r\n        } else {\r\n            message.warn('请配置编辑弹窗');\r\n        }\r\n    }\r\n    onCancel() {\r\n        const { loading } = this.state;\r\n        if (loading) {\r\n            return;\r\n        }\r\n        const { modalName, onCancelModal } = this.props;\r\n        onCancelModal(modalName);\r\n    }\r\n    renderContent(layoutConfig = []) {\r\n        const { mode } = this.props;\r\n        return layoutConfig.map((item, i) => {\r\n            return (\r\n                <Fragment key={`preview-${i}`}>\r\n                    {renderComponent(item, {\r\n                        preview: true,\r\n                        context: this,\r\n                        mode,\r\n                        onFormRenderCallBack: this.onFormRenderCallBack })}\r\n                </Fragment>\r\n            );\r\n        });\r\n    }\r\n    onSubmit() {\r\n        const { loading } = this.state;\r\n        if (loading) {\r\n            return;\r\n        }\r\n        const { onOkModal, modalName, mode, modalLayoutConfig, layerConfig, recordData } = this.props;\r\n        if(this.form) {\r\n            this.form.validateFields((err, values) => {\r\n                if (!err) {\r\n                    if (Array.isArray(modalLayoutConfig)) {\r\n                        const formObj = getFormByType(modalLayoutConfig, FORM_SAVE);\r\n                        if (formObj) {\r\n                            const api = getFormApi(mode, formObj); // 根据模式获取对应接口地址\r\n                            const { apiArr } = layerConfig;\r\n                            const apiObj = apiArr.find(({ requestApi }) => {\r\n                                return requestApi === api;\r\n                            });\r\n                            if (apiObj && apiObj.requestParams) { // 接口入参\r\n                                const paramsArr = apiObj.requestParams.split(',');\r\n                                paramsArr.forEach((paramKey) => {\r\n                                    if (Object.hasOwnProperty.call(recordData, paramKey) && !Object.hasOwnProperty.call(values, paramKey)) {\r\n                                        values[paramKey] = recordData[paramKey];\r\n                                    }\r\n                                });\r\n                            }\r\n                            if (api) {\r\n                                this.setState({\r\n                                    loading: true,\r\n                                });\r\n                                onOkModal(modalName, api, getSubmitData(formObj, values)).then((res) => {\r\n                                    const { data } = res;\r\n                                    const { code } = data || {};\r\n                                    this.setState({\r\n                                        loading: false,\r\n                                    });\r\n                                    if (code === CODE_SUCCESS) {\r\n                                        message.success('保存成功');\r\n                                        this.onCancel();\r\n                                    }\r\n                                }).catch(() => {\r\n                                    this.setState({\r\n                                        loading: false,\r\n                                    });\r\n                                });\r\n                            } else {\r\n                                message.warn('请配置form的api属性');\r\n                            }\r\n                        } else {\r\n                            message.warn('请配置form组件');\r\n                        }\r\n                    } else {\r\n                        message.warn('请配置form组件');\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            message.warn('请配置form组件');\r\n        }\r\n    }\r\n    onFormRenderCallBack(form) {\r\n        this.form = form;\r\n        if (this.formData) {\r\n            this.form.setFieldsValue(this.formData);\r\n        }\r\n    }\r\n    onAfterClose() {\r\n        this.initEdit = false;\r\n        this.formData = null;\r\n        if (this.form) {\r\n            this.form.resetFields();\r\n        }\r\n\r\n    }\r\n    render() {\r\n        const { title, visible, modalLayoutConfig, mode } = this.props;\r\n        const { loading } = this.state;\r\n        return (\r\n            <Modal\r\n                title={mode === MODE_EDIT ? '编辑' : title}\r\n                visible={visible}\r\n                onCancel={this.onCancel}\r\n                onOk={this.onSubmit}\r\n                afterClose={this.onAfterClose}\r\n                maskClosable={false}\r\n            >\r\n                <Spin spinning={loading}>\r\n                    {this.renderContent(modalLayoutConfig)}\r\n                </Spin>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PreviewModal;","/**\r\n * @desc 页面右侧容器主视图，拖拽组件的容器\r\n */\r\nimport React, { PureComponent, Fragment } from 'react';\r\nimport { message, Button, Spin } from 'antd';\r\nimport { Service } from '../../../annotation';\r\nimport LayoutContainer from '../LayoutContainer';\r\nimport isContainer from '../../../utils/common';\r\nimport LayerEdit from '../../EditDrawer/LayerEdit';\r\nimport PreviewModal from '../../Modal/PreviewModal';\r\nimport { CODE_SUCCESS, TRUE, MODE_EDIT, MODE_ADD, proxyServerUrl } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst GuiContext = React.createContext({\r\n    selectedRows: [],\r\n    selectedRowKeys: [],\r\n});\r\n\r\nconst initLayerConfig = {\r\n\tmodalArr: [],\r\n\tapiArr: [],\r\n\tdrawerArr: [],\r\n};\r\n\r\n@Service('AppService')\r\nclass MainContainer extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlayoutConfig: props.preview ? props.layoutConfig : [],\r\n\t\t\tlayerConfig: props.layerConfig || initLayerConfig,\r\n\t\t\tPageIndex: 1,\r\n\t\t\tPageSize: 10,\r\n\t\t\tfetchLoading: false,\r\n\t\t\tapiData: {}, // 接口数据对象\r\n\t\t\tshowLayer: false,\r\n\t\t\tselectedRows: [],\r\n\t\t\tselectedRowKeys: [],\r\n\t\t\tgenerateLoading: false, // 页面是否在生成\r\n\t\t};\r\n\t\tthis.paramData = {};\r\n\t\tthis.apiConfig = {};\r\n\t\tthis.GuiContext = GuiContext;\r\n\t\tthis.onDrop = this.onDrop.bind(this);\r\n        this.onOkModal = this.onOkModal.bind(this);\r\n\t\tthis.onCancelModal = this.onCancelModal.bind(this);\r\n\t\tthis.onUpdateApiConfig = this.onUpdateApiConfig.bind(this);\r\n\t\tthis.onPageIndexChange = this.onPageIndexChange.bind(this);\r\n\t\tthis.onShowSizeChange = this.onShowSizeChange.bind(this);\r\n\t\tthis.execFetchApi = this.execFetchApi.bind(this);\r\n\t\tthis.onPreviewPage = this.onPreviewPage.bind(this);\r\n\t\tthis.onUpdateLayerConfig = this.onUpdateLayerConfig.bind(this);\r\n\t\tthis.onToggleLayer = this.onToggleLayer.bind(this);\r\n\t\tthis.onGeneratePage = this.onGeneratePage.bind(this);\r\n\t\tthis.onUpdateLayoutConfig = this.onUpdateLayoutConfig.bind(this);\r\n\t\tthis.layoutIndex = 0;\r\n\t\tthis.container = React.createRef();\r\n\t}\r\n\tstatic getDerivedStateFromProps(nextProps) {\r\n\t\tif (nextProps.visible) {\r\n\t\t\treturn {\r\n\t\t\t\tlayerConfig: nextProps.layerConfig,\r\n\t\t\t\tlayoutConfig: nextProps.layoutConfig,\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (Object.hasOwnProperty.call(nextProps, 'layerConfig')) {\r\n\t\t\treturn {\r\n\t\t\t\tlayerConfig: nextProps.layerConfig,\r\n\t\t\t};\r\n\t\t}\r\n\t\t// 否则，对于state不进行任何操作\r\n\t\treturn null;\r\n\t}\r\n\t/**\r\n\t * @desc 更新页面配置对象，所有拖拽组件更新都将调用该方法同步配置信息\r\n\t * @param {object} param0 \r\n\t */\r\n\tonUpdateLayoutConfig(newConfigs) {\r\n\t\tconst { layoutIndex, deleteFlag = false } = newConfigs;\r\n\t\tconst { layoutConfig } = this.state;\r\n\t\tconst copyConfig = layoutConfig.slice();\r\n\t\t// 删除配置文件\r\n\t\tif (deleteFlag) {\r\n\t\t\tconst deleteIndex = copyConfig.findIndex((item) => {\r\n\t\t\t\treturn item.layoutIndex === layoutIndex;\r\n\t\t\t});\r\n\t\t\tcopyConfig.splice(deleteIndex, 1);\r\n\t\t} else {\r\n\t\t\tconst updateIndex = copyConfig.findIndex((item) => {\r\n\t\t\t\treturn item.layoutIndex === layoutIndex;\r\n\t\t\t});\r\n\t\t\tcopyConfig[updateIndex] = newConfigs;\r\n\t\t}\r\n\t\tif (typeof this.props.onUpdateLayoutConfig === 'function') {\r\n\t\t\tthis.props.onUpdateLayoutConfig(copyConfig);\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tlayoutConfig: copyConfig,\r\n\t\t});\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconst { preview =false } = this.props;\r\n\t\tif (!preview && this.container && this.container.current) {\r\n\t\t\tthis.container.current.addEventListener(\"drop\", this.onDrop, false);\r\n\t\t}\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tconst { preview =false } = this.props;\r\n\t\tif (!preview && this.container && this.container.current) {\r\n\t\t\tthis.container.current.removeEventListener(\"drop\", this.onDrop);\r\n\t\t}\r\n\t}\r\n\tonDrop(event) {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\tconst data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n\t\tconst { type, ...defaultConfigs } = data;\r\n\t\tif (!event.target.className || event.target.className.indexOf('main-container') === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (isContainer(type)) {\r\n\t\t\tconst { layoutConfig } = this.state;\r\n\t\t\tconst copyLayoytConfig = layoutConfig.slice();\r\n\t\t\tconst configObj = Object.assign({\r\n\t\t\t\ttype,\r\n\t\t\t\tlayoutIndex: this.layoutIndex,\r\n\t\t\t\t...defaultConfigs,\r\n\t\t\t});\r\n\t\t\tcopyLayoytConfig.push(configObj);\r\n\t\t\tthis.setState({\r\n\t\t\t\tlayoutConfig: copyLayoytConfig,\r\n\t\t\t});\r\n\t\t\tthis.layoutIndex += 1;\r\n\t\t} else {\r\n\t\t\tmessage.warn('请拖拽容器组件');\r\n\t\t}\r\n\t}\r\n\texecFetchApi(api, reqPrams, logicType) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst { apiArr } = layerConfig;\r\n\t\tconst apiObj = apiArr.find(({ requestApi }) => {\r\n\t\t\treturn requestApi === api;\r\n\t\t});\r\n\t\tif (!apiObj) {\r\n\t\t\tmessage.warn('api配置参数有误');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { modelKey, requestHost, requestMethod, requestPagination, requestParams = '' } = apiObj;\r\n\t\tif (logicType === 'mult') { // 批量按钮\r\n\t\t\tconst { selectedRows, selectedRowKeys } = this.state;\r\n\t\t\tif (selectedRows.length === 0) {\r\n\t\t\t\tmessage.warn('请选择数据');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!requestParams) { // 接口没有配置请求参数\r\n\t\t\t\treqPrams = selectedRowKeys;\r\n\t\t\t} else {\r\n\t\t\t\tconst paramKeys = requestParams.split(',');\r\n\t\t\t\treqPrams = selectedRows.reduce((arr, item) => {\r\n\t\t\t\t\tconst _obj = {};\r\n\t\t\t\t\tparamKeys.forEach((pk) => {\r\n\t\t\t\t\t\t_obj[pk] = item[pk];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tarr.push(_obj);\r\n\t\t\t\t\treturn arr;\r\n\t\t\t\t}, []);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.toggleLoading();\r\n\t\t// 分页查询接口\r\n\t\tif (requestPagination === TRUE) {\r\n\t\t\tif (this.state.PageIndex !== 1) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tPageIndex: 1,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst { PageSize } = this.state;\r\n\t\t\treqPrams.PageIndex = 1;\r\n\t\t\treqPrams.PageSize = PageSize;\r\n\t\t}\r\n\t\tthis.paramData[modelKey] = reqPrams; // 保存查询参数\r\n\t\treturn this.props.service.fetchApi(requestHost, requestMethod, api, reqPrams).then((res = {}) => {\r\n\t\t\tconst { data } = res;\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconst { code, message: msg, data: realData } = data || {};\r\n\t\t\t\tif (code !== CODE_SUCCESS) {\r\n\t\t\t\t\tmessage.error(msg || '调用接口异常');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst { apiData } = this.state;\r\n\t\t\t\t\tconst newApiData = Object.assign({}, apiData);\r\n\t\t\t\t\tif (logicType === 'mult') {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tselectedRowKeys: [],\r\n\t\t\t\t\t\t\tselectedRows: [],\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (requestPagination === TRUE) {\r\n\t\t\t\t\t\tconst { total, list } = realData;\r\n\t\t\t\t\t\tnewApiData[modelKey] = list;\r\n\t\t\t\t\t\tnewApiData[`${modelKey}Total`] = total;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewApiData[modelKey] = realData;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tapiData: newApiData,\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// const searchBtn = document.querySelector('form button[type=\"submit\"]');\r\n\t\t\t\t\t// searchBtn && searchBtn.click();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst { message: msg } = data || {};\r\n\t\t\t\tmessage.error(msg || '调用接口异常');\r\n\t\t\t}\r\n\t\t\tthis.toggleLoading(false);\r\n\t\t\treturn Promise.resolve(res);\r\n\t\t}).catch((error) => {\r\n\t\t\tthis.toggleLoading(false);\r\n\t\t\tif (error.response) {\r\n\t\t\t\tif (error.response.status === 401) {\r\n\t\t\t\t\tmessage.error('登录信息过期，请重新登录');\r\n\t\t\t\t\tthis.props.onShowLoginModal();\r\n\t\t\t\t} else if (error.response.status === 403) {\r\n\t\t\t\t\tmessage.error(error.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error(JSON.stringify(error));\r\n\t\t\t}\r\n\t\t\treturn Promise.reject(error);\r\n\t\t});\r\n\t}\r\n\ttoggleLoading(fetchLoading = true) {\r\n\t\tthis.setState({\r\n\t\t\tfetchLoading,\r\n\t\t});\r\n\t}\r\n\tonPageIndexChange(page, pageSize, modelKey) {\r\n\t\tthis.setState({\r\n\t\t\tPageIndex: page,\r\n\t\t}, () => {\r\n\t\t\tthis.execTableQuery(modelKey);\r\n\t\t});\r\n\t}\r\n\tonShowSizeChange(current, pageSize, modelKey) {\r\n\t\tthis.setState({\r\n\t\t\tPageIndex: 1,\r\n\t\t\tPageSize: pageSize,\r\n\t\t}, () => {\r\n\t\t\tthis.execTableQuery(modelKey);\r\n\t\t});\r\n\t}\r\n\t/**\r\n\t * @desc 执行表格接口查询\r\n\t * @param {*} modelKey \r\n\t */\r\n\texecTableQuery(modelKey) {\r\n\t\tif (this.apiConfig[modelKey]) {\r\n\t\t\tconst { PageIndex, PageSize } = this.state;\r\n\t\t\tconst reqPrams = this.paramData[modelKey];\r\n\t\t\tconst { api } = this.apiConfig[modelKey];\r\n\t\t\tthis.execFetchApi(api, Object.assign(reqPrams, { PageIndex, PageSize }));\r\n\t\t} else {\r\n\t\t\tmessage.warn('请配置Table的modelKey');\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * @desc 生成页面源代码\r\n\t */\r\n\tonGeneratePage() {\r\n\t\tconst { pageName, projectDir, onShowPageNameModal, onResetProps } = this.props;\r\n\t\tif (!pageName) {\r\n\t\t\tonShowPageNameModal(); // 设置页面名称\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (window.ipcRenderer && !projectDir) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { layoutConfig = [], layerConfig = {} } = this.state;\r\n\t\tif (layoutConfig.length === 0) {\r\n\t\t\tmessage.warn('请配置页面信息');\r\n\t\t\treturn;\r\n\t\t}\r\n        const pageConfig = {\r\n\t\t\tpageName,\r\n\t\t\tprojectDir,\r\n\t\t\tlayoutConfig,\r\n\t\t\tlayerConfig,\r\n\t\t};\r\n\t\tthis.setState({\r\n\t\t\tgenerateLoading: true,\r\n\t\t});\r\n\t\tif (window.ipcRenderer) {\r\n\t\t\twindow.ipcRenderer.send('createCode', JSON.stringify(pageConfig));\r\n\t\t\twindow.ipcRenderer.on('createCodeReply', (event, args) => {\r\n\t\t\t\tconst { code, info } = JSON.parse(args);\r\n\t\t\t\tif (code == 0) {\r\n\t\t\t\t\tmessage.success(info);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.error(info);\r\n\t\t\t\t}\r\n\t\t\t\tonResetProps();\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgenerateLoading: false,\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.service.generatePage(pageConfig)\r\n        .then((response) => {\r\n\t\t\tconst { data } = response;\r\n\t\t\tif (data.code == CODE_SUCCESS) {\r\n\t\t\t\tmessage.success(data.info);\r\n\t\t\t\tconst aLink = document.createElement('a');\r\n\t\t\t\taLink.href = `${proxyServerUrl}/sourceCache/${pageName}.tar`;\r\n\t\t\t\taLink.style.display = 'none';\r\n\t\t\t\tdocument.body.appendChild(aLink);\r\n\t\t\t\taLink.click();\r\n\t\t\t\tdocument.body.removeChild(aLink);\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error(data.info);\r\n\t\t\t}\r\n\t\t\tthis.setState({\r\n\t\t\t\tgenerateLoading: false,\r\n\t\t\t});\r\n\t\t\tonResetProps();\r\n        })\r\n        .catch(() => {\r\n\t\t\tmessage.error('请求失败');\r\n\t\t\tthis.setState({\r\n\t\t\t\tgenerateLoading: false,\r\n\t\t\t});\r\n        });\r\n\t}\r\n\t/**\r\n\t * @desc 预览页面\r\n\t */\r\n\tonPreviewPage() {\r\n\t\tconst { onPreviewPage } = this.props;\r\n\t\tconst { layoutConfig, layerConfig } = this.state;\r\n\t\tonPreviewPage(layoutConfig, layerConfig);\r\n\t}\r\n\t/**\r\n\t * @desc 管理弹出层组件，包括Modal和Drawer\r\n\t */\r\n\tonToggleLayer() {\r\n\t\tthis.setState({\r\n\t\t\tshowLayer: !this.state.showLayer,\r\n\t\t});\r\n\t}\r\n\t\r\n\tonUpdateLayerConfig(layerConfig) {\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig,\r\n\t\t});\r\n\t}\r\n\tonUpdateApiConfig(modelKey, apiConfig) {\r\n\t\tthis.apiConfig[modelKey] = apiConfig;\r\n\t}\r\n\tgetChildFuncProps() {\r\n\t\treturn {\r\n\t\t\texecFetchApi: this.execFetchApi,\r\n\t\t\tonPageIndexChange: this.onPageIndexChange,\r\n\t\t\tonShowSizeChange: this.onShowSizeChange,\r\n\t\t\tonUpdateApiConfig: this.onUpdateApiConfig,\r\n\t\t\tonUpdateLayoutConfig: this.onUpdateLayoutConfig,\r\n\t\t};\r\n\t}\r\n\tonShowModal(e, modalName, api, data) {\r\n\t\tconst newState = {\r\n\t\t\t[`show${modalName}`]: true,\r\n\t\t\tapi,\r\n\t\t\trecordData: data,\r\n\t\t};\r\n\t\tthis.setState({\r\n\t\t\t...newState\r\n\t\t});\r\n\t}\r\n\tonCancelModal(modalName) {\r\n        this.setState({\r\n\t\t\t[`show${modalName}`]: false,\r\n\t\t\trecordData: null,\r\n\t\t\tapi: '',\r\n        })\r\n    }\r\n    onOkModal(modalName, api, values) {\r\n\t\treturn this.execFetchApi(api, values);\r\n    }\r\n\trenderModal() {\r\n\t\tconst { layerConfig, recordData, api } = this.state;\r\n\t\tconst { modalArr = []} = layerConfig;\r\n        return modalArr.map((item) => {\r\n            const { name: modalName, title, width, layoutConfig } = item;\r\n            const visibleStateName = `show${modalName}`;\r\n\t\t\tconst visible = this.state[visibleStateName];\r\n\t\t\tconst props = {\r\n\t\t\t\tapi,\r\n\t\t\t\twidth: parseInt(width),\r\n\t\t\t\ttitle,\r\n\t\t\t\tvisible,\r\n\t\t\t\trecordData,\r\n\t\t\t\tlayerConfig,\r\n\t\t\t\tmodalName,\r\n\t\t\t\tlayoutConfig: this.state.layoutConfig,\r\n\t\t\t\tmodalLayoutConfig: layoutConfig,\r\n\t\t\t\texecFetchApi: this.execFetchApi,\r\n\t\t\t};\r\n\t\t\tif (visible) {\r\n\t\t\t\t// 判断是否是编辑模式\r\n\t\t\t\tprops.mode = recordData || api ? MODE_EDIT : MODE_ADD;\r\n\t\t\t}\r\n            return (\r\n                <PreviewModal\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tkey={`${title}-${modalName}`}\r\n\t\t\t\t\tonCancelModal={this.onCancelModal}\r\n\t\t\t\t\tonOkModal={this.onOkModal}\r\n                />\r\n            );\r\n        });\r\n\t}\r\n\trender() {\r\n\t\tconst { noLayer = false, onShowLoginModal, preview = false } = this.props;\r\n\t\tconst { layoutConfig, generateLoading, showLayer, layerConfig,\r\n\t\t\tfetchLoading, apiData, PageIndex, PageSize } = this.state;\r\n\t\tlet isEdit = true;\r\n\t\tif (noLayer) {\r\n\t\t\tisEdit = false;\r\n\t\t} else if (preview) {\r\n\t\t\tisEdit = false;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Spin spinning={fetchLoading}>\r\n\t\t\t\t\t<div className={`main-container border-box ${ preview ? 'preview-mode' : '' }`} ref={this.container}>\r\n\t\t\t\t\t\t<GuiContext.Provider\r\n\t\t\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\t\t\tselectedRows: this.state.selectedRows,\r\n\t\t\t\t\t\t\t\tselectedRowKeys: this.state.selectedRowKeys,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LayoutContainer\r\n\t\t\t\t\t\t\t\tonShowLoginModal={onShowLoginModal}\r\n\t\t\t\t\t\t\t\tlayoutConfig={layoutConfig}\r\n\t\t\t\t\t\t\t\tlayerConfig={layerConfig}\r\n\t\t\t\t\t\t\t\tcurrentPage={PageIndex}\r\n\t\t\t\t\t\t\t\tpageSize={PageSize}\r\n\t\t\t\t\t\t\t\tapiData={apiData}\r\n\t\t\t\t\t\t\t\tcontext={this}\r\n\t\t\t\t\t\t\t\tpreview={preview}\r\n\t\t\t\t\t\t\t\t{...this.getChildFuncProps()}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</GuiContext.Provider>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tisEdit ? (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\tshape=\"round\"\r\n\t\t\t\t\t\t\t\t\ticon=\"plus\"\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn-manage\"\r\n\t\t\t\t\t\t\t\t\tonClick={this.onToggleLayer}\r\n\t\t\t\t\t\t\t\t\ttitle=\"弹出层&接口编辑\"\r\n\t\t\t\t\t\t\t\t></Button>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<LayerEdit\r\n\t\t\t\t\t\t\tvisible={showLayer}\r\n\t\t\t\t\t\t\tonCloseLayer={this.onToggleLayer}\r\n\t\t\t\t\t\t\tonUpdateLayerConfig={this.onUpdateLayerConfig}\r\n\t\t\t\t\t\t\tlayerConfig={layerConfig}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Spin>\r\n\t\t\t\t{\r\n\t\t\t\t\tisEdit ? (\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tid=\"btn-code\"\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={this.onGeneratePage}\r\n\t\t\t\t\t\t\t\tloading={generateLoading}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t生成页面\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={this.onPreviewPage}\r\n\t\t\t\t\t\t\t\tstyle={{ marginLeft: '5px' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t预览\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t) : null\r\n\t\t\t\t}\r\n\t\t\t\t{this.renderModal()}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MainContainer;","/**\r\n * @desc 页面预览窗口\r\n */\r\nimport React, { Component } from 'react';\r\nimport MainContainer from '../../Container/MainContainer';\r\nimport { Modal, Layout } from 'antd';\r\nimport './index.css';\r\nconst { Sider, Content } = Layout;\r\n\r\nclass PreviewPageModal extends Component {\r\n    render() {\r\n        const { showModal, layoutConfig, onCloseModal, layerConfig } = this.props;\r\n        return (\r\n            <Modal\r\n                visible={showModal}\r\n                footer={null}\r\n                width={'100%'}\r\n                closable\r\n                centered\r\n                wrapClassName=\"preview-page-modal\"\r\n                onCancel={onCloseModal}\r\n                title=\"页面预览\"\r\n                maskClosable\r\n            >\r\n                <div className=\"preview-container\">\r\n                    <Layout>\r\n                        <Sider width=\"210\">\r\n                        </Sider>\r\n                        <Layout>\r\n                            <Content>\r\n                                <MainContainer\r\n                                    visible={showModal}\r\n                                    layoutConfig={layoutConfig}\r\n                                    layerConfig={layerConfig}\r\n                                    preview\r\n                                    noLayer\r\n                                />\r\n                            </Content>\r\n                        </Layout>\r\n                    </Layout>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PreviewPageModal;","import React, { PureComponent } from 'react';\r\nimport { Modal, Form, Input, Button, message } from 'antd';\r\nimport proxyServerUrl from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\n@Form.create()\r\nclass LoginModal extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showLoginFrame: false,\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onResetModal = this.onResetModal.bind(this);\r\n        this.getIframeUrl = this.getIframeUrl.bind(this);\r\n        this.asyncAppendJs = this.asyncAppendJs.bind(this);\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                this.asyncAppendJs(values.appUrl);\r\n            }\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        window.addEventListener('message', (e) => {\r\n            if (e.origin === proxyServerUrl) {\r\n                const appUrl =  this.props.form.getFieldValue('appUrl');\r\n                let MerchantId = '';\r\n                if (appUrl && appUrl.indexOf('?') > 0 && appUrl.indexOf('MerchantId=') > 0) {\r\n                    const targetStr = appUrl.slice(appUrl.indexOf('?') + 1).split('&').find((searchStr) => {\r\n                        return searchStr.indexOf('MerchantId=') >= 0;\r\n                    })\r\n                    if (targetStr) {\r\n                        MerchantId = targetStr.split('=')[1];\r\n                    }\r\n                    localStorage.setItem('access_token', e.data);\r\n                    localStorage.setItem('MerchantId', MerchantId);\r\n                    localStorage.setItem('appUrl', appUrl);\r\n                    message.success('登录成功');\r\n                    this.props.onCloseLoginModal();\r\n                }\r\n            }\r\n        }, false);\r\n    }\r\n    clearStorage() {\r\n        ['access_token', 'MerchantId', 'appUrl', 'common', 'main', 'webapi'].forEach((k) => {\r\n            localStorage.removeItem(k);\r\n        });\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.props.visible && !this.clearInit) {\r\n            this.clearInit = true;\r\n            this.clearStorage();\r\n        }\r\n    }\r\n\r\n    asyncAppendJs(appUrl) {\r\n        const js = document.createElement('script');\r\n        js.type = 'text/javascript';\r\n        js.onload = (e) => {\r\n            console.log(e);\r\n            // 配置文件加载成功\r\n            if (window.configs) {\r\n                localStorage.setItem('common', window.configs.host.common);\r\n                localStorage.setItem('main', window.configs.host.main);\r\n                localStorage.setItem('webapi', window.configs.host.webapi);\r\n                this.setState({\r\n                    showLoginFrame: true,\r\n                }, () => {\r\n                    this.sendMessageToIframe();\r\n                });\r\n            }\r\n        };\r\n        let jsHost = appUrl;\r\n        if (appUrl.indexOf('?')) {\r\n            jsHost = appUrl.slice(0, appUrl.indexOf('?') - 1);\r\n        }\r\n        js.src = `${jsHost}/resources/js/configs.js?time=${Date.now()}`;\r\n        document.body.appendChild(js);\r\n    }\r\n\r\n    sendMessageToIframe() {\r\n        const iframeLogin = document.createElement('iframe');\r\n        iframeLogin.src = this.getIframeUrl();\r\n        iframeLogin.id = 'login-app';\r\n        document.querySelector('.iframe-container').appendChild(iframeLogin);\r\n        iframeLogin.onload = () => {\r\n            const data = Object.assign({ appUrl: this.props.form.getFieldValue('appUrl') }, window.configs);\r\n            document.getElementById('login-app').contentWindow.postMessage(data, proxyServerUrl);\r\n        };\r\n    }\r\n\r\n    onResetModal() {\r\n        this.props.form.resetFields();\r\n        this.clearInit = false;\r\n        this.setState({\r\n            showLoginFrame: false,\r\n        });\r\n    }\r\n\r\n    getIframeUrl() {\r\n        if (window.configs) {\r\n            const { host: { passport: { auth } } } = window.configs;\r\n            return `${proxyServerUrl}/appLogin?authUrl=${encodeURIComponent(auth)}`;\r\n        }\r\n        return `${proxyServerUrl}/appLogin`;\r\n    }\r\n\r\n    render() {\r\n        const { visible, form, onCloseLoginModal } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { showLoginFrame } = this.state;\r\n        return (\r\n            <Modal\r\n                title=\"登录\"\r\n                visible={visible}\r\n                width=\"500px\"\r\n                wrapClassName=\"login-modal\"\r\n                onCancel={onCloseLoginModal}\r\n                afterClose={this.onResetModal}\r\n                maskClosable={false}\r\n                footer={null}\r\n            >\r\n                <div className={`login-wrapper ${showLoginFrame ? 'slide-l' : ''}`}>\r\n                    <div className=\"url-container\">\r\n                        <Form onSubmit={this.onSubmit}>\r\n                            <Form.Item>\r\n                                {getFieldDecorator('appUrl', {\r\n                                    rules: [\r\n                                        { required: true, message: '请输入应用url' },\r\n                                        { type: 'url', message: 'url格式不合法' }\r\n                                    ],\r\n                                })(<Input placeholder=\"请输入应用url\" />)}\r\n                            </Form.Item>\r\n                            <p className=\"btn-box\">\r\n                                <Button type=\"primary\" htmlType=\"submit\">确定</Button>\r\n                            </p>\r\n                        </Form>\r\n                    </div>\r\n                    <div className=\"iframe-container\">\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LoginModal;","import React, { Component } from 'react';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport { Layout, LocaleProvider } from 'antd';\nimport PageNameModal from './component/Modal/PageNameModal';\nimport PreviewPageModal from './component/Modal/PreviewPageModal';\nimport DragTabs from './component/DragTabs';\nimport { isLogin } from './utils/common';\nimport MainContainer from './component//Container/MainContainer';\nimport LoginModal from './component/Modal/LoginModal';\n\nconst { Sider, Content } = Layout;\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showLoginModal: false,\n            showEditNameModal: false, // 显示编辑页面名称弹窗\n            showPreviewModal: false, // 显示预览窗口\n            pageName: '', // 页面名称\n            projectDir: '',\n        };\n        this.onSubmitPageName = this.onSubmitPageName.bind(this);\n        this.onPreviewPage = this.onPreviewPage.bind(this);\n        this.onResetProps = this.onResetProps.bind(this);\n        this.onShowLoginModal = this.onShowLoginModal.bind(this);\n        this.onCloseLoginModal = this.onCloseLoginModal.bind(this);\n        this.onClosePreviewModal = this.onClosePreviewModal.bind(this);\n        this.onShowPageNameModal = this.onShowPageNameModal.bind(this);\n        this.onClosePageNameModal = this.onClosePageNameModal.bind(this);\n    }\n    componentDidMount() {\n        if (!isLogin()) {\n            this.onShowLoginModal();\n        }\n    }\n    onCloseLoginModal() {\n        this.setState({\n            showLoginModal: false,\n        });\n    }\n    onShowLoginModal() {\n        this.setState({\n            showLoginModal: true,\n        });\n    }\n    onShowPageNameModal() {\n        this.setState({\n            showEditNameModal: true,\n        });\n    }\n    onResetProps() {\n        this.setState({\n            pageName: '',\n            projectDir: '',\n        });\n    }\n    onSubmitPageName(pageName = '', projectDir) {\n        this.setState({\n            showEditNameModal: false,\n            pageName,\n            projectDir,\n        }, () => {\n            if ((!window.ipcRenderer && pageName) || (pageName && projectDir)) {\n                document.querySelector('#btn-code').click();\n            }\n        });\n    }\n    onClosePageNameModal() {\n        this.setState({\n            showEditNameModal: false,\n        });\n    }\n    onClosePreviewModal() {\n        this.setState({\n            showPreviewModal: false,\n        });\n    }\n    onPreviewPage(layoutConfig, layerConfig) {\n        this.setState({\n            showPreviewModal: true,\n        });\n        this.layoutConfig = layoutConfig;\n        this.layerConfig = layerConfig;\n\t}\n    render() {\n        const {\n            pageName,\n            projectDir,\n            showLoginModal,\n            showPreviewModal,\n            showEditNameModal,\n        } = this.state;\n        return (\n            <div className=\"App\">\n                <LocaleProvider locale={zhCN}>\n                    <Layout>\n                        <Sider width=\"300\">\n                            <DragTabs />\n                        </Sider>\n                        <Layout>\n                            <Content>\n                                <MainContainer\n                                    pageName={pageName}\n                                    projectDir={projectDir}\n                                    onShowLoginModal={this.onShowLoginModal}\n                                    onShowPageNameModal={this.onShowPageNameModal}\n                                    onPreviewPage={this.onPreviewPage}\n                                    onResetProps={this.onResetProps}\n                                />\n                            </Content>\n                        </Layout>\n                        <PageNameModal\n                            onOkModal={this.onSubmitPageName}\n                            onCloseModal={this.onClosePageNameModal}\n                            visible={showEditNameModal}\n                        />\n                        <PreviewPageModal\n                            layoutConfig={this.layoutConfig}\n                            layerConfig={this.layerConfig}\n                            onCloseModal={this.onClosePreviewModal}\n                            showModal={showPreviewModal}\n                        />\n                        <LoginModal\n                            visible={showLoginModal}\n                            onCloseLoginModal={this.onCloseLoginModal}\n                        />\n                    </Layout>\n                </LocaleProvider>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './assets/css/app.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}