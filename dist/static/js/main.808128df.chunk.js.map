{"version":3,"sources":["component/Modal/PageNameModal/index.js","utils/Constants.js","service/AppService.js","annotation/Service.js","component/Container/LineContainer/index.js","configs/layout.js","utils/TableUtil.js","utils/DateUtil.js","utils/FormUtil.js","component/EditDrawer/TableEdit/index.js","component/Container/TableContainer/index.js","component/Core/BaseContainer.js","component/Container/DropContainer/DropRender.js","utils/CellUtil.js","configs/saveConfigs.js","component/Core/BaseEdit.js","component/EditDrawer/CompEdit/index.js","utils/DropUtil.js","utils/common.js","component/Container/DropContainer/index.js","component/EditDrawer/BoxEdit/index.js","component/Container/BoxContainer/index.js","component/Container/HeaderContainer/index.js","utils/RenderUtil.js","component/EditDrawer/FormEdit/index.js","component/Container/FormItemContainer/FormItemRender.js","component/EditDrawer/FormItemEdit/index.js","component/Container/FormItemContainer/index.js","component/Container/FormContainer/index.js","component/Container/LayoutContainer/index.js","component/Core/Dragable.js","configs/dragConfig.js","configs/defaultColumns.js","component/Core/DragTabFactory.js","component/DragTabs/index.js","component/Container/ModalContainer/index.js","configs/renderConfig.js","component/EditDrawer/LayerEdit/index.js","component/Modal/PreviewModal/index.js","component/Container/MainContainer/index.js","component/Modal/PreviewPageModal/index.js","component/Modal/LoginModal/index.js","App.js","index.js"],"names":["PageNameModal","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","afterClose","bind","assertThisInitialized","onSubmit","e","preventDefault","_this$props","form","onOkModal","validateFields","err","values","pageName","projectDir","resetFields","_this$props2","visible","onCloseModal","getFieldDecorator","react_default","a","createElement","modal","footer","width","closable","maskClosable","centered","onOk","onCancel","title","es_form","style","padding","Item","rules","required","message","pattern","input","placeholder","window","ipcRenderer","marginTop","textAlign","es_button","type","htmlType","Component","Form","create","HEADER_CONTINAER","LAYER_MODAL","LAYER_API","proxyServerUrl","axios","interceptors","response","use","error","Promise","reject","ServicesMatch","AppService","data","method","url","concat","host","api","params","appUrl","localStorage","getItem","access_token","MerchantId","name","LineContainer","onDelete","onUpdateLayoutConfig","deleteFlag","className","divider","icon","onClick","PureComponent","formItemLayout","labelCol","xs","span","sm","wrapperCol","handleColumns","configs","context","_configs$operationArr","operationArr","newColumns","columns","slice","keys","forEach","k","val","indexOf","_k$split","split","_k$split2","slicedToArray","columnName","columnIndex","columnTarget","find","item","index","hasOperation","arguments","length","undefined","opCol","dataIndex","push","render","text","record","Array","isArray","react","map","_ref3","i","opText","opType","modalName","_ref3$api","skipUrl","clickProps","onShowModal","location","execFetchApi","Fragment","assign","href","key","handleOperation","sortIndex","getTableConfig","newConfigs","pagination","pageSize","pageSizeOptions","rowSelection","columnTitle","transferDateToStr","date","formatStr","format","getFormData","renderArr","hasIndex","formData","valKey","fk","_valKey$split","_valKey$split2","isContain","_formData$push","findItemByRule","_ref","defineProperty","getFormDataByIndex","result","indexK","hasOwnProperty","matchKey","matchArr","rule","isFn","getFormApi","mode","formConfig","formType","queryApi","addApi","editApi","getSubmitData","formItemArr","_ref4","dateKeys","_values$name","startTime","endTime","_dateKeys$split","_dateKeys$split2","startKey","endKey","getFormByType","layoutConfig","getFormArr","_ref5","reduce","arr","cellsArr","apply","toConsumableArray","Panel","Collapse","Option","Select","fLayout","TableEdit","state","setColumnMaxIndex","onAddColumn","onDeleteColumn","onAddOperation","onDeleteOperation","renderOperationBtn","nextProps","setState","setOperationMaxIndex","_configs$columns","columnMaxIndex","_ref2","operationMaxIndex","_configs$operationArr2","newOperationArr","opreationIndex","getNewConfigs","addOperationMaxIndex","addColumnMaxIndex","v","_this2","_configs$operationArr3","opArr","_this3","_this4","_this5","_configs$columns2","collapse","_item$align","align","_item$fixed","fixed","header","renderPanelHeader","label","initialValue","es_select","value","btnConfig","layerConfig","modalData","_opType","getFieldValue","renderOperationHeader","renderModalSelect","renderApiSelect","_configs$operationArr4","_configs$hasOperation","rowKey","_ref5$pageSize","_ref5$pageSizeOptions","_ref6","_ref6$type","_ref6$columnTitle","hasPagination","hasRowSelection","size","card","join","_this$props3","onClose","onDeleteContainer","dataSrouce","drawer","renderCollapse","renderTableProps","marginRight","TableContainer","onShowEditTable","onUpdateConfigs","onPageIndexChange","onShowSizeChange","stopPropagation","layoutIndex","objectSpread","dataSize","ds","_loop","dsItem","_this$props$configs","modelKey","page","getModelKey","current","sRowKeys","selectedRowKeys","onChange","selectedRows","_this$props3$configs","_this$props3$apiData","apiData","currentPage","_this$props3$preview","preview","GuiContext","_configs$pagination","_configs$rowSelection","mockData","copyColumns","mockDataNum","test","hasApiDataSource","dataSource","getMockDataSource","showQuickJumper","showSizeChanger","total","Consumer","lib","bordered","getRowSelection","component_EditDrawer_TableEdit","BaseContainer","getContainerIndex","getContainerType","onToggleEditDrawer","_render","DropRender","restProps","objectWithoutProperties","cellStyles","_configs$textAlign","styleObj","renderComponent","strToObj","str","separator","styleStr","_styleStr$split","_styleStr$split2","replace","objToStr","objLike","prototype","toString","getCellColSpan","colIndex","originSpan","colSpanArr","finalColSpan","locationIndex","j","colSpan","end","start","ButtonSaveKeys","allowCallApi","allowCallModal","BaseEdit","deleteFormItem","deleteComponent","handleSubmit","onAddListItem","onDeleteButton","onDeleteListItem","onDeleteComponent","renderBtnPanelHeader","_nextProps$configs","getItemSetType","lowerCaseType","toLowerCase","stateKey","stateVal","_this$state","buttonArr","_this$state$deleteFor","_this$props$inForm","inForm","onCloseEdit","itemSetType","configType","newList","kLabel","kValue","showTime","newButtonArr","btnIndex","sKey","itemKey","logicType","expandCount","_values$originSpan","initBtn","_this$state$buttonArr","_this$props2$configs","list","allowClear","optionValue","optionText","BaseEdit_Option","date_picker","btnText","renderItemSettingCard","dataKey","labPlaceholder","valPlaceholder","_ref2$labPlaceholder","_ref2$valPlaceholder","itemList","extra","marginLeft","lineHeight","_this$props3$layerCon","_this$props4","_this$props4$layerCon","_this6","_this$state$buttonArr2","activeKeyArr","defaultActiveKey","_item$antdType","antdType","_item$htmlType","textDisabled","BaseEdit_Panel","disabled","renderApiItem","renderModalItem","renderBtnExpand","TextArea","Input","CompEdit","renderBtnCard","renderBreadcrumb","renderTabs","renderRadio","renderDefaultValueItem","initialCellStyles","radioType","CompEdit_Option","renderComp","initDropData","dragData","isFormItem","dropComponent","defaultConfigs","containerArr","isLogin","getInitialValue","config","_config$type","_config$format","moment","isContainer","clsName","DropContainer","showEdit","onDrop","onDragenter","onToggleEdit","DropDom","addEventListener","onDragLeave","removeEventListener","_ref$deleteFlag","newState","event","target","resetBg","JSON","parse","dataTransfer","getData","initData","warn","_this$props$notAllow","notAllow","dropDomArr","document","querySelectorAll","background","ref","DropContainer_DropRender","component_EditDrawer_CompEdit","BoxEdit","boxStyles","rest","_configs$boxStyles","_configs$layoutColumn","layoutColumn","_configs$positionFixe","positionFixed","initialBoxStyles","BoxEdit_TextArea","BoxEdit_Option","BoxContainer","boxItemIndex","onAddRowCell","onReceiveConfigs","onDeleteBoxItemContainer","newCellsArr","_configs$cellsArr","_this$props$context","onShowLoginModal","componentArr","cellNum","hasDeleteIcon","cls","component_Container_DropContainer","popconfirm","onConfirm","okText","cancelText","rendeCell","component_EditDrawer_BoxEdit","pConfigs","ghost","HeaderContainer","_ref2$cellsArr","positionCls","previewCls","CheckboxGroup","Checkbox","Group","RangePicker","DatePicker","TabPane","Tabs","renderConfig","_renderConfig$placeho","component","renderText","renderSelect","renderRangePicker","renderDatePicker","renderCheckbox","renderBtn","renderForm","renderLine","renderTable","renderBox","renderHeader","renderTextArea","dropIndex","hasLinkage","RenderUtil_TextArea","component_Container_FormContainer","component_Container_HeaderContainer","component_Container_TableContainer","component_Container_LineContainer","component_Container_BoxContainer","_configs$breadcrumbAr","breadcrumbArr","breadcrumb","_configs$style","_configs$radioArr","radioArr","RadioItem","Radio","Button","es_radio","_configs$style2","_configs$tabsArr","tabsArr","tabs","tab","_configs$style3","_configs$checkboxArr","checkboxArr","options","_configs$style4","selectArr","finalOptions","RenderUtil_Option","getMultBtnDisabled","onResetForm","_configs$buttonArr","onCollapse","_state$expand","expand","_ref7","_btnConfig$style","btnProps","collapseBtnText","renderConfigForm","cf","_cf$rules","keyStr","_layerConfig$modalArr","modalArr","formItemKey","formNameKey","_ref8","compData","_compData$key","_compData$label","apiName","_layerConfig$apiArr","apiArr","_ref9","requestApi","FormEdit","handleChange","colSpanValues","setTimeout","setFieldsValue","onSave","lcNum","colSpanTotal","FormEdit_Option","renderColSpanInputs","renderApiFormItem","FormItemRender","_this$props$preview","_this$props$colSpanAr","formItemAlign","_configs$rules","md","getStyle","formItemProps","col","FormItemEdit","onAddCellStyleItem","onDeleteCellStyleItem","_this$state$cellStyle","newCellStyles","cellStyleIndex","_this$state$cellStyle2","condition","linkName","FormItemEdit_Option","_configs$showTime","_configs$format","_this$props$dropCompo","linkage","renderDatePickerExtra","renderLinkage","initialColSpan","tempColSpan","FormItemEdit_TextArea","c","renderContent","forbiddenDropType","FormItemContainer","onShowEditItem","onEditDropContainer","onDeleteChildren","onUpdateFormItemConfigs","targetDom","onDeleteFormItemContainer","_this$props3$colSpanA","_this$props3$formItem","colIndexNum","_colSpan","getContainerWidth","FormItemContainer_FormItemRender","component_EditDrawer_FormItemEdit","FormContainer","fetchLoading","onAddRow","onDeleteRow","onShowEditForm","onCloseEditForm","onUpdateFormLayout","renderFormItemContainer","colIndexStart","onFormRenderCallBack","layoutColumnNum","rowSpanCount","colSpanIndex","newFormItemArr","Math","max","filter","_this7","copyFormItemArr","addNewFormItem","_ref2$formItemArr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","b","return","_this8","_this$props5","_ref3$formItemArr","getExpandCount","itemConfigs","component_Container_FormItemContainer","_this$props6","_ref4$configs","_ref5$layoutColumn","_ref5$formItemArr","row","gutter","lg","xl","component_EditDrawer_FormEdit","LayoutContainer","EmptyContainer_default","renderContainer","Dragable","setData","stringify","ch","draggable","onDragStart","dargConfig","button","others","layout","DragTabFactory","targetConfigs","Core_Dragable","_this$props$tabType","tabType","renderContentByType","DragTabs","opacity","t","DragTabs_TabPane","Core_DragTabFactory","Sider","Layout","Content","ModalContainer","editModal","src_component_DragTabs","component_Container_MainContainer","noLayer","apiRenderConfig","modalRenderConfig","LayerEdit","drawerArr","showEditModal","modalAddIndex","apiAddIndex","onAddApi","onAddModal","onDeleteApi","onDeleteModal","onSubmitLayer","onShowEditModal","onCloseEditModal","onSaveEditModal","renderModalPanelHeader","initState","layerItem","layerType","newLayerConfig","_newLayerConfig$modal","newModalArr","onCloseLayer","onUpdateLayerConfig","newItemArr","newItem","onAddItem","deleteIndex","onDeleteItem","modalActiveKey","apiActiveKey","placement","LayerEdit_Panel","renderApiPanelHeader","component_Container_ModalContainer","PreviewModal","loading","onAfterClose","initEdit","recordData","modalLayoutConfig","then","res","code","onInitForm","catch","editData","formObj","obj","_item$format","_dateKeys","onCancelModal","apiObj","requestParams","paramKey","success","spin","spinning","React","createContext","initLayerConfig","MainContainer","Target","newProps","ServiceClass","service","PageIndex","PageSize","showLayer","generateLoading","paramData","apiConfig","onUpdateApiConfig","onPreviewPage","onToggleLayer","onGeneratePage","container","createRef","_newConfigs$deleteFla","copyConfig","findIndex","splice","updateIndex","_this$props$preview2","copyLayoytConfig","configObj","reqPrams","requestHost","requestMethod","requestPagination","_apiObj$requestParams","paramKeys","_obj","pk","toggleLoading","fetchApi","status","msg","realData","newApiData","resolve","execTableQuery","_this$state2","onShowPageNameModal","onResetProps","_this$state3","_this$state3$layoutCo","_this$state3$layerCon","pageConfig","send","on","args","_JSON$parse","info","generatePage","aLink","display","body","appendChild","click","removeChild","_this$state4","_newState","_this$setState","_this$state5","visibleStateName","parseInt","component_Modal_PreviewModal","_this$props2$noLayer","_this$props2$preview","_this$state6","isEdit","MainContainer_GuiContext","Provider","component_Container_LayoutContainer","getChildFuncProps","shape","component_EditDrawer_LayerEdit","id","renderModal","PreviewPageModal","showModal","wrapClassName","PreviewPageModal_Sider","PreviewPageModal_Content","LoginModal","showLoginFrame","onResetModal","getIframeUrl","asyncAppendJs","origin","targetStr","searchStr","setItem","onCloseLoginModal","removeItem","clearInit","clearStorage","js","onload","console","log","common","main","webapi","sendMessageToIframe","jsHost","src","Date","now","iframeLogin","querySelector","getElementById","contentWindow","postMessage","auth","passport","encodeURIComponent","App","showLoginModal","showEditNameModal","showPreviewModal","onSubmitPageName","onClosePreviewModal","onClosePageNameModal","locale_provider","locale","zhCN","App_Sider","App_Content","component_Modal_PageNameModal","component_Modal_PreviewPageModal","component_Modal_LoginModal","ReactDOM","src_App"],"mappings":"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","file":"static/js/main.808128df.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Form, Input, Modal } from 'antd';\r\nimport './index.css';\r\n\r\nclass PageNameModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.afterClose = this.afterClose.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n    onSubmit(e) {\r\n        e && e.preventDefault();\r\n        const { form, onOkModal } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { pageName, projectDir } = values;\r\n                onOkModal(pageName, projectDir);\r\n            }\r\n        });\r\n    }\r\n    afterClose() {\r\n        this.props.form.resetFields();\r\n    }\r\n    render() {\r\n        const { visible, form, onCloseModal } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Modal\r\n                visible={visible}\r\n                footer={null}\r\n                width={450}\r\n                closable\r\n                maskClosable={false}\r\n                centered\r\n                afterClose={this.afterClose}\r\n                onOk={this.onSubmit}\r\n                onCancel={onCloseModal}\r\n                title=\"页面名称\"\r\n            >\r\n                <Form\r\n                    onSubmit={this.onSubmit}\r\n                    style={{ padding: '20px 40px' }}\r\n                >\r\n                    <Form.Item>\r\n                        {getFieldDecorator('pageName', {\r\n                            rules: [\r\n                                { required: true, message: '请输入页面名称!' },\r\n                                { pattern: /^[a-zA-Z]+$/, message: '名称只能包含字母！' }\r\n                            ],\r\n                        })(\r\n                            <Input placeholder=\"只能包含字母\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    {\r\n                        window.ipcRenderer ? (<Form.Item>\r\n                            {getFieldDecorator('projectDir', {\r\n                                rules: [\r\n                                    { required: true, message: '请输入项目文件夹!' },\r\n                                ],\r\n                            })(\r\n                                <Input placeholder=\"项目文件夹\" />\r\n                            )}\r\n                        </Form.Item>) : null\r\n                    }\r\n                    <Form.Item  style={{ marginTop: '15px', textAlign: 'center' }}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(PageNameModal);","const proxyServerUrl = 'https://pagetools.herokuapp.com';\r\n// const proxyServerUrl = 'http://127.0.0.1:9999';\r\nconst activeColor = '#dde7f1';\r\nconst FORM_CONTAINER = 'FormContainer';\r\nconst TABLE_CONTAINER = 'TableContainer';\r\nconst EMPTY_CONTAINER = 'EmptyContainer';\r\nconst BOX_CONTINAER = 'BoxContainer';\r\nconst HEADER_CONTINAER = 'HeaderContainer';\r\nconst LINE_CONTINAER = 'LineContainer';\r\nconst MODAL_CONTINAER = 'ModalContainer';\r\nconst TRUE = '1';\r\nconst FALSE = '0';\r\nconst MODE_EDIT = 'edit';\r\nconst MODE_ADD = 'add';\r\nconst FORM_QUERY = 'query';\r\nconst FORM_VIEW = 'view';\r\nconst FORM_SAVE = 'save';\r\nconst CODE_SUCCESS = '0';\r\nconst LAYER_MODAL = 'modal';\r\nconst LAYER_DRAWER = 'drawer';\r\nconst LAYER_API = 'api';\r\n\r\nexport {\r\n    activeColor,\r\n    FORM_CONTAINER,\r\n    TABLE_CONTAINER,\r\n    EMPTY_CONTAINER,\r\n    BOX_CONTINAER,\r\n    HEADER_CONTINAER,\r\n    LINE_CONTINAER,\r\n    MODAL_CONTINAER,\r\n    LAYER_MODAL,\r\n    LAYER_DRAWER,\r\n    LAYER_API,\r\n    TRUE,\r\n    FALSE,\r\n    MODE_ADD,\r\n    MODE_EDIT,\r\n    FORM_VIEW,\r\n    FORM_SAVE,\r\n    FORM_QUERY,\r\n    CODE_SUCCESS,\r\n    proxyServerUrl,\r\n};\r\nexport default proxyServerUrl;","import axios from 'axios';\r\nimport proxyServerUrl from '../utils/Constants';\r\n\r\naxios.interceptors.response.use((response) => {\r\n    return response;\r\n  }, (error) => {\r\n    return Promise.reject(error);\r\n  });\r\n\r\nclass AppService {\r\n    generatePage(data) {\r\n        return axios({\r\n            method: 'POST',\r\n            url: `${proxyServerUrl}/generatePage`,\r\n            data,\r\n        });\r\n    }\r\n    fetchApi(host, method, api, params) {\r\n        return axios({\r\n            method: 'post',\r\n            url: `${proxyServerUrl}/fetchApi`,\r\n            data: {\r\n                host, \r\n                method,\r\n                api,\r\n                params,\r\n                appUrl: localStorage.getItem('appUrl'),\r\n                access_token: localStorage.getItem('access_token'),\r\n                MerchantId: localStorage.getItem('MerchantId'),\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport default AppService;","import React from 'react';\r\nimport AppService from '../service/AppService';\r\n\r\nconst ServicesMatch = {\r\n    AppService,\r\n};\r\n\r\nexport default function Service(name) {\r\n    return (Target) => {\r\n        return (props) => {\r\n            const newProps = Object.assign({}, props);\r\n            if (Object.hasOwnProperty.call(ServicesMatch, name)) {\r\n                const ServiceClass = ServicesMatch[name];\r\n                if (typeof ServiceClass === 'function') {\r\n                    newProps.service = new ServiceClass();\r\n                }\r\n            }\r\n            return (<Target {...newProps} />);\r\n        };\r\n    };\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport { Divider, Icon } from 'antd';\r\nimport './index.css';\r\n\r\nclass LineContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onDelete = this.onDelete.bind(this);\r\n    }\r\n    onDelete() {\r\n        const { onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({ deleteFlag: true });\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"fulu-cell-box line-box\">\r\n                <Divider />\r\n                <Icon type=\"close\" className=\"delete-line\" onClick={this.onDelete} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LineContainer;","const formItemLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 8 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 16 },\r\n    },\r\n};\r\n\r\nexport default formItemLayout;","import React, { Fragment } from 'react';\r\nimport { Divider, Dropdown, Icon } from 'antd';\r\nimport { TRUE } from './Constants';\r\n\r\nconst renderMoreOpList = (opList) => {\r\n    return (\r\n        <span style={{ background: '#fff', display: 'block' }}>\r\n            {\r\n                opList.map(({opText, index}) => {\r\n                return (\r\n                    <a href=\"&nbsp;\" key={`op-${index}`} style={{ display: 'block' }}>\r\n                        {opText}\r\n                    </a>\r\n                );\r\n                })\r\n            }\r\n        </span>\r\n    );\r\n}\r\n\r\nconst renderMultOperation = (operationArr) => {\r\n    const [ firstItem, ...restItemArr ] = operationArr;\r\n    return (\r\n        <Fragment>\r\n            <a href=\"&nbsp;\">\r\n                {firstItem.opText}\r\n            </a>\r\n            <Divider type=\"vertical\" />\r\n            <Dropdown overlay={renderMoreOpList(restItemArr)}>\r\n                <a className=\"ant-dropdown-link\" href=\"&nbsp;\">\r\n                    更多<Icon type=\"down\" />\r\n                </a>\r\n            </Dropdown>\r\n        </Fragment>\r\n    );\r\n}\r\nconst renderNormalOperation = (operationArr) => {\r\n    const resultArr = [];\r\n    operationArr.forEach(({ opText, index }, i) => {\r\n        resultArr.push((\r\n            <Fragment key={`fr-${index}`}>\r\n                <a href=\"&nbsp;\" key={`op-${index}`}>{opText}</a>\r\n                {\r\n                    i !== operationArr.length -1\r\n                        ? <Divider type=\"vertical\" /> : null\r\n                }\r\n            </Fragment>)\r\n        );\r\n    });\r\n    return resultArr;\r\n}\r\n\r\nconst handleOperation = (columns = [], operationArr = [], context) => {\r\n    let opCol = null;\r\n    if (columns.length > 0 && columns[columns.length -1].title === '操作') {\r\n        opCol = columns[columns.length -1];\r\n    } else {\r\n        opCol = {\r\n            title: '操作',\r\n            dataIndex: 'operation',\r\n        };\r\n        columns.push(opCol);\r\n    }\r\n    opCol.render = (text, record) => {\r\n        if (!Array.isArray(operationArr)) {\r\n            return null;\r\n        }\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    operationArr.map(({ opText, opType, modalName, api = '', skipUrl }, i) => {\r\n                        const clickProps = {};\r\n                        if (opType === 'edit' || opType === 'view') {\r\n                            clickProps.onClick = (e) => {\r\n                                context.onShowModal(e, modalName, api, record);\r\n                            };\r\n                        } else if (opType === 'skip') { // 跳转\r\n                            clickProps.onClick = (e) => {\r\n                                window.location = skipUrl;\r\n                            };\r\n                        } else { // 删除\r\n                            clickProps.onClick = (e) => {\r\n                                context.props.execFetchApi(api, record);\r\n                            };\r\n                        }\r\n                        return (\r\n                            <>\r\n                                <a href=\"javascript:;\" key={`op-${i}`} {...clickProps}>\r\n                                    {opText}\r\n                                </a>\r\n                                { i !== operationArr.length - 1 ? <Divider type=\"vertical\" /> : null }\r\n                            </>\r\n                        );\r\n                    })\r\n                }\r\n            </Fragment>\r\n        );\r\n        // if (operationArr.length > 2) {\r\n        //     return (\r\n        //         <span>\r\n        //             {\r\n        //                 renderMultOperation(operationArr)\r\n        //             }\r\n        //         </span>\r\n        //     );\r\n        // } else {\r\n        //     return (\r\n        //         <span>\r\n        //             {\r\n        //                 renderNormalOperation(operationArr)\r\n        //             }\r\n        //         </span>\r\n        //     );\r\n        // }\r\n    };\r\n    return columns;\r\n}\r\n\r\nconst handleColumns = (values, configs, context) => {\r\n    const { operationArr = [], columns } = configs;\r\n    const newColumns = columns.slice();\r\n    Object.keys(values).forEach((k) => {\r\n        const val = values[k];\r\n        // 常规数据列\r\n        if (k.indexOf('-') > 0) {\r\n            const [ columnName, columnIndex ] = k.split('-');\r\n            const columnTarget = newColumns.find((item) => {\r\n                return item.index === +columnIndex;\r\n            });\r\n            if (columnTarget) {\r\n                columnTarget[columnName] = val;\r\n                if (columnName === 'width' && !val) {\r\n                    delete columnTarget.width;\r\n                }\r\n                if (columnName === 'fixed') {\r\n                    columnTarget[columnName] = TRUE === val;\r\n                }\r\n                delete values[k];\r\n            }\r\n        }\r\n    });\r\n    if (values.hasOperation === TRUE) {\r\n        return handleOperation(newColumns, operationArr, context); \r\n    }\r\n    // 序号列渲染处理\r\n    if (newColumns.length > 0 && newColumns[0].sortIndex === TRUE) {\r\n        newColumns[0].render = (record, index) => {\r\n            return (\r\n                <span>{index + 1}</span>\r\n            );\r\n        };\r\n    }\r\n    return newColumns;\r\n};\r\n\r\nconst getTableConfig = (values, configs, context) => {\r\n    const columns = handleColumns(values, configs, context);\r\n    const newConfigs = {\r\n        columns,\r\n    };\r\n    Object.keys(values).forEach((k) => {\r\n        const val = values[k];\r\n        if (k === 'pagination') { // 分页\r\n            if (val === TRUE) {\r\n                newConfigs.pagination = {\r\n                    pageSize: values.pageSize,\r\n                    pageSizeOptions: values.pageSizeOptions.split(','),\r\n                };\r\n            } else {\r\n                newConfigs[k] = TRUE === val;\r\n            }\r\n        } else if (k === 'rowSelection') {\r\n            if (val === TRUE) {\r\n                newConfigs.rowSelection = {\r\n                    type: values.type,\r\n                };\r\n                if (values.type === 'radio') {\r\n                    newConfigs.rowSelection.columnTitle = values.columnTitle;\r\n                }\r\n            } else {\r\n                newConfigs[k] = null;\r\n            }\r\n        } else {\r\n            newConfigs[k] = val;\r\n        }\r\n    });\r\n    return newConfigs;\r\n};\r\n\r\nexport {\r\n    getTableConfig,\r\n}\r\n\r\nexport default getTableConfig;","import moment from 'moment';\r\n\r\n/**\r\n * @desc 将moment对象转换成字符串\r\n * @param {*} date \r\n * @param {*} formatStr \r\n */\r\nconst transferDateToStr = (date, formatStr = 'YYYY-MM-DD') => {\r\n    if (date && date.format) {\r\n        return date.format(formatStr);\r\n    }\r\n    return date;\r\n};\r\n\r\nconst transferDateToMoment = (dateStr, formatStr = 'YYYY-MM-DD') => {\r\n    if (dateStr) {\r\n        return moment(dateStr, formatStr);\r\n    }\r\n    return dateStr;\r\n};\r\n\r\nexport default transferDateToStr;\r\n\r\nexport {\r\n    transferDateToStr,\r\n    transferDateToMoment,\r\n};","import moment from 'moment';\r\nimport { transferDateToStr } from './DateUtil';\r\nimport { FORM_QUERY, MODE_ADD, FORM_CONTAINER, FORM_SAVE } from './Constants';\r\n\r\nconst getFormData = (values, renderArr, hasIndex) => {\r\n    const formData = hasIndex ? [] : {};\r\n    Object.keys(values).forEach((valKey) => {\r\n        let fk = valKey;\r\n        if (hasIndex) {\r\n            if (valKey.indexOf('-') > 0) {\r\n                const [ k, i ] = valKey.split('-');\r\n                fk = k;\r\n                if (isContain(fk, renderArr)) {\r\n                    const item = findItemByRule(({ index }) => index === i, formData);\r\n                    if (item) {\r\n                        item[fk] = values[valKey];\r\n                    } else {\r\n                        formData.push({\r\n                            [fk]: values[valKey],\r\n                            index: i,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        } else if (isContain(fk, renderArr)) {\r\n            formData[fk] = values[valKey];\r\n        }\r\n    });\r\n    return formData;\r\n};\r\n\r\nconst getFormDataByIndex = (values, renderArr, i) => {\r\n    const result ={};\r\n    renderArr.forEach((k) => {\r\n        const indexK = `${k}-${i}`;\r\n        if (Object.hasOwnProperty.call(values, indexK)) {\r\n            result[k] = values[indexK];\r\n            delete values[indexK];\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nconst isContain = (matchKey, matchArr) => {\r\n    return !!findItemByRule(matchKey, matchArr);\r\n};\r\n\r\nconst findItemByRule = (rule, matchArr) => {\r\n    const isFn = typeof rule === 'function';\r\n    return matchArr.find((item) => {\r\n        return isFn ? rule(item) : item.key === rule;\r\n    });\r\n};\r\n\r\nconst getFormApi = (mode, formConfig) => {\r\n    const { formType, queryApi, addApi, editApi } = formConfig;\r\n    return formType === FORM_QUERY ? queryApi : mode === MODE_ADD ? addApi : editApi;\r\n};\r\n\r\nconst initForm = (form, layoutConfig, initData) => {\r\n    const formObj = layoutConfig.find(({ type, formType }) => {\r\n        return type === FORM_CONTAINER && formType === FORM_SAVE;\r\n    });\r\n    if (formObj && Array.isArray(formObj.formItemArr)) {\r\n        const formData = formObj.formItemArr.reduce((obj, item) => {\r\n            const { type, name, format = 'YYYY-MM-DD', dateKeys } = item;\r\n            if (type === 'DatePicker') {\r\n                obj[name] = moment(initData[name], format);\r\n            } else if (type === 'RangePicker' && dateKeys) {\r\n                const [ startTime, endTime ] = dateKeys;\r\n                if (initData[startTime] && initData[endTime]) {\r\n                    obj[name] = [moment(initData[startTime], format), moment(initData[endTime], format)];\r\n                }\r\n            } else {\r\n                obj[name] = initData[name];\r\n            }\r\n            return obj;\r\n        }, {});\r\n        form.setFieldsValue(formData);\r\n    }\r\n};\r\n\r\nconst getSubmitData = ({ formItemArr }, values) => {\r\n    formItemArr.forEach(({ type, name, dateKeys, format }) => {\r\n        if (type === 'DatePicker') {\r\n            values[name] = transferDateToStr(values[name], format);\r\n        } else if (type === 'RangePicker' && Array.isArray(values[name]) && values[name].length > 0)  {\r\n            const [ startTime, endTime ] = values[name];\r\n            const [startKey, endKey] = dateKeys.split(',');\r\n            values[startKey] = transferDateToStr(startTime, format);\r\n            values[endKey] = transferDateToStr(endTime, format);\r\n            delete values[name];\r\n        }\r\n    });\r\n    return values;\r\n};\r\n\r\nconst getFormByType = (layoutConfig = [], type = 'query') => {\r\n    return getFormArr(layoutConfig).find(({ formType }) => {\r\n        return type === formType;\r\n    });\r\n};\r\n\r\nconst getFormArr = (layoutConfig) => {\r\n    const formArr = layoutConfig.reduce((arr, item) => {\r\n        const { type, cellsArr } = item;\r\n        if (Array.isArray(cellsArr) && cellsArr.length > 0) {\r\n            arr.push(...getFormByType({ layoutConfig: cellsArr }));\r\n        } else if (type === FORM_CONTAINER) {\r\n            arr.push(item);\r\n        }\r\n        return arr;\r\n    }, []);\r\n    return formArr;\r\n};\r\n\r\nexport {\r\n    initForm,\r\n    getFormApi,\r\n    getFormData,\r\n    getFormByType,\r\n    getSubmitData,\r\n    getFormDataByIndex,\r\n};\r\n\r\nexport default getFormData;","import React, { Component, Fragment } from 'react';\r\nimport { Button, Card, Drawer, Divider, Collapse, Form, Input, Icon, Select } from 'antd';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport getTableConfig from '../../../utils/TableUtil';\r\nimport { getFormDataByIndex } from '../../../utils/FormUtil';\r\nimport { renderApiSelect, renderModalSelect } from '../../../utils/RenderUtil';\r\nimport { TRUE, FALSE } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\nconst Option = Select.Option;\r\n\r\nconst fLayout = {\r\n    labelCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 10 },\r\n    },\r\n    wrapperCol: {\r\n      xs: { span: 24 },\r\n      sm: { span: 14 },\r\n    },\r\n};\r\n\r\nclass TableEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            configs: props.configs,\r\n        };\r\n        this.setColumnMaxIndex(props);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAddColumn = this.onAddColumn.bind(this);\r\n        this.onDeleteColumn = this.onDeleteColumn.bind(this);\r\n        this.onAddOperation = this.onAddOperation.bind(this);\r\n        this.onDeleteOperation = this.onDeleteOperation.bind(this);\r\n        this.renderOperationBtn = this.renderOperationBtn.bind(this);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.visible !== this.props.visible && nextProps.visible) {\r\n            this.setState({\r\n                configs: nextProps.configs,\r\n            });\r\n            this.setColumnMaxIndex(nextProps);\r\n            this.setOperationMaxIndex(nextProps);\r\n        }\r\n    }\r\n    setColumnMaxIndex({ configs }) {\r\n        const { columns = [] } = configs;\r\n        this.columnMaxIndex = columns.length || 0;\r\n    }\r\n    setOperationMaxIndex({ configs }) {\r\n        const { operationArr = [] } = configs;\r\n        this.operationMaxIndex = operationArr.length || 0;\r\n    }\r\n    addColumnMaxIndex() {\r\n        this.columnMaxIndex += 1;\r\n    }\r\n    addOperationMaxIndex() {\r\n        this.operationMaxIndex += 1;\r\n    }\r\n    onAddOperation() {\r\n        const { configs } = this.state;\r\n        const { operationArr = [] } = configs;\r\n        const newOperationArr = operationArr.slice();\r\n        const opreationIndex = this.operationMaxIndex;\r\n        newOperationArr.push({\r\n            opText: \"操作\",\r\n            index: opreationIndex,\r\n        });\r\n        this.setState({\r\n            configs: this.getNewConfigs('operationArr', newOperationArr),\r\n        });\r\n        this.addOperationMaxIndex();\r\n    }\r\n    onAddColumn() {\r\n        const { configs } = this.state;\r\n        const { columns } = configs;\r\n        const newColumns = columns.slice();\r\n        const columnIndex = this.columnMaxIndex;\r\n        newColumns.push({\r\n            title: `column${columnIndex}`,\r\n            dataIndex: `dataIndex${columnIndex}`,\r\n            index: columnIndex,\r\n        });\r\n        this.setState({\r\n            configs: this.getNewConfigs('columns', newColumns),\r\n        });\r\n        this.addColumnMaxIndex();\r\n    }\r\n    onDeleteOperation(index) {\r\n        const { configs } = this.state;\r\n        const { operationArr } = configs;\r\n        const newOperationArr = operationArr.reduce((arr, item) => {\r\n            if (item.index !== index) {\r\n                arr.push(Object.assign({}, item));\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.operationArr = newOperationArr;\r\n        this.setState({\r\n            configs: this.getNewConfigs('operationArr', newOperationArr),\r\n        });\r\n    }\r\n    onDeleteColumn(columnIndex) {\r\n        const { configs } = this.state;\r\n        const { columns } = configs;\r\n        const newColumns = columns.reduce((arr, item) => {\r\n            if (item.index !== columnIndex) {\r\n                arr.push(Object.assign({}, item));\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.columns = newColumns;\r\n        this.setState({\r\n            configs: this.getNewConfigs('columns', newColumns),\r\n        });\r\n    }\r\n    getNewConfigs(k, v) {\r\n        const { configs } = this.state;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs[k] = v;\r\n        return newConfigs;\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const { context, form, onUpdateLayoutConfig } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { configs } = this.state;\r\n                const newOperationArr = [];\r\n                // 有操作列\r\n                if (values.hasOperation === TRUE) {\r\n                    const { operationArr = [] } = configs;\r\n                    const opArr = ['opText', 'opType', 'modalName', 'modalData', 'api', 'skipUrl'];\r\n                    for (let i = 0; i< operationArr.length; i++) {\r\n                        const { index } = operationArr[i];\r\n                        newOperationArr.push(Object.assign(operationArr[i], getFormDataByIndex(values, opArr, index)));\r\n                    }\r\n                }\r\n                const newConfigs = getTableConfig(values, configs, context);\r\n                newConfigs.operationArr = newOperationArr;\r\n                delete newConfigs.pageSize;\r\n                delete newConfigs.pageSizeOptions;\r\n                delete newConfigs.type;\r\n                delete newConfigs.columnTitle;\r\n                onUpdateLayoutConfig(newConfigs);\r\n            }\r\n        });\r\n    }\r\n    renderPanelHeader({ title, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{title}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteColumn(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderOperationHeader({ opText, index }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{opText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteOperation(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderCollapse() {\r\n        const { form } = this.props;\r\n        const { configs } = this.state;\r\n        const { columns = [] } = configs;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Collapse>\r\n                {\r\n                    columns.map((item, i) => {\r\n                        const { title, index, dataIndex, width, sortIndex, align = 'left', fixed = false } = item;\r\n                        if (title === '操作' && i === columns.length -1) {\r\n                            return null;\r\n                        }\r\n                        return (\r\n                            <Panel header={this.renderPanelHeader(item)} key={`${title}-${index}`}>\r\n                                <Form.Item label=\"title\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`title-${index}`, { \r\n                                        rules: [{ required: true, message: '请输入title!' }],\r\n                                        initialValue: title,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"dataIndex\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`dataIndex-${index}`, { \r\n                                        rules: [{ required: true, message: 'dataIndex!' }],\r\n                                        initialValue: dataIndex,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"width\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`width-${index}`, {\r\n                                        initialValue: width || '',\r\n                                    }, {\r\n                                        rules: [{ pattern: /^\\d+(%)?$/, message: '请输入数字或者百分比!' }]\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item>\r\n                                {\r\n                                    i === 0 ? (\r\n                                        <Form.Item label=\"序号列\" {...formItemLayout}>\r\n                                            {getFieldDecorator(`sortIndex-${index}`, {\r\n                                                initialValue: sortIndex,\r\n                                            })(\r\n                                                <Select placeholder=\"是否显示序号\">\r\n                                                    <Option value=\"0\">false</Option>\r\n                                                    <Option value=\"1\">true</Option>\r\n                                                </Select>\r\n                                            )}\r\n                                        </Form.Item>\r\n                                    ): null\r\n                                }\r\n                                <Form.Item label=\"align\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`align-${index}`, { \r\n                                        initialValue: align,\r\n                                    })(\r\n                                        <Select>\r\n                                            <Option value={'left'}>left</Option>\r\n                                            <Option value={'right'}>right</Option>\r\n                                            <Option value={'center'}>center</Option>\r\n                                        </Select>\r\n                                    )}\r\n                                </Form.Item>\r\n                                <Form.Item label=\"fixed\" {...formItemLayout}>\r\n                                    {getFieldDecorator(`fixed-${index}`, { \r\n                                        initialValue: fixed ? \"1\" : \"0\",\r\n                                    })(\r\n                                        <Select>\r\n                                            <Option value=\"0\">false</Option>\r\n                                            <Option value=\"1\">true</Option>\r\n                                        </Select>\r\n                                    )}\r\n                                </Form.Item>\r\n                            </Panel>\r\n                        );\r\n                    })\r\n                }\r\n            </Collapse>\r\n        );\r\n    }\r\n    renderOperationBtn(btnConfig) {\r\n        const { form, layerConfig } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { index, opText, opType, modalName, modalData, api, skipUrl } = btnConfig;\r\n        const _opType = form.getFieldValue(`opType-${index}`);\r\n        return (\r\n            <Panel header={this.renderOperationHeader(btnConfig)} key={`op-${index}`}>\r\n                <Form.Item label=\"文字\" {...formItemLayout}>\r\n                    {getFieldDecorator(`opText-${index}`, { \r\n                        initialValue: opText,\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"类型\" {...formItemLayout}>\r\n                    {getFieldDecorator(`opType-${index}`, { \r\n                        initialValue: opType,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"edit\">编辑(弹窗)</Option>\r\n                            <Option value=\"view\">查看(弹窗)</Option>\r\n                            <Option value=\"delete\">删除</Option>\r\n                            <Option value=\"skip\">跳转</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    _opType === 'edit' || _opType === 'view' ? renderModalSelect(layerConfig, form, modalName, index) : null\r\n                }\r\n                {\r\n                    _opType === 'edit' || _opType === 'view' ? (\r\n                        <Form.Item label=\"数据来源\" {...formItemLayout}>\r\n                            {getFieldDecorator(`modalData-${index}`, {\r\n                                rules: [{ required: true, message: '选择数据来源' }],\r\n                                initialValue: modalData,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"table\">表格</Option>\r\n                                    <Option value=\"api\">接口调用</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                    ) : null\r\n                }\r\n                {\r\n                     _opType === 'skip' ? (\r\n                        <Form.Item label=\"路径地址\" {...formItemLayout}>\r\n                            {getFieldDecorator(`skipUrl-${index}`, {\r\n                                rules: [{ required: true, message: '输入路径地址' }],\r\n                                initialValue: skipUrl,\r\n                            })(\r\n                                <Input />\r\n                            )}\r\n                        </Form.Item>\r\n                    ) : null\r\n                }\r\n                {\r\n                    form.getFieldValue(`modalData-${index}`) === 'api' || _opType === 'delete' ?\r\n                        renderApiSelect(layerConfig, form, { initialValue: api, key: index }) : null\r\n                }\r\n            </Panel>\r\n        )\r\n    }\r\n    renderTableProps() {\r\n        const { form } = this.props;\r\n        const { configs } = this.state;\r\n        const { getFieldDecorator } = form;\r\n        const {  operationArr = [], pagination, rowSelection, hasOperation = FALSE, rowKey } = configs;\r\n        const { pageSize = 10, pageSizeOptions = '10,20,30' } = pagination || {};\r\n        const { type = 'checkbox', columnTitle = '选择' } = rowSelection || {};\r\n        const hasPagination = Object.keys(pagination || {}).length > 0 ? TRUE : FALSE;\r\n        const hasRowSelection = Object.keys(rowSelection || {}).length > 0 ? TRUE : FALSE;\r\n        return (\r\n            <Fragment>\r\n                <Form.Item label=\"操作列\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"hasOperation\", { \r\n                        initialValue: hasOperation,\r\n                    })(\r\n                        <Select>\r\n                            <Option value={FALSE}>无</Option>\r\n                            <Option value={TRUE}>有</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('hasOperation') === TRUE ? // 操作列\r\n                        [\r\n                            <Collapse key=\"op-collapse\">\r\n                                {\r\n                                    operationArr.map(this.renderOperationBtn)\r\n                                }\r\n                            </Collapse>,\r\n                            <Fragment key=\"op-collapse-btns\">\r\n                                {\r\n                                    form.getFieldValue('hasOperation') === TRUE ?\r\n                                        (<div className=\"btn-add-box\">\r\n                                            <Button\r\n                                                type=\"dashed\"\r\n                                                size=\"large\"\r\n                                                onClick={this.onAddOperation}\r\n                                            >\r\n                                                添加操作项\r\n                                            </Button>\r\n                                        </div>) : null\r\n                                }\r\n                            </Fragment>\r\n                        ] : null\r\n                }\r\n                <Form.Item label=\"pagination\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"pagination\", { \r\n                        initialValue: hasPagination,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">false</Option>\r\n                            <Option value=\"1\">true</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"rowKey\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"rowKey\", { \r\n                        initialValue: rowKey,\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('pagination') === '1' ?\r\n                    <Card title=\"pagination配置\">\r\n                        <Form.Item label=\"pageSize\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"pageSize\", { \r\n                                initialValue: pageSize,\r\n                            })(\r\n                                <Input />\r\n                            )}\r\n                        </Form.Item>\r\n                        <Form.Item label=\"pageSizeOptions\" {...fLayout}>\r\n                            {getFieldDecorator(\"pageSizeOptions\", { \r\n                                initialValue: Array.isArray(pageSizeOptions)\r\n                                    ? pageSizeOptions.join(',') : pageSizeOptions,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"10,20,30\">10,20,30</Option>\r\n                                    <Option value=\"10,20,30,40\">10,20,30,40</Option>\r\n                                    <Option value=\"20,30,40\">20,30,40</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                    </Card> : null\r\n                }\r\n                <Form.Item label=\"rowSelection\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"rowSelection\", { \r\n                        initialValue: hasRowSelection,\r\n                    })(\r\n                        <Select>\r\n                            <Option value=\"0\">false</Option>\r\n                            <Option value=\"1\">true</Option>\r\n                        </Select>\r\n                    )}\r\n                </Form.Item>\r\n                {\r\n                    form.getFieldValue('rowSelection') === '1' ?\r\n                    <Card title=\"rowSelection配置\">\r\n                        <Form.Item label=\"type\" {...formItemLayout}>\r\n                            {getFieldDecorator(\"type\", { \r\n                                initialValue: type,\r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"checkbox\">checkbox</Option>\r\n                                    <Option value=\"radio\">radio</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                        {\r\n                            form.getFieldValue('type') === 'radio' ?\r\n                                <Form.Item label=\"columnTitle\" {...formItemLayout}>\r\n                                    {getFieldDecorator(\"columnTitle\", { \r\n                                        initialValue: columnTitle,\r\n                                    })(\r\n                                        <Input />\r\n                                    )}\r\n                                </Form.Item> : null\r\n                        }\r\n                    </Card> : null\r\n                }\r\n                {/* <Form.Item label=\"模拟数据\" {...formItemLayout}>\r\n                    {getFieldDecorator(\"mockData\", {\r\n                        initialValue: mockData,\r\n                    })(\r\n                        <Input placeholder=\"请输入数据条数\" />\r\n                    )}\r\n                </Form.Item> */}\r\n            </Fragment>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, onClose, onDeleteContainer, form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { configs } = this.state;\r\n        const {  dataSrouce } = configs;\r\n        return (\r\n            <Drawer\r\n                title=\"表格编辑\"\r\n                maskClosable={false}\r\n                width={420}\r\n                onClose={onClose}\r\n                visible={visible}\r\n            >\r\n                <Form onSubmit={this.onSubmit}>\r\n                    <Divider>表头</Divider>\r\n                    {this.renderCollapse()}\r\n                    <div className=\"btn-add-box\">\r\n                        <Button\r\n                            type=\"dashed\"\r\n                            size=\"large\"\r\n                            onClick={this.onAddColumn}\r\n                        >\r\n                            添加表头列\r\n                        </Button>\r\n                    </div>\r\n                    <Divider>表格属性</Divider>\r\n                    {this.renderTableProps()}\r\n                    <Divider>数据源</Divider>\r\n                    <Form.Item label=\"dataSrouce\" {...formItemLayout}>\r\n                        {getFieldDecorator(\"modelKey\", {\r\n                            initialValue: dataSrouce,\r\n                        })(\r\n                            <Input placeholder=\"model key\" />\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item style={{ marginTop: '20px', textAlign: 'center' }}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(TableEdit);","import React, { Component } from 'react';\r\nimport { Icon } from 'antd';\r\nimport { Table } from 'fl-pro';\r\nimport { TABLE_CONTAINER } from '../../../utils/Constants';\r\nimport TableEdit from '../../EditDrawer/TableEdit';\r\n\r\nimport './index.css';\r\n\r\nclass TableContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n        };\r\n        this.onClose = this.onClose.bind(this);\r\n        this.onShowEditTable = this.onShowEditTable.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onPageIndexChange = this.onPageIndexChange.bind(this);\r\n        this.onShowSizeChange = this.onShowSizeChange.bind(this);\r\n    }\r\n    onShowEditTable() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onClose(e) {\r\n        e.stopPropagation();\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onUpdateConfigs(newConfigs) {\r\n        const { configs, onUpdateLayoutConfig } = this.props;\r\n        const { layoutIndex } = configs;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex,\r\n            type: TABLE_CONTAINER,\r\n            ...newConfigs\r\n        });\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { configs, onUpdateLayoutConfig } = this.props;\r\n        const { layoutIndex } = configs;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex,\r\n            deleteFlag: true,\r\n        });\r\n    }\r\n    getMockDataSource(columns, dataSize) {\r\n        const ds = [];\r\n        for (let i = 0; i < dataSize; i++) {\r\n            const dsItem = {};\r\n            columns.forEach((item) => {\r\n                Object.keys(item).forEach((k) => {\r\n                    dsItem[item.dataIndex] = `${item.dataIndex}-${i}`;\r\n                });\r\n            });\r\n            ds.push(dsItem);\r\n        }\r\n        return ds;\r\n    }\r\n    getModelKey() {\r\n        const { configs = {} } = this.props;\r\n        const { modelKey } = configs;\r\n        return modelKey;\r\n    }\r\n    onPageIndexChange(page, pageSize) {\r\n        this.props.onPageIndexChange(page, pageSize, this.getModelKey());\r\n    }\r\n    onShowSizeChange(current, size) {\r\n        this.props.onShowSizeChange(current, size, this.getModelKey());\r\n    }\r\n    getRowSelection(rowSelection, sRowKeys) {\r\n        const { context } = this.props;\r\n        if (rowSelection) {\r\n            rowSelection.selectedRowKeys = sRowKeys;\r\n            rowSelection.onChange = (selectedRowKeys, selectedRows) => {\r\n                context.setState({\r\n                    selectedRowKeys,\r\n                    selectedRows,\r\n                });\r\n            };\r\n        }\r\n        return rowSelection;\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { configs = {}, apiData = {}, currentPage, pageSize, context, layerConfig, preview = false } = this.props;\r\n        const { GuiContext } = context;\r\n        const { pagination = false, rowSelection = null, columns = [], modelKey, mockData, rowKey } = configs;\r\n        const copyColumns = columns.slice();\r\n        const mockDataNum = (/^\\d+$/).test(mockData) ? +mockData : 0;\r\n        // 是否存在api接口返回的数据项\r\n        const hasApiDataSource = modelKey && Object.hasOwnProperty.call(apiData, modelKey);\r\n        const dataSource = hasApiDataSource ? apiData[modelKey] : this.getMockDataSource(columns, mockDataNum);\r\n        // 有分页属性\r\n        if (pagination) {\r\n            pagination.showQuickJumper = true;\r\n            pagination.showSizeChanger = true;\r\n            pagination.current = currentPage;\r\n            pagination.pageSize = pageSize;\r\n            pagination.total = hasApiDataSource ? apiData[`${modelKey}Total`] : mockDataNum;\r\n            pagination.onChange = this.onPageIndexChange;\r\n            pagination.onShowSizeChange = this.onShowSizeChange;\r\n        }\r\n        return (\r\n            <div className={`table-container container ${preview ? 'preview-box' : ''}`}>\r\n                <GuiContext.Consumer>\r\n                    {\r\n                        ({ selectedRowKeys }) =>\r\n                            <Table\r\n                                columns={copyColumns}\r\n                                bordered\r\n                                dataSource={dataSource}\r\n                                pagination={pagination}\r\n                                rowSelection={this.getRowSelection(rowSelection, selectedRowKeys)}\r\n                                rowKey={rowKey}\r\n                            />\r\n                    }\r\n                </GuiContext.Consumer>\r\n                <TableEdit\r\n                    visible={visible}\r\n                    layerConfig={layerConfig}\r\n                    configs={configs}\r\n                    context={context}\r\n                    onClose={this.onClose}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                    onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                />\r\n                {\r\n                    !preview ? \r\n                        <Icon type=\"form\" className=\"edit-icon icon-form\" onClick={this.onShowEditTable} /> : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TableContainer;","import { PureComponent } from 'react';\r\n\r\nclass BaseContainer extends PureComponent {\r\n    onUpdateConfigs(newConfigs) {\r\n        const { onUpdateLayoutConfig } = this.props;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            onUpdateLayoutConfig({\r\n                layoutIndex: this.getContainerIndex(),\r\n                type: this.getContainerType(),\r\n                ...newConfigs,\r\n            });\r\n        });\r\n    }\r\n    onToggleEditDrawer() {\r\n        this.setState({\r\n            visible: !this.state.visible,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig } = this.props;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex: this.getContainerIndex(),\r\n            deleteFlag: true,\r\n        });\r\n        this.onToggleEditDrawer();\r\n    }\r\n    getContainerIndex() {\r\n        const { configs } = this.props;\r\n        return configs.layoutIndex;\r\n    }\r\n    getContainerType() {\r\n        const { configs } = this.props;\r\n        return configs.type;\r\n    }\r\n    _render() {\r\n        return null;\r\n    }\r\n    render() {\r\n        return this._render();\r\n    }\r\n}\r\n\r\nexport default BaseContainer;","import React, { Component } from 'react';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\n\r\nclass DropRender extends Component {\r\n\trender() {\r\n\t\tconst { configs = {}, ...restProps } =this.props;\r\n\t\tconst { cellStyles, textAlign = 'center', type } = configs;\r\n\t\tconst styleObj = type === 'Button' ? Object.assign({}, cellStyles, { textAlign }) : cellStyles;\r\n\t\treturn (\r\n\t\t\t<div style={styleObj}>\r\n                {\r\n                    renderComponent(configs, restProps)\r\n                }\r\n\t\t    </div>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default DropRender;","/**\r\n * 计算表单单元格跨列\r\n * @param {*} colIndex \r\n * @param {*} originSpan \r\n * @param {*} formItemArr \r\n * @param {*} colSpanArr \r\n */\r\nconst getCellColSpan = (colIndex, originSpan = 1, formItemArr = [], colSpanArr = []) => {\r\n    let finalColSpan = 0;\r\n    // 占据整行\r\n    if (originSpan === colSpanArr.length) {\r\n        finalColSpan = 24;\r\n    } else {\r\n        let locationIndex = 0;\r\n        let total = 0;\r\n        for (let i = 0; i < formItemArr.length; i++) {\r\n            if (formItemArr[i].colIndex >= colIndex) {\r\n                total = total % 24;\r\n                if (total === 0) {\r\n                    locationIndex = 0;\r\n                } else {\r\n                    for (let j = 0; j < colSpanArr.length; j++) {\r\n                        total -= colSpanArr[j];\r\n                        if (total <= 0) {\r\n                            locationIndex = j + 1;\r\n                            j = colSpanArr.length;\r\n                        }\r\n                    }\r\n                }\r\n                i = formItemArr.length;\r\n            } else {\r\n                total += formItemArr[i].colSpan;\r\n            }\r\n        }\r\n        let start = 0;\r\n        let end = 0;\r\n        // 不换行显示\r\n        if (originSpan <= colSpanArr.length - locationIndex) {\r\n            start = locationIndex;\r\n        }\r\n        end = start + originSpan - 1;\r\n        for(; start <= end; start++) {\r\n            finalColSpan += colSpanArr[start];\r\n        }\r\n    }\r\n    return finalColSpan;\r\n};\r\n\r\nconst strToObj = (str, separator = ';') => {\r\n    if (str) {\r\n        return str.split(separator).reduce((styleObj, styleStr) => {\r\n            const [ name, value ] = styleStr.split(':');\r\n            if (name && value) {\r\n                styleObj[name] = value.replace(/['\"\\s]/g, '');\r\n            }\r\n            return styleObj;\r\n        }, {});\r\n    }\r\n    return {};\r\n};\r\n\r\nconst objToStr = (objLike, separator = ';') => {\r\n    if (Object.prototype.toString.call(objLike) === '[object Object]') {\r\n        return Object.keys(objLike).reduce((arr, k) => {\r\n            arr.push(`${k}:${objLike[k]}`);\r\n            return arr;\r\n        }, []).join(separator);\r\n    } else if (Array.isArray(objLike)) {\r\n        return objLike.join(separator);\r\n    }\r\n    return objLike;\r\n};\r\n\r\nexport default getCellColSpan;\r\n\r\nexport {\r\n    strToObj,\r\n    objToStr,\r\n};","const ButtonSaveKeys = ['btnText', 'antdType', 'skipUrl', 'api', 'modalName'];\r\nexport {\r\n    ButtonSaveKeys,\r\n};","import React, { Component, Fragment } from 'react';\r\nimport { Card, DatePicker, Select, Icon, Input, Form, Collapse } from 'antd';\r\nimport getCellColSpan, { strToObj } from '../../utils/CellUtil';\r\nimport formItemLayout from '../../configs/layout';\r\nimport { ButtonSaveKeys } from '../../configs/saveConfigs';\r\nimport { renderModalSelect, renderApiSelect } from '../../utils/RenderUtil';\r\nimport { TRUE } from '../../utils/Constants';\r\n\r\nconst { Option } = Select;\r\nconst Panel = Collapse.Panel;\r\nconst allowCallApi = ['import', 'export', 'edit', 'view', 'mult'];\r\nconst allowCallModal = ['add', 'edit', 'view'];\r\n\r\nclass BaseEdit extends Component {\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdeleteFormItem: false,\r\n            deleteComponent: false,\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.onAddListItem = this.onAddListItem.bind(this);\r\n        this.onDeleteButton = this.onDeleteButton.bind(this);\r\n        this.onDeleteListItem = this.onDeleteListItem.bind(this);\r\n        this.onDeleteComponent = this.onDeleteComponent.bind(this);\r\n        this.renderBtnPanelHeader = this.renderBtnPanelHeader.bind(this);\r\n    }\r\n    getItemSetType() {\r\n        return [];\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n\t\tconst { configs = {} } = nextProps;\r\n        const { type } = configs;\r\n\t\tif (~this.getItemSetType().indexOf(type) && !this[`init${type}`] && nextProps.visible) {\r\n\t\t\tconst lowerCaseType = type.toLowerCase();\r\n\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\tconst stateVal =  configs[stateKey] || [];\r\n\t\t\tthis.setState({\r\n\t\t\t\t[stateKey]: stateVal,\r\n            });\r\n\t\t\tthis[`${lowerCaseType}Index`] = stateVal.length;\r\n\t\t\tthis[`init${type}`] = true;\r\n\t\t}\r\n\t}\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tconst { deleteComponent, buttonArr, deleteFormItem = false } = this.state;\r\n        const { form, onUpdateConfigs, configs, colSpanArr, onDeleteContainer,\r\n\t\t\tformItemArr, inForm = false } = this.props;\r\n\t\tif (deleteFormItem) {\r\n\t\t\tthis.onCloseEdit();\r\n\t\t\tonDeleteContainer();\r\n\t\t\treturn;\r\n\t\t}\r\n        const itemSetType = this.getItemSetType();\r\n\t\tform.validateFields((err, values) => {\r\n\t        if (!err) {\r\n\t\t\t\tconst newConfigs = Object.assign({}, configs, values);\r\n\t\t\t\tnewConfigs.cellStyles = strToObj(values.cellStyles);\r\n\t\t\t\tif (deleteComponent) {\r\n\t\t\t\t\tnewConfigs.deleteFlag = true;\r\n\t\t\t\t}\r\n\t\t\t\tconst configType = newConfigs.type;\r\n\t\t\t\tif (~itemSetType.indexOf(configType) && configType !== 'Button') {\r\n\t\t\t\t\tconst lowerCaseType = configType.toLowerCase();\r\n\t\t\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\t\t\tconst newList = this.state[stateKey].slice();\r\n\t\t\t\t\tnewList.forEach((item) => {\r\n\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\tconst kLabel = `${lowerCaseType}Label-${index}`;\r\n\t\t\t\t\t\tconst kValue = `${lowerCaseType}Value-${index}`;\r\n\t\t\t\t\t\titem.label = values[kLabel];\r\n\t\t\t\t\t\titem.value= values[kValue];\r\n\t\t\t\t\t\tdelete newConfigs[kLabel];\r\n\t\t\t\t\t\tdelete newConfigs[kValue];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewConfigs[stateKey] = newList;\r\n\t\t\t\t} else if (configType === 'DatePicker' || configType === 'RangePicker') {\r\n\t\t\t\t\tconst { format } = values;\r\n\t\t\t\t\tnewConfigs.showTime = values.showTime === TRUE;\r\n\t\t\t\t\tif (configType === 'DatePicker') {\r\n\t\t\t\t\t\tnewConfigs.initialValue = values.initialValue && values.initialValue.format(format);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (configType === 'Button') {\r\n\t\t\t\t\tconst newButtonArr = buttonArr.slice();\r\n\t\t\t\t\tnewButtonArr.forEach((item) => {\r\n\t\t\t\t\t\tconst { btnIndex } = item;\r\n\t\t\t\t\t\tButtonSaveKeys.forEach((sKey) => {\r\n\t\t\t\t\t\t\tconst itemKey = `${sKey}-${btnIndex}`;\r\n\t\t\t\t\t\t\titem[sKey] = values[itemKey];\r\n\t\t\t\t\t\t\tdelete newConfigs[itemKey];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (item.logicType === 'expand') {\r\n\t\t\t\t\t\t\tconst expandCount = `expandCount-${btnIndex}`;\r\n\t\t\t\t\t\t\titem.expandCount = values[expandCount];\r\n\t\t\t\t\t\t\tdelete newConfigs[expandCount];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tnewConfigs.buttonArr = newButtonArr;\r\n\t\t\t\t}\r\n\t\t\t\tif (inForm) {\r\n\t\t\t\t\tconst { originSpan = 1 } = values;\r\n\t\t\t\t\tnewConfigs.originSpan = originSpan;\r\n\t\t\t\t\tnewConfigs.colSpan = getCellColSpan(newConfigs.colIndex, originSpan,\r\n\t\t\t\t\t\tformItemArr, colSpanArr);\r\n\t\t\t\t}\r\n\t\t\t\tthis.onCloseEdit();\r\n\t\t\t\tonUpdateConfigs(newConfigs);\r\n\t\t\t}\r\n\t\t});\r\n    }\r\n    onCloseEdit() {\r\n\t\tthis.getItemSetType().forEach((type) => {\r\n\t\t\tthis[`init${type}`] = false;\r\n        });\r\n\t\tthis.initBtn = false;\r\n        this.setState({\r\n\t\t\tdeleteComponent: false,\r\n\t\t\tdeleteFormItem: false,\r\n        });\r\n    }\r\n    onDeleteComponent() {\r\n        this.setState({\r\n\t\t\tdeleteComponent: true,\r\n        });\r\n    }\r\n    onDeleteButton(btnIndex) {\r\n\t\tconst { buttonArr = [] } = this.state;\r\n\t\tconst newButtonArr = buttonArr.reduce((arr, item) => {\r\n\t\t\tif (item.btnIndex !== btnIndex) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tbuttonArr: newButtonArr,\r\n\t\t});\r\n\t}\r\n    onDeleteListItem(index, key) {\r\n\t\tconst stateKey = `${key}Arr`;\r\n\t\tconst list = this.state[stateKey];\r\n\t\tconst newList = list.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\t[stateKey]: newList,\r\n\t\t});\r\n    }\r\n    onAddListItem(key) {\r\n\t\tconst stateKey = `${key}Arr`;\r\n\t\tconst list = this.state[stateKey];\r\n\t\tconst newList = list.slice();\r\n\t\tnewList.push({\r\n\t\t\tlabel: '',\r\n\t\t\tvalue: '',\r\n\t\t\tindex: this[`${key}Index`],\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\t[stateKey]: newList,\r\n\t\t});\r\n\t\tthis[`${key}Index`] += 1;\r\n    }\r\n    renderDefaultValueItem() {\r\n\t\tconst { configs = {}, form } = this.props;\r\n\t\tconst { type, initialValue, text } = configs;\r\n        const { getFieldDecorator } = form;\r\n        const itemSetType = this.getItemSetType();\r\n\t\tif (~itemSetType.indexOf(type)) {\r\n\t\t\tconst lowerCaseType = type.toLowerCase();\r\n\t\t\tconst stateKey = `${lowerCaseType}Arr`;\r\n\t\t\tconst list = this.state[stateKey] || [];\r\n\t\t\treturn (\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\t\tinitialValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select allowClear>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlist.map((item) => {\r\n\t\t\t\t\t\t\t\tconst { index } = item;\r\n\t\t\t\t\t\t\t\tconst optionValue = form.getFieldValue(`${lowerCaseType}Value-${index}`);\r\n\t\t\t\t\t\t\t\tconst optionText = form.getFieldValue(`${lowerCaseType}Label-${index}`);\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Option value={optionValue} key={`op-${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t{`${optionValue}/${optionText}`}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t);\r\n\t\t} else if (type === 'DatePicker') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\tinitialValue,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<DatePicker style={{ width: '100%' }} />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'Input') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"initialValue\">\r\n\t\t\t\t\t{getFieldDecorator('initialValue', {\r\n\t\t\t\t\t\tinitialValue,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>);\r\n\t\t} else if (type === 'Text') {\r\n\t\t\treturn (<Form.Item {...formItemLayout} label=\"text\">\r\n\t\t\t\t\t{getFieldDecorator('text', {\r\n\t\t\t\t\t\tinitialValue: text,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>);\r\n\t\t}  else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n    renderBtnPanelHeader({ btnText, btnIndex }) {\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{btnText}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteButton(btnIndex);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    renderTabs() {\r\n\t\treturn this.renderItemSettingCard({ title: 'tab设置', dataKey:'tabs' });\r\n\t}\r\n\trenderBreadcrumb() {\r\n\t\treturn this.renderItemSettingCard({\r\n\t\t\ttitle: 'breadcrumb设置',\r\n\t\t\tdataKey: 'breadcrumb',\r\n\t\t\tlabPlaceholder: '名称',\r\n\t\t\tvalPlaceholder: '路径',\r\n\t\t});\r\n\t}\r\n    renderSelect() {\r\n\t\treturn this.renderItemSettingCard({ title: 'select设置', dataKey:'select' });\r\n\t}\r\n\trenderRadio() {\r\n\t\treturn this.renderItemSettingCard({ title: 'radio设置', dataKey:'radio' });\r\n\t}\r\n\trenderCheckbox() {\r\n\t\treturn this.renderItemSettingCard({ title: 'checkbox设置', dataKey:'checkbox' });\r\n\t}\r\n    renderItemSettingCard({ title, dataKey, labPlaceholder = 'label', valPlaceholder = 'value' }) {\r\n\t\tconst { form } = this.props;\r\n\t\tconst stateKey = `${dataKey}Arr`;\r\n        const itemList = this.state[stateKey] || [];\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle={title}\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={() => {\r\n\t\t\t\t\tthis.onAddListItem(dataKey);\r\n\t\t\t\t}} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\titemList.map(({ label, value, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`${dataKey}-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`${dataKey}-label-${index}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`${dataKey}Label-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: label,\r\n\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: labPlaceholder }]\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder={labPlaceholder} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`${dataKey}-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`${dataKey}Value-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder={valPlaceholder} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteListItem(index, dataKey);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trenderBtnExpand(btnConfig) {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { btnIndex, expandCount } = btnConfig;\r\n\t\treturn (\r\n\t\t\t<Form.Item\r\n\t\t\t\tkey={`expandCount-${btnIndex}`}\r\n\t\t\t\tlabel=\"折叠可见数\"\r\n\t\t\t\t{...formItemLayout}\r\n\t\t\t>\r\n\t\t\t\t{form.getFieldDecorator(`expandCount-${btnIndex}`, {\r\n\t\t\t\t\trules: [{\r\n\t\t\t\t\t\trequired: 'true', message: '折叠可见数',\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tinitialValue: expandCount,\r\n\t\t\t\t})(\r\n\t\t\t\t\t<Input placeholder=\"expandCount\" />\r\n\t\t\t\t)}\r\n\t\t\t</Form.Item>\r\n\t\t);\r\n\t}\r\n\trenderApiItem({ btnIndex, api, logicType }) {\r\n\t\tconst { layerConfig = {}, form } = this.props;\r\n\t\t// 容许配置api调用属性\r\n\t\tif (allowCallApi.indexOf(logicType) >= 0) {\r\n\t\t\treturn renderApiSelect(layerConfig, form, { initialValue: api, key: btnIndex });\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderModalItem({ btnIndex, modalName, logicType }) {\r\n\t\tconst { layerConfig = {}, form } = this.props;\r\n\t\t// 容许配置modal\r\n\t\tif (allowCallModal.indexOf(logicType) >= 0) {\r\n\t\t\treturn renderModalSelect(layerConfig, form, modalName, btnIndex);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderBtnCard() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { buttonArr = [] } = this.state;\r\n\t\tconst activeKeyArr = buttonArr.reduce((arr, { btnIndex }) => {\r\n\t\t\tarr.push(`btn-${btnIndex}`);\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\treturn (\r\n\t\t\t<Card title=\"按钮区域\">\r\n\t\t\t\t<Collapse defaultActiveKey={activeKeyArr}>\r\n\t\t\t\t{\r\n\t\t\t\t\tbuttonArr.map((item) => {\r\n\t\t\t\t\t\tconst { btnIndex, btnText, antdType = '', htmlType = 'button', logicType, textDisabled, skipUrl } = item;\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Panel header={this.renderBtnPanelHeader(item)} key={`btn-${btnIndex}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tkey={`btnText-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\tlabel=\"按钮文字\"\r\n\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`btnText-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: btnText,\r\n\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: '按钮文字' }],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"按钮文字\" disabled={textDisabled} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlogicType !== 'expand' ? \r\n\t\t\t\t\t\t\t\t\t\t(<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`antdType-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"type\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`antdType-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\tinitialValue: antdType,\r\n\t\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select placeholder=\"按钮类型\" disabled={htmlType === 'submit' || htmlType === 'reset'}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"primary\">primary</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"dashed\">dashed</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"danger\">danger</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value=\"\">none</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.renderApiItem(item)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.renderModalItem(item)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlogicType === 'expand' ? this.renderBtnExpand(item) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlogicType === 'skip' ?\r\n\t\t\t\t\t\t\t\t\t\t(<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tkey={`skipUrl-${btnIndex}`}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"路径地址\"\r\n\t\t\t\t\t\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`skipUrl-${btnIndex}`, {\r\n\t\t\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: '输入路径地址' }],\r\n\t\t\t\t\t\t\t\t\t\t\t\tinitialValue: skipUrl,\r\n\t\t\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t</Collapse>\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default BaseEdit;","import React, { Fragment } from 'react';\r\nimport { Button, Drawer, Select, Input, Form } from 'antd';\r\nimport BaseEdit from '../../Core/BaseEdit';\r\nimport { objToStr } from '../../../utils/CellUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\n\r\nclass CompEdit extends BaseEdit {\r\n\tgetItemSetType() {\r\n\t\treturn ['Tabs', 'Breadcrumb', 'Button', 'Radio'];\r\n\t}\r\n\trenderComp() {\r\n\t\tconst { form, configs } = this.props;\r\n\t\tconst { placeholder, type } = configs;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tif (this.state.deleteComponent) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (type === 'Button') {\r\n\t\t\treturn this.renderBtnCard();\r\n\t\t}\r\n\t\tif (type === 'Breadcrumb') {\r\n\t\t\treturn this.renderBreadcrumb();\r\n\t\t}\r\n\t\tif (type === 'Tabs') {\r\n\t\t\treturn this.renderTabs();\r\n\t\t}\r\n\t\tif (type === 'Radio') {\r\n\t\t\treturn this.renderRadio();\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t{this.renderDefaultValueItem()}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype !== 'Text' && type !== 'Breadcrumb' ?\r\n\t\t\t\t\t\t(<Form.Item {...formItemLayout} label=\"placeholder\">\r\n\t\t\t\t\t\t\t{getFieldDecorator('placeholder', {\r\n\t\t\t\t\t\t\t\tinitialValue: placeholder,\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form.Item>) : null\r\n\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { visible, onClose, form, configs } = this.props;\r\n\t\tconst { deleteComponent } = this.state;\r\n\t\tconst initialCellStyles = objToStr(configs.cellStyles);\r\n\t\tconst { type, radioType, textAlign = 'center' } = configs;\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\ttitle=\"编辑组件\"\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tthis.onCloseEdit();\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!deleteComponent ? \r\n\t\t\t\t\t\t\t<Form.Item label=\"style设置\" {...formItemLayout}>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"cellStyles\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: initialCellStyles,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item> : null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype === 'Button' && !deleteComponent ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"对齐方式\" {...formItemLayout}>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"textAlign\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: textAlign,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t左\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t中\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t右\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype === 'Radio' && !deleteComponent ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"类型\" {...formItemLayout}>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"radioType\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: radioType,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t默认\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"tab\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"tab\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\ttab\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n                    {\r\n                        this.renderComp()\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!deleteComponent ? (\r\n\t\t\t\t\t\t\t<div className=\"btn-box\">\r\n\t\t\t\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n\t\t\t        <div className=\"btn-bottom-box\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t        </div>\r\n\t\t    \t</Form>\r\n\t    \t</Drawer>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Form.create()(CompEdit);","const initDropData = (dragData, context, isFormItem = false) => {\r\n    const { dropComponent } = context.state;\r\n    const { configs } = context.props;\r\n    const { type, ...defaultConfigs } = dragData;\r\n    let newConfigs = {\r\n        textAlign: 'left',\r\n    };\r\n    if (dropComponent) {\r\n        if (type === 'Button' && configs.type === 'Button') {\r\n            newConfigs = Object.assign({}, configs);\r\n            newConfigs.buttonArr.push({\r\n                btnIndex: context.btnIndex,\r\n                ...defaultConfigs,\r\n            });\r\n            context.btnIndex += 1;\r\n        } else {\r\n            return;\r\n        }\r\n    } else {\r\n        if (type === 'Button') {\r\n            newConfigs.buttonArr = [{\r\n                btnIndex: context.btnIndex,\r\n                ...defaultConfigs,\r\n            }];\r\n            context.btnIndex += 1;\r\n        } else {\r\n            newConfigs = { ...defaultConfigs };\r\n        }\r\n        newConfigs.type = type;\r\n    }\r\n    if (isFormItem && newConfigs.type !== 'Button') {\r\n        const { configs } = context.props;\r\n        const { originSpan, cellStyles, colIndex, colSpan } = configs;\r\n        newConfigs.originSpan = originSpan;\r\n        newConfigs.cellStyles = cellStyles;\r\n        newConfigs.colIndex = colIndex;\r\n        newConfigs.colSpan = colSpan;\r\n        newConfigs.label = type;\r\n        newConfigs.name = `name-${colIndex}`;\r\n    }\r\n    return newConfigs;\r\n};\r\n\r\nexport default initDropData;","import moment  from 'moment';\r\nimport { FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER } from './Constants';\r\n\r\nconst containerArr = [FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER];\r\n\r\nconst isContainer = (type) => {\r\n    return containerArr.indexOf(type) > -1;\r\n};\r\n\r\nconst isLogin = () => {\r\n    return !!localStorage.getItem('access_token') && !!localStorage.getItem('webapi');\r\n}\r\n\r\nconst isIndex = (i) => {\r\n    return (/\\d+/).test(i);\r\n};\r\n\r\nconst getInitialValue = (config = {}) => {\r\n    const { type = 'Input', initialValue, format = 'YYYY-MM-DD' } = config;\r\n    if (type === 'DatePicker') {\r\n        return initialValue && moment(initialValue, format);\r\n    }\r\n    if (type === 'Checkbox') {\r\n        return [initialValue];\r\n    }\r\n    return initialValue || '';\r\n}\r\n\r\nconst getStyle = (config) => {\r\n    const { type, cellStyles, textAlign } = config;\r\n    return type === 'Button' ? Object.assign({}, cellStyles, { textAlign }) : cellStyles || {};\r\n};\r\n\r\nexport {\r\n    isLogin,\r\n    isIndex,\r\n    getStyle,\r\n    getInitialValue,\r\n};\r\n\r\nexport default isContainer;","import React, { Component, Fragment } from 'react';\r\nimport { Icon, message } from 'antd';\r\nimport DropRender from './DropRender';\r\nimport CompEdit from '../../EditDrawer/CompEdit';\r\nimport { activeColor } from '../../../utils/Constants';\r\nimport initDropData from '../../../utils/DropUtil';\r\nimport isContainer from '../../../utils/common';\r\nimport './index.css';\r\n\r\nconst clsName = 'drop-container';\r\n\r\nclass DropContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            configs: props.configs,\r\n            showEdit: false,\r\n            dropComponent: !!props.configs.type,\r\n        };\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.onDragenter = this.onDragenter.bind(this);\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.btnIndex = 1;\r\n    }\r\n    componentDidMount() {\r\n        if (!this.DropDom || this.props.preview) {\r\n            return;\r\n        }\r\n        this.DropDom.addEventListener(\"drop\", this.onDrop, false);\r\n        this.DropDom.addEventListener(\"dragleave\", this.onDragLeave, false);\r\n        this.DropDom.addEventListener(\"dragenter\", this.onDragenter, false);\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.DropDom && !this.props.preview) {\r\n            this.DropDom.removeEventListener('drop', this.onDrop);\r\n            this.DropDom.removeEventListener('dragleave', this.onDragLeave);\r\n            this.DropDom.removeEventListener(\"dragenter\", this.onDragenter);\r\n        }\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            showEdit: !this.state.showEdit,\r\n        });\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...newConfigs }) {\r\n        const { onUpdateLayoutConfig, configs } = this.props;\r\n        const { layoutIndex } = configs;\r\n        const newState = {\r\n            configs: {\r\n                layoutIndex,\r\n            },\r\n        };\r\n        // 删除组件\r\n        if (deleteFlag) {\r\n            newState.dropComponent = false;\r\n            newState.configs.cellStyles = newConfigs.cellStyles;\r\n        } else {\r\n            newState.configs = Object.assign({}, this.state.configs, newConfigs);\r\n        }\r\n        this.setState({\r\n            ...newState,\r\n        });\r\n        onUpdateLayoutConfig({\r\n            ...newState.configs,\r\n            deleteFlag,\r\n            layoutIndex,\r\n        });\r\n        if (!isContainer(this.state.configs.type)) {\r\n            this.onToggleEdit();\r\n        }\r\n    }\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (event.target.className === clsName) {\r\n            this.resetBg();\r\n            const data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            const { onUpdateLayoutConfig, configs = {} } = this.props;\r\n            const initData = initDropData(data, this);\r\n            if (!initData) {\r\n                message.warn('已经放置组件');\r\n                return;\r\n            }\r\n            const { type, ...newConfigs } = initData;\r\n            const { notAllow = [] } = this.props;\r\n            if (notAllow.indexOf(type) >= 0) {\r\n                message.warn('不容许拖放此类型的组件');\r\n                return;\r\n            }\r\n            const { layoutIndex } = configs;\r\n            if (newConfigs) {\r\n                this.setState({\r\n                    configs: {\r\n                        type,\r\n                        layoutIndex,\r\n                        ...newConfigs,\r\n                    },\r\n                    dropComponent: true,\r\n                }, () => {\r\n                    onUpdateLayoutConfig(this.state.configs);\r\n                });\r\n            }\r\n        }\r\n    }\r\n    resetBg() {\r\n        const dropDomArr = document.querySelectorAll('.drop-container');\r\n        if (dropDomArr) {\r\n            dropDomArr.forEach((item) => {\r\n                item.style.background = '';\r\n            });\r\n        }\r\n    }\r\n    onDragenter(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = activeColor;\r\n        }\r\n    }\r\n    onDragLeave(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = '';\r\n        }\r\n    }\r\n    render() {\r\n        const { dropComponent, configs, showEdit } = this.state;\r\n        const { layerConfig, preview } = this.props;\r\n        const newConfigs = preview ? this.props.configs :\r\n            Object.assign({}, configs);\r\n        return (\r\n            <div\r\n                className=\"drop-container\"\r\n                ref={(DropDom) => { this.DropDom = DropDom; }}\r\n            >\r\n                {\r\n                  dropComponent || preview ? (\r\n                    <Fragment> \r\n                        <DropRender\r\n                            {...this.props}\r\n                            onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                            configs={newConfigs}\r\n                        />\r\n                        {\r\n                            !isContainer(configs.type) && !preview ? ( <Icon\r\n                                type=\"bars\"\r\n                                className=\"edit-icon icon-bars\"\r\n                                onClick={this.onToggleEdit}\r\n                            />) : null\r\n                        }\r\n                    </Fragment>\r\n                    ) : !preview ? <Icon type=\"drag\" /> : null\r\n                }\r\n                <CompEdit\r\n                    visible={showEdit}\r\n                    configs={configs}\r\n                    layerConfig={layerConfig}\r\n                    inForm={false}\r\n                    onClose={this.onToggleEdit}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DropContainer;","import React, { Component } from 'react';\r\nimport { Button, Form, Input, Select, Drawer } from 'antd';\r\nimport  { objToStr, strToObj } from '../../../utils/CellUtil';\r\nimport { HEADER_CONTINAER, FALSE } from '../../../utils/Constants';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst TextArea = Input.TextArea;\r\nconst Option = Select.Option;\r\n\r\nclass BoxEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onClose } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const { boxStyles, ...rest } = values;\r\n                const configs = {\r\n                    boxStyles: strToObj(boxStyles),\r\n                    ...rest,\r\n                };\r\n                onClose(configs);\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { visible, form, onClose, configs = {}, onDeleteContainer } = this.props;\r\n        const { boxStyles = {}, layoutColumn = 3, positionFixed = FALSE, type } = configs;\r\n        const initialBoxStyles = objToStr(boxStyles);\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Drawer\r\n                visible={visible}\r\n                maskClosable={false}\r\n                width={420}\r\n                title=\"编辑列\"\r\n                onClose={() => {\r\n                    onClose(0);\r\n                }}\r\n            >\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"style设置\"\r\n                        {...formItemLayout}\r\n                    >\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"boxStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: initialBoxStyles,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n                    {\r\n                        type === HEADER_CONTINAER ? (\r\n                            <Form.Item\r\n                            label=\"位置固定\"\r\n                            {...formItemLayout}\r\n                        >\r\n                            {getFieldDecorator('positionFixed', {\r\n                                initialValue: positionFixed,\r\n    \r\n                            })(\r\n                                <Select>\r\n                                    <Option value=\"1\">是</Option>\r\n                                    <Option value=\"0\">否</Option>\r\n                                </Select>\r\n                            )}\r\n                        </Form.Item>\r\n                        ) : null\r\n                    }\r\n                    {\r\n                        type !== HEADER_CONTINAER ? (\r\n                            <Form.Item\r\n                                label=\"容器列\"\r\n                                {...formItemLayout}\r\n                            >\r\n                                {getFieldDecorator('layoutColumn', {\r\n                                    initialValue: layoutColumn,\r\n                                    rules: [\r\n                                        { required: true, message: '请选择列数!' },\r\n                                    ],\r\n                                })(\r\n                                    <Select>\r\n                                        <Option value=\"1\">1</Option>\r\n                                        <Option value=\"2\">2</Option>\r\n                                        <Option value=\"3\">3</Option>\r\n                                        <Option value=\"4\">4</Option>\r\n                                        <Option value=\"5\">5</Option>\r\n                                        <Option value=\"6\">6</Option>\r\n                                        <Option value=\"7\">7</Option>\r\n                                        <Option value=\"8\">8</Option>\r\n                                    </Select>\r\n                                )}\r\n                            </Form.Item>\r\n                        ) : null\r\n                    }\r\n                    <div className=\"btn-box\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </div>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(BoxEdit);","import React from 'react';\r\nimport { Icon, Button, Popconfirm } from 'antd';\r\nimport BaseContainer from '../../Core/BaseContainer';\r\nimport DropContainer from '../DropContainer';\r\nimport BoxEdit from '../../EditDrawer/BoxEdit';\r\nimport './index.css';\r\nimport { BOX_CONTINAER } from '../../../utils/Constants';\r\n\r\nclass BoxContainer extends BaseContainer {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            configs: {\r\n                cellsArr: [{\r\n                    layoutIndex: 0,\r\n                }],\r\n                layoutColumn: 1, // 默认有一列\r\n            },\r\n        };\r\n        this.boxItemIndex = 0;\r\n        this.onAddRowCell = this.onAddRowCell.bind(this);\r\n        this.onReceiveConfigs = this.onReceiveConfigs.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onToggleEditDrawer = this.onToggleEditDrawer.bind(this);\r\n        this.onDeleteBoxItemContainer = this.onDeleteBoxItemContainer.bind(this);\r\n    }\r\n    onReceiveConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const { layoutColumn } = this.props;\r\n        const newConfigs = Object.assign({ ...configs }, layoutColumn);\r\n        const newCellsArr = newConfigs.cellsArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.layoutIndex !== item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        layoutIndex: values.layoutIndex,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.layoutIndex === item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newConfigs.cellsArr = newCellsArr;\r\n        this.onUpdateConfigs(newConfigs);\r\n    }\r\n    onDeleteBoxItemContainer(layoutIndex) {\r\n        const { configs } = this.state;\r\n        const { cellsArr = [] } = configs;\r\n        const newCellsArr = cellsArr.reduce((arr, item) => {\r\n            if (item.layoutIndex !== layoutIndex) {\r\n                arr.push(item);\r\n            }\r\n            return arr;\r\n        }, []);\r\n        const newConfigs = Object.assign({}, configs, { cellsArr: newCellsArr });\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    onAddRowCell() {\r\n        const { configs } = this.state;\r\n        const { cellsArr, layoutColumn } = configs;\r\n        this.boxItemIndex += 1;\r\n        const newCellsArr = cellsArr.concat([{\r\n            layoutIndex: this.boxItemIndex,\r\n        }]);\r\n        const newConfigs = {\r\n            layoutColumn,\r\n            cellsArr: newCellsArr,\r\n        };\r\n        const newState = {\r\n            configs: newConfigs,\r\n        };\r\n        this.setState({\r\n            ...newState,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    rendeCell(layoutColumn) {\r\n        if (!layoutColumn) {\r\n            return null;\r\n        }\r\n        const { preview, context = this, apiData, execFetchApi, onShowLoginModal, ...restProps } = this.props;\r\n        const componentArr = [];\r\n        const width = `${100 / layoutColumn}%`;\r\n        const { configs } = preview ? this.props : this.state;\r\n        const { cellsArr } = configs;\r\n        const cellNum = cellsArr.length;\r\n        const { layerConfig } = this.props;\r\n        for (let i = 0; i < cellNum; i++) {\r\n            const configs = cellsArr[i];\r\n            const { layoutIndex } = configs;\r\n            const hasDeleteIcon = !preview && cellNum > 1;\r\n            const cls = hasDeleteIcon ? \"cell border-box box-item item-delete-flag\" : \"cell border-box box-item\";\r\n            componentArr.push((\r\n               <div className={cls} key={`box-cell-${layoutIndex}`} style={{ width }}>\r\n                    <DropContainer\r\n                        layoutIndex={layoutIndex}\r\n                        apiData={apiData}\r\n                        execFetchApi={execFetchApi}\r\n                        layerConfig={layerConfig}\r\n                        {...restProps}\r\n                        configs={configs}\r\n                        preview={preview}\r\n                        onShowLoginModal={onShowLoginModal}\r\n                        context={context}\r\n                        onUpdateLayoutConfig={this.onReceiveConfigs}\r\n                    />\r\n                    {\r\n                        hasDeleteIcon ? (\r\n                            <Popconfirm\r\n                                title=\"确定删除?\"\r\n                                onConfirm={() => {\r\n                                    this.onDeleteBoxItemContainer(layoutIndex);\r\n                                }}\r\n                                okText=\"是\"\r\n                                cancelText=\"否\"\r\n                            >\r\n                                <Icon type=\"close\" className=\"box-item-delete\" />\r\n                            </Popconfirm>\r\n                        ) : null\r\n                    }\r\n               </div>\r\n            ));\r\n        }\r\n        return componentArr;\r\n    }\r\n    _render() {\r\n        const { visible } = this.state;\r\n        const { onUpdateLayoutConfig, configs = {}, preview } = this.props;\r\n        const { layoutColumn = 1, boxStyles } = configs;\r\n        return (\r\n            <div className={`box-container ${ preview ? 'preview-mode' : 'edit-mode'}`} style={boxStyles}>\r\n                <div className=\"clear-box\">\r\n                    {this.rendeCell(+layoutColumn)}\r\n                </div>\r\n                <BoxEdit\r\n                    visible={visible}\r\n                    configs={configs}\r\n                    onClose={(pConfigs) => {\r\n                        if (pConfigs) {\r\n                            const { layoutColumn } = pConfigs;\r\n                            const { cellsArr } = this.state.configs;\r\n                            const newConfigs = {\r\n                                cellsArr,\r\n                                layoutColumn: +layoutColumn,\r\n                                layoutIndex: configs.layoutIndex,\r\n                                type: BOX_CONTINAER,\r\n                                boxStyles: pConfigs.boxStyles,\r\n                            };\r\n                            this.setState({\r\n                                configs: newConfigs,\r\n                            });\r\n                            onUpdateLayoutConfig(newConfigs);\r\n                        }\r\n                        this.onToggleEditDrawer();\r\n                    }}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                />\r\n                {\r\n                    !preview ? (\r\n                        <>\r\n                        <Icon type=\"form\" className=\"edit-icon icon-form\" onClick={this.onToggleEditDrawer} />\r\n                        </>\r\n                    ) : null\r\n                }\r\n                {\r\n                    !preview ? (\r\n                        <div className=\"btn-add-box\">\r\n                            <Button\r\n                                ghost\r\n                                type=\"primary\"\r\n                                onClick={this.onAddRowCell}\r\n                            >\r\n                                + boxItem\r\n                            </Button>\r\n                        </div>\r\n                    ) : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BoxContainer;","import React, { Component } from 'react';\r\nimport { Icon } from 'antd';\r\nimport DropContainer from '../DropContainer';\r\nimport BoxEdit from '../../EditDrawer/BoxEdit';\r\nimport { TRUE, HEADER_CONTINAER } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nclass HeaderContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            configs: {\r\n                cellsArr: [{\r\n                    layoutIndex: 0,\r\n                }],\r\n                type: HEADER_CONTINAER,\r\n                layoutColumn: 1, // 默认有一列\r\n            },\r\n        };\r\n        this.onToggleEdit = this.onToggleEdit.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n    }\r\n    onToggleEdit() {\r\n        this.setState({\r\n            visible: !this.state.visible,\r\n        });\r\n    }\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n        this.onToggleEdit();\r\n    }\r\n    onUpdateConfigs({ deleteFlag = false, ...values }) {\r\n        const { onUpdateLayoutConfig, configs } = this.props;\r\n        const { layoutIndex } = configs;\r\n        const newConfigs = Object.assign({ layoutIndex }, this.state.configs);\r\n        const newCellsArr = newConfigs.cellsArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.layoutIndex !== item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        layoutIndex: values.layoutIndex,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.layoutIndex === item.layoutIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newConfigs.cellsArr = newCellsArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            onUpdateLayoutConfig(newConfigs);\r\n        });\r\n    }\r\n    rendeCell(layoutColumn) {\r\n        if (!layoutColumn) {\r\n            return null;\r\n        }\r\n        const componentArr = [];\r\n        const width = `${100 / layoutColumn}%`;\r\n        const { preview } = this.props;\r\n        const { cellsArr = [] } = preview ? this.props.configs : this.state.configs;\r\n        const cellNum = cellsArr.length;\r\n        for (let i = 0; i < cellNum; i++) {\r\n            componentArr.push((\r\n               <div className=\"cell border-box\" key={`cell-${layoutColumn}-${i}`} style={{ width }}>\r\n                    < DropContainer\r\n                        layoutIndex={i}\r\n                        notAllow={['FormContainer', 'TableContainer', 'Button']}\r\n                        preview={preview}\r\n                        configs={Object.assign({ layoutIndex: i }, cellsArr[i])}\r\n                        onUpdateLayoutConfig={this.onUpdateConfigs}\r\n                    />\r\n               </div>\r\n            ));\r\n        }\r\n        return componentArr;\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { onUpdateLayoutConfig, configs = {}, preview = false, type } = this.props;\r\n        const { layoutIndex, layoutColumn = 1, boxStyles, positionFixed } = configs;\r\n        const positionCls = positionFixed === TRUE ? 'position-fixed' : '';\r\n        const previewCls = preview ? 'preview-box' : '';\r\n        return (\r\n            <div className={`container header-box fulu-cell-box ${positionCls}  ${previewCls}`} style={boxStyles}>\r\n                {\r\n                    this.rendeCell(+layoutColumn)\r\n                }\r\n                <BoxEdit\r\n                    visible={visible}\r\n                    configs={configs}\r\n                    type={type}\r\n                    onClose={(configs) => {\r\n                        if (configs) {\r\n                            const { layoutColumn } = configs;\r\n                            const { cellsArr } = this.state.configs;\r\n                            const newCellsArr = cellsArr.slice(0, layoutColumn);\r\n                            for (let i = 0; i < layoutColumn; i++) {\r\n                                if (newCellsArr.length <= i) {\r\n                                    newCellsArr.push({\r\n                                        layoutIndex: i\r\n                                    });\r\n                                }\r\n                            }\r\n                            const newConfigs = {\r\n                                ...configs,\r\n                                layoutIndex,\r\n                                type: HEADER_CONTINAER,\r\n                                cellsArr: newCellsArr,\r\n                            };\r\n                            this.setState({\r\n                                configs: newConfigs,\r\n                            });\r\n                            onUpdateLayoutConfig(newConfigs);\r\n                        }\r\n                        this.onToggleEdit();\r\n                    }}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                />\r\n                {\r\n                    !preview ? \r\n                        <Icon type=\"form\" className=\"edit-icon icon-form\" onClick={this.onToggleEdit} /> : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HeaderContainer;","import React from 'react';\r\nimport { Button, Checkbox, Input, Icon, Tabs, Select, DatePicker, Breadcrumb, Radio, Form } from 'antd';\r\nimport FormContainer from '../component/Container/FormContainer';\r\nimport LineContainer from '../component/Container/LineContainer';\r\nimport TableContainer from '../component/Container/TableContainer';\r\nimport BoxContainer from '../component/Container/BoxContainer';\r\nimport HeaderContainer from '../component/Container/HeaderContainer';\r\nimport formItemLayout from '../configs/layout';\r\nimport { isIndex } from './common';\r\n\r\nconst CheckboxGroup = Checkbox.Group;\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nconst { TabPane } = Tabs;\r\nconst { TextArea } = Input;\r\n\r\nconst renderComponent = (renderConfig, props) => {\r\n    const { placeholder = '', type } = renderConfig;\r\n    let component = null;\r\n    switch(type) {\r\n        case 'Text':\r\n            component = renderText(renderConfig);\r\n            break;\r\n        case 'Breadcrumb':\r\n            component = renderBreadcrumb(renderConfig);\r\n            break;\r\n        case 'Select':\r\n            component = renderSelect(renderConfig);\r\n            break;\r\n        case 'RangePicker':\r\n            component = renderRangePicker(renderConfig);\r\n            break;\r\n        case 'DatePicker':\r\n            component = renderDatePicker(renderConfig);\r\n            break;\r\n        case 'Radio':\r\n            component = renderRadio(renderConfig);\r\n            break;\r\n        case 'Checkbox':\r\n            component = renderCheckbox(renderConfig);\r\n            break;\r\n        case 'Tabs':\r\n            component = renderTabs(renderConfig);\r\n            break;\r\n        case 'Button':\r\n            component = renderBtn(renderConfig, props);\r\n            break;\r\n        case 'FormContainer':\r\n            component = renderForm(renderConfig, props);\r\n            break;\r\n        case 'LineContainer':\r\n            component = renderLine(renderConfig, props);\r\n            break;\r\n        case 'TableContainer':\r\n            component = renderTable(renderConfig, props);\r\n            break;\r\n        case 'BoxContainer':\r\n            component = renderBox(renderConfig, props);\r\n            break;\r\n        case 'HeaderContainer':\r\n            component = renderHeader(renderConfig, props);\r\n            break;\r\n        case 'TextArea':\r\n            component = renderTextArea(renderConfig);\r\n            break;\r\n        case 'Input':\r\n            component = (<Input placeholder={placeholder} />);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    return component;\r\n};\r\n\r\nconst renderTextArea = (configs) => {\r\n    const { colIndex, dropIndex, originSpan, layoutIndex, cellStyles, hasLinkage,  ...rest } = configs;\r\n    return (<TextArea {...rest} />);\r\n};\r\n\r\nconst renderForm = (configs, props) => {\r\n    return (<FormContainer configs={configs} {...props} />);\r\n};\r\n\r\nconst renderHeader = (configs, props) => {\r\n    return (<HeaderContainer {...configs} {...props} />);\r\n};\r\n\r\nconst renderTable = (configs, props) => {\r\n    return (<TableContainer configs={configs} {...props} />);\r\n};\r\n\r\nconst renderLine = (configs, props) => {\r\n    return (<LineContainer configs={configs} {...props} />)\r\n};\r\n\r\nconst renderBox = (configs, props) => {\r\n    return (<BoxContainer configs={configs} {...props} />);\r\n};\r\n\r\nconst renderBreadcrumb = (configs) => {\r\n    const { breadcrumbArr = [], style } = configs;\r\n    return (\r\n        <Breadcrumb style={style}>\r\n            {\r\n                breadcrumbArr.map(({ label, value }, i) => {\r\n                    return (\r\n                        <Breadcrumb.Item key={`breadcrumb-${i}`}>\r\n                            { value ? \r\n                                <a href={value}>{label}</a> : <span>{label}</span>\r\n                            }\r\n                        </Breadcrumb.Item>\r\n                    );\r\n                })\r\n            }\r\n        </Breadcrumb>\r\n    )\r\n};\r\nconst renderText = (configs) => {\r\n    const { text, style } = configs;\r\n    return (\r\n        <span style={style}>{text}</span>\r\n    );\r\n};\r\nconst renderRadio = (configs) => {\r\n    const { style = {}, radioArr = [], radioType } = configs;\r\n    const RadioItem = radioType === 'tab' ? Radio.Button : Radio;\r\n    return (\r\n        <Radio.Group style={{ ...style }}>\r\n            {\r\n                Array.isArray(radioArr) ? radioArr.map(({ key, label, value }) => {\r\n                    return (\r\n                        <RadioItem\r\n                            key={key || value}\r\n                            value={value}\r\n                        >\r\n                            {label}\r\n                        </RadioItem>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Radio.Group>\r\n    );\r\n};\r\nconst renderTabs = (configs) => {\r\n    const { style = {}, tabsArr = [] } = configs;\r\n    return (\r\n        <Tabs style={style}>\r\n            {\r\n                Array.isArray(tabsArr) ? tabsArr.map(({ key, label, value }) => {\r\n                    return (\r\n                        <TabPane\r\n                            key={key || value}\r\n                            tab={label}\r\n                        >\r\n\r\n                        </TabPane>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Tabs>\r\n   );\r\n};\r\nconst renderCheckbox = (configs) => {\r\n    const { style = {}, checkboxArr = [] } = configs;\r\n    if (Array.isArray(checkboxArr)) {\r\n        return (\r\n            <CheckboxGroup options={checkboxArr} style={{ width: \"100%\", ...style }} />\r\n        );\r\n    }\r\n    return null;\r\n};\r\nconst renderSelect = (configs) => {\r\n    const { style = {}, options, selectArr, ...rest } = configs;\r\n    const finalOptions = Object.hasOwnProperty.call(configs, 'options') ? configs.options : configs.selectArr;\r\n    return (\r\n        <Select style={{ width: '100%', ...style }} {...rest}>\r\n            {\r\n                Array.isArray(finalOptions) ? finalOptions.map(({ key, label, value }) => {\r\n                    return (\r\n                        <Option\r\n                            key={key || value}\r\n                            value={value}\r\n                        >\r\n                            {label}\r\n                        </Option>\r\n                    );\r\n                }) : null\r\n            }\r\n        </Select>\r\n    );\r\n};\r\nconst renderDatePicker = (configs) => {\r\n    const { showTime, format } = configs;\r\n        return (\r\n            <DatePicker\r\n                style={{ width: '100%' }}\r\n                showTime={showTime}\r\n                format={format}\r\n            />\r\n        );\r\n};\r\nconst renderRangePicker = (configs) => {\r\n    const { showTime, format } = configs;\r\n        return (\r\n            <RangePicker\r\n                showTime={showTime}\r\n                format={format}\r\n                style={{ width: '100%' }}\r\n            />\r\n        );\r\n}\r\n/**\r\n * @desc 获取按钮disabled属性\r\n */\r\nconst getMultBtnDisabled = (logicType, selectedRowKeys) => {\r\n    if (logicType === 'mult') {\r\n        const isEnabled = Array.isArray(selectedRowKeys) && selectedRowKeys.length > 0;\r\n        return !isEnabled;\r\n    }\r\n    return false;\r\n};\r\n\r\nconst renderBtn = (configs, { context, onResetForm }) => {\r\n    const { buttonArr = [] } = configs;\r\n    const { state, onCollapse } = context || {};\r\n    const { expand = true } = state;\r\n    const { GuiContext } = context;\r\n    return (\r\n        <GuiContext.Consumer>\r\n            {\r\n                ({ selectedRowKeys }) =>\r\n                    <span className=\"btn-group\">\r\n                        {\r\n                            buttonArr.map((btnConfig) => {\r\n                                const { logicType, btnText, expandCount, api, modalName, antdType, skipUrl,\r\n                                    style = {}, textDisabled, btnIndex, ...btnProps } = btnConfig;\r\n                                if (logicType === 'expand') {\r\n                                    const collapseBtnText = expand ? '收起' : '展开';\r\n                                    return (\r\n                                        <span\r\n                                            className=\"fulu-btn-collapse\"\r\n                                            onClick={onCollapse}\r\n                                            style={style}\r\n                                            key={`btn-${btnIndex}`}\r\n                                        >\r\n                                            {collapseBtnText}\r\n                                            <Icon type={expand ? 'up' : 'down'} />\r\n                                        </span>\r\n                                        );\r\n                                }\r\n                                if (btnConfig.htmlType !== 'submit') {\r\n                                    btnProps.onClick = (e) => {\r\n                                        if (context) {\r\n                                            if (btnConfig.htmlType === 'reset') {\r\n                                                onResetForm();\r\n                                            } else if (modalName) {\r\n                                                context.onShowModal(e, modalName, api);\r\n                                            } else if (logicType === 'mult') {\r\n                                                context.execFetchApi(api, {}, logicType);\r\n                                            } else if (logicType === 'skip') {\r\n                                                window.location = skipUrl;\r\n                                            }\r\n                                        }\r\n                                    };\r\n                                }\r\n                                \r\n                                return (\r\n                                    <Button\r\n                                        key={`btn-${btnIndex}`}\r\n                                        style={style}\r\n                                        type={antdType}\r\n                                        {...btnProps}\r\n                                        disabled={getMultBtnDisabled(logicType, selectedRowKeys)}\r\n                                    >\r\n                                        {btnText}\r\n                                    </Button>\r\n                                );\r\n                            })\r\n                        }\r\n                    </span>\r\n            }\r\n        </GuiContext.Consumer>\r\n    );\r\n}\r\n\r\nconst renderConfigForm = (form, renderConfig, initData = {}) => {\r\n    const { getFieldDecorator } = form;\r\n    const hasIndex = isIndex(initData.index);\r\n    if (Array.isArray(renderConfig)) {\r\n        return renderConfig.map((cf) => {\r\n            const { label, key, rules = [], initialValue, required } = cf;\r\n            if (required) {\r\n                rules.push({\r\n                    required: true, message: `请输入${label}`,\r\n                });\r\n            }\r\n            return (\r\n                <Form.Item label={label} key={`${key}-item`} {...formItemLayout}>\r\n                    {getFieldDecorator(hasIndex ? `${key}-${initData.index}` : key, {\r\n                            rules,\r\n                            initialValue: initData[key] || initialValue,\r\n                        })(renderComponent(cf))}\r\n                </Form.Item>\r\n            );\r\n        });\r\n    }\r\n    return null;\r\n};\r\n\r\nconst renderModalSelect = (layerConfig = {}, form, initialValue, key = '') => {\r\n    const keyStr = `${key}`;\r\n    const { modalArr = [] } = layerConfig;\r\n    if (modalArr.length === 0) {\r\n        return null;\r\n    }\r\n    const formItemKey = keyStr ? `modal-item-${keyStr}` : 'modal-item';\r\n    const formNameKey = keyStr ? `modalName-${keyStr}` : 'modalName';\r\n    return (\r\n        <Form.Item\r\n            key={formItemKey}\r\n            label=\"打开modal\"\r\n            {...formItemLayout}\r\n        >\r\n            {form.getFieldDecorator(formNameKey, {\r\n                rules: [{ required: true, 'message': 'modal' }],\r\n                initialValue,\r\n            })(\r\n                <Select placeholder=\"modal\">\r\n                    {\r\n                        modalArr.map(({ index, name }) => {\r\n                            return (\r\n                                <Option key={`modalName-${index}`} value={name}>{name}</Option>\r\n                            )\r\n                        })\r\n                    }\r\n                </Select>\r\n            )}\r\n        </Form.Item>\r\n    );\r\n};\r\n\r\nconst renderApiSelect = (layerConfig = {}, form, compData) => {\r\n    const { initialValue, key = '', label = '调用api', apiName } = compData;\r\n    const keyStr = `${key}`;\r\n    const { apiArr = [] } = layerConfig;\r\n    if (apiArr.length === 0) {\r\n        return null;\r\n    }\r\n    const formItemKey = apiName ? `api-item-${apiName}` : keyStr ? `api-item-${keyStr}` : 'modal-item';\r\n    const formNameKey = apiName ? apiName : keyStr ? `api-${keyStr}` : 'api';\r\n    return (\r\n        <Form.Item\r\n            key={formItemKey}\r\n            label={label}\r\n            {...formItemLayout}\r\n        >\r\n            {form.getFieldDecorator(formNameKey, {\r\n                rules: [{ required: true, 'message': 'api' }],\r\n                initialValue,\r\n            })(\r\n                <Select placeholder=\"api\">\r\n                    {\r\n                        apiArr.map(({ index, requestApi }) => {\r\n                            return (\r\n                                <Option key={`api-${index}`} value={requestApi}>{requestApi}</Option>\r\n                            )\r\n                        })\r\n                    }\r\n                </Select>\r\n            )}\r\n        </Form.Item>\r\n    );\r\n};\r\n\r\nexport default renderComponent;\r\n\r\nexport {\r\n    renderModalSelect,\r\n    renderApiSelect,\r\n    renderConfigForm,\r\n};","import React, { Component, Fragment } from 'react';\r\nimport { Button, Divider, message, Form, Input, Select, Drawer } from 'antd';\r\nimport { renderApiSelect } from '../../../utils/RenderUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\n\r\nclass FormEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n    handleChange(value) {\r\n        const colSpanValues = {};\r\n        const val = 24 / value;\r\n        for(let i = 0; i < value; i++) {\r\n            colSpanValues[`colSpan-${i}`] = val;\r\n        }\r\n        setTimeout(() => {\r\n            this.props.form.setFieldsValue(colSpanValues);\r\n        }, 0);\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { form, onSave } = this.props;\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const lcNum = +values.layoutColumn;\r\n                let colSpanTotal = 0;\r\n                const configs = {\r\n                    colSpanArr: [],\r\n                };\r\n                for (let i = 0; i < lcNum; i++) {\r\n                    const colSpan = +values[`colSpan-${i}`];\r\n                    delete values[`colSpan-${i}`];\r\n                    colSpanTotal += colSpan;\r\n                    configs.colSpanArr.push(colSpan);\r\n                }\r\n                if (colSpanTotal > 24) {\r\n                    message.error('跨列总数不能超过24!');\r\n                    return;\r\n                }\r\n                onSave(Object.assign(configs, values));\r\n            }\r\n        });\r\n    }\r\n    renderColSpanInputs() {\r\n        const { form } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const layoutColumn = +form.getFieldValue('layoutColumn');\r\n        const componentArr = [];\r\n        for (let i = 0; i < layoutColumn; i++) {\r\n            componentArr.push(\r\n                <Form.Item\r\n                    key={`formitem-${i}`}\r\n                    label={`第${i+1}列`}\r\n                    {...formItemLayout}\r\n                >\r\n                    {getFieldDecorator(`colSpan-${i}`, {\r\n                        initialValue: 24 / layoutColumn,\r\n                        rules: [\r\n                            { required: true, message: '请输入列宽!' },\r\n                            { pattern: /^[1-9](\\d)?$/, message: '只能包含数字！' }\r\n                        ],\r\n                    })(\r\n                        <Input />\r\n                    )}\r\n                </Form.Item>\r\n            );\r\n        }\r\n        return componentArr;\r\n    }\r\n    renderApiFormItem() {\r\n        const { form, layerConfig } = this.props;\r\n        if (form.getFieldValue('formType') === 'query') {\r\n            return renderApiSelect(layerConfig, form, { label: '查询api', apiName: 'queryApi' });\r\n        }\r\n        return (\r\n            <Fragment>\r\n                {renderApiSelect(layerConfig, form, { label: '新增api', apiName: 'addApi' })}\r\n                {renderApiSelect(layerConfig, form, { label: '编辑api', apiName: 'editApi' })}\r\n            </Fragment>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, form, onClose, onDeleteContainer } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        return (\r\n            <Drawer\r\n                visible={visible}\r\n                maskClosable={false}\r\n                width={420}\r\n                title=\"编辑列\"\r\n                onClose={onClose}\r\n            >\r\n                <Form\r\n                    onSubmit={this.handleSubmit}\r\n                    style={{ padding: '0 20px' }}\r\n                >\r\n                    <Form.Item\r\n                        label=\"表单列\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('layoutColumn', {\r\n                            initialValue: 3,\r\n                            rules: [\r\n                                { required: true, message: '请选择列数!' },\r\n                            ],\r\n                        })(\r\n                            <Select onChange={this.handleChange}>\r\n                                <Option value=\"1\">1</Option>\r\n                                <Option value=\"2\">2</Option>\r\n                                <Option value=\"3\">3</Option>\r\n                                <Option value=\"4\">4</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    <Divider />\r\n                    {this.renderColSpanInputs()}\r\n                    <Divider />\r\n                    <Form.Item\r\n                        label=\"对齐方式\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('formItemAlign', {\r\n                            initialValue: 'lr',\r\n                        })(\r\n                            <Select>\r\n                                <Option value=\"lr\">左右对齐</Option>\r\n                                <Option value=\"r\">文字右对齐</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        label=\"表单类型\"\r\n                        {...formItemLayout}\r\n                    >\r\n                        {getFieldDecorator('formType', {\r\n                            initialValue: 'query',\r\n                            rules: [\r\n                                { required: true, message: '请选择表单类型!' },\r\n                            ],\r\n                        })(\r\n                            <Select>\r\n                                <Option value=\"query\">查询</Option>\r\n                                <Option value=\"save\">新增/编辑</Option>\r\n                            </Select>\r\n                        )}\r\n                    </Form.Item>\r\n                    {\r\n                        this.renderApiFormItem()\r\n                    }\r\n                    <div className=\"btn-box\">\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ marginRight: '10px' }}\r\n                        >\r\n                            确定\r\n                        </Button>\r\n                        <Button onClick={onDeleteContainer}>删除容器</Button>\r\n                    </div>\r\n                </Form>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(FormEdit);","import React, { Component, Fragment } from 'react';\r\nimport { Form, Col } from 'antd';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\nimport { getStyle, getInitialValue } from '../../../utils/common';\r\n\r\nclass FormItemRender extends Component {\r\n\trender() {\r\n        const { configs, form, context, preview = false,\r\n            colSpanArr = [], formItemAlign, onResetForm } =this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { type, colSpan, label, name, rules = [], required } = configs;\r\n        const md = colSpan || colSpanArr[0] || 8;\r\n        if (!name && type !== 'Button') {\r\n            return null;\r\n        }\r\n        if (required) {\r\n            rules.push({\r\n                required: true, message: `请输入${label}`,\r\n            });\r\n        }\r\n        const styleObj = getStyle(configs);\r\n        const formItemProps = {\r\n            label,\r\n            style: styleObj, \r\n        };\r\n        if (formItemAlign === 'r') {\r\n            formItemProps.labelCol = { span: 6 };\r\n            formItemProps.wrapperCol = { span: 14 };\r\n        }\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Col\r\n\t\t\t        span={md}\r\n                    md={md}\r\n                    sm={24}\r\n\t\t\t    >\r\n                    {\r\n                        type !== 'Button' ?\r\n                            (\r\n                                <Form.Item {...formItemProps}>\r\n                                    {getFieldDecorator(name, {\r\n                                        rules: rules || [],\r\n                                        initialValue: getInitialValue(configs),\r\n                                    })(\r\n                                        renderComponent(configs, { preview, context })\r\n                                    )}\r\n                                </Form.Item>\r\n                            ) : (\r\n                                <Form.Item style={styleObj}>\r\n                                    {\r\n                                        renderComponent(configs, { preview, context, onResetForm })\r\n                                    }\r\n                                </Form.Item>\r\n                            )\r\n                    }\r\n\t\t\t      \r\n\t\t\t    </Col>\r\n\t\t    </Fragment>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default FormItemRender;","import React, { Fragment } from 'react';\r\nimport { Button, Card, Drawer, Divider, Select, Input, Icon, Form } from 'antd';\r\nimport BaseEdit from '../../Core/BaseEdit';\r\nimport { objToStr } from '../../../utils/CellUtil';\r\nimport formItemLayout from '../../../configs/layout';\r\nimport { TRUE } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst Option = Select.Option;\r\nconst { TextArea } = Input;\r\n\r\nclass FormItemEdit extends BaseEdit {\r\n\tgetItemSetType() {\r\n\t\treturn ['Select', 'Button', 'Radio', 'Checkbox'];\r\n\t}\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tbuttonArr: [],\r\n\t\t\tselectArr: [],\r\n\t\t\tradioArr: [],\r\n\t\t\tcheckboxArr: [],\r\n\t\t};\r\n\t\tthis.onAddCellStyleItem = this.onAddCellStyleItem.bind(this);\r\n\t\tthis.onDeleteCellStyleItem = this.onDeleteCellStyleItem.bind(this);\r\n\t\tthis.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n\t}\r\n\tonAddCellStyleItem() {\r\n\t\tconst { cellStyles = [] } = this.state;\r\n\t\tconst newCellStyles = cellStyles.slice();\r\n\t\tnewCellStyles.push({\r\n\t\t\tvalue: '',\r\n\t\t\tname: '',\r\n\t\t\tindex: this.cellStyleIndex,\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tcellStyles: newCellStyles,\r\n\t\t});\r\n\t\tthis.cellStyleIndex += 1;\r\n\t}\r\n\tonDeleteCellStyleItem(index) {\r\n\t\tconst { cellStyles = [] } = this.state;\r\n\t\tconst newCellStyles = cellStyles.reduce((arr, item) => {\r\n\t\t\tif (item.index !== index) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tthis.setState({\r\n\t\t\tcellStyles: newCellStyles,\r\n\t\t});\r\n\t}\r\n\tonDeleteContainer() {\r\n\t\tthis.setState({\r\n\t\t\tdeleteFormItem: true,\r\n\t\t});\r\n\t}\r\n\trenderLinkage(configs, formItemArr) {\r\n\t\tconst { condition, linkName } = configs;\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"关联组件name\">\r\n\t\t\t\t\t{getFieldDecorator('linkName', {\r\n\t\t\t\t\t\tinitialValue: linkName,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tformItemArr.map(({ name, colIndex, label }) => {\r\n\t\t\t\t\t\t\t\t\tif (name && colIndex !== configs.colIndex) {\r\n\t\t\t\t\t\t\t\t\t\treturn (<Option value={`${name}`} key={`linkage-${name}`}>{`${name}/${label}`}</Option>);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"显示条件\">\r\n\t\t\t\t\t{getFieldDecorator('condition', {\r\n\t\t\t\t\t\tinitialValue: condition,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trenderDatePickerExtra(configs) {\r\n\t\tconst { type, showTime = false, format = 'YYYY-MM-DD', dateKeys } = configs;\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t\t<Form.Item {...formItemLayout} label=\"showTime\">\r\n\t\t\t\t\t\t{getFieldDecorator('showTime', {\r\n\t\t\t\t\t\t\tinitialValue: showTime === TRUE ? '1' : '0',\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item {...formItemLayout} label=\"format\">\r\n\t\t\t\t\t\t{getFieldDecorator('format', {\r\n\t\t\t\t\t\t\tinitialValue: format,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype === 'RangePicker' ? \r\n\t\t\t\t\t\t\t<Form.Item {...formItemLayout} label=\"接口对应字段\">\r\n\t\t\t\t\t\t\t\t{getFieldDecorator('dateKeys', {\r\n\t\t\t\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\t\t\trequired: true, message: '接口对应字段',\r\n\t\t\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\t\t\tinitialValue: dateKeys,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"两个字段，以逗号隔不开\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item> : null\r\n\t\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trenderComp() {\r\n\t\tconst { deleteComponent } = this.state;\r\n\t\tconst { form, dropComponent = false, configs = {}, formItemArr } = this.props;\r\n\t\tconst { type, label, name, placeholder, linkage, required } = configs;\r\n\t\tconst { getFieldDecorator } = form;\r\n\t\tif (dropComponent && !deleteComponent) {\r\n\t\t\tif (type === 'Button') {\r\n\t\t\t\treturn this.renderBtnCard();\r\n\t\t\t}\r\n\t\t\treturn (<Fragment>\r\n\t\t\t\t<Divider>组件</ Divider>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"label\">\r\n\t\t\t\t\t{getFieldDecorator('label', {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true, message: 'label',\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: label,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"name\">\r\n\t\t\t\t\t{getFieldDecorator('name', {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true, message: 'name',\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"required\">\r\n\t\t\t\t\t{getFieldDecorator('required', {\r\n\t\t\t\t\t\tinitialValue: required,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select allowClear>\r\n\t\t\t\t\t\t\t<Option value={1}>是</Option>\r\n\t\t\t\t\t\t\t<Option value={0}>否</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'DatePicker' || type === 'RangePicker' ? \r\n\t\t\t\t\t\tthis.renderDatePickerExtra(configs) : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Radio' ? this.renderRadio() : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Checkbox' ? this.renderCheckbox() : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttype === 'Select' ? this.renderSelect() : null\r\n\t\t\t\t}\r\n\t\t\t\t{this.renderDefaultValueItem()}\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"placeholder\">\r\n\t\t\t\t\t{getFieldDecorator('placeholder', {\r\n\t\t\t\t\t\tinitialValue: placeholder,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...formItemLayout} label=\"联动关联\">\r\n\t\t\t\t\t{getFieldDecorator('hasLinkage', {\r\n\t\t\t\t\t\tinitialValue: linkage,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t<Option value=\"0\">否</Option>\r\n\t\t\t\t\t\t\t<Option value=\"1\">是</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t{\r\n\t\t\t\t\tform.getFieldValue('hasLinkage') === TRUE ?\r\n\t\t\t\t\t\tthis.renderLinkage(configs, formItemArr) : null\r\n\t\t\t\t}\r\n\t\t\t\t<Form.Item style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t<Button onClick={this.onDeleteComponent}>\r\n\t\t\t\t\t\t删除组件\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Fragment>);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\trenderCellStylesSetting() {\r\n\t\tconst { form } = this.props;\r\n\t\tconst { cellStyles } = this.state;\r\n\t\treturn (\r\n\t\t\t<Card\r\n\t\t\t\ttitle=\"style设置\"\r\n\t\t\t\textra={<Icon type=\"plus-circle\" onClick={this.onAddCellStyleItem} />}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tcellStyles.map(({ name, value, index }) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Fragment key={`cell-styleitem-${index}`}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`cell-styleitem-name-${index}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`styleName-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"style name\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tclassName=\"half-item\"\r\n\t\t\t\t\t\t\t\t\tkey={`cell-styleitem-value-${index}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '10px' }} \r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{form.getFieldDecorator(`styleValue-${index}`, {\r\n\t\t\t\t\t\t\t\t\t\tinitialValue: value,\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"style value\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\ttype=\"close-circle\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '6px', lineHeight: '39px' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onDeleteCellStyleItem(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\trenderContent() {\r\n\t\tconst { deleteComponent, deleteFormItem } = this.state;\r\n\t\tconst { form, dropComponent, configs, colSpanArr } = this.props;\r\n\t\tconst { colSpan, type, textAlign = 'left', cellStyles } = configs;\r\n\t\tlet initialColSpan = 1;\r\n\t\tlet tempColSpan = colSpan;\r\n\t\tfor (let i = 0; i < colSpanArr.length; i++) {\r\n\t\t\ttempColSpan -= colSpanArr[i].colSpan;\r\n\t\t\tif (tempColSpan > 0) {\r\n\t\t\t\tinitialColSpan++;\r\n\t\t\t} else {\r\n\t\t\t\ti = colSpanArr.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (deleteFormItem) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Divider>FormItem</ Divider>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t\tlabel=\"style设置\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"cellStyles\", {\r\n\t\t\t\t\t\t\tinitialValue: objToStr(cellStyles),\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea placeholder=\"多个样式属性请用分号分隔\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tkey=\"cell-colSpan\"\r\n\t\t\t\t\t\tlabel=\"跨列设置\"\r\n\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{form.getFieldDecorator(\"originSpan\", {\r\n\t\t\t\t\t\t\tinitialValue: initialColSpan,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcolSpanArr.map((c, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={`${c}-${i}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={i+1}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{`${i+1}列`}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!deleteComponent && dropComponent && type === 'Button' ? (\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"对齐方式\"\r\n\t\t\t\t\t\t\t\tstyle={{ padding: '0 24px' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{form.getFieldDecorator(\"textAlign\", {\r\n\t\t\t\t\t\t\t\t\tinitialValue: textAlign,\r\n\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t<Select>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t左\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t中\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"right\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t右\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : null\r\n\t\t\t\t\t}\r\n\t\t\t\t<div className=\"btn-box\">\r\n\t\t\t\t\t<Button onClick={this.onDeleteContainer}>\r\n\t\t\t\t\t\t删除FormItem\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.renderComp()\r\n\t\t\t\t}\r\n\t\t\t</>\t\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { visible, onClose } = this.props;\r\n\t\treturn (\r\n\t\t\t<Drawer\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tmaskClosable={false}\r\n\t\t\t\ttitle=\"编辑表单项\"\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tthis.onCloseEdit();\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}}\r\n\t\t\t\twidth={420}\r\n\t\t\t>\r\n\t\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t{this.renderContent()}\r\n\t\t\t\t\t<div className=\"btn-bottom-box\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t    \t</Drawer>\r\n\t    );\r\n\t}\r\n}\r\n\r\nexport default Form.create()(FormItemEdit);","import React, { PureComponent } from 'react';\r\nimport { Icon, message } from 'antd';\r\nimport FormItemRender from './FormItemRender';\r\nimport FormItemEdit from '../../EditDrawer/FormItemEdit';\r\nimport { activeColor } from '../../../utils/Constants';\r\nimport initDropData from '../../../utils/DropUtil';\r\nimport './index.css';\r\n\r\nconst clsName = 'drop-container border-box';\r\nconst forbiddenDropType = ['Breadcrumb', 'Text', 'Tabs'];\r\n\r\nclass FormItemContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dropComponent: !!props.configs.type,\r\n        };\r\n        this.btnIndex = 1;\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onShowEditItem = this.onShowEditItem.bind(this);\r\n        this.onEditDropContainer = this.onEditDropContainer.bind(this);\r\n        this.onDrop = this.onDrop.bind(this);\r\n        this.onDeleteChildren = this.onDeleteChildren.bind(this);\r\n        this.onClose = this.onClose.bind(this);\r\n    }\r\n    onShowEditItem() {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    }\r\n    onDrop(event) {\r\n        event.preventDefault();\r\n        if (event.target.className === clsName) {\r\n            this.resetBg();\r\n            const data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n            const { type } = data;\r\n            if (~forbiddenDropType.indexOf(type)) {\r\n                message.warn('当前容器不支持拖拽的组件!');\r\n                return;\r\n            }\r\n            const { onUpdateFormItemConfigs, colIndex } = this.props;\r\n            const newConfigs = initDropData(data, this, true);\r\n            if (newConfigs) {\r\n                this.setState({\r\n                    dropComponent: true,\r\n                }, () => {\r\n                    onUpdateFormItemConfigs({ colIndex, ...newConfigs });\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @desc  删除单元格中的子组件\r\n     * @param {object} e \r\n     */\r\n    onDeleteChildren(e) {\r\n        e && e.stopPropagation();\r\n        const { onUpdateFormItemConfigs, colIndex } = this.props;\r\n        this.setState({\r\n            dropComponent: false,\r\n        });\r\n        onUpdateFormItemConfigs({ colIndex, deleteFlag: true });\r\n    }\r\n    resetBg() {\r\n        const dropDomArr = document.querySelectorAll('.form-container .drop-container');\r\n        if (dropDomArr) {\r\n            dropDomArr.forEach((item) => {\r\n                item.style.background = '';\r\n            });\r\n        }\r\n    }\r\n    onDragenter(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = activeColor;\r\n        }\r\n    }\r\n    onDragLeave(event) {\r\n        if (event.target.className === clsName) {\r\n            event.target.style.background = '';\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.targetDom) {\r\n            this.targetDom.removeEventListener('drop', this.onDrop);\r\n            this.targetDom.removeEventListener('dragleave', this.onDragLeave);\r\n            this.targetDom.removeEventListener(\"dragenter\", this.onDragenter);\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (!this.targetDom) {\r\n            return;\r\n        }\r\n        this.targetDom.addEventListener(\"drop\", this.onDrop, false);\r\n        this.targetDom.addEventListener(\"dragleave\", this.onDragLeave, false);\r\n        this.targetDom.addEventListener(\"dragenter\", this.onDragenter, false);\r\n    }\r\n    onUpdateConfigs(newConfigs) {\r\n        const { configs } = this.props;\r\n        const { colIndex } = configs;\r\n        this.setState({\r\n            dropComponent: !newConfigs.deleteFlag,\r\n        }, () => {\r\n            const { onUpdateFormItemConfigs } = this.props;\r\n            onUpdateFormItemConfigs(Object.assign(configs, newConfigs, { colIndex }));\r\n            this.onClose();\r\n        });\r\n    }\r\n    onEditDropContainer(e) {\r\n        if (e.target.className === clsName) {\r\n            e && e.stopPropagation();\r\n            this.setState({\r\n                visible: true,\r\n            });\r\n        }\r\n    }\r\n    onClose() {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    getContainerWidth(colSpan = 8) {\r\n        return `${100 * colSpan / 24 }%`;\r\n    }\r\n    render() {\r\n        const { layoutColumn, onDeleteFormItemContainer,  preview = false, colSpanArr = [], formItemArr = [], configs } = this.props;\r\n        const { dropComponent, visible } = this.state;\r\n        const { colIndex } = configs;\r\n        const colIndexNum = +colIndex;\r\n        const _colSpan = Object.hasOwnProperty.call(configs, 'colSpan') ? \r\n            configs.colSpan : (24 / layoutColumn);\r\n        return (\r\n            <div\r\n                className={preview ? `preview-box ${clsName}` : clsName}\r\n                style={{\r\n                    width: this.getContainerWidth(_colSpan),\r\n                }}\r\n                ref={(targetDom) => { this.targetDom = targetDom; }}\r\n            >\r\n                {\r\n                  dropComponent || preview ? (\r\n                        <FormItemRender\r\n                            {...this.props}\r\n                            configs={configs}\r\n                        />\r\n                    ) : <Icon type=\"drag\" />\r\n                }\r\n                {\r\n                    !preview ? \r\n                        <Icon\r\n                            type=\"bars\"\r\n                            className=\"edit-icon icon-bars\"\r\n                            onClick={this.onShowEditItem}\r\n                        /> : null\r\n                }\r\n                <FormItemEdit\r\n                    inForm\r\n                    visible={visible}\r\n                    onDelete={this.onDeleteChildren}\r\n                    onUpdateConfigs={this.onUpdateConfigs}\r\n                    colSpanArr={colSpanArr}\r\n                    formItemArr={formItemArr}\r\n                    configs={configs}\r\n                    dropComponent={dropComponent}\r\n                    layoutColumn={layoutColumn}\r\n                    onDeleteContainer={() => {\r\n                        this.setState({\r\n                            visible: false,\r\n                        }, () => {\r\n                            onDeleteFormItemContainer(colIndexNum);\r\n                        });\r\n                    }}\r\n                    onClose={this.onClose}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FormItemContainer;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Form, Row, Button, message, Icon } from 'antd';\r\nimport FormEdit from '../../EditDrawer/FormEdit';\r\nimport getCellColSpan from '../../../utils/CellUtil';\r\nimport FormItemContainer from '../FormItemContainer';\r\nimport { getFormApi, getSubmitData } from '../../../utils/FormUtil';\r\nimport { FORM_CONTAINER, TRUE } from '../../../utils/Constants';\r\nimport { isLogin } from '../../../utils/common';\r\nimport './index.css';\r\n\r\nclass FormContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visible: false,\r\n            fetchLoading: false,\r\n            expand: true, // 是否展开\r\n            configs: {\r\n                layoutColumn: 1, // 容器列数\r\n                colSpanArr: [],\r\n                formItemArr: [],\r\n            },\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAddRow = this.onAddRow.bind(this);\r\n        this.onCollapse = this.onCollapse.bind(this);\r\n        this.onDeleteRow = this.onDeleteRow.bind(this);\r\n        this.onResetForm = this.onResetForm.bind(this);\r\n        this.onAddRowCell = this.onAddRowCell.bind(this);\r\n        this.onShowEditForm = this.onShowEditForm.bind(this);\r\n        this.onCloseEditForm = this.onCloseEditForm.bind(this);\r\n        this.onUpdateConfigs = this.onUpdateConfigs.bind(this);\r\n        this.onDeleteContainer = this.onDeleteContainer.bind(this);\r\n        this.onUpdateFormLayout = this.onUpdateFormLayout.bind(this);\r\n        this.renderFormItemContainer = this.renderFormItemContainer.bind(this);\r\n        this.onUpdateFormItemConfigs = this.onUpdateFormItemConfigs.bind(this);\r\n        this.onDeleteFormItemContainer = this.onDeleteFormItemContainer.bind(this);\r\n        this.colIndexStart = 0;\r\n    }\r\n    componentDidMount() {\r\n        const { onFormRenderCallBack, form } = this.props;\r\n        if (typeof onFormRenderCallBack === 'function') {\r\n            onFormRenderCallBack(form);\r\n        }\r\n    }\r\n    onResetForm() {\r\n        this.props.form.resetFields();\r\n    }\r\n    onShowEditForm() {\r\n        this.setState({\r\n            visible: true,\r\n            expand: false,\r\n        });\r\n    }\r\n    onCollapse() {\r\n        const { expand } = this.state;\r\n        this.setState({ expand: !expand });\r\n    }\r\n    addNewFormItem(formItemArr, layoutColumnNum, colSpanArr) {\r\n        if (formItemArr.length < layoutColumnNum) {\r\n            for(let i = formItemArr.length; i < layoutColumnNum; i++) {\r\n                formItemArr.push({\r\n                    colIndex: this.colIndexStart + i,\r\n                    colSpan: colSpanArr[i],\r\n                    originSpan: 1,\r\n                });\r\n            }\r\n        }\r\n        return formItemArr;\r\n    }\r\n    onCloseEditForm() {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    }\r\n    onAddRowCell() {\r\n        const { configs } = this.state;\r\n        const { colSpanArr } = configs;\r\n        const formItemArr = configs.formItemArr.slice();\r\n        if (formItemArr.length === 0) {\r\n            message.warn('请设置容器列数');\r\n            return;\r\n        }\r\n        const rowSpanCount = formItemArr.reduce((total, item, i) => {\r\n            total += item.colSpan;\r\n            if (i === formItemArr.length -1) {\r\n                total %= 24;\r\n            }\r\n            return total;\r\n        }, 0);\r\n        let colSpanIndex = 0;\r\n        let total = 0;\r\n        for (let i = 0; i < colSpanArr.length; i++) {\r\n            total = total + (+colSpanArr[i]);\r\n            if (total > rowSpanCount) {\r\n                colSpanIndex = i;\r\n                i = colSpanArr.length;\r\n            }\r\n        }\r\n        formItemArr.push({ \r\n            colIndex: this.colIndexStart,\r\n            originSpan: 1,\r\n            colSpan: colSpanArr[colSpanIndex],\r\n        });\r\n        this.colIndexStart += 1;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.formItemArr = formItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    onUpdateConfigs(newConfigs) {\r\n        const { onUpdateLayoutConfig, configs } = this.props;\r\n        onUpdateLayoutConfig({\r\n            layoutIndex: configs.layoutIndex,\r\n            type: FORM_CONTAINER,\r\n            ...newConfigs,\r\n        });\r\n    }\r\n    onAddRow() {\r\n        const { configs } = this.state;\r\n        const formItemArr = configs.formItemArr.slice();\r\n        if (formItemArr.length === 0) {\r\n            message.warn('请设置容器列数');\r\n            return;\r\n        }\r\n        const { layoutColumn } = configs;\r\n        for(let i = 0; i < layoutColumn; i++) {\r\n            formItemArr.push({ colIndex: this.colIndexStart + i });\r\n        }\r\n        this.colIndexStart += layoutColumn;\r\n        const newConfigs = Object.assign({}, configs);\r\n        newConfigs.formItemArr = formItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    onDeleteRow() {\r\n        const { configs } = this.state;\r\n        const { layoutColumn, formItemArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.slice();\r\n        if (newFormItemArr.length <= layoutColumn) {\r\n            message.warn('不能再删除了');\r\n            return;\r\n        }\r\n        newFormItemArr.length = Math.max(0, newFormItemArr.length- layoutColumn);\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    /**\r\n     * @desc 删除表单容器\r\n     */\r\n    onDeleteContainer() {\r\n        const { onUpdateLayoutConfig, layoutIndex } = this.props;\r\n        onUpdateLayoutConfig({ layoutIndex, deleteFlag: true });\r\n    }\r\n    onDeleteFormItemContainer(colIndex) {\r\n        const { configs } = this.state;\r\n        const { formItemArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.filter((item) => {\r\n            return item.colIndex !== colIndex;\r\n        });\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    onUpdateFormItemConfigs({ deleteFlag = false, ...values }) {\r\n        const { configs } = this.state;\r\n        const { formItemArr, colSpanArr } = configs;\r\n        const newConfigs = Object.assign({}, configs);\r\n        const newFormItemArr = formItemArr.reduce((arr, item) => {\r\n            // 删除单元格内的组件\r\n            if (deleteFlag) {\r\n                if (values.colIndex !== item.colIndex) {\r\n                    arr.push(Object.assign({}, item));\r\n                } else {\r\n                    arr.push({\r\n                        colIndex: values.colIndex,\r\n                        colSpan: values.colSpan,\r\n                        originSpan: values.originSpan,\r\n                    });\r\n                }\r\n            } else {\r\n                if (values.colIndex === item.colIndex) {\r\n                    arr.push(Object.assign({}, item, values));\r\n                } else {\r\n                    arr.push(Object.assign({}, item));\r\n                }\r\n            }\r\n            return arr;\r\n        }, []);\r\n        newFormItemArr.forEach((item) => {\r\n            // 更新跨列\r\n            if (item.colIndex > values.colIndex) {\r\n                item.colSpan = getCellColSpan(item.colIndex, item.originSpan,\r\n                    newFormItemArr, colSpanArr);\r\n            }\r\n        });\r\n        newConfigs.formItemArr = newFormItemArr;\r\n        this.setState({\r\n            configs: newConfigs,\r\n        }, () => {\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    /**\r\n     * @desc 更新表单列数及表单类型\r\n     * @param {object} newConfigs \r\n     */\r\n    onUpdateFormLayout(newConfigs) {\r\n        const { configs } = this.state;\r\n        const { layoutColumn, colSpanArr } = newConfigs;\r\n        const newState = {};\r\n        const layoutColumnNum = +layoutColumn;\r\n        if (layoutColumnNum) {\r\n            const copyFormItemArr = configs.formItemArr.slice();\r\n            const formItemArr = this.addNewFormItem(copyFormItemArr, layoutColumnNum, colSpanArr);\r\n            formItemArr.forEach((item) => {\r\n                item.colSpan = getCellColSpan(item.colIndex, item.originSpan, formItemArr, colSpanArr);\r\n            });\r\n            this.colIndexStart += layoutColumnNum;\r\n            newConfigs.layoutColumn = layoutColumnNum;\r\n            newConfigs.formItemArr = formItemArr;\r\n            newState.configs = newConfigs;\r\n        }\r\n        this.setState({\r\n            ...newState\r\n        }, () => {\r\n            this.onCloseEditForm();\r\n            this.onUpdateConfigs(newConfigs);\r\n        });\r\n    }\r\n    /**\r\n     * @desc 表单提交事件\r\n     * @param {*} e \r\n     */\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const { onShowLoginModal, form, execFetchApi, mode, configs } = this.props;\r\n        if (!isLogin()) {\r\n            onShowLoginModal();\r\n            return;\r\n        }\r\n        form.validateFields((err, values) => {\r\n            if (!err) {\r\n                const api = getFormApi(mode, configs);\r\n                if (api) {\r\n                    execFetchApi(api, getSubmitData(configs, values));\r\n                } else {\r\n                    message.warn('请配置form的api属性');\r\n                }\r\n            }\r\n        });\r\n    }\r\n    getExpandCount() {\r\n        const { preview } = this.props;\r\n        const { formItemArr = [] } = preview ? this.props.configs || {} : this.state.configs;\r\n        let expandCount = 0;\r\n        for (let a of formItemArr) {\r\n            if (a.type === 'Button' && Array.isArray(a.buttonArr)) {\r\n                for (let b of a.buttonArr) {\r\n                    if (b.logicType === 'expand') {\r\n                        expandCount = +(b.expandCount || 0);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return expandCount;\r\n    }\r\n    renderFormItemContainer() {\r\n        const { form, preview, context } = this.props;\r\n        const { formItemArr = [], layoutColumn, colSpanArr, formItemAlign } = preview ? this.props.configs || {} : this.state.configs;\r\n        this.GuiContext = context.GuiContext;\r\n        const { expand } = this.state;\r\n        const expandCount = this.getExpandCount();\r\n        return formItemArr.map((itemConfigs, i) => {\r\n            const { colIndex, type, hasLinkage } = itemConfigs;\r\n            // 隐藏组件\r\n            if (expandCount > 0 && !expand && (i+1) > expandCount && type !== 'Button') {\r\n                return null;\r\n            }\r\n            // 联动显示控制\r\n            if (hasLinkage === TRUE) {\r\n                const { linkName, condition } = itemConfigs;\r\n                if (form.getFieldValue(linkName) !== condition) {\r\n                    return null;\r\n                }\r\n            }\r\n            return (\r\n                <FormItemContainer\r\n                    key={`ed-${colIndex}`}\r\n                    colIndex={colIndex}\r\n                    configs={itemConfigs}\r\n                    expand={expand}\r\n                    context={context}\r\n                    onResetForm={this.onResetForm}\r\n                    form={form}\r\n                    preview={preview}\r\n                    formItemAlign={formItemAlign}\r\n                    formItemArr={formItemArr}\r\n                    colSpanArr={colSpanArr}\r\n                    layoutColumn={layoutColumn}\r\n                    onCollapse={this.onCollapse}\r\n                    onDeleteFormItemContainer={this.onDeleteFormItemContainer}\r\n                    onUpdateFormItemConfigs={this.onUpdateFormItemConfigs}\r\n                />\r\n            );\r\n        });\r\n    }\r\n    render() {\r\n        const { visible } = this.state;\r\n        const { preview, layerConfig } = this.props;\r\n        const { configs = {} } = preview ? this.props : this.state;\r\n        const { layoutColumn = 1, formItemArr = [] } = configs || {};\r\n        return (\r\n            <Fragment>\r\n                <div className={`form-container container ${preview ? 'preview-box' : 'border-box'}`}>\r\n                    <div className=\"inner-box\">\r\n                        {\r\n                            <Form onSubmit={this.onSubmit}>\r\n                                <Row\r\n                                    gutter={{ md: 24 / layoutColumn, lg: 24, xl: 48 }}\r\n                                >\r\n                                    {this.renderFormItemContainer()}\r\n                                </Row>\r\n                            </Form>\r\n                        }\r\n                        {\r\n                            formItemArr.length > 0 && !preview ? (\r\n                                <div style={{\r\n                                    textAlign: 'center',\r\n                                    marginTop: '10px',\r\n                                    }}\r\n                                >\r\n                                    <Button\r\n                                        ghost\r\n                                        type=\"primary\"\r\n                                        onClick={this.onAddRowCell}\r\n                                    >\r\n                                        +FormItem\r\n                                    </Button>\r\n                                </div>\r\n                                ) : null\r\n                        }\r\n                    </div>\r\n                    {\r\n                        !preview ? <Icon type=\"form\" className=\"edit-icon icon-form\" onClick={this.onShowEditForm} /> : null\r\n                    }\r\n                </div>\r\n                <FormEdit\r\n                    visible={visible}\r\n                    layerConfig={layerConfig}\r\n                    onDeleteContainer={this.onDeleteContainer}\r\n                    onSave={this.onUpdateFormLayout}\r\n                    onClose={this.onCloseEditForm}\r\n                />\r\n            </Fragment>  \r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(FormContainer);","import React, { PureComponent, Fragment } from 'react';\r\nimport { FORM_CONTAINER, TABLE_CONTAINER, EMPTY_CONTAINER, BOX_CONTINAER, HEADER_CONTINAER, LINE_CONTINAER } from '../../../utils/Constants';\r\nimport FormContainer from '../FormContainer';\r\nimport TableContainer from '../TableContainer';\r\nimport BoxContainer from '../BoxContainer';\r\nimport EmptyContainer from '../EmptyContainer';\r\nimport HeaderContainer from '../HeaderContainer';\r\nimport LineContainer from '../LineContainer';\r\nimport './index.css';\r\n\r\nclass LayoutContainer extends PureComponent {\r\n    renderContainer() {\r\n        const { layoutConfig, ...restProps } = this.props;\r\n        if (Array.isArray(layoutConfig) && layoutConfig.length > 0) {\r\n            return layoutConfig.map((configs) => {\r\n                const { type, layoutIndex } = configs;\r\n                const itemKey = `layout-${layoutIndex}`;\r\n                if (type === FORM_CONTAINER) {\r\n                    return (<FormContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === TABLE_CONTAINER) {\r\n                    return (<TableContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === EMPTY_CONTAINER) {\r\n                    return (<EmptyContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === BOX_CONTINAER) {\r\n                    return (<BoxContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === HEADER_CONTINAER) {\r\n                    return (<HeaderContainer key={itemKey} {...restProps} configs={configs} />);\r\n                } else if (type === LINE_CONTINAER) {\r\n                    return (<LineContainer key={itemKey} {...restProps} configs={configs} />);\r\n                }\r\n                return null;\r\n            });\r\n        }\r\n        return (\r\n            <div className=\"empty-tips\">请添加容器组件</div>\r\n        );\r\n    }\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    this.renderContainer()\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LayoutContainer;","/**\r\n * @desc 可拖拽组件抽象类\r\n */\r\nimport React, { PureComponent } from 'react';\r\n\r\nclass Dragable extends PureComponent {\r\n\tonDragStart(e, data) {\r\n\t\te.dataTransfer.setData('text/plain',JSON.stringify(data));\r\n\t}\r\n\trender() {\r\n\t\tconst { ch, data } = this.props;\r\n\t\treturn (\r\n\t\t\t<span\r\n\t\t\t\tdraggable=\"true\"\r\n\t\t\t\tclassName=\"drag-item\"\r\n\t\t\t\tonDragStart={(e) => { this.onDragStart(e, data); }}\r\n\t\t\t>\r\n\t\t\t\t{ch}\r\n\t\t\t</span>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Dragable;","import defaultColumns from './defaultColumns';\r\nimport { FALSE } from '../utils/Constants';\r\n\r\nconst dargConfig = {\r\n\tcomponent: {\r\n\t\tform: [\r\n\t\t\t{ ch: 'Input', data: { type: 'Input', label: 'input', name: '' } },\r\n\t\t\t// { ch: 'Button', data: { type: 'Button', btnArr: [\r\n\t\t\t// \t\t{ btnText: 'button', type: 'primary', index: 0 },\r\n\t\t\t// \t],\r\n\t\t\t// }},\r\n\t\t\t{ ch: 'Select', data: { type: 'Select' } },\r\n\t\t\t{ ch: 'DatePicker', data: { type: 'DatePicker' } },\r\n\t\t\t{ ch: 'RangePicker', data: { type: 'RangePicker' } },\r\n\t\t\t{ ch: 'Radio', data: { type: 'Radio', radioArr: [\r\n\t\t\t\t\t{ index: 0, value: 'a1', label: 'a' },\r\n\t\t\t\t\t{ index: 1, value: 'b1', label: 'b' },\r\n\t\t\t\t],\r\n\t\t\t\tradioType: 'default',\r\n\t\t\t}},\r\n\t\t\t{ ch: 'TextArea', data: { type: 'TextArea', label: 'TextArea', name: '' } },\r\n\t\t\t{ ch: 'Checkbox', data: { type: 'Checkbox', checkboxArr: [\r\n\t\t\t\t\t{ index: 0, value: 'a1', label: 'a' },\r\n\t\t\t\t\t{ index: 1, value: 'b1', label: 'b' },\r\n\t\t\t\t],\r\n\t\t\t}},\r\n\t\t],\r\n\t\tbutton: [\r\n\t\t\t{ ch: '查询', data: { logicType: 'query', type: 'Button', antdType: 'primary', textDisabled: true, btnText: '查询', htmlType: 'submit' } },\r\n\t\t\t{ ch: '重置', data: { logicType: 'reset', type: 'Button', antdType: 'button', textDisabled: true, btnText: '重置', htmlType: 'reset' } },\r\n\t\t\t{ ch: '展开/收起', data: { logicType: 'expand', type: 'Button', textDisabled: true, btnText: '展开/收起', htmlType: 'button' } },\r\n\t\t\t{ ch: '导入', data: { logicType: 'import', type: 'Button', btnText: '导入', htmlType: 'button' } },\r\n\t\t\t{ ch: '导出', data: { logicType: 'export', type: 'Button', btnText: '导出', htmlType: 'button' } },\r\n\t\t\t{ ch: '新增', data: { logicType: 'add', type: 'Button', btnText: '新增', htmlType: 'button' } },\r\n\t\t\t{ ch: '编辑', data: { logicType: 'edit', type: 'Button', btnText: '编辑', htmlType: 'button' } },\r\n\t\t\t{ ch: '查看', data: { logicType: 'view', type: 'Button', btnText: '查看', htmlType: 'button' } },\r\n\t\t\t{ ch: '批量', data: { logicType: 'mult', type: 'Button', btnText: '批量', htmlType: 'button' } },\r\n\t\t\t{ ch: '跳转', data: { logicType: 'skip', type: 'Button', btnText: '跳转', htmlType: 'button' } },\r\n\t\t],\r\n\t\tothers: [\r\n\t\t\t{ ch: 'Breadcrumb', data: { type: 'Breadcrumb', breadcrumbArr: [\r\n\t\t\t\t\t{index: 0, label: 'menu1', value: '' },\r\n\t\t\t\t\t{index: 1, label: 'menu2', value: '' },\r\n\t\t\t\t],\r\n\t\t\t}},\r\n\t\t\t{ ch: 'Text', data: { type: 'Text', text: 'Text' } },\r\n\t\t\t{ ch: 'Tabs', data: { type: 'Tabs', tabsArr: [\r\n\t\t\t\t\t{ label: 'tab1', value: 'tab1', index: 0 },\r\n\t\t\t\t],\r\n\t\t\t}},\r\n\t\t]\r\n\t},\r\n\tlayout: [\r\n\t\t{ ch: 'Form', data: { type: 'FormContainer' } },\r\n\t\t{ ch: 'Table', data: { type: 'TableContainer', columns: defaultColumns } },\r\n\t\t{ ch: 'Box', data: { type: 'BoxContainer', layoutColumn: 1, cellsArr: [\r\n\t\t\t\t\t{ layoutIndex: 0 },\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{ ch: 'Header', data: { type: 'HeaderContainer', layoutColumn: 1, positionFixed: FALSE, cellsArr: [\r\n\t\t\t\t\t{ layoutIndex: 0 },\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t},\r\n\t\t{ ch: 'Line', data: { type: 'LineContainer' } },\r\n\t\t// { ch: 'Modal', data: { type: 'ModalContainer' } },\r\n\t],\r\n};\r\n\r\nexport default dargConfig;","const columns = [{\r\n    title: 'column0',\r\n    dataIndex: 'dataIndex0',\r\n    index: 0,\r\n}, {\r\n    title: 'column1',\r\n    dataIndex: 'dataIndex1',\r\n    index: 1,\r\n}, {\r\n    title: 'column2',\r\n    dataIndex: 'dataIndex2',\r\n    index: 2,\r\n}, {\r\n    title: 'column3',\r\n    dataIndex: 'dataIndex3',\r\n    index: 3,\r\n}, {\r\n    title: 'column4',\r\n    dataIndex: 'dataIndex4',\r\n    index: 4,\r\n}];\r\n\r\nexport default columns;","import React, { PureComponent, Fragment } from 'react';\r\nimport { Divider } from 'antd';\r\nimport Dragable from './Dragable';\r\nimport dargConfig from '../../configs/dragConfig';\r\n\r\nclass DragTabFactory extends PureComponent {\r\n\trenderContentByType(targetConfigs, type = '') {\r\n\t\treturn (\r\n\t\t\t<Fragment key={`${type}`}>\r\n\t\t\t\t{\r\n\t\t\t\t\ttype ? (<Divider key={`${type}`}>{type}</Divider>) : null\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\ttargetConfigs.map((config, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Dragable {...config} key={`drag-${config.ch}-${index}`} />\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { tabType = 'component' } = this.props;\r\n\t\tconst targetConfigs = dargConfig[tabType] || [];\r\n\t\tif (Array.isArray(targetConfigs)) {\r\n\t\t\treturn this.renderContentByType(targetConfigs);\r\n\t\t} else {\r\n\t\t\treturn Object.keys(targetConfigs).map((k) => {\r\n\t\t\t\tif(Array.isArray(targetConfigs[k])) {\r\n\t\t\t\t\treturn this.renderContentByType(targetConfigs[k], k);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default DragTabFactory;","import React, { Component } from 'react';\r\nimport { Tabs } from 'antd';\r\nimport DragTabFactory from '../Core/DragTabFactory';\r\nimport './index.css';\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass DragTabs extends Component {\r\n\tcomponentDidMount() {\r\n        /* 放置目标元素时触发事件 */\r\n         document.addEventListener(\"dragover\", function( event ) {\r\n             // 阻止默认动作以启用drop\r\n             event.preventDefault();\r\n         }, false);\r\n\r\n        /* 拖动目标元素时触发drag事件 */\r\n         document.addEventListener(\"drag\", function( event ) {\r\n\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragstart\", function( event ) {\r\n          // 使其半透明\r\n              event.target.style.opacity = .5;\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragend\", function( event ) {\r\n            // 重置透明度\r\n            event.target.style.opacity = \"\";\r\n            document.querySelectorAll('.drop-zone').forEach((t) => {\r\n              \tt.style.background = \"#fff\";\r\n            })\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragenter\", function( event ) {\r\n          // 当可拖动的元素进入可放置的目标时高亮目标节点\r\n          if ( event.target.className === \"drop-zone\" ) {\r\n              event.target.style.background = \"#96cdf9\";\r\n          }\r\n        }, false);\r\n\r\n        document.addEventListener(\"dragleave\", function( event ) {\r\n          // 当拖动元素离开可放置目标节点，重置其背景\r\n          if ( event.target.className === \"drop-zone\" ) {\r\n              event.target.style.background = \"\";\r\n          }\r\n        }, false);\r\n    }\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Tabs defaultActiveKey=\"1\" className=\"aside-tabs\">\r\n\t\t\t    <TabPane tab=\"容器\" key=\"layout\">\r\n                    <DragTabFactory tabType=\"layout\" />\r\n\t\t\t    </TabPane>\r\n\t\t\t    <TabPane tab=\"组件\" key=\"component\">\r\n                    <DragTabFactory />\r\n\t\t\t    </TabPane>\r\n                <TabPane tab=\"模板\" key=\"template\">\r\n                    <DragTabFactory tabType=\"template\" />\r\n\t\t\t    </TabPane>\r\n\t\t  \t</Tabs>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DragTabs;\r\n","import React, { PureComponent } from 'react';\r\nimport { Modal, Layout } from 'antd';\r\nimport DragTabs from '../../DragTabs';\r\nimport MainContainer from '../MainContainer';\r\n\r\nimport './index.css';\r\n\r\nconst { Sider, Content } = Layout;\r\n\r\nclass ModalContainer extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            layoutConfig: [],\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onUpdateLayoutConfig = this.onUpdateLayoutConfig.bind(this);\r\n    }\r\n    onSubmit() {\r\n        const { onOk, editModal } = this.props;\r\n        const { layoutConfig } = this.state;\r\n        onOk({\r\n            ...editModal,\r\n            layoutConfig,\r\n        });\r\n    }\r\n    onUpdateLayoutConfig(layoutConfig) {\r\n        this.setState({\r\n            layoutConfig,\r\n        })\r\n    }\r\n    render() {\r\n        const { visible, onCancel, layerConfig } = this.props;\r\n        return (\r\n            <Modal\r\n                title=\"弹框编辑\"\r\n                width={1024}\r\n                visible={visible}\r\n                maskClosable={false}\r\n                onOk={this.onSubmit}\r\n                onCancel={onCancel}\r\n            >\r\n                <Layout>\r\n                        <Sider width=\"300\">\r\n                            <DragTabs />\r\n                        </Sider>\r\n                        <Layout>\r\n                            <Content>\r\n                                <MainContainer\r\n                                    onUpdateLayoutConfig={this.onUpdateLayoutConfig}\r\n                                    layerConfig={layerConfig}\r\n                                    noLayer\r\n                                />\r\n                            </Content>\r\n                        </Layout>\r\n                </Layout>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ModalContainer;","const common = localStorage.getItem('common');\r\nconst main = localStorage.getItem('main');\r\nconst webapi = localStorage.getItem('webapi');\r\n\r\nconst apiRenderConfig = [\r\n    {  \r\n        label: '接口地址前缀',\r\n        key: 'requestHost',\r\n        type: 'Select',\r\n        initialValue: '',\r\n        placeholder: '接口地址前缀',\r\n        options: [{\r\n            value: common,\r\n            label: 'common',\r\n        }, {\r\n            value: main,\r\n            label: 'main',\r\n        }, {\r\n            value: webapi,\r\n            label: 'webapi',\r\n        }],\r\n        rules: [{ required: true, message: 'host!' }],\r\n    }, {\r\n        label: '请求方法',\r\n        key: 'requestMethod',\r\n        type: 'Select',\r\n        initialValue: 'GET',\r\n        placeholder: '请求方法',\r\n        options: [{\r\n            value: 'GET',\r\n            label: 'GET',\r\n        }, {\r\n            value: 'POST',\r\n            label: 'POST',\r\n        }, {\r\n            value: 'PUT',\r\n            label: 'PUT',\r\n        }, {\r\n            value: 'DELETE',\r\n            label: 'DELETE',\r\n        }],\r\n        rules: [{ required: true, message: 'method!' }],\r\n    }, {\r\n        label: '接口地址',\r\n        key: 'requestApi',\r\n        type: 'Input',\r\n        placeholder: '接口地址',\r\n        rules: [{ required: true, message: '接口地址!' }],\r\n    }, {\r\n        label: '接口参数',\r\n        key: 'requestParams',\r\n        type: 'TextArea',\r\n        placeholder: '接口入参，多个参数以逗号分隔',\r\n    }, {\r\n        label: 'modelKey',\r\n        key: 'modelKey',\r\n        type: 'Input',\r\n        placeholder: '存放在model中的字段名称',\r\n        rules: [{ required: true, message: 'model key!' }],\r\n    }, {\r\n        label: 'API是否分页',\r\n        key: 'requestPagination',\r\n        type: 'Select',\r\n        placeholder: 'API是否分页',\r\n        rules: [{ required: true, message: 'requestPagination!' }],\r\n        initialValue: '0',\r\n        options: [{\r\n            value: '1',\r\n            label: '是',\r\n        }, {\r\n            value: '0',\r\n            label: '否',\r\n        }],\r\n    }\r\n];\r\n\r\nconst modalRenderConfig = [{\r\n    label: '名称',\r\n    key: 'name',\r\n    type: 'Input',\r\n    placeholder: '英文名称',\r\n    rules: [{ required: true, message: '名称!' }],\r\n}, {\r\n    label: 'width',\r\n    key: 'width',\r\n    type: 'Input',\r\n}, {\r\n    label: 'title',\r\n    key: 'title',\r\n    type: 'Input',\r\n    placeholder: 'title',\r\n    rules: [{ required: true, message: 'title!' }],\r\n}];\r\n\r\nconst btnRenderConfig = [{\r\n    label: '按钮文字',\r\n    key: 'btnText',\r\n    type: 'Input',\r\n    initialValue: 'button',\r\n    placeholder: 'button',\r\n    rules: [{ required: true, message: '按钮文字!' }],\r\n}, {\r\n    label: 'type',\r\n    key: 'type',\r\n    type: 'Select',\r\n    initialValue: 'primary',\r\n    placeholder: 'type',\r\n    rules: [{ required: true, message: 'type!' }],\r\n    options: [{\r\n        value: 'primary',\r\n        label: 'primary',\r\n    }, {\r\n        value: 'dashed',\r\n        label: 'dashed',\r\n    }, {\r\n        value: 'danger',\r\n        label: 'danger'\r\n    }, {\r\n        value: '',\r\n        label: 'none'\r\n    }],\r\n}, {\r\n    label: 'htmlType',\r\n    key: 'htmlType',\r\n    type: 'Select',\r\n    initialValue: 'button',\r\n    placeholder: 'htmlType',\r\n    rules: [{ required: true, message: 'htmlType!' }],\r\n    options: [{\r\n        value: 'submit',\r\n        label: 'submit',\r\n    }, {\r\n        value: 'reset',\r\n        label: 'reset',\r\n    }, {\r\n        value: 'button',\r\n        label: 'button'\r\n    }],\r\n}, {\r\n    label: 'onClick',\r\n    key: 'triggerFn',\r\n    type: 'Select',\r\n    placeholder: '点击事件',\r\n    options: 'clickEvents',\r\n}, {\r\n    label: '按钮样式',\r\n    key: 'btnStyle',\r\n    type: 'TextArea',\r\n    placeholder: '多个样式属性请用分号分隔',\r\n}];\r\n\r\nexport {\r\n    apiRenderConfig,\r\n    btnRenderConfig,\r\n    modalRenderConfig,\r\n}\r\n\r\nexport default apiRenderConfig;","import React, { Component, Fragment } from 'react';\r\nimport { Button, Drawer, Divider, Collapse, Form, Icon } from 'antd';\r\nimport { renderConfigForm } from '../../../utils/RenderUtil';\r\nimport { getFormData } from '../../../utils/FormUtil';\r\nimport { LAYER_MODAL, LAYER_API } from '../../../utils/Constants';\r\nimport ModalContainer from '../../Container/ModalContainer';\r\nimport { apiRenderConfig, modalRenderConfig } from '../../../configs/renderConfig';\r\nimport './index.css';\r\n\r\nconst Panel = Collapse.Panel;\r\n\r\nclass LayerEdit extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            layerConfig: {\r\n\t\t\t\tmodalArr: [],\r\n\t\t\t\tapiArr: [],\r\n\t\t\t\tdrawerArr: [],\r\n            },\r\n            editModal: null,\r\n            showEditModal: false,\r\n        };\r\n        this.modalAddIndex = 0;\r\n\t\tthis.apiAddIndex = 0;\r\n        this.onClose = this.onClose.bind(this);\r\n        this.onAddApi = this.onAddApi.bind(this);\r\n\t\tthis.onAddModal = this.onAddModal.bind(this);\r\n\t\tthis.onDeleteApi = this.onDeleteApi.bind(this);\r\n\t\tthis.onDeleteModal = this.onDeleteModal.bind(this);\r\n        this.onSubmitLayer = this.onSubmitLayer.bind(this);\r\n        this.onShowEditModal = this.onShowEditModal.bind(this);\r\n        this.onCloseEditModal = this.onCloseEditModal.bind(this);\r\n        this.onSaveEditModal = this.onSaveEditModal.bind(this);\r\n        this.renderModalPanelHeader = this.renderModalPanelHeader.bind(this);\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.props.visible && !this.initState) {\r\n            this.initState = true;\r\n            this.setState({\r\n                layerConfig: this.props.layerConfig,\r\n            });\r\n        }\r\n    }\r\n    onShowEditModal(item) {\r\n\t\tthis.setState({\r\n\t\t\tshowEditModal: true,\r\n\t\t\teditModal: item,\r\n\t\t});\r\n    }\r\n    onCloseEditModal() {\r\n\t\tthis.setState({\r\n\t\t\tshowEditModal: false,\r\n\t\t\teditModal: null,\r\n\t\t});\r\n    }\r\n    onSaveEditModal(layerItem) {\r\n\t\tconst { layerType } = layerItem;\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tconst { modalArr = [] } = newLayerConfig;\r\n\t\tif (layerType === LAYER_MODAL) {\r\n\t\t\tconst newModalArr = modalArr.reduce((arr, item) => {\r\n\t\t\t\tif (item.index === layerItem.index) {\r\n\t\t\t\t\titem = Object.assign({}, item, layerItem);\r\n\t\t\t\t}\r\n\t\t\t\tarr.push(item);\r\n\t\t\t\treturn arr;\r\n\t\t\t}, []);\r\n\t\t\tnewLayerConfig.modalArr = newModalArr;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n\t\tthis.onCloseEditModal();\r\n\t}\r\n    onClose() {\r\n        const { onCloseLayer, form } = this.props;\r\n        form.resetFields();\r\n        this.initState = false;\r\n        onCloseLayer();\r\n    }\r\n    onSubmitLayer(e) {\r\n        e.preventDefault();\r\n        const { form, onUpdateLayerConfig } = this.props;\r\n        form.validateFields((err, values) => {\r\n\t\t\tif (!err) {\r\n                const { layerConfig } = this.state;\r\n\t\t\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\t\t\t[LAYER_MODAL, LAYER_API].forEach((itemKey) => {\r\n\t\t\t\t\tconst renderConfig = itemKey === LAYER_MODAL ? modalRenderConfig : apiRenderConfig;\r\n\t\t\t\t\tconst newItemArr = getFormData(values, renderConfig, true);\r\n\t\t\t\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr;\r\n                });\r\n                newLayerConfig.modalArr.forEach((newItem) => {\r\n                    layerConfig.modalArr.forEach((item) => {\r\n                        if (item.index == newItem.index) {\r\n                            newItem.layoutConfig = item.layoutConfig;\r\n                            newItem.layerType = item.layerType;\r\n                        }\r\n                    });\r\n                });\r\n                onUpdateLayerConfig(newLayerConfig);\r\n                this.onClose();\r\n\t\t\t}\r\n\t\t});\r\n    }\r\n    onAddModal() {\r\n\t\tthis.onAddItem(LAYER_MODAL);\r\n\t}\r\n\tonAddApi() {\r\n\t\tthis.onAddItem(LAYER_API);\r\n\t}\r\n\t/**\r\n\t * @desc  新增弹框/抽屉/api\r\n\t * @param itemKey modal/drawer/api\r\n\t */\r\n\tonAddItem(itemKey) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst itemArr = layerConfig[`${itemKey}Arr`];\r\n\t\tconst newItemArr = itemArr.concat([{\r\n\t\t\tindex: this[`${itemKey}AddIndex`],\r\n\t\t\tlayerType: itemKey,\r\n\t\t}]);\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr;\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n        this[`${itemKey}AddIndex`] += 1;\r\n\t}\r\n\t/**\r\n\t * @desc 删除弹框/抽屉/api\r\n\t */\r\n\tonDeleteItem(itemKey, deleteIndex) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst itemArr = layerConfig[`${itemKey}Arr`];\r\n\t\tconst newItemArr = itemArr.reduce((arr, item) => {\r\n\t\t\tif (item.index != deleteIndex) {\r\n\t\t\t\tarr.push(item);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}, []);\r\n\t\tconst newLayerConfig = Object.assign({}, layerConfig);\r\n\t\tnewLayerConfig[`${itemKey}Arr`] = newItemArr || [];\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig: newLayerConfig,\r\n\t\t});\r\n\t}\r\n\tonDeleteModal(deleteIndex) {\r\n\t\tthis.onDeleteItem(LAYER_MODAL, deleteIndex);\r\n\t}\r\n\tonDeleteApi(deleteIndex) {\r\n\t\tthis.onDeleteItem(LAYER_API, deleteIndex);\r\n\t}\r\n    renderModalPanelHeader(item) {\r\n\t\tconst { name, index } = item;\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{name || `modal-${index}`}</span>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName=\"edit-modal\"\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tthis.onShowEditModal(item);;\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t编辑\r\n\t\t\t\t</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteModal(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n\t}\r\n\trenderApiPanelHeader(item) {\r\n\t\tconst { requestApi, index } = item;\r\n        return (\r\n            <div className=\"panel-header\">\r\n                <span className=\"title\">{requestApi || `api-${index}`}</span>\r\n                <Icon\r\n                    type=\"close\"\r\n                    className=\"btn-delete\"\r\n                    onClick={() => {\r\n                        this.onDeleteApi(index);\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n    render() {\r\n        const { visible, form } = this.props;\r\n        const { layerConfig, showEditModal, editModal } = this.state;\r\n        const { modalArr = [], apiArr = [] } = layerConfig;\r\n        // 实时同步接口地址\r\n        if (!apiRenderConfig[0].initialValue) {\r\n            // apiRenderConfig[0].initialValue = localStorage.getItem('webapi');\r\n            apiRenderConfig[0].initialValue = 'webapi';\r\n            apiRenderConfig[0].options = [{\r\n                // value: localStorage.getItem('common'),\r\n                value: 'common',\r\n                label: 'common',\r\n            }, {\r\n                // value: localStorage.getItem('main'),\r\n                value: 'main',\r\n                label: 'main',\r\n            }, {\r\n                // value: localStorage.getItem('webapi'),\r\n                value: 'webapi',\r\n                label: 'webapi',\r\n            }];\r\n        }\r\n        const modalActiveKey = modalArr.reduce((arr, { index }) => {\r\n            arr.push(`modal-${index}`);\r\n            return arr;\r\n        }, []);\r\n        const apiActiveKey = apiArr.reduce((arr, { index }) => {\r\n            arr.push(`api-${index}`);\r\n            return arr;\r\n        }, []);\r\n        return (\r\n            <Fragment>\r\n                <Drawer\r\n                    title=\"弹出层&接口\"\r\n                    placement=\"right\"\r\n                    closable\r\n                    maskClosable={false}\r\n                    onClose={this.onClose}\r\n                    visible={visible}\r\n                    width=\"400\"\r\n                >\r\n                    <Form onSubmit={this.onSubmitLayer}>\r\n                        <Divider>弹窗</Divider>\r\n                        <Collapse defaultActiveKey={modalActiveKey}>\r\n                            {\r\n                                modalArr.map((item) => {\r\n                                    const { index } = item;\r\n                                    return (\r\n                                        <Panel\r\n                                            header={this.renderModalPanelHeader(item)}\r\n                                            key={`modal-${index}`}\r\n                                        >\r\n                                            {\r\n                                                renderConfigForm(form, modalRenderConfig, item)\r\n                                            }\r\n                                        </Panel>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </Collapse>\r\n                        <div className=\"btn-add-box\">\r\n                            <Button\r\n                                type=\"dashed\"\r\n                                size=\"large\"\r\n                                onClick={this.onAddModal}\r\n                            >\r\n                                添加弹窗\r\n                            </Button>\r\n                        </div>\r\n                        {/* <Divider>抽屉</Divider> */}\r\n\r\n                        <Divider>接口</Divider>\r\n                        <Collapse defaultActiveKey={apiActiveKey}>\r\n                            {\r\n                                apiArr.map((item) => {\r\n                                    const { index } = item;\r\n                                    return (\r\n                                        <Panel\r\n                                            header={this.renderApiPanelHeader(item)}\r\n                                            key={`api-${index}`}\r\n                                        >\r\n                                            {\r\n                                                renderConfigForm(form, apiRenderConfig, item)\r\n                                            }\r\n                                        </Panel>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </Collapse>\r\n                        <div className=\"btn-add-box\">\r\n                            <Button\r\n                                type=\"dashed\"\r\n                                size=\"large\"\r\n                                onClick={this.onAddApi}\r\n                            >\r\n                                添加接口\r\n                            </Button>\r\n                        </div>\r\n                        <Form.Item style={{ marginTop: '20px', textAlign: 'center' }}>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                            >\r\n                                确定\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Drawer>\r\n                <ModalContainer\r\n                    layerConfig={this.props.layerConfig}\r\n                    visible={showEditModal}\r\n                    editModal={editModal}\r\n                    onOk={this.onSaveEditModal}\r\n                    onCancel={this.onCloseEditModal}\r\n                />\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Form.create()(LayerEdit);","/**\r\n * @desc 点击事件弹窗视图\r\n */\r\nimport React, { PureComponent, Fragment } from 'react';\r\nimport { Modal, message, Spin } from 'antd';\r\nimport moment from 'moment';\r\nimport renderComponent from '../../../utils/RenderUtil';\r\nimport { getFormApi, getFormByType, getSubmitData } from '../../../utils/FormUtil';\r\nimport { MODE_EDIT, FORM_SAVE, CODE_SUCCESS } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nclass PreviewModal extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n        };\r\n        this.onCancel = this.onCancel.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onAfterClose = this.onAfterClose.bind(this);\r\n        this.onFormRenderCallBack = this.onFormRenderCallBack.bind(this);\r\n        this.initEdit = false;\r\n    }\r\n    componentDidUpdate() {\r\n        const { mode, visible, recordData, api, execFetchApi, modalLayoutConfig } = this.props;\r\n        // 编辑模式\r\n        if (visible && mode === MODE_EDIT && !this.initEdit) {\r\n            if (api) { // 需要调用接口查询数据\r\n                this.setState({\r\n                    loading: true,\r\n                });\r\n                execFetchApi(api, recordData).then((res) => {\r\n                    const { code, data } = res;\r\n                    if (code === '0') {\r\n                        this.onInitForm(data);\r\n                    }\r\n                    this.setState({\r\n                        loading: false,\r\n                    });\r\n                }).catch(() => {\r\n                    this.setState({\r\n                        loading: false,\r\n                    });\r\n                });\r\n            } else if (recordData) { // 传递的编辑数据\r\n                this.onInitForm(modalLayoutConfig, recordData);\r\n            }\r\n            this.initEdit = true;\r\n        }\r\n    }\r\n    onInitForm(layoutConfig, editData) {\r\n        const formObj = getFormByType(layoutConfig, FORM_SAVE);\r\n        if (formObj && Array.isArray(formObj.formItemArr)) {\r\n            const formData = formObj.formItemArr.reduce((obj, item) => {\r\n                const { type, name, format = 'YYYY-MM-DD', dateKeys } = item;\r\n                if (type === 'DatePicker') {\r\n                    obj[name] = moment(editData[name], format);\r\n                } else if (type === 'RangePicker' && dateKeys) {\r\n                    const [ startTime, endTime ] = dateKeys;\r\n                    if (editData[startTime] && editData[endTime]) {\r\n                        obj[name] = [moment(editData[startTime], format), moment(editData[endTime], format)];\r\n                    }\r\n                } else {\r\n                    obj[name] = editData[name];\r\n                }\r\n                return obj;\r\n            }, {});\r\n            if (this.form) {\r\n                this.form.setFieldsValue(formData);\r\n            }\r\n            this.formData = formData;\r\n        } else {\r\n            message.warn('请配置编辑弹窗');\r\n        }\r\n    }\r\n    onCancel() {\r\n        const { loading } = this.state;\r\n        if (loading) {\r\n            return;\r\n        }\r\n        const { modalName, onCancelModal } = this.props;\r\n        onCancelModal(modalName);\r\n    }\r\n    renderContent(layoutConfig = []) {\r\n        const { mode } = this.props;\r\n        return layoutConfig.map((item, i) => {\r\n            return (\r\n                <Fragment key={`preview-${i}`}>\r\n                    {renderComponent(item, {\r\n                        preview: true,\r\n                        context: this,\r\n                        mode,\r\n                        onFormRenderCallBack: this.onFormRenderCallBack })}\r\n                </Fragment>\r\n            );\r\n        });\r\n    }\r\n    onSubmit() {\r\n        const { loading } = this.state;\r\n        if (loading) {\r\n            return;\r\n        }\r\n        const { onOkModal, modalName, mode, modalLayoutConfig, layerConfig, recordData } = this.props;\r\n        if(this.form) {\r\n            this.form.validateFields((err, values) => {\r\n                if (!err) {\r\n                    if (Array.isArray(modalLayoutConfig)) {\r\n                        const formObj = getFormByType(modalLayoutConfig, FORM_SAVE);\r\n                        if (formObj) {\r\n                            const api = getFormApi(mode, formObj); // 根据模式获取对应接口地址\r\n                            const { apiArr } = layerConfig;\r\n                            const apiObj = apiArr.find(({ requestApi }) => {\r\n                                return requestApi === api;\r\n                            });\r\n                            if (apiObj && apiObj.requestParams) { // 接口入参\r\n                                const paramsArr = apiObj.requestParams.split(',');\r\n                                paramsArr.forEach((paramKey) => {\r\n                                    if (Object.hasOwnProperty.call(recordData, paramKey) && !Object.hasOwnProperty.call(values, paramKey)) {\r\n                                        values[paramKey] = recordData[paramKey];\r\n                                    }\r\n                                });\r\n                            }\r\n                            if (api) {\r\n                                this.setState({\r\n                                    loading: true,\r\n                                });\r\n                                onOkModal(modalName, api, getSubmitData(formObj, values)).then((res) => {\r\n                                    const { data } = res;\r\n                                    const { code } = data || {};\r\n                                    this.setState({\r\n                                        loading: false,\r\n                                    });\r\n                                    if (code === CODE_SUCCESS) {\r\n                                        message.success('保存成功');\r\n                                        this.onCancel();\r\n                                    }\r\n                                }).catch(() => {\r\n                                    this.setState({\r\n                                        loading: false,\r\n                                    });\r\n                                });\r\n                            } else {\r\n                                message.warn('请配置form的api属性');\r\n                            }\r\n                        } else {\r\n                            message.warn('请配置form组件');\r\n                        }\r\n                    } else {\r\n                        message.warn('请配置form组件');\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            message.warn('请配置form组件');\r\n        }\r\n    }\r\n    onFormRenderCallBack(form) {\r\n        this.form = form;\r\n        if (this.formData) {\r\n            this.form.setFieldsValue(this.formData);\r\n        }\r\n    }\r\n    onAfterClose() {\r\n        this.initEdit = false;\r\n        this.formData = null;\r\n        if (this.form) {\r\n            this.form.resetFields();\r\n        }\r\n\r\n    }\r\n    render() {\r\n        const { title, visible, modalLayoutConfig, mode } = this.props;\r\n        const { loading } = this.state;\r\n        return (\r\n            <Modal\r\n                title={mode === MODE_EDIT ? '编辑' : title}\r\n                visible={visible}\r\n                onCancel={this.onCancel}\r\n                onOk={this.onSubmit}\r\n                afterClose={this.onAfterClose}\r\n                maskClosable={false}\r\n            >\r\n                <Spin spinning={loading}>\r\n                    {this.renderContent(modalLayoutConfig)}\r\n                </Spin>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PreviewModal;","/**\r\n * @desc 页面右侧容器主视图，拖拽组件的容器\r\n */\r\nimport React, { PureComponent, Fragment } from 'react';\r\nimport { message, Button, Spin } from 'antd';\r\nimport { Service } from '../../../annotation';\r\nimport LayoutContainer from '../LayoutContainer';\r\nimport isContainer from '../../../utils/common';\r\nimport LayerEdit from '../../EditDrawer/LayerEdit';\r\nimport PreviewModal from '../../Modal/PreviewModal';\r\nimport { CODE_SUCCESS, TRUE, MODE_EDIT, MODE_ADD, proxyServerUrl } from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\nconst GuiContext = React.createContext({\r\n    selectedRows: [],\r\n    selectedRowKeys: [],\r\n});\r\n\r\nconst initLayerConfig = {\r\n\tmodalArr: [],\r\n\tapiArr: [],\r\n\tdrawerArr: [],\r\n};\r\n\r\n@Service('AppService')\r\nclass MainContainer extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlayoutConfig: props.preview ? props.layoutConfig : [],\r\n\t\t\tlayerConfig: props.layerConfig || initLayerConfig,\r\n\t\t\tPageIndex: 1,\r\n\t\t\tPageSize: 10,\r\n\t\t\tfetchLoading: false,\r\n\t\t\tapiData: {}, // 接口数据对象\r\n\t\t\tshowLayer: false,\r\n\t\t\tselectedRows: [],\r\n\t\t\tselectedRowKeys: [],\r\n\t\t\tgenerateLoading: false, // 页面是否在生成\r\n\t\t};\r\n\t\tthis.paramData = {};\r\n\t\tthis.apiConfig = {};\r\n\t\tthis.GuiContext = GuiContext;\r\n\t\tthis.onDrop = this.onDrop.bind(this);\r\n        this.onOkModal = this.onOkModal.bind(this);\r\n\t\tthis.onCancelModal = this.onCancelModal.bind(this);\r\n\t\tthis.onUpdateApiConfig = this.onUpdateApiConfig.bind(this);\r\n\t\tthis.onPageIndexChange = this.onPageIndexChange.bind(this);\r\n\t\tthis.onShowSizeChange = this.onShowSizeChange.bind(this);\r\n\t\tthis.execFetchApi = this.execFetchApi.bind(this);\r\n\t\tthis.onPreviewPage = this.onPreviewPage.bind(this);\r\n\t\tthis.onUpdateLayerConfig = this.onUpdateLayerConfig.bind(this);\r\n\t\tthis.onToggleLayer = this.onToggleLayer.bind(this);\r\n\t\tthis.onGeneratePage = this.onGeneratePage.bind(this);\r\n\t\tthis.onUpdateLayoutConfig = this.onUpdateLayoutConfig.bind(this);\r\n\t\tthis.layoutIndex = 0;\r\n\t\tthis.container = React.createRef();\r\n\t}\r\n\tstatic getDerivedStateFromProps(nextProps) {\r\n\t\tif (nextProps.visible) {\r\n\t\t\treturn {\r\n\t\t\t\tlayerConfig: nextProps.layerConfig,\r\n\t\t\t\tlayoutConfig: nextProps.layoutConfig,\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (Object.hasOwnProperty.call(nextProps, 'layerConfig')) {\r\n\t\t\treturn {\r\n\t\t\t\tlayerConfig: nextProps.layerConfig,\r\n\t\t\t};\r\n\t\t}\r\n\t\t// 否则，对于state不进行任何操作\r\n\t\treturn null;\r\n\t}\r\n\t/**\r\n\t * @desc 更新页面配置对象，所有拖拽组件更新都将调用该方法同步配置信息\r\n\t * @param {object} param0 \r\n\t */\r\n\tonUpdateLayoutConfig(newConfigs) {\r\n\t\tconst { layoutIndex, deleteFlag = false } = newConfigs;\r\n\t\tconst { layoutConfig } = this.state;\r\n\t\tconst copyConfig = layoutConfig.slice();\r\n\t\t// 删除配置文件\r\n\t\tif (deleteFlag) {\r\n\t\t\tconst deleteIndex = copyConfig.findIndex((item) => {\r\n\t\t\t\treturn item.layoutIndex === layoutIndex;\r\n\t\t\t});\r\n\t\t\tcopyConfig.splice(deleteIndex, 1);\r\n\t\t} else {\r\n\t\t\tconst updateIndex = copyConfig.findIndex((item) => {\r\n\t\t\t\treturn item.layoutIndex === layoutIndex;\r\n\t\t\t});\r\n\t\t\tcopyConfig[updateIndex] = newConfigs;\r\n\t\t}\r\n\t\tif (typeof this.props.onUpdateLayoutConfig === 'function') {\r\n\t\t\tthis.props.onUpdateLayoutConfig(copyConfig);\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tlayoutConfig: copyConfig,\r\n\t\t});\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconst { preview =false } = this.props;\r\n\t\tif (!preview && this.container && this.container.current) {\r\n\t\t\tthis.container.current.addEventListener(\"drop\", this.onDrop, false);\r\n\t\t}\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tconst { preview =false } = this.props;\r\n\t\tif (!preview && this.container && this.container.current) {\r\n\t\t\tthis.container.current.removeEventListener(\"drop\", this.onDrop);\r\n\t\t}\r\n\t}\r\n\tonDrop(event) {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\tconst data = JSON.parse(event.dataTransfer.getData('text/plain'));\r\n\t\tconst { type, ...defaultConfigs } = data;\r\n\t\tif (!event.target.className || event.target.className.indexOf('main-container') === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (isContainer(type)) {\r\n\t\t\tconst { layoutConfig } = this.state;\r\n\t\t\tconst copyLayoytConfig = layoutConfig.slice();\r\n\t\t\tconst configObj = Object.assign({\r\n\t\t\t\ttype,\r\n\t\t\t\tlayoutIndex: this.layoutIndex,\r\n\t\t\t\t...defaultConfigs,\r\n\t\t\t});\r\n\t\t\tcopyLayoytConfig.push(configObj);\r\n\t\t\tthis.setState({\r\n\t\t\t\tlayoutConfig: copyLayoytConfig,\r\n\t\t\t});\r\n\t\t\tthis.layoutIndex += 1;\r\n\t\t} else {\r\n\t\t\tmessage.warn('请拖拽容器组件');\r\n\t\t}\r\n\t}\r\n\texecFetchApi(api, reqPrams, logicType) {\r\n\t\tconst { layerConfig } = this.state;\r\n\t\tconst { apiArr } = layerConfig;\r\n\t\tconst apiObj = apiArr.find(({ requestApi }) => {\r\n\t\t\treturn requestApi === api;\r\n\t\t});\r\n\t\tif (!apiObj) {\r\n\t\t\tmessage.warn('api配置参数有误');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { modelKey, requestHost, requestMethod, requestPagination, requestParams = '' } = apiObj;\r\n\t\tif (logicType === 'mult') { // 批量按钮\r\n\t\t\tconst { selectedRows, selectedRowKeys } = this.state;\r\n\t\t\tif (selectedRows.length === 0) {\r\n\t\t\t\tmessage.warn('请选择数据');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!requestParams) { // 接口没有配置请求参数\r\n\t\t\t\treqPrams = selectedRowKeys;\r\n\t\t\t} else {\r\n\t\t\t\tconst paramKeys = requestParams.split(',');\r\n\t\t\t\treqPrams = selectedRows.reduce((arr, item) => {\r\n\t\t\t\t\tconst _obj = {};\r\n\t\t\t\t\tparamKeys.forEach((pk) => {\r\n\t\t\t\t\t\t_obj[pk] = item[pk];\r\n\t\t\t\t\t});\r\n\t\t\t\t\tarr.push(_obj);\r\n\t\t\t\t\treturn arr;\r\n\t\t\t\t}, []);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.toggleLoading();\r\n\t\t// 分页查询接口\r\n\t\tif (requestPagination === TRUE) {\r\n\t\t\tif (this.state.PageIndex !== 1) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tPageIndex: 1,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst { PageSize } = this.state;\r\n\t\t\treqPrams.PageIndex = 1;\r\n\t\t\treqPrams.PageSize = PageSize;\r\n\t\t}\r\n\t\tthis.paramData[modelKey] = reqPrams; // 保存查询参数\r\n\t\treturn this.props.service.fetchApi(requestHost, requestMethod, api, reqPrams).then((res = {}) => {\r\n\t\t\tconst { data } = res;\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconst { code, message: msg, data: realData } = data || {};\r\n\t\t\t\tif (code !== CODE_SUCCESS) {\r\n\t\t\t\t\tmessage.error(msg || '调用接口异常');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst { apiData } = this.state;\r\n\t\t\t\t\tconst newApiData = Object.assign({}, apiData);\r\n\t\t\t\t\tif (logicType === 'mult') {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tselectedRowKeys: [],\r\n\t\t\t\t\t\t\tselectedRows: [],\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (requestPagination === TRUE) {\r\n\t\t\t\t\t\tconst { total, list } = realData;\r\n\t\t\t\t\t\tnewApiData[modelKey] = list;\r\n\t\t\t\t\t\tnewApiData[`${modelKey}Total`] = total;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewApiData[modelKey] = realData;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tapiData: newApiData,\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// const searchBtn = document.querySelector('form button[type=\"submit\"]');\r\n\t\t\t\t\t// searchBtn && searchBtn.click();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst { message: msg } = data || {};\r\n\t\t\t\tmessage.error(msg || '调用接口异常');\r\n\t\t\t}\r\n\t\t\tthis.toggleLoading(false);\r\n\t\t\treturn Promise.resolve(res);\r\n\t\t}).catch((error) => {\r\n\t\t\tthis.toggleLoading(false);\r\n\t\t\tif (error.response) {\r\n\t\t\t\tif (error.response.status === 401) {\r\n\t\t\t\t\tmessage.error('登录信息过期，请重新登录');\r\n\t\t\t\t\tthis.props.onShowLoginModal();\r\n\t\t\t\t} else if (error.response.status === 403) {\r\n\t\t\t\t\tmessage.error(error.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error(JSON.stringify(error));\r\n\t\t\t}\r\n\t\t\treturn Promise.reject(error);\r\n\t\t});\r\n\t}\r\n\ttoggleLoading(fetchLoading = true) {\r\n\t\tthis.setState({\r\n\t\t\tfetchLoading,\r\n\t\t});\r\n\t}\r\n\tonPageIndexChange(page, pageSize, modelKey) {\r\n\t\tthis.setState({\r\n\t\t\tPageIndex: page,\r\n\t\t}, () => {\r\n\t\t\tthis.execTableQuery(modelKey);\r\n\t\t});\r\n\t}\r\n\tonShowSizeChange(current, pageSize, modelKey) {\r\n\t\tthis.setState({\r\n\t\t\tPageIndex: 1,\r\n\t\t\tPageSize: pageSize,\r\n\t\t}, () => {\r\n\t\t\tthis.execTableQuery(modelKey);\r\n\t\t});\r\n\t}\r\n\t/**\r\n\t * @desc 执行表格接口查询\r\n\t * @param {*} modelKey \r\n\t */\r\n\texecTableQuery(modelKey) {\r\n\t\tif (this.apiConfig[modelKey]) {\r\n\t\t\tconst { PageIndex, PageSize } = this.state;\r\n\t\t\tconst reqPrams = this.paramData[modelKey];\r\n\t\t\tconst { api } = this.apiConfig[modelKey];\r\n\t\t\tthis.execFetchApi(api, Object.assign(reqPrams, { PageIndex, PageSize }));\r\n\t\t} else {\r\n\t\t\tmessage.warn('请配置Table的modelKey');\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * @desc 生成页面源代码\r\n\t */\r\n\tonGeneratePage() {\r\n\t\tconst { pageName, projectDir, onShowPageNameModal, onResetProps } = this.props;\r\n\t\tif (!pageName) {\r\n\t\t\tonShowPageNameModal(); // 设置页面名称\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (window.ipcRenderer && !projectDir) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { layoutConfig = [], layerConfig = {} } = this.state;\r\n\t\tif (layoutConfig.length === 0) {\r\n\t\t\tmessage.warn('请配置页面信息');\r\n\t\t\treturn;\r\n\t\t}\r\n        const pageConfig = {\r\n\t\t\tpageName,\r\n\t\t\tprojectDir,\r\n\t\t\tlayoutConfig,\r\n\t\t\tlayerConfig,\r\n\t\t};\r\n\t\tthis.setState({\r\n\t\t\tgenerateLoading: true,\r\n\t\t});\r\n\t\tif (window.ipcRenderer) {\r\n\t\t\twindow.ipcRenderer.send('createCode', JSON.stringify(pageConfig));\r\n\t\t\twindow.ipcRenderer.on('createCodeReply', (event, args) => {\r\n\t\t\t\tconst { code, info } = JSON.parse(args);\r\n\t\t\t\tif (code == 0) {\r\n\t\t\t\t\tmessage.success(info);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.error(info);\r\n\t\t\t\t}\r\n\t\t\t\tonResetProps();\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgenerateLoading: false,\r\n\t\t\t\t});\r\n\t\t    });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.service.generatePage(pageConfig)\r\n        .then((response) => {\r\n\t\t\tconst { data } = response;\r\n\t\t\tif (data.code == CODE_SUCCESS) {\r\n\t\t\t\tmessage.success(data.info);\r\n\t\t\t\tconst aLink = document.createElement('a');\r\n\t\t\t\taLink.href = `${proxyServerUrl}/sourceCache/${pageName}.tar`;\r\n\t\t\t\taLink.style.display = 'none';\r\n\t\t\t\tdocument.body.appendChild(aLink);\r\n\t\t\t\taLink.click();\r\n\t\t\t\tdocument.body.removeChild(aLink);\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error(data.info);\r\n\t\t\t}\r\n\t\t\tthis.setState({\r\n\t\t\t\tgenerateLoading: false,\r\n\t\t\t});\r\n\t\t\tonResetProps();\r\n        })\r\n        .catch(() => {\r\n\t\t\tmessage.error('请求失败');\r\n\t\t\tthis.setState({\r\n\t\t\t\tgenerateLoading: false,\r\n\t\t\t});\r\n        });\r\n\t}\r\n\t/**\r\n\t * @desc 预览页面\r\n\t */\r\n\tonPreviewPage() {\r\n\t\tconst { onPreviewPage } = this.props;\r\n\t\tconst { layoutConfig, layerConfig } = this.state;\r\n\t\tonPreviewPage(layoutConfig, layerConfig);\r\n\t}\r\n\t/**\r\n\t * @desc 管理弹出层组件，包括Modal和Drawer\r\n\t */\r\n\tonToggleLayer() {\r\n\t\tthis.setState({\r\n\t\t\tshowLayer: !this.state.showLayer,\r\n\t\t});\r\n\t}\r\n\t\r\n\tonUpdateLayerConfig(layerConfig) {\r\n\t\tthis.setState({\r\n\t\t\tlayerConfig,\r\n\t\t});\r\n\t}\r\n\tonUpdateApiConfig(modelKey, apiConfig) {\r\n\t\tthis.apiConfig[modelKey] = apiConfig;\r\n\t}\r\n\tgetChildFuncProps() {\r\n\t\treturn {\r\n\t\t\texecFetchApi: this.execFetchApi,\r\n\t\t\tonPageIndexChange: this.onPageIndexChange,\r\n\t\t\tonShowSizeChange: this.onShowSizeChange,\r\n\t\t\tonUpdateApiConfig: this.onUpdateApiConfig,\r\n\t\t\tonUpdateLayoutConfig: this.onUpdateLayoutConfig,\r\n\t\t};\r\n\t}\r\n\tonShowModal(e, modalName, api, data) {\r\n\t\tconst newState = {\r\n\t\t\t[`show${modalName}`]: true,\r\n\t\t\tapi,\r\n\t\t\trecordData: data,\r\n\t\t};\r\n\t\tthis.setState({\r\n\t\t\t...newState\r\n\t\t});\r\n\t}\r\n\tonCancelModal(modalName) {\r\n        this.setState({\r\n\t\t\t[`show${modalName}`]: false,\r\n\t\t\trecordData: null,\r\n\t\t\tapi: '',\r\n        })\r\n    }\r\n    onOkModal(modalName, api, values) {\r\n\t\treturn this.execFetchApi(api, values);\r\n    }\r\n\trenderModal() {\r\n\t\tconst { layerConfig, recordData, api } = this.state;\r\n\t\tconst { modalArr = []} = layerConfig;\r\n        return modalArr.map((item) => {\r\n            const { name: modalName, title, width, layoutConfig } = item;\r\n            const visibleStateName = `show${modalName}`;\r\n\t\t\tconst visible = this.state[visibleStateName];\r\n\t\t\tconst props = {\r\n\t\t\t\tapi,\r\n\t\t\t\twidth: parseInt(width),\r\n\t\t\t\ttitle,\r\n\t\t\t\tvisible,\r\n\t\t\t\trecordData,\r\n\t\t\t\tlayerConfig,\r\n\t\t\t\tmodalName,\r\n\t\t\t\tlayoutConfig: this.state.layoutConfig,\r\n\t\t\t\tmodalLayoutConfig: layoutConfig,\r\n\t\t\t\texecFetchApi: this.execFetchApi,\r\n\t\t\t};\r\n\t\t\tif (visible) {\r\n\t\t\t\t// 判断是否是编辑模式\r\n\t\t\t\tprops.mode = recordData || api ? MODE_EDIT : MODE_ADD;\r\n\t\t\t}\r\n            return (\r\n                <PreviewModal\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tkey={`${title}-${modalName}`}\r\n\t\t\t\t\tonCancelModal={this.onCancelModal}\r\n\t\t\t\t\tonOkModal={this.onOkModal}\r\n                />\r\n            );\r\n        });\r\n\t}\r\n\trender() {\r\n\t\tconst { noLayer = false, onShowLoginModal, preview = false } = this.props;\r\n\t\tconst { layoutConfig, generateLoading, showLayer, layerConfig,\r\n\t\t\tfetchLoading, apiData, PageIndex, PageSize } = this.state;\r\n\t\tlet isEdit = true;\r\n\t\tif (noLayer) {\r\n\t\t\tisEdit = false;\r\n\t\t} else if (preview) {\r\n\t\t\tisEdit = false;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Spin spinning={fetchLoading}>\r\n\t\t\t\t\t<div className={`main-container border-box ${ preview ? 'preview-mode' : '' }`} ref={this.container}>\r\n\t\t\t\t\t\t<GuiContext.Provider\r\n\t\t\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\t\t\tselectedRows: this.state.selectedRows,\r\n\t\t\t\t\t\t\t\tselectedRowKeys: this.state.selectedRowKeys,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LayoutContainer\r\n\t\t\t\t\t\t\t\tonShowLoginModal={onShowLoginModal}\r\n\t\t\t\t\t\t\t\tlayoutConfig={layoutConfig}\r\n\t\t\t\t\t\t\t\tlayerConfig={layerConfig}\r\n\t\t\t\t\t\t\t\tcurrentPage={PageIndex}\r\n\t\t\t\t\t\t\t\tpageSize={PageSize}\r\n\t\t\t\t\t\t\t\tapiData={apiData}\r\n\t\t\t\t\t\t\t\tcontext={this}\r\n\t\t\t\t\t\t\t\tpreview={preview}\r\n\t\t\t\t\t\t\t\t{...this.getChildFuncProps()}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</GuiContext.Provider>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tisEdit ? (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\tshape=\"round\"\r\n\t\t\t\t\t\t\t\t\ticon=\"plus\"\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn-manage\"\r\n\t\t\t\t\t\t\t\t\tonClick={this.onToggleLayer}\r\n\t\t\t\t\t\t\t\t\ttitle=\"弹出层&接口编辑\"\r\n\t\t\t\t\t\t\t\t></Button>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<LayerEdit\r\n\t\t\t\t\t\t\tvisible={showLayer}\r\n\t\t\t\t\t\t\tonCloseLayer={this.onToggleLayer}\r\n\t\t\t\t\t\t\tonUpdateLayerConfig={this.onUpdateLayerConfig}\r\n\t\t\t\t\t\t\tlayerConfig={layerConfig}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Spin>\r\n\t\t\t\t{\r\n\t\t\t\t\tisEdit ? (\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tid=\"btn-code\"\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={this.onGeneratePage}\r\n\t\t\t\t\t\t\t\tloading={generateLoading}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t生成页面\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={this.onPreviewPage}\r\n\t\t\t\t\t\t\t\tstyle={{ marginLeft: '5px' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t预览\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t) : null\r\n\t\t\t\t}\r\n\t\t\t\t{this.renderModal()}\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MainContainer;","/**\r\n * @desc 页面预览窗口\r\n */\r\nimport React, { Component } from 'react';\r\nimport MainContainer from '../../Container/MainContainer';\r\nimport { Modal, Layout } from 'antd';\r\nimport './index.css';\r\nconst { Sider, Content } = Layout;\r\n\r\nclass PreviewPageModal extends Component {\r\n    render() {\r\n        const { showModal, layoutConfig, onCloseModal, layerConfig } = this.props;\r\n        return (\r\n            <Modal\r\n                visible={showModal}\r\n                footer={null}\r\n                width={'100%'}\r\n                closable\r\n                centered\r\n                wrapClassName=\"preview-page-modal\"\r\n                onCancel={onCloseModal}\r\n                title=\"页面预览\"\r\n                maskClosable\r\n            >\r\n                <div className=\"preview-container\">\r\n                    <Layout>\r\n                        <Sider width=\"210\">\r\n                        </Sider>\r\n                        <Layout>\r\n                            <Content>\r\n                                <MainContainer\r\n                                    visible={showModal}\r\n                                    layoutConfig={layoutConfig}\r\n                                    layerConfig={layerConfig}\r\n                                    preview\r\n                                    noLayer\r\n                                />\r\n                            </Content>\r\n                        </Layout>\r\n                    </Layout>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PreviewPageModal;","import React, { PureComponent } from 'react';\r\nimport { Modal, Form, Input, Button, message } from 'antd';\r\nimport proxyServerUrl from '../../../utils/Constants';\r\nimport './index.css';\r\n\r\n@Form.create()\r\nclass LoginModal extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showLoginFrame: false,\r\n        };\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onResetModal = this.onResetModal.bind(this);\r\n        this.getIframeUrl = this.getIframeUrl.bind(this);\r\n        this.asyncAppendJs = this.asyncAppendJs.bind(this);\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                this.asyncAppendJs(values.appUrl);\r\n            }\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        window.addEventListener('message', (e) => {\r\n            if (e.origin === proxyServerUrl) {\r\n                const appUrl =  this.props.form.getFieldValue('appUrl');\r\n                let MerchantId = '';\r\n                if (appUrl && appUrl.indexOf('?') > 0 && appUrl.indexOf('MerchantId=') > 0) {\r\n                    const targetStr = appUrl.slice(appUrl.indexOf('?') + 1).split('&').find((searchStr) => {\r\n                        return searchStr.indexOf('MerchantId=') >= 0;\r\n                    })\r\n                    if (targetStr) {\r\n                        MerchantId = targetStr.split('=')[1];\r\n                    }\r\n                    localStorage.setItem('access_token', e.data);\r\n                    localStorage.setItem('MerchantId', MerchantId);\r\n                    localStorage.setItem('appUrl', appUrl);\r\n                    message.success('登录成功');\r\n                    this.props.onCloseLoginModal();\r\n                }\r\n            }\r\n        }, false);\r\n    }\r\n    clearStorage() {\r\n        ['access_token', 'MerchantId', 'appUrl', 'common', 'main', 'webapi'].forEach((k) => {\r\n            localStorage.removeItem(k);\r\n        });\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.props.visible && !this.clearInit) {\r\n            this.clearInit = true;\r\n            this.clearStorage();\r\n        }\r\n    }\r\n\r\n    asyncAppendJs(appUrl) {\r\n        const js = document.createElement('script');\r\n        js.type = 'text/javascript';\r\n        js.onload = (e) => {\r\n            console.log(e);\r\n            // 配置文件加载成功\r\n            if (window.configs) {\r\n                localStorage.setItem('common', window.configs.host.common);\r\n                localStorage.setItem('main', window.configs.host.main);\r\n                localStorage.setItem('webapi', window.configs.host.webapi);\r\n                this.setState({\r\n                    showLoginFrame: true,\r\n                }, () => {\r\n                    this.sendMessageToIframe();\r\n                });\r\n            }\r\n        };\r\n        let jsHost = appUrl;\r\n        if (appUrl.indexOf('?')) {\r\n            jsHost = appUrl.slice(0, appUrl.indexOf('?') - 1);\r\n        }\r\n        js.src = `${jsHost}/resources/js/configs.js?time=${Date.now()}`;\r\n        document.body.appendChild(js);\r\n    }\r\n\r\n    sendMessageToIframe() {\r\n        const iframeLogin = document.createElement('iframe');\r\n        iframeLogin.src = this.getIframeUrl();\r\n        iframeLogin.id = 'login-app';\r\n        document.querySelector('.iframe-container').appendChild(iframeLogin);\r\n        iframeLogin.onload = () => {\r\n            const data = Object.assign({ appUrl: this.props.form.getFieldValue('appUrl') }, window.configs);\r\n            document.getElementById('login-app').contentWindow.postMessage(data, proxyServerUrl);\r\n        };\r\n    }\r\n\r\n    onResetModal() {\r\n        this.props.form.resetFields();\r\n        this.clearInit = false;\r\n        this.setState({\r\n            showLoginFrame: false,\r\n        });\r\n    }\r\n\r\n    getIframeUrl() {\r\n        if (window.configs) {\r\n            const { host: { passport: { auth } } } = window.configs;\r\n            return `${proxyServerUrl}/appLogin?authUrl=${encodeURIComponent(auth)}`;\r\n        }\r\n        return `${proxyServerUrl}/appLogin`;\r\n    }\r\n\r\n    render() {\r\n        const { visible, form, onCloseLoginModal } = this.props;\r\n        const { getFieldDecorator } = form;\r\n        const { showLoginFrame } = this.state;\r\n        return (\r\n            <Modal\r\n                title=\"登录\"\r\n                visible={visible}\r\n                width=\"500px\"\r\n                wrapClassName=\"login-modal\"\r\n                onCancel={onCloseLoginModal}\r\n                afterClose={this.onResetModal}\r\n                maskClosable={false}\r\n                footer={null}\r\n            >\r\n                <div className={`login-wrapper ${showLoginFrame ? 'slide-l' : ''}`}>\r\n                    <div className=\"url-container\">\r\n                        <Form onSubmit={this.onSubmit}>\r\n                            <Form.Item>\r\n                                {getFieldDecorator('appUrl', {\r\n                                    rules: [\r\n                                        { required: true, message: '请输入应用url' },\r\n                                        { type: 'url', message: 'url格式不合法' }\r\n                                    ],\r\n                                })(<Input placeholder=\"请输入应用url\" />)}\r\n                            </Form.Item>\r\n                            <p className=\"btn-box\">\r\n                                <Button type=\"primary\" htmlType=\"submit\">确定</Button>\r\n                            </p>\r\n                        </Form>\r\n                    </div>\r\n                    <div className=\"iframe-container\">\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LoginModal;","import React, { Component } from 'react';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport { Layout, LocaleProvider } from 'antd';\nimport PageNameModal from './component/Modal/PageNameModal';\nimport PreviewPageModal from './component/Modal/PreviewPageModal';\nimport DragTabs from './component/DragTabs';\nimport { isLogin } from './utils/common';\nimport MainContainer from './component//Container/MainContainer';\nimport LoginModal from './component/Modal/LoginModal';\n\nconst { Sider, Content } = Layout;\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showLoginModal: false,\n            showEditNameModal: false, // 显示编辑页面名称弹窗\n            showPreviewModal: false, // 显示预览窗口\n            pageName: '', // 页面名称\n            projectDir: '',\n        };\n        this.onSubmitPageName = this.onSubmitPageName.bind(this);\n        this.onPreviewPage = this.onPreviewPage.bind(this);\n        this.onResetProps = this.onResetProps.bind(this);\n        this.onShowLoginModal = this.onShowLoginModal.bind(this);\n        this.onCloseLoginModal = this.onCloseLoginModal.bind(this);\n        this.onClosePreviewModal = this.onClosePreviewModal.bind(this);\n        this.onShowPageNameModal = this.onShowPageNameModal.bind(this);\n        this.onClosePageNameModal = this.onClosePageNameModal.bind(this);\n    }\n    componentDidMount() {\n        if (!isLogin()) {\n            this.onShowLoginModal();\n        }\n    }\n    onCloseLoginModal() {\n        this.setState({\n            showLoginModal: false,\n        });\n    }\n    onShowLoginModal() {\n        this.setState({\n            showLoginModal: true,\n        });\n    }\n    onShowPageNameModal() {\n        this.setState({\n            showEditNameModal: true,\n        });\n    }\n    onResetProps() {\n        this.setState({\n            pageName: '',\n            projectDir: '',\n        });\n    }\n    onSubmitPageName(pageName = '', projectDir) {\n        this.setState({\n            showEditNameModal: false,\n            pageName,\n            projectDir,\n        }, () => {\n            if ((!window.ipcRenderer && pageName) || (pageName && projectDir)) {\n                document.querySelector('#btn-code').click();\n            }\n        });\n    }\n    onClosePageNameModal() {\n        this.setState({\n            showEditNameModal: false,\n        });\n    }\n    onClosePreviewModal() {\n        this.setState({\n            showPreviewModal: false,\n        });\n    }\n    onPreviewPage(layoutConfig, layerConfig) {\n        this.setState({\n            showPreviewModal: true,\n        });\n        this.layoutConfig = layoutConfig;\n        this.layerConfig = layerConfig;\n\t}\n    render() {\n        const {\n            pageName,\n            projectDir,\n            showLoginModal,\n            showPreviewModal,\n            showEditNameModal,\n        } = this.state;\n        return (\n            <div className=\"App\">\n                <LocaleProvider locale={zhCN}>\n                    <Layout>\n                        <Sider width=\"300\">\n                            <DragTabs />\n                        </Sider>\n                        <Layout>\n                            <Content>\n                                <MainContainer\n                                    pageName={pageName}\n                                    projectDir={projectDir}\n                                    onShowLoginModal={this.onShowLoginModal}\n                                    onShowPageNameModal={this.onShowPageNameModal}\n                                    onPreviewPage={this.onPreviewPage}\n                                    onResetProps={this.onResetProps}\n                                />\n                            </Content>\n                        </Layout>\n                        <PageNameModal\n                            onOkModal={this.onSubmitPageName}\n                            onCloseModal={this.onClosePageNameModal}\n                            visible={showEditNameModal}\n                        />\n                        <PreviewPageModal\n                            layoutConfig={this.layoutConfig}\n                            layerConfig={this.layerConfig}\n                            onCloseModal={this.onClosePreviewModal}\n                            showModal={showPreviewModal}\n                        />\n                        <LoginModal\n                            visible={showLoginModal}\n                            onCloseLoginModal={this.onCloseLoginModal}\n                        />\n                    </Layout>\n                </LocaleProvider>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './assets/css/app.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}